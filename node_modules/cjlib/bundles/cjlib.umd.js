/**
  * @license Customer journey v0.2.31-Cdc
  */
(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common'), require('@angular/flex-layout'), require('@angular/platform-browser/animations'), require('@angular/forms'), require('@ng-bootstrap/ng-bootstrap'), require('rxjs/Subject'), require('rxjs/operator/filter'), require('rxjs/Observable'), require('rxjs/add/observable/of'), require('rxjs/add/operator/map'), require('@angular/platform-browser'), require('@angular/router'), require('@angular/common/http'), require('rxjs/add/operator/concatMap'), require('rxjs/add/operator/catch'), require('rxjs/ReplaySubject'), require('rxjs/add/observable/fromEvent'), require('rxjs/add/operator/filter'), require('rxjs/BehaviorSubject'), require('rxjs/add/operator/partition'), require('rxjs/add/operator/windowWhen'), require('rxjs/add/observable/timer'), require('rxjs/add/operator/merge'), require('rxjs/add/operator/delay'), require('rxjs/add/operator/bufferWhen'), require('rxjs/add/operator/count'), require('rxjs/add/operator/combineLatest'), require('rxjs/add/operator/bufferToggle'), require('rxjs/add/observable/interval'), require('rxjs/add/operator/do'), require('rxjs/add/observable/throw'), require('@angular/animations'), require('rxjs/add/operator/mergeMap'), require('@ngx-translate/core'), require('@angular/http'), require('nouislider'), require('ng2-file-upload'), require('hammerjs'), require('ng4-click-outside'), require('rxjs/add/operator/toPromise'), require('rxjs/add/operator/debounceTime'), require('rxjs/add/operator/startWith'), require('rxjs/add/operator/mergeMapTo'), require('rxjs/add/operator/scan')) :
	typeof define === 'function' && define.amd ? define(['exports', '@angular/core', '@angular/common', '@angular/flex-layout', '@angular/platform-browser/animations', '@angular/forms', '@ng-bootstrap/ng-bootstrap', 'rxjs/Subject', 'rxjs/operator/filter', 'rxjs/Observable', 'rxjs/add/observable/of', 'rxjs/add/operator/map', '@angular/platform-browser', '@angular/router', '@angular/common/http', 'rxjs/add/operator/concatMap', 'rxjs/add/operator/catch', 'rxjs/ReplaySubject', 'rxjs/add/observable/fromEvent', 'rxjs/add/operator/filter', 'rxjs/BehaviorSubject', 'rxjs/add/operator/partition', 'rxjs/add/operator/windowWhen', 'rxjs/add/observable/timer', 'rxjs/add/operator/merge', 'rxjs/add/operator/delay', 'rxjs/add/operator/bufferWhen', 'rxjs/add/operator/count', 'rxjs/add/operator/combineLatest', 'rxjs/add/operator/bufferToggle', 'rxjs/add/observable/interval', 'rxjs/add/operator/do', 'rxjs/add/observable/throw', '@angular/animations', 'rxjs/add/operator/mergeMap', '@ngx-translate/core', '@angular/http', 'nouislider', 'ng2-file-upload', 'hammerjs', 'ng4-click-outside', 'rxjs/add/operator/toPromise', 'rxjs/add/operator/debounceTime', 'rxjs/add/operator/startWith', 'rxjs/add/operator/mergeMapTo', 'rxjs/add/operator/scan'], factory) :
	(factory((global.ng = global.ng || {}, global.ng.cjlib = global.ng.cjlib || {}),global.ng.core,global.ng.common,global['flex-layout'],global.ng['platform-browser'].animations,global.ng.forms,global['ng-bootstrap'],global.Rx,global.Rx.Observable.prototype,global.Rx,global.Rx.Observable,global.Rx.Observable.prototype,global.ng.platformBrowser,global.ng.router,global.ng.common.http,global.Rx.Observable.prototype,global.Rx.Observable.prototype,global.Rx,global.Rx.Observable,global.Rx.Observable.prototype,global.Rx,global.Rx.Observable.prototype,global.Rx.Observable.prototype,global.Rx.Observable,global.Rx.Observable.prototype,global.Rx.Observable.prototype,global.Rx.Observable.prototype,global.Rx.Observable.prototype,global.Rx.Observable.prototype,global.Rx.Observable.prototype,global.Rx.Observable,global.Rx.Observable.prototype,global.Rx.Observable,global.ng.animations,global.Rx.Observable.prototype,global['ngx-translate'].core,global.ng.http,global.noUiSlider,global.ng2FileUpload,global.Hammer,global.ng4ClickOutside));
}(this, (function (exports,_angular_core,_angular_common,_angular_flexLayout,_angular_platformBrowser_animations,_angular_forms,_ngBootstrap_ngBootstrap,rxjs_Subject,rxjs_operator_filter,rxjs_Observable,rxjs_add_observable_of,rxjs_add_operator_map,_angular_platformBrowser,_angular_router,_angular_common_http,rxjs_add_operator_concatMap,rxjs_add_operator_catch,rxjs_ReplaySubject,rxjs_add_observable_fromEvent,rxjs_add_operator_filter,rxjs_BehaviorSubject,rxjs_add_operator_partition,rxjs_add_operator_windowWhen,rxjs_add_observable_timer,rxjs_add_operator_merge,rxjs_add_operator_delay,rxjs_add_operator_bufferWhen,rxjs_add_operator_count,rxjs_add_operator_combineLatest,rxjs_add_operator_bufferToggle,rxjs_add_observable_interval,rxjs_add_operator_do,rxjs_add_observable_throw,_angular_animations,rxjs_add_operator_mergeMap,_ngxTranslate_core,_angular_http,noUiSlider,ng2FileUpload,Hammer,ng4ClickOutside) { 'use strict';

var APP_CONFIG = new _angular_core.InjectionToken('app.config');
var APP_ALERT_DEF = new _angular_core.InjectionToken('ApplicationAlertDefinition');

var NgbDate = (function () {
    function NgbDate(year, month, day) {
        this.year = year;
        this.month = month;
        this.day = day;
    }
    NgbDate.from = function (date) {
        return date ? new NgbDate(date.year, date.month, date.day ? date.day : 1) : null;
    };
    NgbDate.prototype.equals = function (other) {
        return other && this.year === other.year && this.month === other.month && this.day === other.day;
    };
    NgbDate.prototype.before = function (other) {
        if (!other) {
            return false;
        }
        if (this.year === other.year) {
            if (this.month === other.month) {
                return this.day === other.day ? false : this.day < other.day;
            }
            else {
                return this.month < other.month;
            }
        }
        else {
            return this.year < other.year;
        }
    };
    NgbDate.prototype.after = function (other) {
        if (!other) {
            return false;
        }
        if (this.year === other.year) {
            if (this.month === other.month) {
                return this.day === other.day ? false : this.day > other.day;
            }
            else {
                return this.month > other.month;
            }
        }
        else {
            return this.year > other.year;
        }
    };
    NgbDate.prototype.toStruct = function () { return { year: this.year, month: this.month, day: this.day }; };
    NgbDate.prototype.toString = function () { return this.year + "-" + this.month + "-" + this.day; };
    return NgbDate;
}());

function toInteger(value) {
    return parseInt("" + value, 10);
}
function toString(value) {
    return (value !== undefined && value !== null) ? "" + value : '';
}


function isNumber(value) {
    return !isNaN(toInteger(value));
}
function isInteger(value) {
    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;
}

function padNumber(value) {
    if (isNumber(value)) {
        return ("0" + value).slice(-2);
    }
    else {
        return '';
    }
}

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$4 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
function fromJSDate(jsDate) {
    return new NgbDate(jsDate.getFullYear(), jsDate.getMonth() + 1, jsDate.getDate());
}
function toJSDate(date) {
    var jsDate = new Date(date.year, date.month - 1, date.day, 12);
    // this is done avoid 30 -> 1930 conversion
    if (!isNaN(jsDate.getTime())) {
        jsDate.setFullYear(date.year);
    }
    return jsDate;
}
var NgbCalendar = (function () {
    function NgbCalendar() {
    }
    return NgbCalendar;
}());
NgbCalendar = __decorate$4([
    _angular_core.Injectable()
], NgbCalendar);
var NgbCalendarGregorian = (function (_super) {
    __extends(NgbCalendarGregorian, _super);
    function NgbCalendarGregorian() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NgbCalendarGregorian.prototype.getDaysPerWeek = function () { return 7; };
    NgbCalendarGregorian.prototype.getMonths = function () { return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]; };
    NgbCalendarGregorian.prototype.getWeeksPerMonth = function () { return 6; };
    NgbCalendarGregorian.prototype.getNext = function (date, period, number) {
        if (period === void 0) { period = 'd'; }
        if (number === void 0) { number = 1; }
        var jsDate = toJSDate(date);
        switch (period) {
            case 'y':
                return new NgbDate(date.year + number, 1, 1);
            case 'm':
                jsDate = new Date(date.year, date.month + number - 1, 1, 12);
                break;
            case 'd':
                jsDate.setDate(jsDate.getDate() + number);
                break;
            default:
                return date;
        }
        return fromJSDate(jsDate);
    };
    NgbCalendarGregorian.prototype.getPrev = function (date, period, number) {
        if (period === void 0) { period = 'd'; }
        if (number === void 0) { number = 1; }
        return this.getNext(date, period, -number);
    };
    NgbCalendarGregorian.prototype.getWeekday = function (date) {
        var jsDate = toJSDate(date);
        var day = jsDate.getDay();
        // in JS Date Sun=0, in ISO 8601 Sun=7
        return day === 0 ? 7 : day;
    };
    NgbCalendarGregorian.prototype.getWeekNumber = function (week, firstDayOfWeek) {
        // in JS Date Sun=0, in ISO 8601 Sun=7
        if (firstDayOfWeek === 7) {
            firstDayOfWeek = 0;
        }
        var thursdayIndex = (4 + 7 - firstDayOfWeek) % 7;
        var date = week[thursdayIndex];
        var jsDate = toJSDate(date);
        jsDate.setDate(jsDate.getDate() + 4 - (jsDate.getDay() || 7)); // Thursday
        var time = jsDate.getTime();
        jsDate.setMonth(0); // Compare with Jan 1
        jsDate.setDate(1);
        return Math.floor(Math.round((time - jsDate.getTime()) / 86400000) / 7) + 1;
    };
    NgbCalendarGregorian.prototype.getToday = function () { return fromJSDate(new Date()); };
    NgbCalendarGregorian.prototype.isValid = function (date) {
        if (!date || !isInteger(date.year) || !isInteger(date.month) || !isInteger(date.day)) {
            return false;
        }
        var jsDate = toJSDate(date);
        return !isNaN(jsDate.getTime()) && jsDate.getFullYear() === date.year && jsDate.getMonth() + 1 === date.month &&
            jsDate.getDate() === date.day;
    };
    return NgbCalendarGregorian;
}(NgbCalendar));
NgbCalendarGregorian = __decorate$4([
    _angular_core.Injectable()
], NgbCalendarGregorian);

function isChangedDate(prev, next) {
    return !dateComparator(prev, next);
}
function dateComparator(prev, next) {
    return (!prev && !next) || (!!prev && !!next && prev.equals(next));
}
function checkMinBeforeMax(minDate, maxDate) {
    if (maxDate && minDate && maxDate.before(minDate)) {
        throw new Error("'maxDate' " + maxDate + " should be greater than 'minDate' " + minDate);
    }
}
function checkDateInRange(date, minDate, maxDate) {
    if (date && minDate && date.before(minDate)) {
        return NgbDate.from(minDate);
    }
    if (date && maxDate && date.after(maxDate)) {
        return NgbDate.from(maxDate);
    }
    return date;
}
function isDateSelectable(months, date) {
    var selectable = false;
    var month = months.find(function (curMonth) { return curMonth.year === date.year && curMonth.number === date.month; });
    if (month) {
        month.weeks.find(function (week) {
            var day = week.days.find(function (day) { return date.equals(day.date); });
            if (day && !day.context.disabled) {
                selectable = true;
            }
            return !!day;
        });
    }
    return selectable;
}
function buildMonths(calendar, months, date, minDate, maxDate, displayMonths, firstDayOfWeek, markDisabled, force) {
    var newMonths = [];
    var _loop_1 = function (i) {
        var newDate = calendar.getNext(date, 'm', i);
        var index = months.findIndex(function (month) { return month.firstDate.equals(newDate); });
        if (force || index === -1) {
            newMonths.push(buildMonth(calendar, newDate, minDate, maxDate, firstDayOfWeek, markDisabled));
        }
        else {
            newMonths.push(months[index]);
        }
    };
    for (var i = 0; i < displayMonths; i++) {
        _loop_1(i);
    }
    return newMonths;
}
function buildMonth(calendar, date, minDate, maxDate, firstDayOfWeek, markDisabled) {
    var month = { firstDate: null, lastDate: null, number: date.month, year: date.year, weeks: [], weekdays: [] };
    date = getFirstViewDate(calendar, date, firstDayOfWeek);
    // month has weeks
    for (var week = 0; week < calendar.getWeeksPerMonth(); week++) {
        var days = [];
        // week has days
        for (var day = 0; day < calendar.getDaysPerWeek(); day++) {
            if (week === 0) {
                month.weekdays.push(calendar.getWeekday(date));
            }
            var newDate = new NgbDate(date.year, date.month, date.day);
            var nextDate = calendar.getNext(newDate);
            // marking date as disabled
            var disabled = !!((minDate && newDate.before(minDate)) || (maxDate && newDate.after(maxDate)));
            if (!disabled && markDisabled) {
                disabled = markDisabled(newDate, { month: month.number, year: month.year });
            }
            // saving first date of the month
            if (month.firstDate === null && newDate.month === month.number) {
                month.firstDate = newDate;
            }
            // saving last date of the month
            if (newDate.month === month.number && nextDate.month !== month.number) {
                month.lastDate = newDate;
            }
            days.push({
                date: newDate,
                context: {
                    date: { year: newDate.year, month: newDate.month, day: newDate.day },
                    currentMonth: month.number,
                    disabled: disabled,
                    focused: false,
                    selected: false
                }
            });
            date = nextDate;
        }
        month.weeks.push({ number: calendar.getWeekNumber(days.map(function (day) { return NgbDate.from(day.date); }), firstDayOfWeek), days: days });
    }
    return month;
}
function getFirstViewDate(calendar, date, firstDayOfWeek) {
    var currentMonth = date.month;
    var today = new NgbDate(date.year, date.month, date.day);
    var yesterday = calendar.getPrev(today);
    var firstDayOfCurrentMonthIsAlsoFirstDayOfWeek = function () { return today.month !== yesterday.month && firstDayOfWeek === calendar.getWeekday(today); };
    var reachedTheFirstDayOfTheLastWeekOfPreviousMonth = function () { return today.month !== currentMonth && firstDayOfWeek === calendar.getWeekday(today); };
    // going back in time
    while (!reachedTheFirstDayOfTheLastWeekOfPreviousMonth() && !firstDayOfCurrentMonthIsAlsoFirstDayOfWeek()) {
        today = new NgbDate(yesterday.year, yesterday.month, yesterday.day);
        yesterday = calendar.getPrev(yesterday);
    }
    return today;
}

var __decorate$5 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$1 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerService = (function () {
    function NgbDatepickerService(_calendar) {
        this._calendar = _calendar;
        this._model$ = new rxjs_Subject.Subject();
        this._state = { disabled: false, displayMonths: 1, firstDayOfWeek: 1, focusVisible: false, months: [], selectedDate: null };
    }
    Object.defineProperty(NgbDatepickerService.prototype, "model$", {
        get: function () { return rxjs_operator_filter.filter.call(this._model$.asObservable(), function (model) { return model.months.length > 0; }); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "disabled", {
        set: function (disabled) {
            if (this._state.disabled !== disabled) {
                this._nextState({ disabled: disabled });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "displayMonths", {
        set: function (months) {
            if (isInteger(months) && months > 0 && this._state.displayMonths !== months) {
                this._nextState({ displayMonths: months });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "firstDayOfWeek", {
        set: function (firstDayOfWeek) {
            if (isInteger(firstDayOfWeek) && firstDayOfWeek >= 0 && this._state.firstDayOfWeek !== firstDayOfWeek) {
                this._nextState({ firstDayOfWeek: firstDayOfWeek });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "focusVisible", {
        set: function (focusVisible) {
            if (this._state.focusVisible !== focusVisible && !this._state.disabled) {
                this._nextState({ focusVisible: focusVisible });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "maxDate", {
        set: function (date) {
            if (date === undefined || this._calendar.isValid(date) && isChangedDate(this._state.maxDate, date)) {
                this._nextState({ maxDate: date });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "markDisabled", {
        set: function (markDisabled) {
            if (this._state.markDisabled !== markDisabled) {
                this._nextState({ markDisabled: markDisabled });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "minDate", {
        set: function (date) {
            if (date === undefined || this._calendar.isValid(date) && isChangedDate(this._state.minDate, date)) {
                this._nextState({ minDate: date });
            }
        },
        enumerable: true,
        configurable: true
    });
    NgbDatepickerService.prototype.focus = function (date) {
        if (!this._state.disabled && this._calendar.isValid(date) && isChangedDate(this._state.focusDate, date)) {
            this._nextState({ focusDate: date });
        }
    };
    NgbDatepickerService.prototype.focusMove = function (period, number) {
        this.focus(this._calendar.getNext(this._state.focusDate, period, number));
    };
    NgbDatepickerService.prototype.focusSelect = function () {
        if (isDateSelectable(this._state.months, this._state.focusDate)) {
            this.select(this._state.focusDate);
        }
    };
    NgbDatepickerService.prototype.open = function (date) {
        if (!this._state.disabled && this._calendar.isValid(date)) {
            this._nextState({ firstDate: date });
        }
    };
    NgbDatepickerService.prototype.select = function (date) {
        var validDate = this.toValidDate(date, null);
        if (!this._state.disabled && isChangedDate(this._state.selectedDate, validDate)) {
            this._nextState({ selectedDate: validDate });
        }
    };
    NgbDatepickerService.prototype.toValidDate = function (date, defaultValue) {
        var ngbDate = NgbDate.from(date);
        if (defaultValue === undefined) {
            defaultValue = this._calendar.getToday();
        }
        return this._calendar.isValid(ngbDate) ? ngbDate : defaultValue;
    };
    NgbDatepickerService.prototype._nextState = function (patch) {
        var newState = this._updateState(patch);
        this._patchContexts(newState);
        this._state = newState;
        this._model$.next(this._state);
    };
    NgbDatepickerService.prototype._patchContexts = function (state$$1) {
        state$$1.months.forEach(function (month) {
            month.weeks.forEach(function (week) {
                week.days.forEach(function (day) {
                    // patch focus flag
                    if (state$$1.focusDate) {
                        day.context.focused = state$$1.focusDate.equals(day.date) && state$$1.focusVisible;
                    }
                    // override context disabled
                    if (state$$1.disabled === true) {
                        day.context.disabled = true;
                    }
                    // patch selection flag
                    if (state$$1.selectedDate !== undefined) {
                        day.context.selected = state$$1.selectedDate !== null && state$$1.selectedDate.equals(day.date);
                    }
                });
            });
        });
    };
    NgbDatepickerService.prototype._updateState = function (patch) {
        // patching fields
        var state$$1 = Object.assign({}, this._state, patch);
        var startDate = state$$1.firstDate;
        // min/max dates changed
        if ('minDate' in patch || 'maxDate' in patch) {
            checkMinBeforeMax(state$$1.minDate, state$$1.maxDate);
            state$$1.focusDate = checkDateInRange(state$$1.focusDate, state$$1.minDate, state$$1.maxDate);
            state$$1.firstDate = checkDateInRange(state$$1.firstDate, state$$1.minDate, state$$1.maxDate);
            startDate = state$$1.focusDate;
        }
        // disabled
        if ('disabled' in patch) {
            state$$1.focusVisible = false;
        }
        // focus date changed
        if ('focusDate' in patch) {
            state$$1.focusDate = checkDateInRange(state$$1.focusDate, state$$1.minDate, state$$1.maxDate);
            startDate = state$$1.focusDate;
            // nothing to rebuild if only focus changed and it is still visible
            if (state$$1.months.length !== 0 && !state$$1.focusDate.before(state$$1.firstDate) &&
                !state$$1.focusDate.after(state$$1.lastDate)) {
                return state$$1;
            }
        }
        // first date changed
        if ('firstDate' in patch) {
            state$$1.firstDate = checkDateInRange(state$$1.firstDate, state$$1.minDate, state$$1.maxDate);
            startDate = state$$1.firstDate;
        }
        // rebuilding months
        if (startDate) {
            var forceRebuild = 'firstDayOfWeek' in patch || 'markDisabled' in patch || 'minDate' in patch ||
                'maxDate' in patch || 'disabled' in patch;
            var months = buildMonths(this._calendar, state$$1.months, startDate, state$$1.minDate, state$$1.maxDate, state$$1.displayMonths, state$$1.firstDayOfWeek, state$$1.markDisabled, forceRebuild);
            // updating months and boundary dates
            state$$1.months = months;
            state$$1.firstDate = months.length > 0 ? months[0].firstDate : undefined;
            state$$1.lastDate = months.length > 0 ? months[months.length - 1].lastDate : undefined;
            // adjusting focus after months were built
            if ('firstDate' in patch) {
                if (state$$1.focusDate === undefined || state$$1.focusDate.before(state$$1.firstDate) ||
                    state$$1.focusDate.after(state$$1.lastDate)) {
                    state$$1.focusDate = startDate;
                }
            }
        }
        return state$$1;
    };
    return NgbDatepickerService;
}());
NgbDatepickerService = __decorate$5([
    _angular_core.Injectable(),
    __metadata$1("design:paramtypes", [NgbCalendar])
], NgbDatepickerService);

var __decorate$6 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$2 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var Key;
(function (Key) {
    Key[Key["Enter"] = 13] = "Enter";
    Key[Key["Space"] = 32] = "Space";
    Key[Key["PageUp"] = 33] = "PageUp";
    Key[Key["PageDown"] = 34] = "PageDown";
    Key[Key["End"] = 35] = "End";
    Key[Key["Home"] = 36] = "Home";
    Key[Key["ArrowLeft"] = 37] = "ArrowLeft";
    Key[Key["ArrowUp"] = 38] = "ArrowUp";
    Key[Key["ArrowRight"] = 39] = "ArrowRight";
    Key[Key["ArrowDown"] = 40] = "ArrowDown";
})(Key || (Key = {}));
var NgbDatepickerKeyMapService = (function () {
    function NgbDatepickerKeyMapService(_service, _calendar) {
        var _this = this;
        this._service = _service;
        this._calendar = _calendar;
        _service.model$.subscribe(function (model) {
            _this._minDate = model.minDate;
            _this._maxDate = model.maxDate;
            _this._firstViewDate = model.firstDate;
            _this._lastViewDate = model.lastDate;
        });
    }
    NgbDatepickerKeyMapService.prototype.processKey = function (event) {
        if (Key[toString(event.which)]) {
            switch (event.which) {
                case Key.PageUp:
                    this._service.focusMove(event.shiftKey ? 'y' : 'm', -1);
                    break;
                case Key.PageDown:
                    this._service.focusMove(event.shiftKey ? 'y' : 'm', 1);
                    break;
                case Key.End:
                    this._service.focus(event.shiftKey ? this._maxDate : this._lastViewDate);
                    break;
                case Key.Home:
                    this._service.focus(event.shiftKey ? this._minDate : this._firstViewDate);
                    break;
                case Key.ArrowLeft:
                    this._service.focusMove('d', -1);
                    break;
                case Key.ArrowUp:
                    this._service.focusMove('d', -this._calendar.getDaysPerWeek());
                    break;
                case Key.ArrowRight:
                    this._service.focusMove('d', 1);
                    break;
                case Key.ArrowDown:
                    this._service.focusMove('d', this._calendar.getDaysPerWeek());
                    break;
                case Key.Enter:
                case Key.Space:
                    this._service.focusSelect();
                    break;
                default:
                    return;
            }
            event.preventDefault();
            event.stopPropagation();
        }
    };
    return NgbDatepickerKeyMapService;
}());
NgbDatepickerKeyMapService = __decorate$6([
    _angular_core.Injectable(),
    __metadata$2("design:paramtypes", [NgbDatepickerService, NgbCalendar])
], NgbDatepickerKeyMapService);

// clang-format on
var NavigationEvent;
(function (NavigationEvent) {
    NavigationEvent[NavigationEvent["PREV"] = 0] = "PREV";
    NavigationEvent[NavigationEvent["NEXT"] = 1] = "NEXT";
    NavigationEvent[NavigationEvent["PREVYEAR"] = 2] = "PREVYEAR";
    NavigationEvent[NavigationEvent["NEXTYEAR"] = 3] = "NEXTYEAR";
})(NavigationEvent || (NavigationEvent = {}));

var __decorate$7 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
/**
 * Configuration service for the NgbDatepicker component.
 * You can inject this service, typically in your root component, and customize the values of its properties in
 * order to provide default values for all the datepickers used in the application.
 */
var NgbDatepickerConfig = (function () {
    function NgbDatepickerConfig() {
        this.displayMonths = 1;
        this.firstDayOfWeek = 1;
        this.navigation = 'select';
        this.outsideDays = 'visible';
        this.showWeekdays = true;
        this.showWeekNumbers = false;
    }
    return NgbDatepickerConfig;
}());
NgbDatepickerConfig = __decorate$7([
    _angular_core.Injectable()
], NgbDatepickerConfig);

var __extends$1 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$8 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var WEEKDAYS_SHORT = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'];
var MONTHS_SHORT = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
var MONTHS_FULL = [
    'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November',
    'December'
];
/**
 * Type of the service supplying month and weekday names to to NgbDatepicker component.
 * See the i18n demo for how to extend this class and define a custom provider for i18n.
 */
var NgbDatepickerI18n$1 = (function () {
    function NgbDatepickerI18n$$1() {
    }
    return NgbDatepickerI18n$$1;
}());
NgbDatepickerI18n$1 = __decorate$8([
    _angular_core.Injectable()
], NgbDatepickerI18n$1);
var NgbDatepickerI18nDefault = (function (_super) {
    __extends$1(NgbDatepickerI18nDefault, _super);
    function NgbDatepickerI18nDefault() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NgbDatepickerI18nDefault.prototype.getWeekdayShortName = function (weekday) { return WEEKDAYS_SHORT[weekday - 1]; };
    NgbDatepickerI18nDefault.prototype.getMonthShortName = function (month) { return MONTHS_SHORT[month - 1]; };
    NgbDatepickerI18nDefault.prototype.getMonthFullName = function (month) { return MONTHS_FULL[month - 1]; };
    return NgbDatepickerI18nDefault;
}(NgbDatepickerI18n$1));
NgbDatepickerI18nDefault = __decorate$8([
    _angular_core.Injectable()
], NgbDatepickerI18nDefault);

var __decorate$3 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NGB_DATEPICKER_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return RplDatepicker; }),
    multi: true
};
/**
 * A lightweight and highly configurable datepicker directive
 */
var RplDatepicker = (function () {
    function RplDatepicker(_keyMapService, _service, _calendar, i18n, config, _cd, _elementRef) {
        var _this = this;
        this._keyMapService = _keyMapService;
        this._service = _service;
        this._calendar = _calendar;
        this.i18n = i18n;
        this._cd = _cd;
        this._elementRef = _elementRef;
        /**
         * An event fired when navigation happens and currently displayed month changes.
         * See NgbDatepickerNavigateEvent for the payload info.
         */
        this.navigate = new _angular_core.EventEmitter();
        this.onChange = function (_) { };
        this.onTouched = function () { };
        this.dayTemplate = config.dayTemplate;
        this.displayMonths = config.displayMonths;
        this.firstDayOfWeek = config.firstDayOfWeek;
        this.markDisabled = config.markDisabled;
        this.minDate = config.minDate;
        this.maxDate = config.maxDate;
        this.navigation = config.navigation;
        this.outsideDays = config.outsideDays;
        this.showWeekdays = config.showWeekdays;
        this.showWeekNumbers = config.showWeekNumbers;
        this.startDate = config.startDate;
        this._subscription = _service.model$.subscribe(function (model) {
            var newDate = model.firstDate;
            var oldDate = _this.model ? _this.model.firstDate : null;
            var newSelectedDate = model.selectedDate;
            var oldSelectedDate = _this.model ? _this.model.selectedDate : null;
            _this.model = model;
            // handling selection change
            if (isChangedDate(newSelectedDate, oldSelectedDate)) {
                _this.onTouched();
                _this.onChange(newSelectedDate ? { year: newSelectedDate.year, month: newSelectedDate.month, day: newSelectedDate.day } :
                    null);
            }
            // emitting navigation event if the first month changes
            if (!newDate.equals(oldDate)) {
                _this.navigate.emit({
                    current: oldDate ? { year: oldDate.year, month: oldDate.month } : null,
                    next: { year: newDate.year, month: newDate.month }
                });
            }
            _cd.markForCheck();
        });
    }
    /**
     * Manually focus the datepicker
     */
    RplDatepicker.prototype.focus = function () { this._elementRef.nativeElement.focus(); };
    RplDatepicker.prototype.getHeaderHeight = function () {
        var h = this.showWeekdays ? 6.25 : 4.25;
        return this.displayMonths === 1 || this.navigation !== 'select' ? h - 2 : h;
    };
    RplDatepicker.prototype.getHeaderMargin = function () {
        var m = this.showWeekdays ? 2 : 0;
        return this.displayMonths !== 1 || this.navigation !== 'select' ? m + 2 : m;
    };
    /**
     * Navigates current view to provided date.
     * With default calendar we use ISO 8601: 'month' is 1=Jan ... 12=Dec.
     * If nothing or invalid date provided calendar will open current month.
     * Use 'startDate' input as an alternative
     */
    RplDatepicker.prototype.navigateTo = function (date) {
        this._service.open(date ? new NgbDate(date.year, date.month, 1) : this._calendar.getToday());
    };
    RplDatepicker.prototype.ngOnDestroy = function () { this._subscription.unsubscribe(); };
    RplDatepicker.prototype.ngOnInit = function () {
        if (this.model === undefined) {
            this._service.displayMonths = toInteger(this.displayMonths);
            this._service.markDisabled = this.markDisabled;
            this._service.firstDayOfWeek = this.firstDayOfWeek;
            this._setDates();
        }
    };
    RplDatepicker.prototype.ngOnChanges = function (changes) {
        if (changes['displayMonths']) {
            this._service.displayMonths = toInteger(this.displayMonths);
        }
        if (changes['markDisabled']) {
            this._service.markDisabled = this.markDisabled;
        }
        if (changes['firstDayOfWeek']) {
            this._service.firstDayOfWeek = this.firstDayOfWeek;
        }
        this._setDates();
    };
    RplDatepicker.prototype.onDateSelect = function (date) {
        this._service.focus(date);
        this.writeValue(date);
    };
    RplDatepicker.prototype.onKeyDown = function (event) { this._keyMapService.processKey(event); };
    RplDatepicker.prototype.onNavigateDateSelect = function (date) { this._service.open(date); };
    RplDatepicker.prototype.onNavigateEvent = function (event) {
        switch (event) {
            case NavigationEvent.PREV:
                this._service.open(this._calendar.getPrev(this.model.firstDate, 'm', 1));
                break;
            case NavigationEvent.NEXT:
                this._service.open(this._calendar.getNext(this.model.firstDate, 'm', 1));
                break;
            case NavigationEvent.PREVYEAR:
                this._service.open(this._calendar.getPrev(this.model.firstDate, 'm', 12));
                break;
            case NavigationEvent.NEXTYEAR:
                this._service.open(this._calendar.getNext(this.model.firstDate, 'm', 12));
                break;
        }
    };
    RplDatepicker.prototype.registerOnChange = function (fn) { this.onChange = fn; };
    RplDatepicker.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
    RplDatepicker.prototype.setDisabledState = function (isDisabled) { this._service.disabled = isDisabled; };
    RplDatepicker.prototype.showFocus = function (focusVisible) { this._service.focusVisible = focusVisible; };
    RplDatepicker.prototype.writeValue = function (value) { this._service.select(value); };
    RplDatepicker.prototype._setDates = function () {
        var startDate = this._service.toValidDate(this.startDate, this._calendar.getToday());
        var minDate = this._service.toValidDate(this.minDate, this._calendar.getPrev(startDate, 'y', 10));
        var maxDate = this._service.toValidDate(this.maxDate, this._calendar.getPrev(this._calendar.getNext(startDate, 'y', 11)));
        this.minDate = { year: minDate.year, month: minDate.month, day: minDate.day };
        this.maxDate = { year: maxDate.year, month: maxDate.month, day: maxDate.day };
        this._service.minDate = minDate;
        this._service.maxDate = maxDate;
        this.navigateTo(startDate);
    };
    return RplDatepicker;
}());
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", _angular_core.TemplateRef)
], RplDatepicker.prototype, "dayTemplate", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", Number)
], RplDatepicker.prototype, "displayMonths", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", Number)
], RplDatepicker.prototype, "firstDayOfWeek", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", Function)
], RplDatepicker.prototype, "markDisabled", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", Object)
], RplDatepicker.prototype, "maxDate", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", Object)
], RplDatepicker.prototype, "minDate", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", String)
], RplDatepicker.prototype, "navigation", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", String)
], RplDatepicker.prototype, "outsideDays", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", Boolean)
], RplDatepicker.prototype, "showWeekdays", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", Boolean)
], RplDatepicker.prototype, "showWeekNumbers", void 0);
__decorate$3([
    _angular_core.Input(),
    __metadata("design:type", Object)
], RplDatepicker.prototype, "startDate", void 0);
__decorate$3([
    _angular_core.Output(),
    __metadata("design:type", Object)
], RplDatepicker.prototype, "navigate", void 0);
RplDatepicker = __decorate$3([
    _angular_core.Component({
        exportAs: 'rplDatepicker',
        selector: 'rpl-datepicker',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        host: {
            'class': 'd-inline-block rounded',
            'tabindex': '0',
            '[attr.tabindex]': 'model.disabled ? undefined : "0"',
            '(blur)': 'showFocus(false)',
            '(focus)': 'showFocus(true)',
            '(keydown)': 'onKeyDown($event)'
        },
        template: "<ng-template #dt let-date=\"date\" let-currentMonth=\"currentMonth\" let-selected=\"selected\" let-disabled=\"disabled\" let-focused=\"focused\"><div ngbDatepickerDayView [date]=\"date\" [currentMonth]=\"currentMonth\" [selected]=\"selected\" [disabled]=\"disabled\" [focused]=\"focused\"></div></ng-template><div class=\"ngb-dp-header bg-faded pt-1 rounded-top\" [style.height.rem]=\"getHeaderHeight()\" [style.marginBottom.rem]=\"-getHeaderMargin()\"><ngb-datepicker-navigation *ngIf=\"navigation !== 'none'\" [date]=\"model.firstDate\" [minDate]=\"model.minDate\" [maxDate]=\"model.maxDate\" [months]=\"model.months.length\" [disabled]=\"model.disabled\" [showWeekNumbers]=\"showWeekNumbers\" [showSelect]=\"navigation === 'select'\" (navigate)=\"onNavigateEvent($event)\" (select)=\"onNavigateDateSelect($event)\"></ngb-datepicker-navigation></div><div class=\"ngb-dp-months d-flex px-1 pb-1\"><ng-template ngFor let-month [ngForOf]=\"model.months\" let-i=\"index\"><div class=\"ngb-dp-month d-block ml-3\"><div *ngIf=\"navigation !== 'select' || displayMonths > 1\" class=\"ngb-dp-month-name text-center\">{{ i18n.getMonthFullName(month.number) }} {{ month.year }}</div><ngb-datepicker-month-view [month]=\"month\" [dayTemplate]=\"dayTemplate || dt\" [showWeekdays]=\"showWeekdays\" [showWeekNumbers]=\"showWeekNumbers\" [outsideDays]=\"(displayMonths === 1 ? outsideDays : 'hidden')\" (select)=\"onDateSelect($event)\"></ngb-datepicker-month-view></div></ng-template></div>",
        styles: [":host{border:1px solid rgba(0,0,0,.125)}.ngb-dp-header{border-bottom:1px solid rgba(0,0,0,.125)}.ngb-dp-month{pointer-events:none}ngb-datepicker-month-view{pointer-events:auto}.ngb-dp-month:first-child{margin-left:0!important}.ngb-dp-month-name{font-size:larger;font:Arial regular;height:2rem;line-height:2rem} /*# sourceMappingURL=datepicker.css.map */ "],
        providers: [NGB_DATEPICKER_VALUE_ACCESSOR, NgbDatepickerService, NgbDatepickerKeyMapService]
    }),
    __metadata("design:paramtypes", [NgbDatepickerKeyMapService, NgbDatepickerService,
        NgbCalendar, NgbDatepickerI18n$1, NgbDatepickerConfig,
        _angular_core.ChangeDetectorRef, _angular_core.ElementRef])
], RplDatepicker);

var __decorate$9 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$3 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerMonthView = (function () {
    function NgbDatepickerMonthView(i18n) {
        this.i18n = i18n;
        this.select = new _angular_core.EventEmitter();
    }
    NgbDatepickerMonthView.prototype.doSelect = function (day) {
        if (!day.context.disabled && !this.isHidden(day)) {
            this.select.emit(NgbDate.from(day.date));
        }
    };
    NgbDatepickerMonthView.prototype.isCollapsed = function (week) {
        return this.outsideDays === 'collapsed' && week.days[0].date.month !== this.month.number &&
            week.days[week.days.length - 1].date.month !== this.month.number;
    };
    NgbDatepickerMonthView.prototype.isHidden = function (day) {
        return (this.outsideDays === 'hidden' || this.outsideDays === 'collapsed') && this.month.number !== day.date.month;
    };
    return NgbDatepickerMonthView;
}());
__decorate$9([
    _angular_core.Input(),
    __metadata$3("design:type", _angular_core.TemplateRef)
], NgbDatepickerMonthView.prototype, "dayTemplate", void 0);
__decorate$9([
    _angular_core.Input(),
    __metadata$3("design:type", Object)
], NgbDatepickerMonthView.prototype, "month", void 0);
__decorate$9([
    _angular_core.Input(),
    __metadata$3("design:type", String)
], NgbDatepickerMonthView.prototype, "outsideDays", void 0);
__decorate$9([
    _angular_core.Input(),
    __metadata$3("design:type", Object)
], NgbDatepickerMonthView.prototype, "showWeekdays", void 0);
__decorate$9([
    _angular_core.Input(),
    __metadata$3("design:type", Object)
], NgbDatepickerMonthView.prototype, "showWeekNumbers", void 0);
__decorate$9([
    _angular_core.Output(),
    __metadata$3("design:type", Object)
], NgbDatepickerMonthView.prototype, "select", void 0);
NgbDatepickerMonthView = __decorate$9([
    _angular_core.Component({
        selector: 'ngb-datepicker-month-view',
        host: { 'class': 'd-block' },
        template: "<div *ngIf=\"showWeekdays\" class=\"ngb-dp-week d-flex\"><div *ngIf=\"showWeekNumbers\" class=\"ngb-dp-weekday\"></div><div *ngFor=\"let w of month.weekdays\" class=\"ngb-dp-weekday small text-center text-info font-italic\">{{ i18n.getWeekdayShortName(w) }}</div></div><ng-template ngFor let-week [ngForOf]=\"month.weeks\"><div *ngIf=\"!isCollapsed(week)\" class=\"ngb-dp-week d-flex\"><div *ngIf=\"showWeekNumbers\" class=\"ngb-dp-week-number small text-center font-italic text-muted\">{{ week.number }}</div><div *ngFor=\"let day of week.days\" (click)=\"doSelect(day)\" class=\"ngb-dp-day\" [class.disabled]=\"day.context.disabled\" [class.hidden]=\"isHidden(day)\"><ng-template [ngIf]=\"!isHidden(day)\"><ng-template [ngTemplateOutlet]=\"dayTemplate\" [ngOutletContext]=\"day.context\"></ng-template></ng-template></div></div></ng-template>",
        styles: [".ngb-dp-week-number,.ngb-dp-weekday{line-height:35px}.ngb-dp-day{width:45px!important;height:45px!important}.ngb-dp-week-number,.ngb-dp-weekday{width:45px!important;height:35px!important}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default} /*# sourceMappingURL=datepicker-month-view.css.map */ "],
    }),
    __metadata$3("design:paramtypes", [NgbDatepickerI18n$1])
], NgbDatepickerMonthView);

var __decorate$10 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$4 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerNavigation = (function () {
    function NgbDatepickerNavigation(i18n, _calendar) {
        this.i18n = i18n;
        this._calendar = _calendar;
        this.navigation = NavigationEvent;
        this.navigate = new _angular_core.EventEmitter();
        this.select = new _angular_core.EventEmitter();
    }
    NgbDatepickerNavigation.prototype.doNavigate = function (event) {
        this.navigate.emit(event);
    };
    NgbDatepickerNavigation.prototype.nextDisabled = function () {
        return this.disabled || (this.maxDate && this._calendar.getNext(this.date, 'm').after(this.maxDate));
    };
    NgbDatepickerNavigation.prototype.prevDisabled = function () {
        var prevDate = this._calendar.getPrev(this.date, 'm');
        return this.disabled || (this.minDate && prevDate.year <= this.minDate.year && prevDate.month < this.minDate.month);
    };
    NgbDatepickerNavigation.prototype.selectDate = function (date) { this.select.emit(date); };
    return NgbDatepickerNavigation;
}());
__decorate$10([
    _angular_core.Input(),
    __metadata$4("design:type", NgbDate)
], NgbDatepickerNavigation.prototype, "date", void 0);
__decorate$10([
    _angular_core.Input(),
    __metadata$4("design:type", Boolean)
], NgbDatepickerNavigation.prototype, "disabled", void 0);
__decorate$10([
    _angular_core.Input(),
    __metadata$4("design:type", NgbDate)
], NgbDatepickerNavigation.prototype, "maxDate", void 0);
__decorate$10([
    _angular_core.Input(),
    __metadata$4("design:type", NgbDate)
], NgbDatepickerNavigation.prototype, "minDate", void 0);
__decorate$10([
    _angular_core.Input(),
    __metadata$4("design:type", Number)
], NgbDatepickerNavigation.prototype, "months", void 0);
__decorate$10([
    _angular_core.Input(),
    __metadata$4("design:type", Boolean)
], NgbDatepickerNavigation.prototype, "showSelect", void 0);
__decorate$10([
    _angular_core.Input(),
    __metadata$4("design:type", Boolean)
], NgbDatepickerNavigation.prototype, "showWeekNumbers", void 0);
__decorate$10([
    _angular_core.Output(),
    __metadata$4("design:type", Object)
], NgbDatepickerNavigation.prototype, "navigate", void 0);
__decorate$10([
    _angular_core.Output(),
    __metadata$4("design:type", Object)
], NgbDatepickerNavigation.prototype, "select", void 0);
NgbDatepickerNavigation = __decorate$10([
    _angular_core.Component({
        selector: 'ngb-datepicker-navigation',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        host: { 'class': 'd-flex justify-content-between', '[class.collapsed]': '!showSelect' },
        template: "<span><button type=\"button\" class=\"btn btn-sm btn-link camillo\" style=\"width:45px\" (click)=\"!!doNavigate(navigation.PREVYEAR)\" [disabled]=\"prevDisabled()\" tabindex=\"-1\"><span class=\"ngb-dp-navigation-chevron camillo\" style=\"width:50%\"></span> <span class=\"ngb-dp-navigation-chevron camillo\" style=\"margin-left:-0.8em!important\"></span></button> <button type=\"button\" class=\"btn btn-sm btn-link camillo\" style=\"width:45px; margin-left:-0.2em!important\" (click)=\"!!doNavigate(navigation.PREV)\" [disabled]=\"prevDisabled()\" tabindex=\"-1\"><span class=\"ngb-dp-navigation-chevron camillo\"></span></button></span><ngb-datepicker-navigation-select *ngIf=\"showSelect\" class=\"d-block\" [style.width.rem]=\"months * 9\" [date]=\"date\" [minDate]=\"minDate\" [maxDate]=\"maxDate\" [disabled]=\"disabled\" (select)=\"selectDate($event)\"></ngb-datepicker-navigation-select><span><button type=\"button\" style=\"width:45px; margin-right:-0.23em!important;\" class=\"btn btn-sm btn-link camillo\" (click)=\"!!doNavigate(navigation.NEXT)\" [disabled]=\"nextDisabled()\" tabindex=\"-1\"><span class=\"ngb-dp-navigation-chevron right camillo\"></span></button> <button type=\"button\" style=\"width:45px\" class=\"btn btn-sm btn-link camillo\" (click)=\"!!doNavigate(navigation.NEXTYEAR)\" [disabled]=\"nextDisabled()\" tabindex=\"-1\"><span class=\"ngb-dp-navigation-chevron right camillo\" style=\"width:50%; margin-right: -0.8em!important;\"></span> <span class=\"ngb-dp-navigation-chevron right camillo\"></span></button></span>",
        styles: [":host{height:2rem;line-height:1.85rem}:host.collapsed{margin-bottom:-2rem}.btn-link{width:2.8rem;min-height:100%!important}caption,table,tbody,td,tfoot,th,thead,tr{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:0 0}.camillo{display:inline-block;margin:0;padding:0;border:none}.ngb-dp-navigation-chevron::before{border-style:solid;border-width:.2em .2em 0 0;content:'';display:inline-block;height:.75em;transform:rotate(-135deg);-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);width:.75em;margin:0 0 0 .5rem}.ngb-dp-navigation-chevron.right:before{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);margin:0 .5rem 0 0} /*# sourceMappingURL=datepicker-navigation.css.map */ "],
    }),
    __metadata$4("design:paramtypes", [NgbDatepickerI18n$1, NgbCalendar])
], NgbDatepickerNavigation);

var __extends$2 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
/**
 * Abstract type serving as a DI token for the service parsing and formatting dates for the NgbInputDatepicker
 * directive. A default implementation using the ISO 8601 format is provided, but you can provide another implementation
 * to use an alternative format.
 */
var NgbDateParserFormatter$1 = (function () {
    function NgbDateParserFormatter$$1() {
    }
    return NgbDateParserFormatter$$1;
}());
var NgbDateISOParserFormatter = (function (_super) {
    __extends$2(NgbDateISOParserFormatter, _super);
    function NgbDateISOParserFormatter() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NgbDateISOParserFormatter.prototype.parse = function (value) {
        if (value) {
            var dateParts = value.trim().split('-');
            if (dateParts.length === 1 && isNumber(dateParts[0])) {
                return { year: toInteger(dateParts[0]), month: null, day: null };
            }
            else if (dateParts.length === 2 && isNumber(dateParts[0]) && isNumber(dateParts[1])) {
                return { year: toInteger(dateParts[0]), month: toInteger(dateParts[1]), day: null };
            }
            else if (dateParts.length === 3 && isNumber(dateParts[0]) && isNumber(dateParts[1]) && isNumber(dateParts[2])) {
                return { year: toInteger(dateParts[0]), month: toInteger(dateParts[1]), day: toInteger(dateParts[2]) };
            }
        }
        return null;
    };
    NgbDateISOParserFormatter.prototype.format = function (date) {
        return date ?
            date.year + "-" + (isNumber(date.month) ? padNumber(date.month) : '') + "-" + (isNumber(date.day) ? padNumber(date.day) : '') :
            '';
    };
    return NgbDateISOParserFormatter;
}(NgbDateParserFormatter$1));

// previous version:
// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js
var Positioning = (function () {
    function Positioning() {
    }
    Positioning.prototype.getStyle = function (element, prop) { return window.getComputedStyle(element)[prop]; };
    Positioning.prototype.isStaticPositioned = function (element) {
        return (this.getStyle(element, 'position') || 'static') === 'static';
    };
    Positioning.prototype.offsetParent = function (element) {
        var offsetParentEl = element.offsetParent || document.documentElement;
        while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {
            offsetParentEl = offsetParentEl.offsetParent;
        }
        return offsetParentEl || document.documentElement;
    };
    Positioning.prototype.position = function (element, round) {
        if (round === void 0) { round = true; }
        var elPosition;
        var parentOffset = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };
        if (this.getStyle(element, 'position') === 'fixed') {
            elPosition = element.getBoundingClientRect();
        }
        else {
            var offsetParentEl = this.offsetParent(element);
            elPosition = this.offset(element, false);
            if (offsetParentEl !== document.documentElement) {
                parentOffset = this.offset(offsetParentEl, false);
            }
            parentOffset.top += offsetParentEl.clientTop;
            parentOffset.left += offsetParentEl.clientLeft;
        }
        elPosition.top -= parentOffset.top;
        elPosition.bottom -= parentOffset.top;
        elPosition.left -= parentOffset.left;
        elPosition.right -= parentOffset.left;
        if (round) {
            elPosition.top = Math.round(elPosition.top);
            elPosition.bottom = Math.round(elPosition.bottom);
            elPosition.left = Math.round(elPosition.left);
            elPosition.right = Math.round(elPosition.right);
        }
        return elPosition;
    };
    Positioning.prototype.offset = function (element, round) {
        if (round === void 0) { round = true; }
        var elBcr = element.getBoundingClientRect();
        var viewportOffset = {
            top: window.pageYOffset - document.documentElement.clientTop,
            left: window.pageXOffset - document.documentElement.clientLeft
        };
        var elOffset = {
            height: elBcr.height || element.offsetHeight,
            width: elBcr.width || element.offsetWidth,
            top: elBcr.top + viewportOffset.top,
            bottom: elBcr.bottom + viewportOffset.top,
            left: elBcr.left + viewportOffset.left,
            right: elBcr.right + viewportOffset.left
        };
        if (round) {
            elOffset.height = Math.round(elOffset.height);
            elOffset.width = Math.round(elOffset.width);
            elOffset.top = Math.round(elOffset.top);
            elOffset.bottom = Math.round(elOffset.bottom);
            elOffset.left = Math.round(elOffset.left);
            elOffset.right = Math.round(elOffset.right);
        }
        return elOffset;
    };
    Positioning.prototype.positionElements = function (hostElement, targetElement, placement, appendToBody) {
        var hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);
        var targetElBCR = targetElement.getBoundingClientRect();
        var placementPrimary = placement.split('-')[0] || 'top';
        var placementSecondary = placement.split('-')[1] || 'center';
        var targetElPosition = {
            'height': targetElBCR.height || targetElement.offsetHeight,
            'width': targetElBCR.width || targetElement.offsetWidth,
            'top': 0,
            'bottom': targetElBCR.height || targetElement.offsetHeight,
            'left': 0,
            'right': targetElBCR.width || targetElement.offsetWidth
        };
        switch (placementPrimary) {
            case 'top':
                targetElPosition.top = hostElPosition.top - targetElement.offsetHeight;
                break;
            case 'bottom':
                targetElPosition.top = hostElPosition.top + hostElPosition.height;
                break;
            case 'left':
                targetElPosition.left = hostElPosition.left - targetElement.offsetWidth;
                break;
            case 'right':
                targetElPosition.left = hostElPosition.left + hostElPosition.width;
                break;
        }
        switch (placementSecondary) {
            case 'top':
                targetElPosition.top = hostElPosition.top;
                break;
            case 'bottom':
                targetElPosition.top = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;
                break;
            case 'left':
                targetElPosition.left = hostElPosition.left;
                break;
            case 'right':
                targetElPosition.left = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;
                break;
            case 'center':
                if (placementPrimary === 'top' || placementPrimary === 'bottom') {
                    targetElPosition.left = hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2;
                }
                else {
                    targetElPosition.top = hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2;
                }
                break;
        }
        targetElPosition.top = Math.round(targetElPosition.top);
        targetElPosition.bottom = Math.round(targetElPosition.bottom);
        targetElPosition.left = Math.round(targetElPosition.left);
        targetElPosition.right = Math.round(targetElPosition.right);
        return targetElPosition;
    };
    return Positioning;
}());
var positionService = new Positioning();
function positionElements(hostElement, targetElement, placement, appendToBody) {
    var pos = positionService.positionElements(hostElement, targetElement, placement, appendToBody);
    targetElement.style.top = pos.top + "px";
    targetElement.style.left = pos.left + "px";
}

var __decorate$11 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$5 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NGB_DATEPICKER_VALUE_ACCESSOR$1 = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return NgbInputDatepicker$1; }),
    multi: true
};
var NGB_DATEPICKER_VALIDATOR = {
    provide: _angular_forms.NG_VALIDATORS,
    useExisting: _angular_core.forwardRef(function () { return NgbInputDatepicker$1; }),
    multi: true
};
/**
 * A directive that makes it possible to have datepickers on input fields.
 * Manages integration with the input field itself (data entry) and ngModel (validation etc.).
 */
var NgbInputDatepicker$1 = (function () {
    function NgbInputDatepicker$$1(_parserFormatter, _elRef, _vcRef, _renderer, _cfr, ngZone, _service, _calendar) {
        var _this = this;
        this._parserFormatter = _parserFormatter;
        this._elRef = _elRef;
        this._vcRef = _vcRef;
        this._renderer = _renderer;
        this._cfr = _cfr;
        this._service = _service;
        this._calendar = _calendar;
        this._cRef = null;
        /**
         * Placement of a datepicker popup. Accepts: "top", "bottom", "left", "right", "bottom-left",
         * "bottom-right" etc.
         */
        this.placement = 'bottom-left';
        /**
         * An event fired when navigation happens and currently displayed month changes.
         * See NgbDatepickerNavigateEvent for the payload info.
         */
        this.navigate = new _angular_core.EventEmitter();
        this._onChange = function (_) { };
        this._onTouched = function () { };
        this._validatorChange = function () { };
        this._zoneSubscription = ngZone.onStable.subscribe(function () {
            if (_this._cRef) {
                positionElements(_this._elRef.nativeElement, _this._cRef.location.nativeElement, _this.placement);
            }
        });
    }
    NgbInputDatepicker$$1.prototype.registerOnChange = function (fn) { this._onChange = fn; };
    NgbInputDatepicker$$1.prototype.registerOnTouched = function (fn) { this._onTouched = fn; };
    NgbInputDatepicker$$1.prototype.registerOnValidatorChange = function (fn) { this._validatorChange = fn; };
    
    NgbInputDatepicker$$1.prototype.setDisabledState = function (isDisabled) {
        this._renderer.setProperty(this._elRef.nativeElement, 'disabled', isDisabled);
        if (this.isOpen()) {
            this._cRef.instance.setDisabledState(isDisabled);
        }
    };
    NgbInputDatepicker$$1.prototype.validate = function (c) {
        var value = c.value;
        if (value === null || value === undefined) {
            return null;
        }
        if (!this._calendar.isValid(value)) {
            return { 'ngbDate': { invalid: c.value } };
        }
        if (this.minDate && NgbDate.from(value).before(NgbDate.from(this.minDate))) {
            return { 'ngbDate': { requiredBefore: this.minDate } };
        }
        if (this.maxDate && NgbDate.from(value).after(NgbDate.from(this.maxDate))) {
            return { 'ngbDate': { requiredAfter: this.maxDate } };
        }
    };
    NgbInputDatepicker$$1.prototype.writeValue = function (value) {
        var ngbDate = value ? new NgbDate(value.year, value.month, value.day) : null;
        this._model = this._calendar.isValid(value) ? ngbDate : null;
        this._writeModelValue(this._model);
    };
    NgbInputDatepicker$$1.prototype.manualDateChange = function (value, updateView) {
        if (updateView === void 0) { updateView = false; }
        this._model = this._service.toValidDate(this._parserFormatter.parse(value), null);
        this._onChange(this._model ? this._model.toStruct() : (value === '' ? null : value));
        if (updateView && this._model) {
            this._writeModelValue(this._model);
        }
    };
    NgbInputDatepicker$$1.prototype.isOpen = function () { return !!this._cRef; };
    /**
     * Opens the datepicker with the selected date indicated by the ngModel value.
     */
    NgbInputDatepicker$$1.prototype.open = function () {
        var _this = this;
        if (!this.isOpen()) {
            var cf = this._cfr.resolveComponentFactory(RplDatepicker);
            this._cRef = this._vcRef.createComponent(cf);
            this._applyPopupStyling(this._cRef.location.nativeElement);
            this._cRef.instance.writeValue(this._model);
            this._applyDatepickerInputs(this._cRef.instance);
            this._subscribeForDatepickerOutputs(this._cRef.instance);
            this._cRef.instance.ngOnInit();
            // date selection event handling
            this._cRef.instance.registerOnChange(function (selectedDate) {
                _this.writeValue(selectedDate);
                _this._onChange(selectedDate);
                _this.close();
            });
            // focus handling
            this._cRef.instance.focus();
        }
    };
    /**
     * Closes the datepicker popup.
     */
    NgbInputDatepicker$$1.prototype.close = function () {
        if (this.isOpen()) {
            this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView));
            this._cRef = null;
        }
    };
    /**
     * Toggles the datepicker popup (opens when closed and closes when opened).
     */
    NgbInputDatepicker$$1.prototype.toggle = function () {
        if (this.isOpen()) {
            this.close();
        }
        else {
            this.open();
        }
    };
    /**
     * Navigates current view to provided date.
     * With default calendar we use ISO 8601: 'month' is 1=Jan ... 12=Dec.
     * If nothing or invalid date provided calendar will open current month.
     * Use 'startDate' input as an alternative
     */
    NgbInputDatepicker$$1.prototype.navigateTo = function (date) {
        if (this.isOpen()) {
            this._cRef.instance.navigateTo(date);
        }
    };
    NgbInputDatepicker$$1.prototype.onBlur = function () { this._onTouched(); };
    NgbInputDatepicker$$1.prototype.ngOnChanges = function (changes) {
        if (changes['minDate'] || changes['maxDate']) {
            this._validatorChange();
        }
    };
    NgbInputDatepicker$$1.prototype.ngOnDestroy = function () {
        this.close();
        this._zoneSubscription.unsubscribe();
    };
    NgbInputDatepicker$$1.prototype._applyDatepickerInputs = function (datepickerInstance) {
        var _this = this;
        ['dayTemplate', 'displayMonths', 'firstDayOfWeek', 'markDisabled', 'minDate', 'maxDate', 'navigation',
            'outsideDays', 'showNavigation', 'showWeekdays', 'showWeekNumbers']
            .forEach(function (optionName) {
            if (_this[optionName] !== undefined) {
                datepickerInstance[optionName] = _this[optionName];
            }
        });
        datepickerInstance.startDate = this.startDate || this._model;
    };
    NgbInputDatepicker$$1.prototype._applyPopupStyling = function (nativeElement) {
        this._renderer.addClass(nativeElement, 'dropdown-menu');
        this._renderer.setStyle(nativeElement, 'padding', '0');
    };
    NgbInputDatepicker$$1.prototype._subscribeForDatepickerOutputs = function (datepickerInstance) {
        var _this = this;
        datepickerInstance.navigate.subscribe(function (date) { return _this.navigate.emit(date); });
    };
    NgbInputDatepicker$$1.prototype._writeModelValue = function (model) {
        this._renderer.setProperty(this._elRef.nativeElement, 'value', this._parserFormatter.format(model));
        if (this.isOpen()) {
            this._cRef.instance.writeValue(model);
            this._onTouched();
        }
    };
    return NgbInputDatepicker$$1;
}());
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", _angular_core.TemplateRef)
], NgbInputDatepicker$1.prototype, "dayTemplate", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", Number)
], NgbInputDatepicker$1.prototype, "displayMonths", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", Number)
], NgbInputDatepicker$1.prototype, "firstDayOfWeek", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", Function)
], NgbInputDatepicker$1.prototype, "markDisabled", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", Object)
], NgbInputDatepicker$1.prototype, "minDate", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", Object)
], NgbInputDatepicker$1.prototype, "maxDate", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", String)
], NgbInputDatepicker$1.prototype, "navigation", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", String)
], NgbInputDatepicker$1.prototype, "outsideDays", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", Object)
], NgbInputDatepicker$1.prototype, "placement", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", Boolean)
], NgbInputDatepicker$1.prototype, "showWeekdays", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", Boolean)
], NgbInputDatepicker$1.prototype, "showWeekNumbers", void 0);
__decorate$11([
    _angular_core.Input(),
    __metadata$5("design:type", Object)
], NgbInputDatepicker$1.prototype, "startDate", void 0);
__decorate$11([
    _angular_core.Output(),
    __metadata$5("design:type", Object)
], NgbInputDatepicker$1.prototype, "navigate", void 0);
NgbInputDatepicker$1 = __decorate$11([
    _angular_core.Directive({
        selector: 'input[rplDatepicker]',
        exportAs: 'rplDatepicker',
        host: {
            '(input)': 'manualDateChange($event.target.value)',
            '(change)': 'manualDateChange($event.target.value, true)',
            '(keyup.esc)': 'close()',
            '(blur)': 'onBlur()'
        },
        providers: [NGB_DATEPICKER_VALUE_ACCESSOR$1, NGB_DATEPICKER_VALIDATOR, NgbDatepickerService]
    }),
    __metadata$5("design:paramtypes", [NgbDateParserFormatter$1, _angular_core.ElementRef, _angular_core.ViewContainerRef,
        _angular_core.Renderer2, _angular_core.ComponentFactoryResolver, _angular_core.NgZone,
        NgbDatepickerService, NgbCalendar])
], NgbInputDatepicker$1);

var __decorate$12 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$6 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerDayView = (function () {
    function NgbDatepickerDayView() {
    }
    NgbDatepickerDayView.prototype.isMuted = function () { return !this.selected && (this.date.month !== this.currentMonth || this.disabled); };
    return NgbDatepickerDayView;
}());
__decorate$12([
    _angular_core.Input(),
    __metadata$6("design:type", Number)
], NgbDatepickerDayView.prototype, "currentMonth", void 0);
__decorate$12([
    _angular_core.Input(),
    __metadata$6("design:type", Object)
], NgbDatepickerDayView.prototype, "date", void 0);
__decorate$12([
    _angular_core.Input(),
    __metadata$6("design:type", Boolean)
], NgbDatepickerDayView.prototype, "disabled", void 0);
__decorate$12([
    _angular_core.Input(),
    __metadata$6("design:type", Boolean)
], NgbDatepickerDayView.prototype, "focused", void 0);
__decorate$12([
    _angular_core.Input(),
    __metadata$6("design:type", Boolean)
], NgbDatepickerDayView.prototype, "selected", void 0);
NgbDatepickerDayView = __decorate$12([
    _angular_core.Component({
        selector: '[ngbDatepickerDayView]',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        host: {
            'class': 'btn-secondary',
            '[class.bg-primary]': 'selected',
            '[class.text-white]': 'selected',
            '[class.text-muted]': 'isMuted()',
            '[class.outside]': 'isMuted()',
            '[class.active]': 'focused'
        },
        template: "<div class=\"ngbdatepickerdayview\">{{ date.day }}</div>",
        styles: [":host{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem}:host.outside{opacity:.5}.ngbdatepickerdayview{border-radius:0!important;box-sizing:border-box;text-align:center;width:inherit!important;height:inherit!important;line-height:45px!important;vertical-align:middle} /*# sourceMappingURL=datepicker-day-view.css.map */ "],
    })
], NgbDatepickerDayView);

var __decorate$13 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$7 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerNavigationSelect = (function () {
    function NgbDatepickerNavigationSelect(i18n, calendar) {
        this.i18n = i18n;
        this.calendar = calendar;
        this.years = [];
        this.select = new _angular_core.EventEmitter();
        this.months = calendar.getMonths();
    }
    NgbDatepickerNavigationSelect.prototype.ngOnChanges = function (changes) {
        if (changes['maxDate'] || changes['minDate'] || changes['date']) {
            this._generateYears();
            this._generateMonths();
        }
    };
    NgbDatepickerNavigationSelect.prototype.changeMonth = function (month) { this.select.emit(new NgbDate(this.date.year, toInteger(month), 1)); };
    NgbDatepickerNavigationSelect.prototype.changeYear = function (year) { this.select.emit(new NgbDate(toInteger(year), this.date.month, 1)); };
    NgbDatepickerNavigationSelect.prototype._generateMonths = function () {
        var _this = this;
        this.months = this.calendar.getMonths();
        if (this.date && this.date.year === this.minDate.year) {
            var index = this.months.findIndex(function (month) { return month === _this.minDate.month; });
            this.months = this.months.slice(index);
        }
        if (this.date && this.date.year === this.maxDate.year) {
            var index = this.months.findIndex(function (month) { return month === _this.maxDate.month; });
            this.months = this.months.slice(0, index + 1);
        }
    };
    NgbDatepickerNavigationSelect.prototype._generateYears = function () {
        var _this = this;
        this.years = Array.from({ length: this.maxDate.year - this.minDate.year + 1 }, function (e, i) { return _this.minDate.year + i; });
    };
    return NgbDatepickerNavigationSelect;
}());
__decorate$13([
    _angular_core.Input(),
    __metadata$7("design:type", NgbDate)
], NgbDatepickerNavigationSelect.prototype, "date", void 0);
__decorate$13([
    _angular_core.Input(),
    __metadata$7("design:type", Boolean)
], NgbDatepickerNavigationSelect.prototype, "disabled", void 0);
__decorate$13([
    _angular_core.Input(),
    __metadata$7("design:type", NgbDate)
], NgbDatepickerNavigationSelect.prototype, "maxDate", void 0);
__decorate$13([
    _angular_core.Input(),
    __metadata$7("design:type", NgbDate)
], NgbDatepickerNavigationSelect.prototype, "minDate", void 0);
__decorate$13([
    _angular_core.Output(),
    __metadata$7("design:type", Object)
], NgbDatepickerNavigationSelect.prototype, "select", void 0);
NgbDatepickerNavigationSelect = __decorate$13([
    _angular_core.Component({
        selector: 'ngb-datepicker-navigation-select',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        template: "<select [disabled]=\"disabled\" class=\"custom-select d-inline-block\" [value]=\"date?.month\" (change)=\"changeMonth($event.target.value)\" tabindex=\"-1\"><option *ngFor=\"let m of months\" [value]=\"m\">{{ i18n.getMonthShortName(m) }}</option></select> <select [disabled]=\"disabled\" class=\"custom-select d-inline-block\" [value]=\"date?.year\" (change)=\"changeYear($event.target.value)\" tabindex=\"-1\"><option *ngFor=\"let y of years\" [value]=\"y\">{{ y }}</option></select>",
        styles: ["select{padding:.25rem .5rem;font-size:.875rem;line-height:1.25;height:inherit;width:50%} /*# sourceMappingURL=datepicker-navigation-select.css.map */ "],
    }),
    __metadata$7("design:paramtypes", [NgbDatepickerI18n$1, NgbCalendar])
], NgbDatepickerNavigationSelect);

var __extends$4 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$15 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var NgbCalendarHijri = (function (_super) {
    __extends$4(NgbCalendarHijri, _super);
    function NgbCalendarHijri() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NgbCalendarHijri.prototype.getDaysPerWeek = function () { return 7; };
    NgbCalendarHijri.prototype.getMonths = function () { return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]; };
    NgbCalendarHijri.prototype.getWeeksPerMonth = function () { return 6; };
    NgbCalendarHijri.prototype.isValid = function (date) {
        return date && isNumber(date.year) && isNumber(date.month) && isNumber(date.day) &&
            !isNaN(this.toGregorian(date).getTime());
    };
    NgbCalendarHijri.prototype.setDay = function (date, day) {
        day = +day;
        var mDays = this.getDaysInIslamicMonth(date.month, date.year);
        if (day <= 0) {
            while (day <= 0) {
                date = this.setMonth(date, date.month - 1);
                mDays = this.getDaysInIslamicMonth(date.month, date.year);
                day += mDays;
            }
        }
        else if (day > mDays) {
            while (day > mDays) {
                day -= mDays;
                date = this.setMonth(date, date.month + 1);
                mDays = this.getDaysInIslamicMonth(date.month, date.year);
            }
        }
        date.day = day;
        return date;
    };
    NgbCalendarHijri.prototype.setMonth = function (date, month) {
        month = +month;
        date.year = date.year + Math.floor((month - 1) / 12);
        date.month = Math.floor(((month - 1) % 12 + 12) % 12) + 1;
        return date;
    };
    NgbCalendarHijri.prototype.setYear = function (date, yearValue) {
        date.year = +yearValue;
        return date;
    };
    NgbCalendarHijri.prototype._isIslamicLeapYear = function (year) { return (14 + 11 * year) % 30 < 11; };
    /**
     * Returns the start of Hijri Month.
     * `month` is 0 for Muharram, 1 for Safar, etc.
     * `year` is any Hijri year.
     */
    NgbCalendarHijri.prototype._getMonthStart = function (year, month) {
        return Math.ceil(29.5 * month) + (year - 1) * 354 + Math.floor((3 + 11 * year) / 30.0);
    };
    /**
     * Returns the start of Hijri year.
     * `year` is any Hijri year.
     */
    NgbCalendarHijri.prototype._getYearStart = function (year) { return (year - 1) * 354 + Math.floor((3 + 11 * year) / 30.0); };
    return NgbCalendarHijri;
}(NgbCalendar));
NgbCalendarHijri = __decorate$15([
    _angular_core.Injectable()
], NgbCalendarHijri);

var __extends$3 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$14 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
function isGregorianLeapYear(date) {
    var year = date.getFullYear();
    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
}
function mod(a, b) {
    return a - b * Math.floor(a / b);
}
/**
 * The civil calendar is one type of Hijri calendars used in islamic countries.
 * Uses a fixed cycle of alternating 29- and 30-day months,
 * with a leap day added to the last month of 11 out of every 30 years.
 * http://cldr.unicode.org/development/development-process/design-proposals/islamic-calendar-types
 * All the calculations here are based on the equations from "Calendrical Calculations" By Edward M. Reingold, Nachum
 * Dershowitz.
 */
var GREGORIAN_EPOCH = 1721425.5;
var ISLAMIC_EPOCH = 1948439.5;
var NgbCalendarIslamicCivil = (function (_super) {
    __extends$3(NgbCalendarIslamicCivil, _super);
    function NgbCalendarIslamicCivil() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Returns the equivalent islamic(civil) date value for a give input Gregorian date.
     * `gdate` is a JS Date to be converted to Hijri.
     */
    NgbCalendarIslamicCivil.prototype.fromGregorian = function (gdate) {
        var date = new Date(gdate);
        var gYear = date.getFullYear(), gMonth = date.getMonth(), gDay = date.getDate();
        var julianDay = GREGORIAN_EPOCH - 1 + 365 * (gYear - 1) + Math.floor((gYear - 1) / 4) +
            -Math.floor((gYear - 1) / 100) + Math.floor((gYear - 1) / 400) +
            Math.floor((367 * (gMonth + 1) - 362) / 12 + (gMonth + 1 <= 2 ? 0 : isGregorianLeapYear(date) ? -1 : -2) + gDay);
        julianDay = Math.floor(julianDay) + 0.5;
        var days = julianDay - ISLAMIC_EPOCH;
        var hYear = Math.floor((30 * days + 10646) / 10631.0);
        var hMonth = Math.ceil((days - 29 - this._getYearStart(hYear)) / 29.5);
        hMonth = Math.min(hMonth, 11);
        var hDay = Math.ceil(days - this._getMonthStart(hYear, hMonth)) + 1;
        return new NgbDate(hYear, hMonth + 1, hDay);
    };
    /**
     * Returns the equivalent JS date value for a give input islamic(civil) date.
     * `hijriDate` is an islamic(civil) date to be converted to Gregorian.
     */
    NgbCalendarIslamicCivil.prototype.toGregorian = function (hijriDate) {
        var hYear = hijriDate.year;
        var hMonth = hijriDate.month - 1;
        var hDate = hijriDate.day;
        var julianDay = hDate + Math.ceil(29.5 * hMonth) + (hYear - 1) * 354 + Math.floor((3 + 11 * hYear) / 30) + ISLAMIC_EPOCH - 1;
        var wjd = Math.floor(julianDay - 0.5) + 0.5, depoch = wjd - GREGORIAN_EPOCH, quadricent = Math.floor(depoch / 146097), dqc = mod(depoch, 146097), cent = Math.floor(dqc / 36524), dcent = mod(dqc, 36524), quad = Math.floor(dcent / 1461), dquad = mod(dcent, 1461), yindex = Math.floor(dquad / 365);
        var year = quadricent * 400 + cent * 100 + quad * 4 + yindex;
        if (!(cent === 4 || yindex === 4)) {
            year++;
        }
        var gYearStart = GREGORIAN_EPOCH + 365 * (year - 1) + Math.floor((year - 1) / 4) - Math.floor((year - 1) / 100) +
            Math.floor((year - 1) / 400);
        var yearday = wjd - gYearStart;
        var tjd = GREGORIAN_EPOCH - 1 + 365 * (year - 1) + Math.floor((year - 1) / 4) - Math.floor((year - 1) / 100) +
            Math.floor((year - 1) / 400) + Math.floor(739 / 12 + (isGregorianLeapYear(new Date(year, 3, 1)) ? -1 : -2) + 1);
        var leapadj = wjd < tjd ? 0 : isGregorianLeapYear(new Date(year, 3, 1)) ? 1 : 2;
        var month = Math.floor(((yearday + leapadj) * 12 + 373) / 367);
        var tjd2 = GREGORIAN_EPOCH - 1 + 365 * (year - 1) + Math.floor((year - 1) / 4) - Math.floor((year - 1) / 100) +
            Math.floor((year - 1) / 400) +
            Math.floor((367 * month - 362) / 12 + (month <= 2 ? 0 : isGregorianLeapYear(new Date(year, month - 1, 1)) ? -1 : -2) +
                1);
        var day = wjd - tjd2 + 1;
        return new Date(year, month - 1, day);
    };
    /**
     * Returns the number of days in a specific Hijri month.
     * `month` is 1 for Muharram, 2 for Safar, etc.
     * `year` is any Hijri year.
     */
    NgbCalendarIslamicCivil.prototype.getDaysInIslamicMonth = function (month, year) {
        year = year + Math.floor(month / 13);
        month = ((month - 1) % 12) + 1;
        var length = 29 + month % 2;
        if (month === 12 && this._isIslamicLeapYear(year)) {
            length++;
        }
        return length;
    };
    NgbCalendarIslamicCivil.prototype.getNext = function (date, period, number) {
        if (period === void 0) { period = 'd'; }
        if (number === void 0) { number = 1; }
        date = NgbDate.from(date);
        switch (period) {
            case 'y':
                date = this.setYear(date, date.year + number);
                date.month = 1;
                date.day = 1;
                return date;
            case 'm':
                date = this.setMonth(date, date.month + number);
                date.day = 1;
                return date;
            case 'd':
                return this.setDay(date, date.day + number);
            default:
                return date;
        }
    };
    NgbCalendarIslamicCivil.prototype.getPrev = function (date, period, number) {
        if (period === void 0) { period = 'd'; }
        if (number === void 0) { number = 1; }
        return this.getNext(date, period, -number);
    };
    NgbCalendarIslamicCivil.prototype.getWeekday = function (date) {
        var day = this.toGregorian(date).getDay();
        // in JS Date Sun=0, in ISO 8601 Sun=7
        return day === 0 ? 7 : day;
    };
    NgbCalendarIslamicCivil.prototype.getWeekNumber = function (week, firstDayOfWeek) {
        // in JS Date Sun=0, in ISO 8601 Sun=7
        if (firstDayOfWeek === 7) {
            firstDayOfWeek = 0;
        }
        var thursdayIndex = (4 + 7 - firstDayOfWeek) % 7;
        var date = week[thursdayIndex];
        var jsDate = this.toGregorian(date);
        jsDate.setDate(jsDate.getDate() + 4 - (jsDate.getDay() || 7)); // Thursday
        var time = jsDate.getTime();
        var MuhDate = this.toGregorian(new NgbDate(date.year, 1, 1)); // Compare with Muharram 1
        return Math.floor(Math.round((time - MuhDate.getTime()) / 86400000) / 7) + 1;
    };
    NgbCalendarIslamicCivil.prototype.getToday = function () { return this.fromGregorian(new Date()); };
    return NgbCalendarIslamicCivil;
}(NgbCalendarHijri));
NgbCalendarIslamicCivil = __decorate$14([
    _angular_core.Injectable()
], NgbCalendarIslamicCivil);

var __decorate$2 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
exports.RplDatepickerModule = RplDatepickerModule_1 = (function () {
    function RplDatepickerModule() {
    }
    RplDatepickerModule.forRoot = function () {
        return {
            ngModule: RplDatepickerModule_1,
            providers: [
                { provide: NgbCalendar, useClass: NgbCalendarGregorian },
                { provide: NgbDatepickerI18n$1, useClass: NgbDatepickerI18nDefault },
                { provide: NgbDateParserFormatter$1, useClass: NgbDateISOParserFormatter }, NgbDatepickerConfig
            ]
        };
    };
    return RplDatepickerModule;
}());
exports.RplDatepickerModule = RplDatepickerModule_1 = __decorate$2([
    _angular_core.NgModule({
        declarations: [
            RplDatepicker, NgbDatepickerMonthView, NgbDatepickerNavigation, NgbDatepickerNavigationSelect, NgbDatepickerDayView,
            NgbInputDatepicker$1
        ],
        exports: [RplDatepicker, NgbInputDatepicker$1],
        imports: [_angular_common.CommonModule, _angular_forms.FormsModule],
        entryComponents: [RplDatepicker]
    })
], exports.RplDatepickerModule);
var RplDatepickerModule_1;

/** Coerces a data-bound value (typically a string) to a boolean. */
/** Coerces a data-bound value (typically a string) to a boolean. */ function coerceBooleanProperty(value) {
    return value != null && "" + value !== 'false';
}
function valueFormStringPathReducer() {
    return function (objectPartialData, property) {
        return objectPartialData[property];
    };
}
function stringPathToValueReducer(lastIndexOfArrayToReduce) {
    return function (objectPartialData, property, idx) {
        objectPartialData[property] = (idx === lastIndexOfArrayToReduce) ? null : {};
        return objectPartialData[property];
    };
}
function getPropertyValueByPath(obj, stringPath) {
    return stringPath ? stringPath.split('.').reduce(valueFormStringPathReducer(), obj) : null;
}
function generateObjectFromStringPath(obj, stringPath) {
    var arrayToReduceInObject = stringPath.split('.');
    arrayToReduceInObject.reduce(stringPathToValueReducer(arrayToReduceInObject.length - 1), obj);
    return obj;
}
function scrollToTopPage() {
    if (document.body.scrollTop !== 0 || document.documentElement.scrollTop !== 0) {
        document.body.scrollTop = 0; // For Chrome, Safari and Opera 
        document.documentElement.scrollTop = 0; // For IE and Firefox
        console.log('Scrolling to top...');
    }
}

/**
 *  Implements the Control Value Accessor pattern from Angular
 */
var NbpValueAccessorBase = (function () {
    function NbpValueAccessorBase() {
        this.changed = new Array();
        this.touched = new Array();
    }
    Object.defineProperty(NbpValueAccessorBase.prototype, "value", {
        get: function () {
            return this.innerValue;
        },
        set: function (value) {
            if (this.innerValue !== value) {
                this.innerValue = value;
                this.changed.forEach(function (f) { return f(value); });
            }
        },
        enumerable: true,
        configurable: true
    });
    NbpValueAccessorBase.prototype.touch = function () {
        this.touched.forEach(function (f) { return f(); });
    };
    /**
     * Used to update the value of our control
     * @param {T} value argument of our control
     */
    NbpValueAccessorBase.prototype.writeValue = function (value) {
        this.innerValue = value;
    };
    NbpValueAccessorBase.prototype.registerOnChange = function (fn) {
        this.changed.push(fn);
    };
    NbpValueAccessorBase.prototype.registerOnTouched = function (fn) {
        this.touched.push(fn);
    };
    return NbpValueAccessorBase;
}());

// Observable operators
var normalizeValidator = function (validator) {
    var func = validator.validate.bind(validator); // estrae la funzione "validate" dalla direttiva
    if (typeof func === 'function') {
        return function (c) { return func(c); };
    }
    else {
        return validator;
    }
};
var composeValidators = function (validators, isAsync) {
    if (isAsync === void 0) { isAsync = false; }
    if (validators == null || validators.length === 0) {
        return null;
    }
    return isAsync
        ? _angular_forms.Validators.composeAsync(validators.map(normalizeValidator))
        : _angular_forms.Validators.compose(validators.map(normalizeValidator));
};
var validate = function (validators, asyncValidators) {
    return function (control) {
        var synchronousValid = function () {
            var syncValidators = composeValidators(validators);
            if (syncValidators) {
                return syncValidators(control);
            }
            else {
                return null;
            }
        };
        if (asyncValidators) {
            var asyncValidator = composeValidators(asyncValidators, true);
            // (c: AbstractControl): Promise<ValidationErrors | null> | Observable<ValidationErrors | null>;
            var asynchronousValid = asyncValidator(control);
            return asynchronousValid.map(function (v) {
                var secondary = synchronousValid();
                if (secondary || v) {
                    return Object.assign({}, secondary, v); // fixme: qui dovrebbe essere un Observalble.of(...) ? forse no. sta funzionando
                }
            });
        }
        if (validators) {
            return rxjs_Observable.Observable.of(synchronousValid());
        }
        return rxjs_Observable.Observable.of(null);
    };
};
/**
 * message list for standard validation error
 */
var message = function (validator, key) {
    switch (key) {
        case 'required':
            return ' Campo obbligatorio';
        case 'pattern':
            return ' Campo non valido';
        case 'minlength':
            return ' Il campo non rispetta la lunghezza minima';
        case 'maxlength':
            return ' Il campo non rispetta la lunghezza massima';
        // modificareply
        case 'dateInvalid':
            return 'La Data non  nel formato corretto';
    }
    switch (typeof validator[key]) {
        case 'string':
            return validator[key];
        default:
            return " Validazione fallita: " + key;
    }
};

var __extends$6 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
// Observable operators
/**
 *  Provides observable values to its parent about its validity state.
 *  Each element will need to know its validity state for rendering purposes.
 */
var NbpInputElementBase = (function (_super) {
    __extends$6(NbpInputElementBase, _super);
    // we will ultimately get these arguments from @Inject on the derived class
    function NbpInputElementBase(validators, asyncValidators) {
        var _this = _super.call(this) || this;
        _this.validators = validators;
        _this.asyncValidators = asyncValidators;
        return _this;
    }
    /**
     * Can be used in the control and it works off of validators
     * injected through hierarchical dependency injection
     * (eg. a required or minlength directive).
     * @return {Observable<ValidationResult>} result of validation chain
     */
    NbpInputElementBase.prototype.validate = function () {
        return validate(this.validators, this.asyncValidators)(this.model.control);
    };
    Object.defineProperty(NbpInputElementBase.prototype, "invalid", {
        /**
         * Array of validator
         * @return Observable<boolean>
         */
        get: function () {
            return this.validate().map(function (v) { return Object.keys(v || {}).length > 0; });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpInputElementBase.prototype, "failures", {
        /**
         * Array of validation error messages
         * @return { Observable<Array<string>> }
         */
        get: function () {
            return this.validate().map(function (v) { return Object.keys(v).map(function (k) { return message(v, k); }); });
        },
        enumerable: true,
        configurable: true
    });
    return NbpInputElementBase;
}(NbpValueAccessorBase));

var __decorate$17 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$9 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/** intero autogenerato usato per id unici per nbpForm component */
var nextId$1 = 0;
exports.NbpFormContainerComponent = (function () {
    // Methods
    function NbpFormContainerComponent() {
        /**
         * id univoco che identifica la form
         * Se nessun id  fornito e' auto-generato.
         */
        this.id = "nbp-form-" + ++nextId$1;
        this._nbpShowValidation = false;
    }
    Object.defineProperty(NbpFormContainerComponent.prototype, "nbpShowValidation", {
        /**
         * Propriet che determina la visualizzazione delle informazioni di validazione
         */
        get: function () { return this._nbpShowValidation; },
        set: function (value) { this._nbpShowValidation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    return NbpFormContainerComponent;
}());
__decorate$17([
    _angular_core.Input(),
    __metadata$9("design:type", String)
], exports.NbpFormContainerComponent.prototype, "name", void 0);
__decorate$17([
    _angular_core.Input(),
    __metadata$9("design:type", Object)
], exports.NbpFormContainerComponent.prototype, "id", void 0);
__decorate$17([
    _angular_core.Input(),
    __metadata$9("design:type", Boolean),
    __metadata$9("design:paramtypes", [Object])
], exports.NbpFormContainerComponent.prototype, "nbpShowValidation", null);
__decorate$17([
    _angular_core.Input(),
    __metadata$9("design:type", Boolean)
], exports.NbpFormContainerComponent.prototype, "disabled", void 0);
exports.NbpFormContainerComponent = __decorate$17([
    _angular_core.Component({
        selector: 'nbp-form-container',template: "<ng-content></ng-content>",
        styles: [" /*# sourceMappingURL=nbp-form-container.component.css.map */ "]
    }),
    __metadata$9("design:paramtypes", [])
], exports.NbpFormContainerComponent);

var __extends$7 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$18 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$10 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var I18N_VALUES = {
    'it': {
        weekdays: ['Lu', 'Ma', 'Me', 'Gi', 'Ve', 'Sa', 'Do'],
        months: ['Gen', 'Feb', 'Mar', 'Apr', 'Mag', 'Giu', 'Lug', 'Ago', 'Set', 'Ott', 'Nov', 'Dic'],
        fullMonths: ['Gennaio', 'Febbraio', 'Marzo', 'Aprile', 'Maggio', 'Giugno',
            'Luglio', 'Agosto', 'Settembre', 'Ottobre', 'Novembre', 'Dicembre']
    }
    // other languages you would support
};
// Define a service holding the language. You probably already have one if your app is i18ned. Or you could also
// use the Angular LOCALE_ID value
var I18n = (function () {
    function I18n() {
        this.language = 'it';
    }
    return I18n;
}());
I18n = __decorate$18([
    _angular_core.Injectable()
], I18n);
// Define custom service providing the months and weekdays translations
var NbpDatepickerItI18n = (function (_super) {
    __extends$7(NbpDatepickerItI18n, _super);
    function NbpDatepickerItI18n(_i18n) {
        var _this = _super.call(this) || this;
        _this._i18n = _i18n;
        _this.model = { year: 2017, month: 8, day: 8 };
        return _this;
    }
    NbpDatepickerItI18n.prototype.getWeekdayShortName = function (weekday) {
        return I18N_VALUES[this._i18n.language].weekdays[weekday - 1];
    };
    NbpDatepickerItI18n.prototype.getMonthShortName = function (month) {
        return I18N_VALUES[this._i18n.language].months[month - 1];
    };
    NbpDatepickerItI18n.prototype.getMonthFullName = function (month) {
        return I18N_VALUES[this._i18n.language].fullMonths[month - 1];
    };
    return NbpDatepickerItI18n;
}(NgbDatepickerI18n$1));
NbpDatepickerItI18n = __decorate$18([
    _angular_core.Injectable(),
    __metadata$10("design:paramtypes", [I18n])
], NbpDatepickerItI18n);
var NbpDatepickerConfiguration = (function () {
    function NbpDatepickerConfiguration() {
        this.separator = '.';
    }
    return NbpDatepickerConfiguration;
}());
NbpDatepickerConfiguration = __decorate$18([
    _angular_core.Injectable()
], NbpDatepickerConfiguration);
var NbpItDateParserFormatter = (function (_super) {
    __extends$7(NbpItDateParserFormatter, _super);
    function NbpItDateParserFormatter(configuration) {
        var _this = _super.call(this) || this;
        _this.configuration = configuration;
        return _this;
    }
    NbpItDateParserFormatter.prototype.padNumber = function (value) {
        if (this.isNumber(value)) {
            return ("0" + value).slice(-2);
        }
        else {
            return '';
        }
    };
    NbpItDateParserFormatter.prototype.isNumber = function (value) {
        return !isNaN(this.toInteger(value));
    };
    NbpItDateParserFormatter.prototype.toInteger = function (value) {
        return parseInt("" + value, 10);
    };
    NbpItDateParserFormatter.prototype.parse = function (value) {
        if (value) {
            var dateParts = value.trim().split('.');
            if (dateParts.length === 1 && this.isNumber(dateParts[0])) {
                return { day: this.toInteger(dateParts[0]), month: null, year: null };
            }
            else if (dateParts.length === 2 && this.isNumber(dateParts[0]) && this.isNumber(dateParts[1])) {
                return { day: this.toInteger(dateParts[0]), month: this.toInteger(dateParts[1]), year: null };
            }
            else if (dateParts.length === 3 && this.isNumber(dateParts[0]) && this.isNumber(dateParts[1]) && this.isNumber(dateParts[2])) {
                return { day: this.toInteger(dateParts[0]), month: this.toInteger(dateParts[1]), year: this.toInteger(dateParts[2]) };
            }
        }
        return null;
    };
    NbpItDateParserFormatter.prototype.format = function (date) {
        return date ?
            "" + (this.isNumber(date.day) ? this.padNumber(date.day) : '') + this.configuration.separator + (this.isNumber(date.month) ? this.padNumber(date.month) : '') + this.configuration.separator + date.year : '';
    };
    return NbpItDateParserFormatter;
}(NgbDateParserFormatter$1));
NbpItDateParserFormatter = __decorate$18([
    _angular_core.Injectable(),
    __metadata$10("design:paramtypes", [NbpDatepickerConfiguration])
], NbpItDateParserFormatter);

var __extends$5 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$16 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$8 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * Provider Expression that allows nbp-datepicker-generic to register as a ControlValueAccessor.
 * This allows it to support [(ngModel)].
 * @docs-private
 */
var NBP_DATEPICKER_GENERIC_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpDatepickerGenericComponent; }),
    multi: true
};
var NBP_INPUT_DATEPICKER_GENERIC_ELEMENT_BASE = {
    provide: NbpInputElementBase,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpDatepickerGenericComponent; }),
    multi: true
};
/** intero autogenerato usato per id unici per nbpCombo component */
var nextId = 0;
exports.NbpDatepickerGenericComponent = (function (_super) {
    __extends$5(NbpDatepickerGenericComponent, _super);
    function NbpDatepickerGenericComponent(validatori, asyncValidatori, parentFormContainer, element, inj) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        _this.parentFormContainer = parentFormContainer;
        _this.element = element;
        _this.inj = inj;
        /**
         * Identificativo univoco per il text field.
         * Se nessun id  fornito e' auto-generato.
         */
        _this.id = "nbp-datepicker-generic-" + ++nextId;
        /**
         * testo del placeholder
         * Valore di Default: "dd.mm.yyyy"
         */
        _this.placeholder = 'dd.mm.yyyy';
        _this.ngbMaxDate = { day: 1, month: 1, year: 2050 };
        _this.nbpMaxDate = new Date(_this.ngbMaxDate.year, (_this.ngbMaxDate.month - 1), _this.ngbMaxDate.day);
        // set maxDate(maxDate: Date) {
        //   this.nbpMaxDate = maxDate;
        //   this.ngbMaxDate = this.parseDateStructFromDate(maxDate) as NgbDateStruct;
        // }
        _this.ngbMinDate = { day: 1, month: 1, year: 1970 };
        _this.nbpMinDate = new Date(_this.ngbMinDate.year, (_this.ngbMinDate.month - 1), _this.ngbMinDate.day);
        _this.nbpOnNavigate = new _angular_core.EventEmitter();
        return _this;
    }
    Object.defineProperty(NbpDatepickerGenericComponent.prototype, "nbpShowValidation", {
        /**
       * (Opzionale)
       * Booleano che consente di visualizzare i messaggi di feedback relativi alla validazione.
       * Valore di default false
       */
        get: function () {
            if (this.parentFormContainer) {
                this._nbpShowValidation = this.parentFormContainer.nbpShowValidation;
            }
            return this._nbpShowValidation;
        },
        set: function (value) { this._nbpShowValidation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpDatepickerGenericComponent.prototype, "maxDate", {
        /**
         * La massima data accettata dal componente e visualizzata nel calendario
         * Valore di Default: 01.01.2050
         */
        get: function () {
            return this.nbpMaxDate;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpDatepickerGenericComponent.prototype, "disabled", {
        /**
         * Flag che abilita/disabilita le funzionalit associate al datepicker
         */
        get: function () {
            if (this.parentFormContainer && this.parentFormContainer.disabled) {
                this._nbpDisabled = true;
            }
            return this._nbpDisabled;
        },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpDatepickerGenericComponent.prototype, "required", {
        /**
         * Flag che imposta come obbligatorio o meno il campo di input (disabilitato) associato al datepicker
         */
        get: function () { return this._nbpRequired; },
        set: function (value) { this._nbpRequired = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpDatepickerGenericComponent.prototype.ngOnInit = function () {
        this.ngControl = this.inj.get(_angular_forms.NgControl);
    };
    NbpDatepickerGenericComponent.prototype._ngbModelChanged = function (event) {
        this.value = this.parseDateFromDateStruct(event);
    };
    NbpDatepickerGenericComponent.prototype.parseDateFromDateStruct = function (value) {
        return (value && value instanceof Date) ? new Date(value.year, value.month - 1, value.day) : value;
    };
    NbpDatepickerGenericComponent.prototype.parseDateStructFromDate = function (value) {
        return (value && value instanceof Date)
            ? { day: value.getUTCDate(), month: (value.getUTCMonth() + 1), year: value.getUTCFullYear() }
            : value;
    };
    NbpDatepickerGenericComponent.prototype.writeValue = function (value) {
        this._ngbModel = this.parseDateStructFromDate(value);
        this.value = value;
    };
    NbpDatepickerGenericComponent.prototype._onNavigate = function (navigateEvent) {
        var _current = navigateEvent.current
            ? new Date(navigateEvent.current.year, (navigateEvent.current.month - 1), 1)
            : navigateEvent.current;
        var _next = navigateEvent.next.year
            ? new Date(navigateEvent.next.year, (navigateEvent.next.month - 1), 1)
            : navigateEvent.next.year;
        this.nbpOnNavigate.emit({ current: _current, next: _next });
    };
    return NbpDatepickerGenericComponent;
}(NbpInputElementBase));
__decorate$16([
    _angular_core.Input(),
    __metadata$8("design:type", RegExp)
], exports.NbpDatepickerGenericComponent.prototype, "pattern", void 0);
__decorate$16([
    _angular_core.Input(),
    __metadata$8("design:type", String)
], exports.NbpDatepickerGenericComponent.prototype, "name", void 0);
__decorate$16([
    _angular_core.Input(),
    __metadata$8("design:type", String)
], exports.NbpDatepickerGenericComponent.prototype, "id", void 0);
__decorate$16([
    _angular_core.HostBinding('class.nbp-show-validation'),
    _angular_core.Input(),
    __metadata$8("design:type", Boolean),
    __metadata$8("design:paramtypes", [Object])
], exports.NbpDatepickerGenericComponent.prototype, "nbpShowValidation", null);
__decorate$16([
    _angular_core.Input(),
    __metadata$8("design:type", String)
], exports.NbpDatepickerGenericComponent.prototype, "placeholder", void 0);
__decorate$16([
    _angular_core.Input(),
    __metadata$8("design:type", String)
], exports.NbpDatepickerGenericComponent.prototype, "nbpErrorMessage", void 0);
__decorate$16([
    _angular_core.Input(),
    __metadata$8("design:type", Object),
    __metadata$8("design:paramtypes", [])
], exports.NbpDatepickerGenericComponent.prototype, "maxDate", null);
__decorate$16([
    _angular_core.Input(),
    __metadata$8("design:type", Boolean),
    __metadata$8("design:paramtypes", [Object])
], exports.NbpDatepickerGenericComponent.prototype, "disabled", null);
__decorate$16([
    _angular_core.Input(),
    __metadata$8("design:type", Boolean),
    __metadata$8("design:paramtypes", [Object])
], exports.NbpDatepickerGenericComponent.prototype, "required", null);
__decorate$16([
    _angular_core.Output(),
    __metadata$8("design:type", _angular_core.EventEmitter)
], exports.NbpDatepickerGenericComponent.prototype, "nbpOnNavigate", void 0);
__decorate$16([
    _angular_core.ViewChild('rplDatepicker'),
    __metadata$8("design:type", NgbInputDatepicker$1)
], exports.NbpDatepickerGenericComponent.prototype, "rplDatepicker", void 0);
__decorate$16([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$8("design:type", _angular_forms.NgModel)
], exports.NbpDatepickerGenericComponent.prototype, "model", void 0);
exports.NbpDatepickerGenericComponent = __decorate$16([
    _angular_core.Component({
        selector: 'nbp-datepicker-generic',
        template: "<div class=\"form-group\"><div class=\"input-group\"><input #rplDatepicker=\"rplDatepicker\" rplDatepicker [id]=\"id\" [name]=\"name\" [ngModel]=\"_ngbModel\" (ngModelChange)=\"_ngbModelChanged($event)\" [required]=\"required\" [disabled]=\"disabled\" [maxDate]=\"ngbMaxDate\" [minDate]=\"ngbMinDate\" (navigate)=\"_onNavigate($event)\" navigation=\"arrows\" class=\"form-control\" [pattern]=\"pattern\" placeholder=\"dd.mm.yyyy\"><i class=\"icon-calendar button-icon\" [ngClass]=\"{'disabled': disabled}\" (click)=\"rplDatepicker.toggle()\"></i></div></div>",
        styles: [".form-control::-ms-clear{display:none;width:0;height:0}.day{border-radius:0!important;box-sizing:border-box;text-align:center;width:inherit!important;height:inherit!important;line-height:2.6em!important;vertical-align:middle;color:#258900;border-left:#d3d3d3 solid 1px;border-right:#d3d3d3 solid 1px;border-bottom:#d3d3d3 solid 1px;border-collapse:separate;border-spacing:0}.icon{width:2rem;height:2rem}.day.greyed{color:#d3d3d3}.day:hover{color:#fff;background-color:#258900;cursor:pointer}:host::ng-deep .form-inline{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1em}:host::ng-deep .form-inline .form-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-flow:row wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:0}:host::ng-deep .input-group{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}:host::ng-deep .input-group .form-control,:host::ng-deep .input-group-addon,:host::ng-deep .input-group-btn{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}:host::ng-deep .form-control{display:block;width:100%;height:3.125em;color:#464a4c;background-color:#fff;background-image:none;background-clip:padding-box;border-radius:.15em!important;transition:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;border:1px solid #323232!important}:host::ng-deep .form-control:active:not([disabled]),:host::ng-deep .form-control:focus:not([disabled]){border:1px solid #258900!important}:host::ng-deep .form-control[disabled]{border:1px solid #ccc!important;color:#ccc;user-select:none}:host(.ng-touched.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.ng-touched.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host(.ng-dirty.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.ng-dirty.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host::ng-deep .input-group-addon{padding:.5em .75em;margin-bottom:0;font-size:1em;font-weight:400;line-height:1.25;color:#258900;text-align:center;background-color:#fff!important;border-top-color:rgba(0,0,0,.15);border-top-style:solid;border-top-width:1px;border-right-color:rgba(0,0,0,.15);border-right-style:solid;border-right-width:1px;border-bottom-color:rgba(0,0,0,.15);border-bottom-style:solid;border-bottom-width:1px;border-left-style:none!important;border-left-width:0!important;border-left-color:none!important}:host::ng-deep .input-group-addon img{width:1.2em;height:1em;cursor:pointer}:host::ng-deep .form-control+.input-group-addon:not(:first-child){border-left:0}:host::ng-deep .button-calendar{background-color:#fff;border-bottom:1px solid #d3d3d3;border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:none;color:#258900;right:21px;position:relative;margin-right:-21px}:host::ng-deep .dropdown-menu{position:absolute;top:100%;left:0;display:none;float:left;min-width:10em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#1d1d1d;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;padding:0;top:24px;left:0;border-radius:0!important;border:none!important}:host::ng-deep .d-inline-block{display:inline-block!important}:host::ng-deep .rounded{border-radius:.25em}:host::ng-deep .ngb-dp-header{height:4em!important;margin-bottom:-1.5em!important;border-bottom:none!important}:host::ng-deep .pt-1{padding-top:0!important;height:4.25em;margin-bottom:-2em}:host::ng-deep .rounded-top{border-top-right-radius:.25em;border-top-left-radius:.25em;border-radius:0!important}:host::ng-deep .bg-faded{background-color:#fff!important}:host::ng-deep ngb-datepicker-navigation{height:2em;line-height:1.85em}:host::ng-deep .justify-content-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}:host::ng-deep .d-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}:host::ng-deep .btn-link{cursor:pointer;outline:#d3d3d3 solid 1px!important}:host::ng-deep .btn-link,:host::ng-deep .btn-link:active,:host::ng-deep .btn-link:focus{border-color:transparent}:host::ng-deep .btn-link,:host::ng-deep .btn-link.active,:host::ng-deep .btn-link:active,:host::ng-deep .btn-link:disabled{background-color:transparent}:host::ng-deep .btn-link{font-weight:400;color:#258900;border-radius:0}:host::ng-deep button,:host::ng-deep input,:host::ng-deep select,:host::ng-deep textarea{line-height:inherit}:host::ng-deep [role=button],:host::ng-deep a,:host::ng-deep area,:host::ng-deep button,:host::ng-deep input,:host::ng-deep label,:host::ng-deep select,:host::ng-deep summary,:host::ng-deep textarea{-ms-touch-action:manipulation;touch-action:manipulation}:host::ng-deep button{-webkit-appearance:button}:host::ng-deep button,:host::ng-deep select{text-transform:none}:host::ng-deep button,:host::ng-deep input{overflow:visible}:host::ng-deep button,:host::ng-deep input,:host::ng-deep optgroup,:host::ng-deep select,:host::ng-deep textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}:host::ng-deep .ngb-dp-navigation-chevron::before{border-style:solid;border-width:.1em .1em 0 0!important;content:'';display:inline-block;height:.75em!important;transform:rotate(-135deg);-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);width:.75em!important;margin:0 0 0 .5em!important;color:grey}:host::ng-deep .ngb-dp-navigation-chevron.right:before{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);margin:0 .5em 0 0!important}:host::ng-deep .d-block{display:block!important}:host::ng-deep ngb-datepicker-navigation-select.d-block{width:9em!important}:host::ng-deep select{padding:.25em .5em;font-size:.875em;line-height:1.25;height:inherit;width:50%}:host::ng-deep .d-inline-block{display:inline-block!important}:host::ng-deep select.custom-select.d-inline-block{padding:.25em .5rem!important;font-size:.875em!important;line-height:1.25;height:inherit;width:50%}:host::ng-deep .custom-select{display:inline-block;max-width:100%;height:calc(4.25em);padding:.375em 1.75em .375em .75em;line-height:1.25;color:#464a4c;vertical-align:middle;border:1px solid rgba(0,0,0,.15);border-radius:.25em;-moz-appearance:none;-webkit-appearance:none}:host::ng-deep .px-1{padding-left:0!important;padding-right:0!important}:host::ng-deep .pb-1{padding-bottom:.25em!important}:host::ng-deep .ngb-dp-month:first-child{margin-left:0!important}:host::ng-deep .ngb-dp-month{pointer-events:none}:host::ng-deep .ml-3{margin-left:1em!important}:host::ng-deep .ngb-dp-day{width:45px!important;height:45px!important}:host::ng-deep .ngb-dp-week-number,:host::ng-deep .ngb-dp-weekday{width:45px!important;height:35px!important}:host::ng-deep .ngb-dp-day{position:relative;box-sizing:border-box}:host::ng-deep .ngb-dp-week.d-flex:not(:first-child){border-top:.5px solid #d3d3d3;border-bottom:.5px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-week.d-flex:first-child{border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-bottom:.5px solid #d3d3d3;border-left:1px solid #d3d3d3}:host::ng-deep ngb-datepicker-navigation.d-flex{height:2.5em!important;line-height:1.8em!important;border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-week-number,:host::ng-deep .ngb-dp-weekday{line-height:35px!important}:host::ng-deep .text-info{color:#5bc0de!important}:host::ng-deep .font-italic{font-style:italic}:host::ng-deep .outside{opacity:.5}:host::ng-deep ngb-dp-day>div{text-align:center;width:45px;height:45px;line-height:45px;border-radius:0!important}:host::ng-deep div[ngbdatepickerdayview]{border-radius:0!important;box-sizing:border-box;text-align:center;width:45px!important;height:45px!important;line-height:45px!important;vertical-align:middle!important}:host::ng-deep .text-muted{color:#636c72!important}:host::ng-deep .btn-secondary{color:#258900;background-color:#fff;border-color:#ccc;font-weight:700;font-size:.8em}:host::ng-deep .text-white{color:#fff!important}:host::ng-deep .bg-primary{background-color:#258900!important}:host::ng-deep .bg-primary::before{border-bottom:8px solid #fff;border-left:8px solid transparent;border-right:8px solid transparent;position:absolute;top:0;right:-8px;content:'';display:inline-block;width:0;height:0;margin:0;padding:0;transform:rotate(45deg);transform-origin:top}:host::ng-deep .text-center{text-align:center!important}:host::ng-deep .small,:host::ng-deep small{font-size:80%;font-weight:400}:host::ng-deep .ngb-dp-months.pb-1{padding:0!important}:host::ng-deep .input-group>input.form-control{padding-left:.625em;padding-right:2.5em}:host::ng-deep .ngb-dp-day:not(:first-child)>.btn-secondary{border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-weekday.font-italic{font-family:'Arial Bold',Arial;font-weight:700;font-style:normal!important;font-size:.75em;color:#6f6f6f!important;text-align:center;text-transform:uppercase}:host::ng-deep button.btn-link{color:#258900!important}:host::ng-deep .collapsed{margin-bottom:-2em!important}:host::ng-deep .ngb-dp-month-name{font-size:.8em!important;padding-top:1em!important;font-weight:700;text-transform:uppercase;color:#258900;position:absolute;text-align:center!important;top:0;height:3.2em!important;width:11.4em;line-height:1.42857143em!important;word-wrap:break-word;word-break:break-word;left:0;right:0;margin-left:auto;margin-right:auto}:host::ng-deep .ngb-dp-weekday{width:2.666666666666667em!important}.button-icon{cursor:pointer;position:relative;top:.001em;right:1.6em;z-index:2;color:#258900;font-size:1.625em;line-height:2.083em}.button-icon.disabled{cursor:default;pointer-events:none;color:#ccc}:host-context(.contrasto-on) .button-icon{color:#000} /*# sourceMappingURL=nbp-datepicker-generic.component.css.map */ "],
        providers: [
            I18n,
            NbpDatepickerConfiguration,
            { provide: NgbDatepickerI18n$1, useClass: NbpDatepickerItI18n },
            { provide: NgbDateParserFormatter$1, useClass: NbpItDateParserFormatter },
            NBP_DATEPICKER_GENERIC_CONTROL_VALUE_ACCESSOR,
            NBP_INPUT_DATEPICKER_GENERIC_ELEMENT_BASE
        ]
    }),
    __param(0, _angular_core.Optional()), __param(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param(1, _angular_core.Optional()), __param(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __param(2, _angular_core.Optional()),
    __metadata$8("design:paramtypes", [Array, Array, exports.NbpFormContainerComponent,
        _angular_core.ElementRef,
        _angular_core.Injector])
], exports.NbpDatepickerGenericComponent);

var NgbDate$1 = (function () {
    function NgbDate(year, month, day) {
        this.year = year;
        this.month = month;
        this.day = day;
    }
    NgbDate.from = function (date) {
        return date ? new NgbDate(date.year, date.month, date.day ? date.day : 1) : null;
    };
    NgbDate.prototype.equals = function (other) {
        return other && this.year === other.year && this.month === other.month && this.day === other.day;
    };
    NgbDate.prototype.before = function (other) {
        if (!other) {
            return false;
        }
        if (this.year === other.year) {
            if (this.month === other.month) {
                return this.day === other.day ? false : this.day < other.day;
            }
            else {
                return this.month < other.month;
            }
        }
        else {
            return this.year < other.year;
        }
    };
    NgbDate.prototype.after = function (other) {
        if (!other) {
            return false;
        }
        if (this.year === other.year) {
            if (this.month === other.month) {
                return this.day === other.day ? false : this.day > other.day;
            }
            else {
                return this.month > other.month;
            }
        }
        else {
            return this.year > other.year;
        }
    };
    NgbDate.prototype.toStruct = function () { return { year: this.year, month: this.month, day: this.day }; };
    NgbDate.prototype.toString = function () { return this.year + "-" + this.month + "-" + this.day; };
    return NgbDate;
}());

function toInteger$1(value) {
    return parseInt("" + value, 10);
}
function toString$1(value) {
    return (value !== undefined && value !== null) ? "" + value : '';
}


function isNumber$1(value) {
    return !isNaN(toInteger$1(value));
}
function isInteger$1(value) {
    return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;
}

function padNumber$1(value) {
    if (isNumber$1(value)) {
        return ("0" + value).slice(-2);
    }
    else {
        return '';
    }
}

var __extends$8 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$21 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
function fromJSDate$1(jsDate) {
    return new NgbDate$1(jsDate.getFullYear(), jsDate.getMonth() + 1, jsDate.getDate());
}
function toJSDate$1(date) {
    var jsDate = new Date(date.year, date.month - 1, date.day, 12);
    // this is done avoid 30 -> 1930 conversion
    if (!isNaN(jsDate.getTime())) {
        jsDate.setFullYear(date.year);
    }
    return jsDate;
}
var NgbCalendar$1 = (function () {
    function NgbCalendar() {
    }
    return NgbCalendar;
}());
NgbCalendar$1 = __decorate$21([
    _angular_core.Injectable()
], NgbCalendar$1);
var NgbCalendarGregorian$1 = (function (_super) {
    __extends$8(NgbCalendarGregorian, _super);
    function NgbCalendarGregorian() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NgbCalendarGregorian.prototype.getDaysPerWeek = function () { return 7; };
    NgbCalendarGregorian.prototype.getMonths = function () { return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]; };
    NgbCalendarGregorian.prototype.getWeeksPerMonth = function () { return 6; };
    NgbCalendarGregorian.prototype.getNext = function (date, period, number) {
        if (period === void 0) { period = 'd'; }
        if (number === void 0) { number = 1; }
        var jsDate = toJSDate$1(date);
        switch (period) {
            case 'y':
                return new NgbDate$1(date.year + number, 1, 1);
            case 'm':
                jsDate = new Date(date.year, date.month + number - 1, 1, 12);
                break;
            case 'd':
                jsDate.setDate(jsDate.getDate() + number);
                break;
            default:
                return date;
        }
        return fromJSDate$1(jsDate);
    };
    NgbCalendarGregorian.prototype.getPrev = function (date, period, number) {
        if (period === void 0) { period = 'd'; }
        if (number === void 0) { number = 1; }
        return this.getNext(date, period, -number);
    };
    NgbCalendarGregorian.prototype.getWeekday = function (date) {
        var jsDate = toJSDate$1(date);
        var day = jsDate.getDay();
        // in JS Date Sun=0, in ISO 8601 Sun=7
        return day === 0 ? 7 : day;
    };
    NgbCalendarGregorian.prototype.getWeekNumber = function (week, firstDayOfWeek) {
        // in JS Date Sun=0, in ISO 8601 Sun=7
        if (firstDayOfWeek === 7) {
            firstDayOfWeek = 0;
        }
        var thursdayIndex = (4 + 7 - firstDayOfWeek) % 7;
        var date = week[thursdayIndex];
        var jsDate = toJSDate$1(date);
        jsDate.setDate(jsDate.getDate() + 4 - (jsDate.getDay() || 7)); // Thursday
        var time = jsDate.getTime();
        jsDate.setMonth(0); // Compare with Jan 1
        jsDate.setDate(1);
        return Math.floor(Math.round((time - jsDate.getTime()) / 86400000) / 7) + 1;
    };
    NgbCalendarGregorian.prototype.getToday = function () { return fromJSDate$1(new Date()); };
    NgbCalendarGregorian.prototype.isValid = function (date) {
        if (!date || !isInteger$1(date.year) || !isInteger$1(date.month) || !isInteger$1(date.day)) {
            return false;
        }
        var jsDate = toJSDate$1(date);
        return !isNaN(jsDate.getTime()) && jsDate.getFullYear() === date.year && jsDate.getMonth() + 1 === date.month &&
            jsDate.getDate() === date.day;
    };
    return NgbCalendarGregorian;
}(NgbCalendar$1));
NgbCalendarGregorian$1 = __decorate$21([
    _angular_core.Injectable()
], NgbCalendarGregorian$1);

function isChangedDate$1(prev, next) {
    return !dateComparator$1(prev, next);
}
function dateComparator$1(prev, next) {
    return (!prev && !next) || (!!prev && !!next && prev.equals(next));
}
function checkMinBeforeMax$1(minDate, maxDate) {
    if (maxDate && minDate && maxDate.before(minDate)) {
        throw new Error("'maxDate' " + maxDate + " should be greater than 'minDate' " + minDate);
    }
}
function checkDateInRange$1(date, minDate, maxDate) {
    if (date && minDate && date.before(minDate)) {
        return NgbDate$1.from(minDate);
    }
    if (date && maxDate && date.after(maxDate)) {
        return NgbDate$1.from(maxDate);
    }
    return date;
}
function isDateSelectable$1(months, date) {
    var selectable = false;
    var month = months.find(function (curMonth) { return curMonth.year === date.year && curMonth.number === date.month; });
    if (month) {
        month.weeks.find(function (week) {
            var day = week.days.find(function (day) { return date.equals(day.date); });
            if (day && !day.context.disabled) {
                selectable = true;
            }
            return !!day;
        });
    }
    return selectable;
}
function buildMonths$1(calendar, months, date, minDate, maxDate, displayMonths, firstDayOfWeek, markDisabled, force) {
    var newMonths = [];
    var _loop_1 = function (i) {
        var newDate = calendar.getNext(date, 'm', i);
        var index = months.findIndex(function (month) { return month.firstDate.equals(newDate); });
        if (force || index === -1) {
            newMonths.push(buildMonth$1(calendar, newDate, minDate, maxDate, firstDayOfWeek, markDisabled));
        }
        else {
            newMonths.push(months[index]);
        }
    };
    for (var i = 0; i < displayMonths; i++) {
        _loop_1(i);
    }
    return newMonths;
}
function buildMonth$1(calendar, date, minDate, maxDate, firstDayOfWeek, markDisabled) {
    var month = { firstDate: null, lastDate: null, number: date.month, year: date.year, weeks: [], weekdays: [] };
    date = getFirstViewDate$1(calendar, date, firstDayOfWeek);
    // month has weeks
    for (var week = 0; week < calendar.getWeeksPerMonth(); week++) {
        var days = [];
        // week has days
        for (var day = 0; day < calendar.getDaysPerWeek(); day++) {
            if (week === 0) {
                month.weekdays.push(calendar.getWeekday(date));
            }
            var newDate = new NgbDate$1(date.year, date.month, date.day);
            var nextDate = calendar.getNext(newDate);
            // marking date as disabled
            var disabled = !!((minDate && newDate.before(minDate)) || (maxDate && newDate.after(maxDate)));
            if (!disabled && markDisabled) {
                disabled = markDisabled(newDate, { month: month.number, year: month.year });
            }
            // saving first date of the month
            if (month.firstDate === null && newDate.month === month.number) {
                month.firstDate = newDate;
            }
            // saving last date of the month
            if (newDate.month === month.number && nextDate.month !== month.number) {
                month.lastDate = newDate;
            }
            days.push({
                date: newDate,
                context: {
                    date: { year: newDate.year, month: newDate.month, day: newDate.day },
                    currentMonth: month.number,
                    disabled: disabled,
                    focused: false,
                    selected: false
                }
            });
            date = nextDate;
        }
        month.weeks.push({ number: calendar.getWeekNumber(days.map(function (day) { return NgbDate$1.from(day.date); }), firstDayOfWeek), days: days });
    }
    return month;
}
function getFirstViewDate$1(calendar, date, firstDayOfWeek) {
    var currentMonth = date.month;
    var today = new NgbDate$1(date.year, date.month, date.day);
    var yesterday = calendar.getPrev(today);
    var firstDayOfCurrentMonthIsAlsoFirstDayOfWeek = function () { return today.month !== yesterday.month && firstDayOfWeek === calendar.getWeekday(today); };
    var reachedTheFirstDayOfTheLastWeekOfPreviousMonth = function () { return today.month !== currentMonth && firstDayOfWeek === calendar.getWeekday(today); };
    // going back in time
    while (!reachedTheFirstDayOfTheLastWeekOfPreviousMonth() && !firstDayOfCurrentMonthIsAlsoFirstDayOfWeek()) {
        today = new NgbDate$1(yesterday.year, yesterday.month, yesterday.day);
        yesterday = calendar.getPrev(yesterday);
    }
    return today;
}

var __decorate$22 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$12 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerService$1 = (function () {
    function NgbDatepickerService(_calendar) {
        this._calendar = _calendar;
        this._model$ = new rxjs_Subject.Subject();
        this._state = { disabled: false, displayMonths: 1, firstDayOfWeek: 1, focusVisible: false, months: [], selectedDate: null };
    }
    Object.defineProperty(NgbDatepickerService.prototype, "model$", {
        get: function () { return rxjs_operator_filter.filter.call(this._model$.asObservable(), function (model) { return model.months.length > 0; }); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "disabled", {
        set: function (disabled) {
            if (this._state.disabled !== disabled) {
                this._nextState({ disabled: disabled });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "displayMonths", {
        set: function (months) {
            if (isInteger$1(months) && months > 0 && this._state.displayMonths !== months) {
                this._nextState({ displayMonths: months });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "firstDayOfWeek", {
        set: function (firstDayOfWeek) {
            if (isInteger$1(firstDayOfWeek) && firstDayOfWeek >= 0 && this._state.firstDayOfWeek !== firstDayOfWeek) {
                this._nextState({ firstDayOfWeek: firstDayOfWeek });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "focusVisible", {
        set: function (focusVisible) {
            if (this._state.focusVisible !== focusVisible && !this._state.disabled) {
                this._nextState({ focusVisible: focusVisible });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "maxDate", {
        set: function (date) {
            if (date === undefined || this._calendar.isValid(date) && isChangedDate$1(this._state.maxDate, date)) {
                this._nextState({ maxDate: date });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "markDisabled", {
        set: function (markDisabled) {
            if (this._state.markDisabled !== markDisabled) {
                this._nextState({ markDisabled: markDisabled });
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NgbDatepickerService.prototype, "minDate", {
        set: function (date) {
            if (date === undefined || this._calendar.isValid(date) && isChangedDate$1(this._state.minDate, date)) {
                this._nextState({ minDate: date });
            }
        },
        enumerable: true,
        configurable: true
    });
    NgbDatepickerService.prototype.focus = function (date) {
        if (!this._state.disabled && this._calendar.isValid(date) && isChangedDate$1(this._state.focusDate, date)) {
            this._nextState({ focusDate: date });
        }
    };
    NgbDatepickerService.prototype.focusMove = function (period, number) {
        this.focus(this._calendar.getNext(this._state.focusDate, period, number));
    };
    NgbDatepickerService.prototype.focusSelect = function () {
        if (isDateSelectable$1(this._state.months, this._state.focusDate)) {
            this.select(this._state.focusDate);
        }
    };
    NgbDatepickerService.prototype.open = function (date) {
        if (!this._state.disabled && this._calendar.isValid(date)) {
            this._nextState({ firstDate: date });
        }
    };
    NgbDatepickerService.prototype.select = function (date) {
        var validDate = this.toValidDate(date, null);
        if (!this._state.disabled && isChangedDate$1(this._state.selectedDate, validDate)) {
            this._nextState({ selectedDate: validDate });
        }
    };
    NgbDatepickerService.prototype.toValidDate = function (date, defaultValue) {
        var ngbDate = NgbDate$1.from(date);
        if (defaultValue === undefined) {
            defaultValue = this._calendar.getToday();
        }
        return this._calendar.isValid(ngbDate) ? ngbDate : defaultValue;
    };
    NgbDatepickerService.prototype._nextState = function (patch) {
        var newState = this._updateState(patch);
        this._patchContexts(newState);
        this._state = newState;
        this._model$.next(this._state);
    };
    NgbDatepickerService.prototype._patchContexts = function (state$$1) {
        state$$1.months.forEach(function (month) {
            month.weeks.forEach(function (week) {
                week.days.forEach(function (day) {
                    // patch focus flag
                    if (state$$1.focusDate) {
                        day.context.focused = state$$1.focusDate.equals(day.date) && state$$1.focusVisible;
                    }
                    // override context disabled
                    if (state$$1.disabled === true) {
                        day.context.disabled = true;
                    }
                    // patch selection flag
                    if (state$$1.selectedDate !== undefined) {
                        day.context.selected = state$$1.selectedDate !== null && state$$1.selectedDate.equals(day.date);
                    }
                });
            });
        });
    };
    NgbDatepickerService.prototype._updateState = function (patch) {
        // patching fields
        var state$$1 = Object.assign({}, this._state, patch);
        var startDate = state$$1.firstDate;
        // min/max dates changed
        if ('minDate' in patch || 'maxDate' in patch) {
            checkMinBeforeMax$1(state$$1.minDate, state$$1.maxDate);
            state$$1.focusDate = checkDateInRange$1(state$$1.focusDate, state$$1.minDate, state$$1.maxDate);
            state$$1.firstDate = checkDateInRange$1(state$$1.firstDate, state$$1.minDate, state$$1.maxDate);
            startDate = state$$1.focusDate;
        }
        // disabled
        if ('disabled' in patch) {
            state$$1.focusVisible = false;
        }
        // focus date changed
        if ('focusDate' in patch) {
            state$$1.focusDate = checkDateInRange$1(state$$1.focusDate, state$$1.minDate, state$$1.maxDate);
            startDate = state$$1.focusDate;
            // nothing to rebuild if only focus changed and it is still visible
            if (state$$1.months.length !== 0 && !state$$1.focusDate.before(state$$1.firstDate) &&
                !state$$1.focusDate.after(state$$1.lastDate)) {
                return state$$1;
            }
        }
        // first date changed
        if ('firstDate' in patch) {
            state$$1.firstDate = checkDateInRange$1(state$$1.firstDate, state$$1.minDate, state$$1.maxDate);
            startDate = state$$1.firstDate;
        }
        // rebuilding months
        if (startDate) {
            var forceRebuild = 'firstDayOfWeek' in patch || 'markDisabled' in patch || 'minDate' in patch ||
                'maxDate' in patch || 'disabled' in patch;
            var months = buildMonths$1(this._calendar, state$$1.months, startDate, state$$1.minDate, state$$1.maxDate, state$$1.displayMonths, state$$1.firstDayOfWeek, state$$1.markDisabled, forceRebuild);
            // updating months and boundary dates
            state$$1.months = months;
            state$$1.firstDate = months.length > 0 ? months[0].firstDate : undefined;
            state$$1.lastDate = months.length > 0 ? months[months.length - 1].lastDate : undefined;
            // adjusting focus after months were built
            if ('firstDate' in patch) {
                if (state$$1.focusDate === undefined || state$$1.focusDate.before(state$$1.firstDate) ||
                    state$$1.focusDate.after(state$$1.lastDate)) {
                    state$$1.focusDate = startDate;
                }
            }
        }
        return state$$1;
    };
    return NgbDatepickerService;
}());
NgbDatepickerService$1 = __decorate$22([
    _angular_core.Injectable(),
    __metadata$12("design:paramtypes", [NgbCalendar$1])
], NgbDatepickerService$1);

var __decorate$23 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$13 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var Key$1;
(function (Key) {
    Key[Key["Enter"] = 13] = "Enter";
    Key[Key["Space"] = 32] = "Space";
    Key[Key["PageUp"] = 33] = "PageUp";
    Key[Key["PageDown"] = 34] = "PageDown";
    Key[Key["End"] = 35] = "End";
    Key[Key["Home"] = 36] = "Home";
    Key[Key["ArrowLeft"] = 37] = "ArrowLeft";
    Key[Key["ArrowUp"] = 38] = "ArrowUp";
    Key[Key["ArrowRight"] = 39] = "ArrowRight";
    Key[Key["ArrowDown"] = 40] = "ArrowDown";
})(Key$1 || (Key$1 = {}));
var NgbDatepickerKeyMapService$1 = (function () {
    function NgbDatepickerKeyMapService(_service, _calendar) {
        var _this = this;
        this._service = _service;
        this._calendar = _calendar;
        _service.model$.subscribe(function (model) {
            _this._minDate = model.minDate;
            _this._maxDate = model.maxDate;
            _this._firstViewDate = model.firstDate;
            _this._lastViewDate = model.lastDate;
        });
    }
    NgbDatepickerKeyMapService.prototype.processKey = function (event) {
        if (Key$1[toString$1(event.which)]) {
            switch (event.which) {
                case Key$1.PageUp:
                    this._service.focusMove(event.shiftKey ? 'y' : 'm', -1);
                    break;
                case Key$1.PageDown:
                    this._service.focusMove(event.shiftKey ? 'y' : 'm', 1);
                    break;
                case Key$1.End:
                    this._service.focus(event.shiftKey ? this._maxDate : this._lastViewDate);
                    break;
                case Key$1.Home:
                    this._service.focus(event.shiftKey ? this._minDate : this._firstViewDate);
                    break;
                case Key$1.ArrowLeft:
                    this._service.focusMove('d', -1);
                    break;
                case Key$1.ArrowUp:
                    this._service.focusMove('d', -this._calendar.getDaysPerWeek());
                    break;
                case Key$1.ArrowRight:
                    this._service.focusMove('d', 1);
                    break;
                case Key$1.ArrowDown:
                    this._service.focusMove('d', this._calendar.getDaysPerWeek());
                    break;
                case Key$1.Enter:
                case Key$1.Space:
                    this._service.focusSelect();
                    break;
                default:
                    return;
            }
            event.preventDefault();
            event.stopPropagation();
        }
    };
    return NgbDatepickerKeyMapService;
}());
NgbDatepickerKeyMapService$1 = __decorate$23([
    _angular_core.Injectable(),
    __metadata$13("design:paramtypes", [NgbDatepickerService$1, NgbCalendar$1])
], NgbDatepickerKeyMapService$1);

// clang-format on
var NavigationEvent$1;
(function (NavigationEvent) {
    NavigationEvent[NavigationEvent["PREV"] = 0] = "PREV";
    NavigationEvent[NavigationEvent["NEXT"] = 1] = "NEXT";
    NavigationEvent[NavigationEvent["PREVYEAR"] = 2] = "PREVYEAR";
    NavigationEvent[NavigationEvent["NEXTYEAR"] = 3] = "NEXTYEAR";
})(NavigationEvent$1 || (NavigationEvent$1 = {}));

var __decorate$24 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
/**
 * Configuration service for the NgbDatepicker component.
 * You can inject this service, typically in your root component, and customize the values of its properties in
 * order to provide default values for all the datepickers used in the application.
 */
var NgbDatepickerConfig$1 = (function () {
    function NgbDatepickerConfig() {
        this.displayMonths = 1;
        this.firstDayOfWeek = 1;
        this.navigation = 'select';
        this.outsideDays = 'visible';
        this.showWeekdays = true;
        this.showWeekNumbers = false;
    }
    return NgbDatepickerConfig;
}());
NgbDatepickerConfig$1 = __decorate$24([
    _angular_core.Injectable()
], NgbDatepickerConfig$1);

var __extends$9 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$25 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var WEEKDAYS_SHORT$1 = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'];
var MONTHS_SHORT$1 = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
var MONTHS_FULL$1 = [
    'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November',
    'December'
];
/**
 * Type of the service supplying month and weekday names to to NgbDatepicker component.
 * See the i18n demo for how to extend this class and define a custom provider for i18n.
 */
var NgbDatepickerI18n$2 = (function () {
    function NgbDatepickerI18n$$1() {
    }
    return NgbDatepickerI18n$$1;
}());
NgbDatepickerI18n$2 = __decorate$25([
    _angular_core.Injectable()
], NgbDatepickerI18n$2);
var NgbDatepickerI18nDefault$1 = (function (_super) {
    __extends$9(NgbDatepickerI18nDefault, _super);
    function NgbDatepickerI18nDefault() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NgbDatepickerI18nDefault.prototype.getWeekdayShortName = function (weekday) { return WEEKDAYS_SHORT$1[weekday - 1]; };
    NgbDatepickerI18nDefault.prototype.getMonthShortName = function (month) { return MONTHS_SHORT$1[month - 1]; };
    NgbDatepickerI18nDefault.prototype.getMonthFullName = function (month) { return MONTHS_FULL$1[month - 1]; };
    return NgbDatepickerI18nDefault;
}(NgbDatepickerI18n$2));
NgbDatepickerI18nDefault$1 = __decorate$25([
    _angular_core.Injectable()
], NgbDatepickerI18nDefault$1);

var __decorate$26 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var EnabledRangeService = (function () {
    function EnabledRangeService() {
        this.startDate = {};
        this.endDate = {};
    }
    return EnabledRangeService;
}());
EnabledRangeService = __decorate$26([
    _angular_core.Injectable()
], EnabledRangeService);

var __decorate$20 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$11 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NGB_CALENDAR_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return RplCalendar; }),
    multi: true
};
/**
 * A lightweight and highly configurable datepicker directive
 */
var RplCalendar = (function () {
    // startDateEnabled: string;
    // endDateEnabled: string;
    function RplCalendar(enabledRange, _keyMapService, _service, _calendar, i18n, config, _cd, _elementRef) {
        var _this = this;
        this.enabledRange = enabledRange;
        this._keyMapService = _keyMapService;
        this._service = _service;
        this._calendar = _calendar;
        this.i18n = i18n;
        this._cd = _cd;
        this._elementRef = _elementRef;
        // /**
        //  * Start date Enabled
        //  */
        // @Input() startDateEnabled: { year: number, month: number, day: number };
        // /**
        //  * End date Enabled 
        //  */
        // @Input() endDateEnabled: { year: number, month: number, day: number };
        /**
        * In questa variabile sono memorizzati i dati iniziali che scenderanno l'albero dei template
        */
        this.dataTemplate = { template: 0, day: 0, month: 0, year: 0, valid: false };
        /**
         * An event fired when navigation happens and currently displayed month changes.
         * See NgbDatepickerNavigateEvent for the payload info.
         */
        this.navigate = new _angular_core.EventEmitter();
        /**
         * Template da Adoperare
         */
        this.template = 0;
        this.mesi = [
            [
                { name: "GEN", number: 1, disabled: false, selected: false, focused: false },
                { name: "FEB", number: 2, disabled: false, selected: false, focused: false },
                { name: "MAR", number: 3, disabled: false, selected: false, focused: false },
                { name: "APR", number: 4, disabled: false, selected: false, focused: false }
            ],
            [
                { name: "MAG", number: 5, disabled: false, selected: false, focused: false },
                { name: "GIU", number: 6, disabled: false, selected: false, focused: false },
                { name: "LUG", number: 7, disabled: false, selected: false, focused: false },
                { name: "AGO", number: 8, disabled: false, selected: false, focused: false }
            ],
            [
                { name: "SET", number: 9, disabled: false, selected: false, focused: false },
                { name: "OTT", number: 10, disabled: false, selected: false, focused: false },
                { name: "NOV", number: 11, disabled: false, selected: false, focused: false },
                { name: "DIC", number: 12, disabled: false, selected: false, focused: false }
            ]
        ];
        this.years = [
            [
                { name: "2018", number: 2018, disabled: false, selected: false, focused: false },
                { name: "2019", number: 2019, disabled: false, selected: false, focused: false },
                { name: "2020", number: 2020, disabled: false, selected: false, focused: false },
                { name: "2021", number: 2021, disabled: false, selected: false, focused: false }
            ],
            [
                { name: "2022", number: 2022, disabled: false, selected: false, focused: false },
                { name: "2023", number: 2023, disabled: false, selected: false, focused: false },
                { name: "2024", number: 2024, disabled: false, selected: false, focused: false },
                { name: "2025", number: 2025, disabled: false, selected: false, focused: false }
            ],
            [
                { name: "2026", number: 2026, disabled: false, selected: false, focused: false },
                { name: "2027", number: 2027, disabled: false, selected: false, focused: false },
                { name: "2028", number: 2028, disabled: false, selected: false, focused: false },
                { name: "2029", number: 2029, disabled: false, selected: false, focused: false }
            ]
        ];
        this.onChange = function (_) { };
        this.onTouched = function () { };
        this.dayTemplate = config.dayTemplate;
        this.displayMonths = config.displayMonths;
        this.firstDayOfWeek = config.firstDayOfWeek;
        this.markDisabled = config.markDisabled;
        this.minDate = config.minDate;
        this.maxDate = config.maxDate;
        this.navigation = config.navigation;
        this.outsideDays = config.outsideDays;
        this.showWeekdays = config.showWeekdays;
        this.showWeekNumbers = config.showWeekNumbers;
        this.startDate = config.startDate;
        this.startDateEnabled = enabledRange.startDate;
        this.endDateEnabled = enabledRange.endDate;
        // alert("finale Start : " +  this.startDateEnabled)
        // alert("finale End   : " +  this.endDateEnabled)
        this._subscription = _service.model$.subscribe(function (model) {
            var newDate = model.firstDate;
            var oldDate = _this.model ? _this.model.firstDate : null;
            var newSelectedDate = model.selectedDate;
            var oldSelectedDate = _this.model ? _this.model.selectedDate : null;
            _this.model = model;
            // handling selection change
            if (isChangedDate$1(newSelectedDate, oldSelectedDate)) {
                _this.onTouched();
                _this.onChange(newSelectedDate ? { year: newSelectedDate.year, month: newSelectedDate.month, day: newSelectedDate.day } :
                    null);
            }
            // emitting navigation event if the first month changes
            if (!newDate.equals(oldDate)) {
                _this.navigate.emit({
                    current: oldDate ? { year: oldDate.year, month: oldDate.month } : null,
                    next: { year: newDate.year, month: newDate.month }
                });
            }
            _cd.markForCheck();
        });
    }
    RplCalendar.prototype.abilitaMesi = function (data) {
        if (this.startDateEnabled.month <= data && data <= this.endDateEnabled.month && (this.startDateEnabled.year <= this.dataTemplate.year && this.dataTemplate.year <= this.endDateEnabled.year)) {
            return true;
        }
        return false;
    };
    RplCalendar.prototype.abilitaAnni = function (data) {
        if (this.startDateEnabled.year <= data && data <= this.endDateEnabled.year) {
            return true;
        }
        return false;
    };
    RplCalendar.prototype.setNewTemplate = function (selectedTemplate) {
        this.setMesi(this.dataTemplate.month, true);
        this.updateYears(this.dataTemplate.year);
        this.setYear(this.dataTemplate.year, true);
        this.template = selectedTemplate;
    };
    RplCalendar.prototype.setMesi = function (position, selected) {
        if (!this.abilitaMesi(position))
            return;
        var nRow = 0, nCol = 0;
        if (position == 4)
            nRow = 0;
        else if (position == 8)
            nRow = 1;
        else if (position == 12)
            nRow = 2;
        else
            nRow = Math.trunc(position / 4);
        nCol = position - (nRow * 4) - 1;
        this.mesi[nRow][nCol].selected = selected;
    };
    RplCalendar.prototype.updateYears = function (startYearValue) {
        for (var j = 0; j < 3; j++) {
            for (var i = 0; i < 4; i++) {
                this.years[j][i].number = startYearValue + i + j * 4;
                this.years[j][i].name = this.years[j][i].number + "";
            }
        }
    };
    RplCalendar.prototype.setYear = function (yearValue, selected) {
        if (!this.abilitaAnni(yearValue))
            return;
        this.years.forEach(function (row) {
            row.forEach(function (year) {
                if (year.number == yearValue)
                    year.selected = selected;
            });
        });
    };
    /**
     * Manually focus the calendar
     */
    RplCalendar.prototype.focus = function () { this._elementRef.nativeElement.focus(); };
    RplCalendar.prototype.getHeaderHeight = function () {
        var h = this.showWeekdays ? 6.25 : 4.25;
        return this.displayMonths === 1 || this.navigation !== 'select' ? h - 2 : h;
    };
    RplCalendar.prototype.getHeaderMargin = function () {
        var m = this.showWeekdays ? 2 : 0;
        return this.displayMonths !== 1 || this.navigation !== 'select' ? m + 2 : m;
    };
    /**
     * Navigates current view to provided date.
     * With default calendar we use ISO 8601: 'month' is 1=Jan ... 12=Dec.
     * If nothing or invalid date provided calendar will open current month.
     * Use 'startDate' input as an alternative
     */
    RplCalendar.prototype.navigateTo = function (date) {
        this._service.open(date ? new NgbDate$1(date.year, date.month, 1) : this._calendar.getToday());
    };
    RplCalendar.prototype.ngOnDestroy = function () { this._subscription.unsubscribe(); };
    RplCalendar.prototype.ngOnInit = function () {
        if (this.model === undefined) {
            this._service.displayMonths = toInteger$1(this.displayMonths);
            this._service.markDisabled = this.markDisabled;
            this._service.firstDayOfWeek = this.firstDayOfWeek;
            this._setDates();
            // inixializzazione dataTemplate alla data selezionata
            if (!this.startDate) {
                this.startDate = { year: null, month: null, day: null };
                var today = new Date();
                var dd = today.getDate();
                var mm = today.getMonth() + 1; //January is 0!
                var yyyy = today.getFullYear();
                this.startDate.day = dd;
                this.startDate.month = mm;
                this.startDate.year = yyyy;
            }
            this.dataTemplate.day = this.startDate.day;
            this.dataTemplate.month = this.startDate.month;
            this.dataTemplate.year = this.startDate.year;
            this.dataTemplate.valid = false;
        }
    };
    RplCalendar.prototype.ngOnChanges = function (changes) {
        if (changes['displayMonths']) {
            this._service.displayMonths = toInteger$1(this.displayMonths);
        }
        if (changes['markDisabled']) {
            this._service.markDisabled = this.markDisabled;
        }
        if (changes['firstDayOfWeek']) {
            this._service.firstDayOfWeek = this.firstDayOfWeek;
        }
        this._setDates();
    };
    RplCalendar.prototype.onDateSelect = function (date) {
        this._service.focus(date);
        this.writeValue(date);
    };
    RplCalendar.prototype.onKeyDown = function (event) { this._keyMapService.processKey(event); };
    RplCalendar.prototype.onNavigateDateSelect = function (date) {
        this._service.open(date);
    };
    RplCalendar.prototype.onNavigateEvent = function (event) {
        var bufferData;
        this.model.firstDate.month = this.dataTemplate.month;
        this.model.firstDate.year = this.dataTemplate.year;
        if (event == NavigationEvent$1.PREV && this.template == 0) {
            bufferData = this._calendar.getPrev(this.model.firstDate, 'm', 1);
            this._service.open(bufferData);
            this.updateDataTemplate(bufferData);
        }
        else if (NavigationEvent$1.NEXT && this.template == 0) {
            bufferData = this._calendar.getNext(this.model.firstDate, 'm', 1);
            this._service.open(bufferData);
            this.updateDataTemplate(bufferData);
        }
        else if (event == NavigationEvent$1.PREV && this.template == 1) {
            bufferData = this._calendar.getPrev(this.model.firstDate, 'm', 12);
            this._service.open(bufferData);
            this.updateDataTemplate(bufferData);
        }
        else if (event == NavigationEvent$1.NEXT && this.template == 1) {
            bufferData = this._calendar.getNext(this.model.firstDate, 'm', 12);
            this._service.open(bufferData);
            this.updateDataTemplate(bufferData);
        }
        else if (event == NavigationEvent$1.PREV && this.template == 2) {
            bufferData = this._calendar.getPrev(this.model.firstDate, 'm', 120);
            this._service.open(bufferData);
            this.updateDataTemplate(bufferData);
            this.updateYears(this.dataTemplate.year);
        }
        else if (event == NavigationEvent$1.NEXT && this.template == 2) {
            bufferData = this._calendar.getNext(this.model.firstDate, 'm', 120);
            this._service.open(bufferData);
            this.updateDataTemplate(bufferData);
            this.updateYears(this.dataTemplate.year);
        }
    };
    RplCalendar.prototype.onChangeTemplate = function (dataTemplate) {
        this.template = dataTemplate.template;
    };
    RplCalendar.prototype.updateDataTemplate = function (date) {
        this.dataTemplate.day = date.day;
        this.dataTemplate.month = date.month;
        this.dataTemplate.year = date.year;
    };
    RplCalendar.prototype.registerOnChange = function (fn) { this.onChange = fn; };
    RplCalendar.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };
    RplCalendar.prototype.setDisabledState = function (isDisabled) { this._service.disabled = isDisabled; };
    RplCalendar.prototype.showFocus = function (focusVisible) { this._service.focusVisible = focusVisible; };
    RplCalendar.prototype.writeValue = function (value) { this._service.select(value); };
    RplCalendar.prototype._setDates = function () {
        var startDate = this._service.toValidDate(this.startDate, this._calendar.getToday());
        var minDate = this._service.toValidDate(this.minDate, this._calendar.getPrev(startDate, 'y', 10));
        var maxDate = this._service.toValidDate(this.maxDate, this._calendar.getPrev(this._calendar.getNext(startDate, 'y', 11)));
        this.minDate = { year: minDate.year, month: minDate.month, day: minDate.day };
        this.maxDate = { year: maxDate.year, month: maxDate.month, day: maxDate.day };
        this._service.minDate = minDate;
        this._service.maxDate = maxDate;
        this.navigateTo(startDate);
    };
    return RplCalendar;
}());
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", _angular_core.TemplateRef)
], RplCalendar.prototype, "dayTemplate", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Number)
], RplCalendar.prototype, "displayMonths", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Number)
], RplCalendar.prototype, "firstDayOfWeek", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Function)
], RplCalendar.prototype, "markDisabled", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Object)
], RplCalendar.prototype, "maxDate", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Object)
], RplCalendar.prototype, "minDate", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", String)
], RplCalendar.prototype, "navigation", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", String)
], RplCalendar.prototype, "outsideDays", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Boolean)
], RplCalendar.prototype, "showWeekdays", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Boolean)
], RplCalendar.prototype, "showWeekNumbers", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Object)
], RplCalendar.prototype, "startDate", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Object)
], RplCalendar.prototype, "startDateEnabled", void 0);
__decorate$20([
    _angular_core.Input(),
    __metadata$11("design:type", Object)
], RplCalendar.prototype, "endDateEnabled", void 0);
__decorate$20([
    _angular_core.Output(),
    __metadata$11("design:type", Object)
], RplCalendar.prototype, "navigate", void 0);
RplCalendar = __decorate$20([
    _angular_core.Component({
        exportAs: 'rplCalendar',
        selector: 'rpl-calendar',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        host: {
            'class': 'd-inline-block rounded',
            'tabindex': '0',
            '[attr.tabindex]': 'model.disabled ? undefined : "0"',
            '(blur)': 'showFocus(false)',
            '(focus)': 'showFocus(true)',
            '(keydown)': 'onKeyDown($event)'
        },
        template: "<div class=\"ngb-dp-header bg-faded pt-1 rounded-top\" [style.height.rem]=\"getHeaderHeight()\" [style.marginBottom.rem]=\"-getHeaderMargin()\"><ngb-datepicker-navigation *ngIf=\"navigation !== 'none'\" [date]=\"model.firstDate\" [minDate]=\"model.minDate\" [maxDate]=\"model.maxDate\" [months]=\"model.months.length\" [template]=\"template\" [disabled]=\"model.disabled\" [showWeekNumbers]=\"showWeekNumbers\" [showSelect]=\"navigation === 'select'\" (navigate)=\"onNavigateEvent($event)\" (select)=\"onNavigateDateSelect($event)\" (newTemplate)=\"setNewTemplate($event)\"></ngb-datepicker-navigation></div><div class=\"ngb-dp-months d-flex px-1 pb-1\"><ng-template ngFor let-month [ngForOf]=\"model.months\" let-i=\"index\"><div class=\"ngb-dp-month d-block ml-3\"><div *ngIf=\"navigation !== 'select' || displayMonths > 1\" style=\"min-width:150px\" class=\"ngb-dp-month-name text-center\"><div [ngSwitch]=\"template\"><div *ngSwitchCase=\"0\">{{ i18n.getMonthFullName(dataTemplate.month) }} {{ dataTemplate.year }}</div><div *ngSwitchCase=\"1\">{{ dataTemplate.year }}</div><div *ngSwitchCase=\"2\">{{ dataTemplate.year }} - {{ dataTemplate.year + 11 }}</div></div></div><ngb-datepicker-routing-view [mesi]=\"mesi\" [years]=\"years\" [dataTemplate]=\"dataTemplate\" [date]=\"model.firstDate\" [currentTemplate]=\"template\" [month]=\"month\" [showWeekdays]=\"showWeekdays\" [showWeekNumbers]=\"showWeekNumbers\" [startDateEnabled]=\"startDateEnabled\" [endDateEnabled]=\"endDateEnabled\" [outsideDays]=\"(displayMonths === 1 ? outsideDays : 'hidden')\" (select)=\"onDateSelect($event)\" (changeTemplate)=\"onChangeTemplate($event)\"></ngb-datepicker-routing-view></div></ng-template></div>",
        styles: [":host{border:1px solid rgba(0,0,0,.125)}.ngb-dp-header{border-bottom:1px solid rgba(0,0,0,.125)}.ngb-dp-month{pointer-events:none}ngb-datepicker-routing-view{pointer-events:auto}.ngb-dp-month:first-child{margin-left:0!important}.ngb-dp-month-name{font-size:larger;font:Arial regular;height:2rem;line-height:2rem} /*# sourceMappingURL=datepicker.css.map */ "],
        providers: [NGB_CALENDAR_VALUE_ACCESSOR, NgbDatepickerService$1, NgbDatepickerKeyMapService$1]
    }),
    __metadata$11("design:paramtypes", [EnabledRangeService,
        NgbDatepickerKeyMapService$1,
        NgbDatepickerService$1,
        NgbCalendar$1,
        NgbDatepickerI18n$2, NgbDatepickerConfig$1,
        _angular_core.ChangeDetectorRef,
        _angular_core.ElementRef])
], RplCalendar);

var __decorate$27 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$14 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerRoutingView = (function () {
    function NgbDatepickerRoutingView(i18n) {
        this.i18n = i18n;
        this.select = new _angular_core.EventEmitter();
        this.changeTemplate = new _angular_core.EventEmitter();
    }
    NgbDatepickerRoutingView.prototype.ngOnInit = function () {
        // alert("in select in routing : " + this.startDateEnabled)
        // alert("in select in routing : " + this.endDateEnabled)
    };
    NgbDatepickerRoutingView.prototype.doSelect = function (day) {
        if (!this.abilitaGiorni(day.date))
            return;
        if (this.dataTemplate.valid) {
            // il day si prende quello selezionato e non quello del dataTemplate
            // day.date.day = this.dataTemplate.day;
            day.date.month = this.dataTemplate.month;
            day.date.year = this.dataTemplate.year;
            this.select.emit(NgbDate$1.from(day.date));
        }
        else {
            if (!day.context.disabled && !this.isHidden(day)) {
                this.select.emit(NgbDate$1.from(day.date));
            }
        }
    };
    NgbDatepickerRoutingView.prototype.abilitaGiorni = function (data) {
        var buffer = new Date(data.year, data.month - 1, data.day);
        var startDate = new Date(this.startDateEnabled.year, this.startDateEnabled.month - 1, this.startDateEnabled.day);
        var endDate = new Date(this.endDateEnabled.year, this.endDateEnabled.month - 1, this.endDateEnabled.day);
        if (startDate <= buffer && buffer <= endDate) {
            return true;
        }
        return false;
    };
    NgbDatepickerRoutingView.prototype.abilitaMesi = function (data) {
        if ((this.startDateEnabled.month <= data.number && data.number <= this.endDateEnabled.month) && (this.startDateEnabled.year <= this.dataTemplate.year && this.dataTemplate.year <= this.endDateEnabled.year)) {
            return true;
        }
        return false;
    };
    NgbDatepickerRoutingView.prototype.abilitaAnni = function (data) {
        if (this.startDateEnabled.year <= data.number && data.number <= this.endDateEnabled.year) {
            return true;
        }
        return false;
    };
    NgbDatepickerRoutingView.prototype.doSelectMonth = function (mese) {
        if (!this.abilitaMesi(mese))
            return;
        this.currentTemplate = 0;
        this.dataTemplate.template = this.currentTemplate;
        // reset giorni
        this.month.weeks.forEach(function (week) { week.days.forEach(function (day) { day.context.selected = false; }); });
        this.mesi.forEach(function (row) { row.forEach(function (mese) { mese.selected = false; }); });
        this.dataTemplate.month = mese.number;
        this.dataTemplate.valid = true;
        this.changeTemplate.emit(this.dataTemplate);
    };
    NgbDatepickerRoutingView.prototype.doSelectYear = function (year) {
        if (!this.abilitaAnni(year))
            return;
        this.currentTemplate = 1;
        this.dataTemplate.template = this.currentTemplate;
        // resetta mesi e anno
        this.mesi.forEach(function (row) { row.forEach(function (mese) { mese.selected = false; }); });
        this.years.forEach(function (row) { row.forEach(function (year) { year.selected = false; }); });
        this.dataTemplate.year = year.number;
        this.dataTemplate.valid = true;
        this.changeTemplate.emit(this.dataTemplate);
    };
    NgbDatepickerRoutingView.prototype.isCollapsed = function (week) {
        return this.outsideDays === 'collapsed' && week.days[0].date.month !== this.month.number &&
            week.days[week.days.length - 1].date.month !== this.month.number;
    };
    NgbDatepickerRoutingView.prototype.isHidden = function (day) {
        return (this.outsideDays === 'hidden' || this.outsideDays === 'collapsed') && this.month.number !== day.date.month;
    };
    return NgbDatepickerRoutingView;
}());
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", _angular_core.TemplateRef)
], NgbDatepickerRoutingView.prototype, "dayTemplate", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", _angular_core.TemplateRef)
], NgbDatepickerRoutingView.prototype, "monthTemplate", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", _angular_core.TemplateRef)
], NgbDatepickerRoutingView.prototype, "yearsTemplate", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Number)
], NgbDatepickerRoutingView.prototype, "currentTemplate", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "mesi", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "years", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "date", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "dataTemplate", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "month", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", String)
], NgbDatepickerRoutingView.prototype, "outsideDays", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "showWeekdays", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "showWeekNumbers", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "startDateEnabled", void 0);
__decorate$27([
    _angular_core.Input(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "endDateEnabled", void 0);
__decorate$27([
    _angular_core.Output(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "select", void 0);
__decorate$27([
    _angular_core.Output(),
    __metadata$14("design:type", Object)
], NgbDatepickerRoutingView.prototype, "changeTemplate", void 0);
NgbDatepickerRoutingView = __decorate$27([
    _angular_core.Component({
        selector: 'ngb-datepicker-routing-view',
        host: { 'class': 'd-block' },
        template: "<div [ngSwitch]=\"currentTemplate\"><div *ngSwitchCase=\"0\"><div *ngIf=\"showWeekdays\" class=\"ngb-dp-week d-flex\"><div *ngIf=\"showWeekNumbers\" class=\"ngb-dp-weekday\"></div><div *ngFor=\"let w of month.weekdays\" class=\"ngb-dp-weekday small text-center text-info font-italic\">{{ i18n.getWeekdayShortName(w) }}</div></div><ng-template ngFor let-week [ngForOf]=\"month.weeks\"><div *ngIf=\"!isCollapsed(week)\" class=\"ngb-dp-week d-flex\"><div *ngIf=\"showWeekNumbers\" class=\"ngb-dp-week-number small text-center font-italic text-muted\">{{ week.number }}</div><div *ngFor=\"let day of week.days\" (click)=\"doSelect(day)\" class=\"ngb-dp-day\" [class.disabled]=\"day.context.disabled\" [class.hidden]=\"isHidden(day)\"><ng-template [ngIf]=\"!isHidden(day)\"><div ngbDatepickerDayView [date]=\"day.context.date\" [currentMonth]=\"day.context.currentMonth\" [selected]=\"day.context.selected\" [disabled]=\"day.context.disabled\" [focused]=\"day.context.focused\" [startDateEnabled]=\"startDateEnabled\" [endDateEnabled]=\"endDateEnabled\"></div></ng-template></div></div></ng-template></div><div *ngSwitchCase=\"1\"><div *ngFor=\"let row of mesi\" class=\"d-flex ngb-dp-mese\"><div *ngFor=\"let mese of row\" (click)=\"doSelectMonth(mese)\"><div ngbDatepickerReplyMonthView [mese]=\"mese\" [year]=\"dataTemplate.year\" [selected]=\"mese.selected\" [disabled]=\"mese.disabled\" [focused]=\"mese.focused\" [startDateEnabled]=\"startDateEnabled\" [endDateEnabled]=\"endDateEnabled\"></div></div></div></div><div *ngSwitchCase=\"2\"><div *ngFor=\"let row of years\" class=\"d-flex ngb-dp-mese\"><div *ngFor=\"let year of row\" (click)=\"doSelectYear(year)\"><div ngbDatepickerReplyYearsView [year]=\"year\" [selected]=\"year.selected\" [disabled]=\"year.disabled\" [focused]=\"year.focused\" [startDateEnabled]=\"startDateEnabled\" [endDateEnabled]=\"endDateEnabled\"></div></div></div></div><div *ngSwitchDefault>errore template</div></div>",
        styles: [".ngb-dp-week-number,.ngb-dp-weekday{line-height:35px}.ngb-dp-mese{height:45px!important;cursor:pointer}.ngb-dp-week-number,.ngb-dp-weekday{width:45px!important;height:35px!important}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default} /*# sourceMappingURL=datepicker-routing-view.css.map */ "],
    }),
    __metadata$14("design:paramtypes", [NgbDatepickerI18n$2])
], NgbDatepickerRoutingView);

var __decorate$28 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$15 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerNavigation$1 = (function () {
    function NgbDatepickerNavigation(i18n, _calendar) {
        this.i18n = i18n;
        this._calendar = _calendar;
        this.navigation = NavigationEvent$1;
        this.template = 0;
        this.navigate = new _angular_core.EventEmitter();
        this.select = new _angular_core.EventEmitter();
        this.newTemplate = new _angular_core.EventEmitter();
    }
    NgbDatepickerNavigation.prototype.doNavigate = function (event) {
        this.navigate.emit(event);
    };
    NgbDatepickerNavigation.prototype.nextDisabled = function () {
        return this.disabled || (this.maxDate && this._calendar.getNext(this.date, 'm').after(this.maxDate));
    };
    NgbDatepickerNavigation.prototype.prevDisabled = function () {
        var prevDate = this._calendar.getPrev(this.date, 'm');
        return this.disabled || (this.minDate && prevDate.year <= this.minDate.year && prevDate.month < this.minDate.month);
    };
    NgbDatepickerNavigation.prototype.selectDate = function (date) {
        this.select.emit(date);
    };
    NgbDatepickerNavigation.prototype.setTemplate = function () {
        this.template = (this.template + 1) % 3;
        this.newTemplate.emit(this.template);
    };
    return NgbDatepickerNavigation;
}());
__decorate$28([
    _angular_core.Input(),
    __metadata$15("design:type", NgbDate$1)
], NgbDatepickerNavigation$1.prototype, "date", void 0);
__decorate$28([
    _angular_core.Input(),
    __metadata$15("design:type", Boolean)
], NgbDatepickerNavigation$1.prototype, "disabled", void 0);
__decorate$28([
    _angular_core.Input(),
    __metadata$15("design:type", NgbDate$1)
], NgbDatepickerNavigation$1.prototype, "maxDate", void 0);
__decorate$28([
    _angular_core.Input(),
    __metadata$15("design:type", NgbDate$1)
], NgbDatepickerNavigation$1.prototype, "minDate", void 0);
__decorate$28([
    _angular_core.Input(),
    __metadata$15("design:type", Number)
], NgbDatepickerNavigation$1.prototype, "months", void 0);
__decorate$28([
    _angular_core.Input(),
    __metadata$15("design:type", Boolean)
], NgbDatepickerNavigation$1.prototype, "showSelect", void 0);
__decorate$28([
    _angular_core.Input(),
    __metadata$15("design:type", Boolean)
], NgbDatepickerNavigation$1.prototype, "showWeekNumbers", void 0);
__decorate$28([
    _angular_core.Input(),
    __metadata$15("design:type", Number)
], NgbDatepickerNavigation$1.prototype, "template", void 0);
__decorate$28([
    _angular_core.Output(),
    __metadata$15("design:type", Object)
], NgbDatepickerNavigation$1.prototype, "navigate", void 0);
__decorate$28([
    _angular_core.Output(),
    __metadata$15("design:type", Object)
], NgbDatepickerNavigation$1.prototype, "select", void 0);
__decorate$28([
    _angular_core.Output(),
    __metadata$15("design:type", Object)
], NgbDatepickerNavigation$1.prototype, "newTemplate", void 0);
NgbDatepickerNavigation$1 = __decorate$28([
    _angular_core.Component({
        selector: 'ngb-datepicker-navigation',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        host: { 'class': 'd-flex justify-content-between', '[class.collapsed]': '!showSelect' },
        template: "<span><button type=\"button\" class=\"btn btn-sm btn-link camillo\" style=\"width:45px;\" (click)=\"!!doNavigate(navigation.PREV)\" [disabled]=\"prevDisabled()\" tabindex=\"-1\"><span class=\"ngb-dp-navigation-chevron camillo\"></span></button></span><div class=\"header-navigation-date\" (click)=\"setTemplate()\"><ngb-datepicker-navigation-select *ngIf=\"showSelect\" class=\"d-block\" [style.width.rem]=\"months * 9\" [date]=\"date\" [minDate]=\"minDate\" [maxDate]=\"maxDate\" [disabled]=\"disabled\" (select)=\"selectDate($event)\"></ngb-datepicker-navigation-select></div><span><button type=\"button\" style=\"width:45px\" class=\"btn btn-sm btn-link camillo\" (click)=\"!!doNavigate(navigation.NEXT)\" [disabled]=\"nextDisabled()\" tabindex=\"-1\"><span class=\"ngb-dp-navigation-chevron right camillo\"></span></button></span>",
        styles: [":host{height:2rem;line-height:1.85rem}:host.collapsed{margin-bottom:-2rem}.btn-link{width:2.8rem;min-height:100%!important}caption,table,tbody,td,tfoot,th,thead,tr{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:0 0}.camillo{display:inline-block;margin:0;padding:0;border:none}.ngb-dp-navigation-chevron::before{border-style:solid;border-width:.2em .2em 0 0;content:'';display:inline-block;height:.75em;transform:rotate(-135deg);-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);width:.75em;margin:0 0 0 .5rem}.ngb-dp-navigation-chevron.right:before{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);margin:0 .5rem 0 0} /*# sourceMappingURL=datepicker-navigation.css.map */ "],
    }),
    __metadata$15("design:paramtypes", [NgbDatepickerI18n$2, NgbCalendar$1])
], NgbDatepickerNavigation$1);

var __extends$10 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
/**
 * Abstract type serving as a DI token for the service parsing and formatting dates for the NgbInputDatepicker
 * directive. A default implementation using the ISO 8601 format is provided, but you can provide another implementation
 * to use an alternative format.
 */
var NgbDateParserFormatter$2 = (function () {
    function NgbDateParserFormatter$$1() {
    }
    return NgbDateParserFormatter$$1;
}());
var NgbDateISOParserFormatter$1 = (function (_super) {
    __extends$10(NgbDateISOParserFormatter, _super);
    function NgbDateISOParserFormatter() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NgbDateISOParserFormatter.prototype.parse = function (value) {
        if (value) {
            var dateParts = value.trim().split('-');
            if (dateParts.length === 1 && isNumber$1(dateParts[0])) {
                return { year: toInteger$1(dateParts[0]), month: null, day: null };
            }
            else if (dateParts.length === 2 && isNumber$1(dateParts[0]) && isNumber$1(dateParts[1])) {
                return { year: toInteger$1(dateParts[0]), month: toInteger$1(dateParts[1]), day: null };
            }
            else if (dateParts.length === 3 && isNumber$1(dateParts[0]) && isNumber$1(dateParts[1]) && isNumber$1(dateParts[2])) {
                return { year: toInteger$1(dateParts[0]), month: toInteger$1(dateParts[1]), day: toInteger$1(dateParts[2]) };
            }
        }
        return null;
    };
    NgbDateISOParserFormatter.prototype.format = function (date) {
        return date ?
            date.year + "-" + (isNumber$1(date.month) ? padNumber$1(date.month) : '') + "-" + (isNumber$1(date.day) ? padNumber$1(date.day) : '') :
            '';
    };
    return NgbDateISOParserFormatter;
}(NgbDateParserFormatter$2));

// previous version:
// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js
var Positioning$1 = (function () {
    function Positioning() {
    }
    Positioning.prototype.getStyle = function (element, prop) { return window.getComputedStyle(element)[prop]; };
    Positioning.prototype.isStaticPositioned = function (element) {
        return (this.getStyle(element, 'position') || 'static') === 'static';
    };
    Positioning.prototype.offsetParent = function (element) {
        var offsetParentEl = element.offsetParent || document.documentElement;
        while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {
            offsetParentEl = offsetParentEl.offsetParent;
        }
        return offsetParentEl || document.documentElement;
    };
    Positioning.prototype.position = function (element, round) {
        if (round === void 0) { round = true; }
        var elPosition;
        var parentOffset = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };
        if (this.getStyle(element, 'position') === 'fixed') {
            elPosition = element.getBoundingClientRect();
        }
        else {
            var offsetParentEl = this.offsetParent(element);
            elPosition = this.offset(element, false);
            if (offsetParentEl !== document.documentElement) {
                parentOffset = this.offset(offsetParentEl, false);
            }
            parentOffset.top += offsetParentEl.clientTop;
            parentOffset.left += offsetParentEl.clientLeft;
        }
        elPosition.top -= parentOffset.top;
        elPosition.bottom -= parentOffset.top;
        elPosition.left -= parentOffset.left;
        elPosition.right -= parentOffset.left;
        if (round) {
            elPosition.top = Math.round(elPosition.top);
            elPosition.bottom = Math.round(elPosition.bottom);
            elPosition.left = Math.round(elPosition.left);
            elPosition.right = Math.round(elPosition.right);
        }
        return elPosition;
    };
    Positioning.prototype.offset = function (element, round) {
        if (round === void 0) { round = true; }
        var elBcr = element.getBoundingClientRect();
        var viewportOffset = {
            top: window.pageYOffset - document.documentElement.clientTop,
            left: window.pageXOffset - document.documentElement.clientLeft
        };
        var elOffset = {
            height: elBcr.height || element.offsetHeight,
            width: elBcr.width || element.offsetWidth,
            top: elBcr.top + viewportOffset.top,
            bottom: elBcr.bottom + viewportOffset.top,
            left: elBcr.left + viewportOffset.left,
            right: elBcr.right + viewportOffset.left
        };
        if (round) {
            elOffset.height = Math.round(elOffset.height);
            elOffset.width = Math.round(elOffset.width);
            elOffset.top = Math.round(elOffset.top);
            elOffset.bottom = Math.round(elOffset.bottom);
            elOffset.left = Math.round(elOffset.left);
            elOffset.right = Math.round(elOffset.right);
        }
        return elOffset;
    };
    Positioning.prototype.positionElements = function (hostElement, targetElement, placement, appendToBody) {
        var hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);
        var targetElBCR = targetElement.getBoundingClientRect();
        var placementPrimary = placement.split('-')[0] || 'top';
        var placementSecondary = placement.split('-')[1] || 'center';
        var targetElPosition = {
            'height': targetElBCR.height || targetElement.offsetHeight,
            'width': targetElBCR.width || targetElement.offsetWidth,
            'top': 0,
            'bottom': targetElBCR.height || targetElement.offsetHeight,
            'left': 0,
            'right': targetElBCR.width || targetElement.offsetWidth
        };
        switch (placementPrimary) {
            case 'top':
                targetElPosition.top = hostElPosition.top - targetElement.offsetHeight;
                break;
            case 'bottom':
                targetElPosition.top = hostElPosition.top + hostElPosition.height;
                break;
            case 'left':
                targetElPosition.left = hostElPosition.left - targetElement.offsetWidth;
                break;
            case 'right':
                targetElPosition.left = hostElPosition.left + hostElPosition.width;
                break;
        }
        switch (placementSecondary) {
            case 'top':
                targetElPosition.top = hostElPosition.top;
                break;
            case 'bottom':
                targetElPosition.top = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;
                break;
            case 'left':
                targetElPosition.left = hostElPosition.left;
                break;
            case 'right':
                targetElPosition.left = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;
                break;
            case 'center':
                if (placementPrimary === 'top' || placementPrimary === 'bottom') {
                    targetElPosition.left = hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2;
                }
                else {
                    targetElPosition.top = hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2;
                }
                break;
        }
        targetElPosition.top = Math.round(targetElPosition.top);
        targetElPosition.bottom = Math.round(targetElPosition.bottom);
        targetElPosition.left = Math.round(targetElPosition.left);
        targetElPosition.right = Math.round(targetElPosition.right);
        return targetElPosition;
    };
    return Positioning;
}());
var positionService$1 = new Positioning$1();
function positionElements$1(hostElement, targetElement, placement, appendToBody) {
    var pos = positionService$1.positionElements(hostElement, targetElement, placement, appendToBody);
    targetElement.style.top = pos.top + "px";
    targetElement.style.left = pos.left + "px";
}

var __decorate$29 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$16 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NGB_DATEPICKER_VALUE_ACCESSOR$2 = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return NgbInputDatepicker$2; }),
    multi: true
};
var NGB_DATEPICKER_VALIDATOR$1 = {
    provide: _angular_forms.NG_VALIDATORS,
    useExisting: _angular_core.forwardRef(function () { return NgbInputDatepicker$2; }),
    multi: true
};
/**
 * A directive that makes it possible to have datepickers on input fields.
 * Manages integration with the input field itself (data entry) and ngModel (validation etc.).
 */
var NgbInputDatepicker$2 = (function () {
    function NgbInputDatepicker$$1(_parserFormatter, _elRef, _vcRef, _renderer, _cfr, ngZone, _service, _calendar) {
        var _this = this;
        this._parserFormatter = _parserFormatter;
        this._elRef = _elRef;
        this._vcRef = _vcRef;
        this._renderer = _renderer;
        this._cfr = _cfr;
        this._service = _service;
        this._calendar = _calendar;
        this._cRef = null;
        /**
         * Placement of a datepicker popup. Accepts: "top", "bottom", "left", "right", "bottom-left",
         * "bottom-right" etc.
         */
        this.placement = 'bottom-left';
        /**
         * An event fired when navigation happens and currently displayed month changes.
         * See NgbDatepickerNavigateEvent for the payload info.
         */
        this.navigate = new _angular_core.EventEmitter();
        this._onChange = function (_) { };
        this._onTouched = function () { };
        this._validatorChange = function () { };
        this._zoneSubscription = ngZone.onStable.subscribe(function () {
            if (_this._cRef) {
                positionElements$1(_this._elRef.nativeElement, _this._cRef.location.nativeElement, _this.placement);
            }
        });
    }
    NgbInputDatepicker$$1.prototype.registerOnChange = function (fn) { this._onChange = fn; };
    NgbInputDatepicker$$1.prototype.registerOnTouched = function (fn) { this._onTouched = fn; };
    NgbInputDatepicker$$1.prototype.registerOnValidatorChange = function (fn) { this._validatorChange = fn; };
    
    NgbInputDatepicker$$1.prototype.setDisabledState = function (isDisabled) {
        this._renderer.setProperty(this._elRef.nativeElement, 'disabled', isDisabled);
        if (this.isOpen()) {
            this._cRef.instance.setDisabledState(isDisabled);
        }
    };
    NgbInputDatepicker$$1.prototype.validate = function (c) {
        var value = c.value;
        if (value === null || value === undefined) {
            return null;
        }
        if (!this._calendar.isValid(value)) {
            return { 'ngbDate': { invalid: c.value } };
        }
        if (this.minDate && NgbDate$1.from(value).before(NgbDate$1.from(this.minDate))) {
            return { 'ngbDate': { requiredBefore: this.minDate } };
        }
        if (this.maxDate && NgbDate$1.from(value).after(NgbDate$1.from(this.maxDate))) {
            return { 'ngbDate': { requiredAfter: this.maxDate } };
        }
    };
    NgbInputDatepicker$$1.prototype.writeValue = function (value) {
        var ngbDate = value ? new NgbDate$1(value.year, value.month, value.day) : null;
        this._model = this._calendar.isValid(value) ? ngbDate : null;
        this._writeModelValue(this._model);
    };
    NgbInputDatepicker$$1.prototype.manualDateChange = function (value, updateView) {
        if (updateView === void 0) { updateView = false; }
        this._model = this._service.toValidDate(this._parserFormatter.parse(value), null);
        this._onChange(this._model ? this._model.toStruct() : (value === '' ? null : value));
        if (updateView && this._model) {
            this._writeModelValue(this._model);
        }
    };
    NgbInputDatepicker$$1.prototype.isOpen = function () { return !!this._cRef; };
    /**
     * Opens the datepicker with the selected date indicated by the ngModel value.
     */
    NgbInputDatepicker$$1.prototype.open = function () {
        var _this = this;
        if (!this.isOpen()) {
            var cf = this._cfr.resolveComponentFactory(RplCalendar);
            this._cRef = this._vcRef.createComponent(cf);
            this._applyPopupStyling(this._cRef.location.nativeElement);
            this._cRef.instance.writeValue(this._model);
            this._applyDatepickerInputs(this._cRef.instance);
            this._subscribeForDatepickerOutputs(this._cRef.instance);
            this._cRef.instance.ngOnInit();
            // date selection event handling
            this._cRef.instance.registerOnChange(function (selectedDate) {
                _this.writeValue(selectedDate);
                _this._onChange(selectedDate);
                _this.close();
            });
            // focus handling
            this._cRef.instance.focus();
        }
    };
    /**
     * Closes the datepicker popup.
     */
    NgbInputDatepicker$$1.prototype.close = function () {
        if (this.isOpen()) {
            this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView));
            this._cRef = null;
        }
    };
    /**
     * Toggles the datepicker popup (opens when closed and closes when opened).
     */
    NgbInputDatepicker$$1.prototype.toggle = function () {
        if (this.isOpen()) {
            this.close();
        }
        else {
            this.open();
        }
    };
    /**
     * Navigates current view to provided date.
     * With default calendar we use ISO 8601: 'month' is 1=Jan ... 12=Dec.
     * If nothing or invalid date provided calendar will open current month.
     * Use 'startDate' input as an alternative
     */
    NgbInputDatepicker$$1.prototype.navigateTo = function (date) {
        if (this.isOpen()) {
            this._cRef.instance.navigateTo(date);
        }
    };
    NgbInputDatepicker$$1.prototype.onBlur = function () { this._onTouched(); };
    NgbInputDatepicker$$1.prototype.ngOnChanges = function (changes) {
        if (changes['minDate'] || changes['maxDate']) {
            this._validatorChange();
        }
    };
    NgbInputDatepicker$$1.prototype.ngOnDestroy = function () {
        this.close();
        this._zoneSubscription.unsubscribe();
    };
    NgbInputDatepicker$$1.prototype._applyDatepickerInputs = function (datepickerInstance) {
        var _this = this;
        ['dayTemplate', 'displayMonths', 'firstDayOfWeek', 'markDisabled', 'minDate', 'maxDate', 'navigation',
            'outsideDays', 'showNavigation', 'showWeekdays', 'showWeekNumbers']
            .forEach(function (optionName) {
            if (_this[optionName] !== undefined) {
                datepickerInstance[optionName] = _this[optionName];
            }
        });
        datepickerInstance.startDate = this.startDate || this._model;
    };
    NgbInputDatepicker$$1.prototype._applyPopupStyling = function (nativeElement) {
        this._renderer.addClass(nativeElement, 'dropdown-menu');
        this._renderer.setStyle(nativeElement, 'padding', '0');
    };
    NgbInputDatepicker$$1.prototype._subscribeForDatepickerOutputs = function (datepickerInstance) {
        var _this = this;
        datepickerInstance.navigate.subscribe(function (date) { return _this.navigate.emit(date); });
    };
    NgbInputDatepicker$$1.prototype._writeModelValue = function (model) {
        this._renderer.setProperty(this._elRef.nativeElement, 'value', this._parserFormatter.format(model));
        if (this.isOpen()) {
            this._cRef.instance.writeValue(model);
            this._onTouched();
        }
    };
    return NgbInputDatepicker$$1;
}());
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", _angular_core.TemplateRef)
], NgbInputDatepicker$2.prototype, "dayTemplate", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", Number)
], NgbInputDatepicker$2.prototype, "displayMonths", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", Number)
], NgbInputDatepicker$2.prototype, "firstDayOfWeek", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", Function)
], NgbInputDatepicker$2.prototype, "markDisabled", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", Object)
], NgbInputDatepicker$2.prototype, "minDate", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", Object)
], NgbInputDatepicker$2.prototype, "maxDate", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", String)
], NgbInputDatepicker$2.prototype, "navigation", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", String)
], NgbInputDatepicker$2.prototype, "outsideDays", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", Object)
], NgbInputDatepicker$2.prototype, "placement", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", Boolean)
], NgbInputDatepicker$2.prototype, "showWeekdays", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", Boolean)
], NgbInputDatepicker$2.prototype, "showWeekNumbers", void 0);
__decorate$29([
    _angular_core.Input(),
    __metadata$16("design:type", Object)
], NgbInputDatepicker$2.prototype, "startDate", void 0);
__decorate$29([
    _angular_core.Output(),
    __metadata$16("design:type", Object)
], NgbInputDatepicker$2.prototype, "navigate", void 0);
NgbInputDatepicker$2 = __decorate$29([
    _angular_core.Directive({
        selector: 'input[rplCalendar]',
        exportAs: 'rplCalendar',
        host: {
            '(input)': 'manualDateChange($event.target.value)',
            '(change)': 'manualDateChange($event.target.value, true)',
            '(keyup.esc)': 'close()',
            '(blur)': 'onBlur()'
        },
        providers: [NGB_DATEPICKER_VALUE_ACCESSOR$2, NGB_DATEPICKER_VALIDATOR$1, NgbDatepickerService$1]
    }),
    __metadata$16("design:paramtypes", [NgbDateParserFormatter$2, _angular_core.ElementRef, _angular_core.ViewContainerRef,
        _angular_core.Renderer2, _angular_core.ComponentFactoryResolver, _angular_core.NgZone,
        NgbDatepickerService$1, NgbCalendar$1])
], NgbInputDatepicker$2);

var __decorate$30 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$17 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerDayView$1 = (function () {
    function NgbDatepickerDayView() {
    }
    NgbDatepickerDayView.prototype.isMuted = function () { return !this.selected && (this.date.month !== this.currentMonth || this.disabled); };
    NgbDatepickerDayView.prototype.abilitaGiorni = function (data) {
        var buffer = new Date(data.year, data.month - 1, data.day);
        var startDate = new Date(this.startDateEnabled.year, this.startDateEnabled.month - 1, this.startDateEnabled.day);
        var endDate = new Date(this.endDateEnabled.year, this.endDateEnabled.month - 1, this.endDateEnabled.day);
        if (startDate <= buffer && buffer <= endDate) {
            return true;
        }
        return false;
    };
    return NgbDatepickerDayView;
}());
__decorate$30([
    _angular_core.Input(),
    __metadata$17("design:type", Number)
], NgbDatepickerDayView$1.prototype, "currentMonth", void 0);
__decorate$30([
    _angular_core.Input(),
    __metadata$17("design:type", Object)
], NgbDatepickerDayView$1.prototype, "date", void 0);
__decorate$30([
    _angular_core.Input(),
    __metadata$17("design:type", Boolean)
], NgbDatepickerDayView$1.prototype, "disabled", void 0);
__decorate$30([
    _angular_core.Input(),
    __metadata$17("design:type", Boolean)
], NgbDatepickerDayView$1.prototype, "focused", void 0);
__decorate$30([
    _angular_core.Input(),
    __metadata$17("design:type", Boolean)
], NgbDatepickerDayView$1.prototype, "selected", void 0);
__decorate$30([
    _angular_core.Input(),
    __metadata$17("design:type", Object)
], NgbDatepickerDayView$1.prototype, "startDateEnabled", void 0);
__decorate$30([
    _angular_core.Input(),
    __metadata$17("design:type", Object)
], NgbDatepickerDayView$1.prototype, "endDateEnabled", void 0);
NgbDatepickerDayView$1 = __decorate$30([
    _angular_core.Component({
        selector: '[ngbDatepickerDayView]',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        host: {
            'class': 'btn-secondary',
            '[class.bg-primary]': 'selected',
            '[class.text-white]': 'selected',
            '[class.text-muted]': 'isMuted()',
            '[class.outside]': 'isMuted()',
            '[class.active]': 'focused'
        },
        template: "<div [ngClass]=\" abilitaGiorni(date) ? 'ngbdatepickerdayview' : 'ngbdatepickerdayviewdisabled'\">{{ date.day }}</div>",
        styles: [":host{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem}:host.outside{opacity:.5}.ngbdatepickerdayview{border-radius:0!important;box-sizing:border-box;text-align:center;width:inherit!important;height:inherit!important;line-height:45px!important;vertical-align:middle}.ngbdatepickerdayviewdisabled{box-sizing:border-box;text-align:center;width:inherit!important;height:inherit!important;line-height:45px!important;vertical-align:middle;background-color:gray;color:#fff} /*# sourceMappingURL=datepicker-day-view.css.map */ "],
    })
], NgbDatepickerDayView$1);

var __decorate$31 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$18 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerReplyYearsView = (function () {
    function NgbDatepickerReplyYearsView() {
    }
    NgbDatepickerReplyYearsView.prototype.isMuted = function () { return false; };
    
    NgbDatepickerReplyYearsView.prototype.abilitaAnni = function (data) {
        if (this.startDateEnabled.year <= data.number && data.number <= this.endDateEnabled.year) {
            return true;
        }
        return false;
    };
    return NgbDatepickerReplyYearsView;
}());
__decorate$31([
    _angular_core.Input(),
    __metadata$18("design:type", Number)
], NgbDatepickerReplyYearsView.prototype, "currentMonth", void 0);
__decorate$31([
    _angular_core.Input(),
    __metadata$18("design:type", Object)
], NgbDatepickerReplyYearsView.prototype, "year", void 0);
__decorate$31([
    _angular_core.Input(),
    __metadata$18("design:type", Boolean)
], NgbDatepickerReplyYearsView.prototype, "disabled", void 0);
__decorate$31([
    _angular_core.Input(),
    __metadata$18("design:type", Boolean)
], NgbDatepickerReplyYearsView.prototype, "focused", void 0);
__decorate$31([
    _angular_core.Input(),
    __metadata$18("design:type", Boolean)
], NgbDatepickerReplyYearsView.prototype, "selected", void 0);
__decorate$31([
    _angular_core.Input(),
    __metadata$18("design:type", Object)
], NgbDatepickerReplyYearsView.prototype, "startDateEnabled", void 0);
__decorate$31([
    _angular_core.Input(),
    __metadata$18("design:type", Object)
], NgbDatepickerReplyYearsView.prototype, "endDateEnabled", void 0);
NgbDatepickerReplyYearsView = __decorate$31([
    _angular_core.Component({
        selector: '[ngbDatepickerReplyYearsView]',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        host: {
            'class': 'btn-secondary-years',
            '[class.bg-primary]': 'selected',
            '[class.text-white]': 'selected',
            '[class.text-muted]': 'isMuted()',
            '[class.outside]': 'isMuted()',
            '[class.active]': 'focused'
        },
        template: "<div [ngClass]=\" abilitaAnni(year) ? 'ngbDatepickerReplyYearsView' : 'ngbDatepickerReplyYearsViewdisabled disabledView'\">{{ year.name }}</div>",
        styles: [":host{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem}:host.outside{opacity:.5} /*# sourceMappingURL=datepicker-reply-years-view.css.map */ "],
    })
], NgbDatepickerReplyYearsView);

var __decorate$32 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$19 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerReplyMonthView = (function () {
    function NgbDatepickerReplyMonthView() {
    }
    NgbDatepickerReplyMonthView.prototype.isMuted = function () { return false; };
    
    NgbDatepickerReplyMonthView.prototype.abilitaMesi = function (data) {
        if (this.startDateEnabled.month <= data.number && data.number <= this.endDateEnabled.month && (this.startDateEnabled.year <= this.year && this.year <= this.endDateEnabled.year)) {
            return true;
        }
        return false;
    };
    return NgbDatepickerReplyMonthView;
}());
__decorate$32([
    _angular_core.Input(),
    __metadata$19("design:type", Number)
], NgbDatepickerReplyMonthView.prototype, "currentMonth", void 0);
__decorate$32([
    _angular_core.Input(),
    __metadata$19("design:type", Object)
], NgbDatepickerReplyMonthView.prototype, "mese", void 0);
__decorate$32([
    _angular_core.Input(),
    __metadata$19("design:type", Object)
], NgbDatepickerReplyMonthView.prototype, "year", void 0);
__decorate$32([
    _angular_core.Input(),
    __metadata$19("design:type", Boolean)
], NgbDatepickerReplyMonthView.prototype, "disabled", void 0);
__decorate$32([
    _angular_core.Input(),
    __metadata$19("design:type", Boolean)
], NgbDatepickerReplyMonthView.prototype, "focused", void 0);
__decorate$32([
    _angular_core.Input(),
    __metadata$19("design:type", Boolean)
], NgbDatepickerReplyMonthView.prototype, "selected", void 0);
__decorate$32([
    _angular_core.Input(),
    __metadata$19("design:type", Object)
], NgbDatepickerReplyMonthView.prototype, "startDateEnabled", void 0);
__decorate$32([
    _angular_core.Input(),
    __metadata$19("design:type", Object)
], NgbDatepickerReplyMonthView.prototype, "endDateEnabled", void 0);
NgbDatepickerReplyMonthView = __decorate$32([
    _angular_core.Component({
        selector: '[ngbDatepickerReplyMonthView]',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        host: {
            'class': 'btn-secondary-month',
            '[class.bg-primary]': 'selected',
            '[class.text-white]': 'selected',
            '[class.text-muted]': 'isMuted()',
            '[class.outside]': 'isMuted()',
            '[class.active]': 'focused'
        },
        template: "<div [ngClass]=\" abilitaMesi(mese) ? 'ngbdatepickerreplymonthview' : 'ngbdatepickerreplymonthviewdisabled disabledView'\">{{ mese.name }}</div>",
        styles: [":host{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem}:host.outside{opacity:.5} /*# sourceMappingURL=datepicker-reply-month-view.css.map */ "],
    })
], NgbDatepickerReplyMonthView);

var __decorate$33 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$20 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NgbDatepickerNavigationSelect$1 = (function () {
    function NgbDatepickerNavigationSelect(i18n, calendar) {
        this.i18n = i18n;
        this.calendar = calendar;
        this.years = [];
        this.select = new _angular_core.EventEmitter();
        this.months = calendar.getMonths();
    }
    NgbDatepickerNavigationSelect.prototype.ngOnChanges = function (changes) {
        if (changes['maxDate'] || changes['minDate'] || changes['date']) {
            this._generateYears();
            this._generateMonths();
        }
    };
    NgbDatepickerNavigationSelect.prototype.changeMonth = function (month) { this.select.emit(new NgbDate$1(this.date.year, toInteger$1(month), 1)); };
    NgbDatepickerNavigationSelect.prototype.changeYear = function (year) { this.select.emit(new NgbDate$1(toInteger$1(year), this.date.month, 1)); };
    NgbDatepickerNavigationSelect.prototype._generateMonths = function () {
        var _this = this;
        this.months = this.calendar.getMonths();
        if (this.date && this.date.year === this.minDate.year) {
            var index = this.months.findIndex(function (month) { return month === _this.minDate.month; });
            this.months = this.months.slice(index);
        }
        if (this.date && this.date.year === this.maxDate.year) {
            var index = this.months.findIndex(function (month) { return month === _this.maxDate.month; });
            this.months = this.months.slice(0, index + 1);
        }
    };
    NgbDatepickerNavigationSelect.prototype._generateYears = function () {
        var _this = this;
        this.years = Array.from({ length: this.maxDate.year - this.minDate.year + 1 }, function (e, i) { return _this.minDate.year + i; });
    };
    return NgbDatepickerNavigationSelect;
}());
__decorate$33([
    _angular_core.Input(),
    __metadata$20("design:type", NgbDate$1)
], NgbDatepickerNavigationSelect$1.prototype, "date", void 0);
__decorate$33([
    _angular_core.Input(),
    __metadata$20("design:type", Boolean)
], NgbDatepickerNavigationSelect$1.prototype, "disabled", void 0);
__decorate$33([
    _angular_core.Input(),
    __metadata$20("design:type", NgbDate$1)
], NgbDatepickerNavigationSelect$1.prototype, "maxDate", void 0);
__decorate$33([
    _angular_core.Input(),
    __metadata$20("design:type", NgbDate$1)
], NgbDatepickerNavigationSelect$1.prototype, "minDate", void 0);
__decorate$33([
    _angular_core.Output(),
    __metadata$20("design:type", Object)
], NgbDatepickerNavigationSelect$1.prototype, "select", void 0);
NgbDatepickerNavigationSelect$1 = __decorate$33([
    _angular_core.Component({
        selector: 'ngb-datepicker-navigation-select',
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush,
        template: "<select [disabled]=\"disabled\" class=\"custom-select d-inline-block\" [value]=\"date?.month\" (change)=\"changeMonth($event.target.value)\" tabindex=\"-1\"><option *ngFor=\"let m of months\" [value]=\"m\">{{ i18n.getMonthShortName(m) }}</option></select> <select [disabled]=\"disabled\" class=\"custom-select d-inline-block\" [value]=\"date?.year\" (change)=\"changeYear($event.target.value)\" tabindex=\"-1\"><option *ngFor=\"let y of years\" [value]=\"y\">{{ y }}</option></select>",
        styles: ["select{padding:.25rem .5rem;font-size:.875rem;line-height:1.25;height:inherit;width:50%} /*# sourceMappingURL=datepicker-navigation-select.css.map */ "],
    }),
    __metadata$20("design:paramtypes", [NgbDatepickerI18n$2, NgbCalendar$1])
], NgbDatepickerNavigationSelect$1);

var __extends$12 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$35 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var NgbCalendarHijri$1 = (function (_super) {
    __extends$12(NgbCalendarHijri, _super);
    function NgbCalendarHijri() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NgbCalendarHijri.prototype.getDaysPerWeek = function () { return 7; };
    NgbCalendarHijri.prototype.getMonths = function () { return [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]; };
    NgbCalendarHijri.prototype.getWeeksPerMonth = function () { return 6; };
    NgbCalendarHijri.prototype.isValid = function (date) {
        return date && isNumber$1(date.year) && isNumber$1(date.month) && isNumber$1(date.day) &&
            !isNaN(this.toGregorian(date).getTime());
    };
    NgbCalendarHijri.prototype.setDay = function (date, day) {
        day = +day;
        var mDays = this.getDaysInIslamicMonth(date.month, date.year);
        if (day <= 0) {
            while (day <= 0) {
                date = this.setMonth(date, date.month - 1);
                mDays = this.getDaysInIslamicMonth(date.month, date.year);
                day += mDays;
            }
        }
        else if (day > mDays) {
            while (day > mDays) {
                day -= mDays;
                date = this.setMonth(date, date.month + 1);
                mDays = this.getDaysInIslamicMonth(date.month, date.year);
            }
        }
        date.day = day;
        return date;
    };
    NgbCalendarHijri.prototype.setMonth = function (date, month) {
        month = +month;
        date.year = date.year + Math.floor((month - 1) / 12);
        date.month = Math.floor(((month - 1) % 12 + 12) % 12) + 1;
        return date;
    };
    NgbCalendarHijri.prototype.setYear = function (date, yearValue) {
        date.year = +yearValue;
        return date;
    };
    NgbCalendarHijri.prototype._isIslamicLeapYear = function (year) { return (14 + 11 * year) % 30 < 11; };
    /**
     * Returns the start of Hijri Month.
     * `month` is 0 for Muharram, 1 for Safar, etc.
     * `year` is any Hijri year.
     */
    NgbCalendarHijri.prototype._getMonthStart = function (year, month) {
        return Math.ceil(29.5 * month) + (year - 1) * 354 + Math.floor((3 + 11 * year) / 30.0);
    };
    /**
     * Returns the start of Hijri year.
     * `year` is any Hijri year.
     */
    NgbCalendarHijri.prototype._getYearStart = function (year) { return (year - 1) * 354 + Math.floor((3 + 11 * year) / 30.0); };
    return NgbCalendarHijri;
}(NgbCalendar$1));
NgbCalendarHijri$1 = __decorate$35([
    _angular_core.Injectable()
], NgbCalendarHijri$1);

var __extends$11 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$34 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
function isGregorianLeapYear$1(date) {
    var year = date.getFullYear();
    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
}
function mod$1(a, b) {
    return a - b * Math.floor(a / b);
}
/**
 * The civil calendar is one type of Hijri calendars used in islamic countries.
 * Uses a fixed cycle of alternating 29- and 30-day months,
 * with a leap day added to the last month of 11 out of every 30 years.
 * http://cldr.unicode.org/development/development-process/design-proposals/islamic-calendar-types
 * All the calculations here are based on the equations from "Calendrical Calculations" By Edward M. Reingold, Nachum
 * Dershowitz.
 */
var GREGORIAN_EPOCH$1 = 1721425.5;
var ISLAMIC_EPOCH$1 = 1948439.5;
var NgbCalendarIslamicCivil$1 = (function (_super) {
    __extends$11(NgbCalendarIslamicCivil, _super);
    function NgbCalendarIslamicCivil() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * Returns the equivalent islamic(civil) date value for a give input Gregorian date.
     * `gdate` is a JS Date to be converted to Hijri.
     */
    NgbCalendarIslamicCivil.prototype.fromGregorian = function (gdate) {
        var date = new Date(gdate);
        var gYear = date.getFullYear(), gMonth = date.getMonth(), gDay = date.getDate();
        var julianDay = GREGORIAN_EPOCH$1 - 1 + 365 * (gYear - 1) + Math.floor((gYear - 1) / 4) +
            -Math.floor((gYear - 1) / 100) + Math.floor((gYear - 1) / 400) +
            Math.floor((367 * (gMonth + 1) - 362) / 12 + (gMonth + 1 <= 2 ? 0 : isGregorianLeapYear$1(date) ? -1 : -2) + gDay);
        julianDay = Math.floor(julianDay) + 0.5;
        var days = julianDay - ISLAMIC_EPOCH$1;
        var hYear = Math.floor((30 * days + 10646) / 10631.0);
        var hMonth = Math.ceil((days - 29 - this._getYearStart(hYear)) / 29.5);
        hMonth = Math.min(hMonth, 11);
        var hDay = Math.ceil(days - this._getMonthStart(hYear, hMonth)) + 1;
        return new NgbDate$1(hYear, hMonth + 1, hDay);
    };
    /**
     * Returns the equivalent JS date value for a give input islamic(civil) date.
     * `hijriDate` is an islamic(civil) date to be converted to Gregorian.
     */
    NgbCalendarIslamicCivil.prototype.toGregorian = function (hijriDate) {
        var hYear = hijriDate.year;
        var hMonth = hijriDate.month - 1;
        var hDate = hijriDate.day;
        var julianDay = hDate + Math.ceil(29.5 * hMonth) + (hYear - 1) * 354 + Math.floor((3 + 11 * hYear) / 30) + ISLAMIC_EPOCH$1 - 1;
        var wjd = Math.floor(julianDay - 0.5) + 0.5, depoch = wjd - GREGORIAN_EPOCH$1, quadricent = Math.floor(depoch / 146097), dqc = mod$1(depoch, 146097), cent = Math.floor(dqc / 36524), dcent = mod$1(dqc, 36524), quad = Math.floor(dcent / 1461), dquad = mod$1(dcent, 1461), yindex = Math.floor(dquad / 365);
        var year = quadricent * 400 + cent * 100 + quad * 4 + yindex;
        if (!(cent === 4 || yindex === 4)) {
            year++;
        }
        var gYearStart = GREGORIAN_EPOCH$1 + 365 * (year - 1) + Math.floor((year - 1) / 4) - Math.floor((year - 1) / 100) +
            Math.floor((year - 1) / 400);
        var yearday = wjd - gYearStart;
        var tjd = GREGORIAN_EPOCH$1 - 1 + 365 * (year - 1) + Math.floor((year - 1) / 4) - Math.floor((year - 1) / 100) +
            Math.floor((year - 1) / 400) + Math.floor(739 / 12 + (isGregorianLeapYear$1(new Date(year, 3, 1)) ? -1 : -2) + 1);
        var leapadj = wjd < tjd ? 0 : isGregorianLeapYear$1(new Date(year, 3, 1)) ? 1 : 2;
        var month = Math.floor(((yearday + leapadj) * 12 + 373) / 367);
        var tjd2 = GREGORIAN_EPOCH$1 - 1 + 365 * (year - 1) + Math.floor((year - 1) / 4) - Math.floor((year - 1) / 100) +
            Math.floor((year - 1) / 400) +
            Math.floor((367 * month - 362) / 12 + (month <= 2 ? 0 : isGregorianLeapYear$1(new Date(year, month - 1, 1)) ? -1 : -2) +
                1);
        var day = wjd - tjd2 + 1;
        return new Date(year, month - 1, day);
    };
    /**
     * Returns the number of days in a specific Hijri month.
     * `month` is 1 for Muharram, 2 for Safar, etc.
     * `year` is any Hijri year.
     */
    NgbCalendarIslamicCivil.prototype.getDaysInIslamicMonth = function (month, year) {
        year = year + Math.floor(month / 13);
        month = ((month - 1) % 12) + 1;
        var length = 29 + month % 2;
        if (month === 12 && this._isIslamicLeapYear(year)) {
            length++;
        }
        return length;
    };
    NgbCalendarIslamicCivil.prototype.getNext = function (date, period, number) {
        if (period === void 0) { period = 'd'; }
        if (number === void 0) { number = 1; }
        date = NgbDate$1.from(date);
        switch (period) {
            case 'y':
                date = this.setYear(date, date.year + number);
                date.month = 1;
                date.day = 1;
                return date;
            case 'm':
                date = this.setMonth(date, date.month + number);
                date.day = 1;
                return date;
            case 'd':
                return this.setDay(date, date.day + number);
            default:
                return date;
        }
    };
    NgbCalendarIslamicCivil.prototype.getPrev = function (date, period, number) {
        if (period === void 0) { period = 'd'; }
        if (number === void 0) { number = 1; }
        return this.getNext(date, period, -number);
    };
    NgbCalendarIslamicCivil.prototype.getWeekday = function (date) {
        var day = this.toGregorian(date).getDay();
        // in JS Date Sun=0, in ISO 8601 Sun=7
        return day === 0 ? 7 : day;
    };
    NgbCalendarIslamicCivil.prototype.getWeekNumber = function (week, firstDayOfWeek) {
        // in JS Date Sun=0, in ISO 8601 Sun=7
        if (firstDayOfWeek === 7) {
            firstDayOfWeek = 0;
        }
        var thursdayIndex = (4 + 7 - firstDayOfWeek) % 7;
        var date = week[thursdayIndex];
        var jsDate = this.toGregorian(date);
        jsDate.setDate(jsDate.getDate() + 4 - (jsDate.getDay() || 7)); // Thursday
        var time = jsDate.getTime();
        var MuhDate = this.toGregorian(new NgbDate$1(date.year, 1, 1)); // Compare with Muharram 1
        return Math.floor(Math.round((time - MuhDate.getTime()) / 86400000) / 7) + 1;
    };
    NgbCalendarIslamicCivil.prototype.getToday = function () { return this.fromGregorian(new Date()); };
    return NgbCalendarIslamicCivil;
}(NgbCalendarHijri$1));
NgbCalendarIslamicCivil$1 = __decorate$34([
    _angular_core.Injectable()
], NgbCalendarIslamicCivil$1);

var __decorate$19 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
exports.RplCalendarModule = RplCalendarModule_1 = (function () {
    function RplCalendarModule() {
    }
    RplCalendarModule.forRoot = function () {
        return {
            ngModule: RplCalendarModule_1,
            providers: [
                { provide: NgbCalendar$1, useClass: NgbCalendarGregorian$1 },
                { provide: NgbDatepickerI18n$2, useClass: NgbDatepickerI18nDefault$1 },
                { provide: NgbDateParserFormatter$2, useClass: NgbDateISOParserFormatter$1 }, NgbDatepickerConfig$1
            ]
        };
    };
    return RplCalendarModule;
}());
exports.RplCalendarModule = RplCalendarModule_1 = __decorate$19([
    _angular_core.NgModule({
        declarations: [
            RplCalendar,
            NgbDatepickerRoutingView,
            NgbDatepickerNavigation$1,
            NgbDatepickerNavigationSelect$1,
            NgbDatepickerDayView$1,
            NgbDatepickerReplyMonthView,
            NgbDatepickerReplyYearsView,
            NgbInputDatepicker$2
        ],
        exports: [RplCalendar, NgbInputDatepicker$2],
        imports: [_angular_common.CommonModule, _angular_forms.FormsModule],
        entryComponents: [RplCalendar]
    })
], exports.RplCalendarModule);
var RplCalendarModule_1;

var __extends$14 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$37 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$22 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var I18N_VALUES$1 = {
    'it': {
        weekdays: ['Lu', 'Ma', 'Me', 'Gi', 'Ve', 'Sa', 'Do'],
        months: ['Gen', 'Feb', 'Mar', 'Apr', 'Mag', 'Giu', 'Lug', 'Ago', 'Set', 'Ott', 'Nov', 'Dic'],
        fullMonths: ['Gennaio', 'Febbraio', 'Marzo', 'Aprile', 'Maggio', 'Giugno',
            'Luglio', 'Agosto', 'Settembre', 'Ottobre', 'Novembre', 'Dicembre']
    }
    // other languages you would support
};
// Define a service holding the language. You probably already have one if your app is i18ned. Or you could also
// use the Angular LOCALE_ID value
var I18n$1 = (function () {
    function I18n() {
        this.language = 'it';
    }
    return I18n;
}());
I18n$1 = __decorate$37([
    _angular_core.Injectable()
], I18n$1);
// Define custom service providing the months and weekdays translations
var NbpDatepickerItI18n$1 = (function (_super) {
    __extends$14(NbpDatepickerItI18n, _super);
    function NbpDatepickerItI18n(_i18n) {
        var _this = _super.call(this) || this;
        _this._i18n = _i18n;
        _this.model = { year: 2017, month: 8, day: 8 };
        return _this;
    }
    NbpDatepickerItI18n.prototype.getWeekdayShortName = function (weekday) {
        return I18N_VALUES$1[this._i18n.language].weekdays[weekday - 1];
    };
    NbpDatepickerItI18n.prototype.getMonthShortName = function (month) {
        return I18N_VALUES$1[this._i18n.language].months[month - 1];
    };
    NbpDatepickerItI18n.prototype.getMonthFullName = function (month) {
        return I18N_VALUES$1[this._i18n.language].fullMonths[month - 1];
    };
    return NbpDatepickerItI18n;
}(NgbDatepickerI18n$2));
NbpDatepickerItI18n$1 = __decorate$37([
    _angular_core.Injectable(),
    __metadata$22("design:paramtypes", [I18n$1])
], NbpDatepickerItI18n$1);
var NbpDatepickerConfiguration$1 = (function () {
    function NbpDatepickerConfiguration() {
        this.separator = '.';
    }
    return NbpDatepickerConfiguration;
}());
NbpDatepickerConfiguration$1 = __decorate$37([
    _angular_core.Injectable()
], NbpDatepickerConfiguration$1);
var NbpItDateParserFormatter$1 = (function (_super) {
    __extends$14(NbpItDateParserFormatter, _super);
    function NbpItDateParserFormatter(configuration) {
        var _this = _super.call(this) || this;
        _this.configuration = configuration;
        return _this;
    }
    NbpItDateParserFormatter.prototype.padNumber = function (value) {
        if (this.isNumber(value)) {
            return ("0" + value).slice(-2);
        }
        else {
            return '';
        }
    };
    NbpItDateParserFormatter.prototype.isNumber = function (value) {
        return !isNaN(this.toInteger(value));
    };
    NbpItDateParserFormatter.prototype.toInteger = function (value) {
        return parseInt("" + value, 10);
    };
    NbpItDateParserFormatter.prototype.parse = function (value) {
        if (value) {
            var dateParts = value.trim().split('.');
            if (dateParts.length === 1 && this.isNumber(dateParts[0])) {
                return { day: this.toInteger(dateParts[0]), month: null, year: null };
            }
            else if (dateParts.length === 2 && this.isNumber(dateParts[0]) && this.isNumber(dateParts[1])) {
                return { day: this.toInteger(dateParts[0]), month: this.toInteger(dateParts[1]), year: null };
            }
            else if (dateParts.length === 3 && this.isNumber(dateParts[0]) && this.isNumber(dateParts[1]) && this.isNumber(dateParts[2])) {
                return { day: this.toInteger(dateParts[0]), month: this.toInteger(dateParts[1]), year: this.toInteger(dateParts[2]) };
            }
        }
        return null;
    };
    NbpItDateParserFormatter.prototype.format = function (date) {
        return date ?
            "" + (this.isNumber(date.day) ? this.padNumber(date.day) : '') + this.configuration.separator + (this.isNumber(date.month) ? this.padNumber(date.month) : '') + this.configuration.separator + date.year : '';
    };
    return NbpItDateParserFormatter;
}(NgbDateParserFormatter$2));
NbpItDateParserFormatter$1 = __decorate$37([
    _angular_core.Injectable(),
    __metadata$22("design:paramtypes", [NbpDatepickerConfiguration$1])
], NbpItDateParserFormatter$1);

var __extends$13 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$36 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$21 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$1 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * Provider Expression that allows nbp-calendar-generic to register as a ControlValueAccessor.
 * This allows it to support [(ngModel)].
 * @docs-private
 */
var NBP_CALENDAR_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpCalendarGenericComponent; }),
    multi: true
};
var NBP_INPUT_CALENDAR_ELEMENT_BASE = {
    provide: NbpInputElementBase,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpCalendarGenericComponent; }),
    multi: true
};
/** intero autogenerato usato per id unici per nbpCombo component */
var nextId$2 = 0;
exports.NbpCalendarGenericComponent = (function (_super) {
    __extends$13(NbpCalendarGenericComponent, _super);
    function NbpCalendarGenericComponent(enabledRange, validatori, asyncValidatori, parentFormContainer, element, inj) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.enabledRange = enabledRange;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        _this.parentFormContainer = parentFormContainer;
        _this.element = element;
        _this.inj = inj;
        /**
         * Identificativo univoco per il text field.
         * Se nessun id  fornito e' auto-generato.
         */
        _this.id = "nbp-calendar-generic-" + ++nextId$2;
        /**
         * testo del placeholder
         * Valore di Default: "dd.mm.yyyy"
         */
        _this.placeholder = 'dd.mm.yyyy';
        _this.showErrorLabel = true;
        _this.ngbMaxDate = { day: 31, month: 12, year: 2050 };
        _this.nbpMaxDate = new Date(_this.ngbMaxDate.year, (_this.ngbMaxDate.month - 1), _this.ngbMaxDate.day);
        // set maxDate(maxDate: Date) {
        //   this.nbpMaxDate = maxDate;
        //   this.ngbMaxDate = this.parseDateStructFromDate(maxDate) as NgbDateStruct;
        // }
        _this.ngbMinDate = { day: 1, month: 1, year: 1970 };
        _this.nbpMinDate = new Date(_this.ngbMinDate.year, (_this.ngbMinDate.month - 1), _this.ngbMinDate.day);
        _this.nbpOnNavigate = new _angular_core.EventEmitter();
        /**
         * (Opzionale) Paramentro che indica l'ordine di spostamento da un campo all'altro attraverso il tab.
         */
        _this.tabindex = 0;
        return _this;
    }
    Object.defineProperty(NbpCalendarGenericComponent.prototype, "nbpShowValidation", {
        /**
       * (Opzionale)
       * Booleano che consente di visualizzare i messaggi di feedback relativi alla validazione.
       * Valore di default false
       */
        get: function () {
            if (this.parentFormContainer) {
                this._nbpShowValidation = this.parentFormContainer.nbpShowValidation;
            }
            return this._nbpShowValidation;
        },
        set: function (value) { this._nbpShowValidation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpCalendarGenericComponent.prototype, "maxDate", {
        /**
         * La massima data accettata dal componente e visualizzata nel calendario
         * Valore di Default: 31.12.2050
         */
        get: function () {
            return this.nbpMaxDate;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpCalendarGenericComponent.prototype, "minDate", {
        /**
         * La minima data accettata dal componente e visualizzata nel calendario
         * Valore di Default: 01.01.1970
         */
        get: function () {
            return this.nbpMinDate;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpCalendarGenericComponent.prototype, "startDateEnabled", {
        /**
         * Data di inizio delle date abilitate/selezionabili.
         */
        get: function () {
            return this._startDateEnabled;
        },
        set: function (value) { this._startDateEnabled = value ? value : this.ngbMinDate; },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpCalendarGenericComponent.prototype, "endDateEnabled", {
        /**
         * Data di fine delle date abilitate/selezionabili.
         */
        get: function () {
            return this._endDateEnabled;
        },
        set: function (value) { this._endDateEnabled = value ? value : this.ngbMaxDate; },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpCalendarGenericComponent.prototype, "disabled", {
        /**
         * Flag che abilita/disabilita le funzionalit associate al calendar
         */
        get: function () {
            if (this.parentFormContainer && this.parentFormContainer.disabled) {
                this._nbpDisabled = true;
            }
            return this._nbpDisabled;
        },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpCalendarGenericComponent.prototype, "required", {
        /**
         * Flag che imposta come obbligatorio o meno il campo di input (disabilitato) associato al calendar
         */
        get: function () { return this._nbpRequired; },
        set: function (value) { this._nbpRequired = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpCalendarGenericComponent.prototype.ngOnInit = function () {
        this.ngControl = this.inj.get(_angular_forms.NgControl);
        this.ngControl = this.inj.get(_angular_forms.NgControl);
        this.enabledRange.startDate = this.ngbMinDate;
        this.enabledRange.endDate = this.ngbMaxDate;
        if (this.startDateEnabled)
            this.enabledRange.startDate = this.startDateEnabled;
        if (this.endDateEnabled)
            this.enabledRange.endDate = this.endDateEnabled;
        if (this.firstFocus) {
            this.elementRef.nativeElement.focus();
            this.elementRef.nativeElement.click();
            // this._focusActive = true;
        }
    };
    NbpCalendarGenericComponent.prototype.validaData = function (data) {
        var buffer = new Date(data.year, data.month - 1, data.day);
        var startDate = new Date(this._startDateEnabled.year, this._startDateEnabled.month - 1, this._startDateEnabled.day);
        var endDate = new Date(this._endDateEnabled.year, this._endDateEnabled.month - 1, this._endDateEnabled.day);
        if (startDate <= buffer && buffer <= endDate) {
            return true;
        }
        return false;
    };
    NbpCalendarGenericComponent.prototype._ngbModelChanged = function (event) {
        // if(!this.validaData(event)){
        //   return this._ngbModel.invalid = true;
        // }
        this.value = this.parseDateFromDateStruct(event);
    };
    NbpCalendarGenericComponent.prototype.parseDateFromDateStruct = function (value) {
        return (value && value instanceof Date) ? new Date(value.year, value.month - 1, value.day) : value;
    };
    NbpCalendarGenericComponent.prototype._onNavigate = function (navigateEvent) {
        var _current = navigateEvent.current
            ? new Date(navigateEvent.current.year, (navigateEvent.current.month - 1), 1)
            : navigateEvent.current;
        var _next = navigateEvent.next.year
            ? new Date(navigateEvent.next.year, (navigateEvent.next.month - 1), 1)
            : navigateEvent.next.year;
        this.nbpOnNavigate.emit({ current: _current, next: _next });
    };
    return NbpCalendarGenericComponent;
}(NbpInputElementBase));
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", RegExp)
], exports.NbpCalendarGenericComponent.prototype, "pattern", void 0);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", String)
], exports.NbpCalendarGenericComponent.prototype, "name", void 0);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", String)
], exports.NbpCalendarGenericComponent.prototype, "id", void 0);
__decorate$36([
    _angular_core.HostBinding('class.nbp-show-validation'),
    _angular_core.Input(),
    __metadata$21("design:type", Boolean),
    __metadata$21("design:paramtypes", [Object])
], exports.NbpCalendarGenericComponent.prototype, "nbpShowValidation", null);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", String)
], exports.NbpCalendarGenericComponent.prototype, "placeholder", void 0);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", String)
], exports.NbpCalendarGenericComponent.prototype, "nbpErrorMessage", void 0);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Boolean)
], exports.NbpCalendarGenericComponent.prototype, "showErrorLabel", void 0);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Object),
    __metadata$21("design:paramtypes", [])
], exports.NbpCalendarGenericComponent.prototype, "maxDate", null);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Object),
    __metadata$21("design:paramtypes", [])
], exports.NbpCalendarGenericComponent.prototype, "minDate", null);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Object),
    __metadata$21("design:paramtypes", [Object])
], exports.NbpCalendarGenericComponent.prototype, "startDateEnabled", null);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Object),
    __metadata$21("design:paramtypes", [Object])
], exports.NbpCalendarGenericComponent.prototype, "endDateEnabled", null);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Boolean),
    __metadata$21("design:paramtypes", [Object])
], exports.NbpCalendarGenericComponent.prototype, "disabled", null);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Boolean),
    __metadata$21("design:paramtypes", [Object])
], exports.NbpCalendarGenericComponent.prototype, "required", null);
__decorate$36([
    _angular_core.Output(),
    __metadata$21("design:type", _angular_core.EventEmitter)
], exports.NbpCalendarGenericComponent.prototype, "nbpOnNavigate", void 0);
__decorate$36([
    _angular_core.ViewChild('rplDatepicker'),
    __metadata$21("design:type", NgbInputDatepicker$2)
], exports.NbpCalendarGenericComponent.prototype, "rplDatepicker", void 0);
__decorate$36([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$21("design:type", _angular_forms.NgModel)
], exports.NbpCalendarGenericComponent.prototype, "model", void 0);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Boolean)
], exports.NbpCalendarGenericComponent.prototype, "firstFocus", void 0);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Boolean)
], exports.NbpCalendarGenericComponent.prototype, "focusOn", void 0);
__decorate$36([
    _angular_core.Input(),
    __metadata$21("design:type", Number)
], exports.NbpCalendarGenericComponent.prototype, "tabindex", void 0);
__decorate$36([
    _angular_core.ViewChild('autoFocusCalendar'),
    __metadata$21("design:type", _angular_core.ElementRef)
], exports.NbpCalendarGenericComponent.prototype, "elementRef", void 0);
exports.NbpCalendarGenericComponent = __decorate$36([
    _angular_core.Component({
        selector: 'nbp-calendar-generic',
        template: "<div class=\"form-group\"><div class=\"input-group\"><input rplCalendar #rplCalendar=\"rplCalendar\" [id]=\"id\" [name]=\"name\" [ngModel]=\"value\" (ngModelChange)=\"_ngbModelChanged($event)\" [required]=\"required\" [disabled]=\"disabled\" [maxDate]=\"ngbMaxDate\" [minDate]=\"ngbMinDate\" (navigate)=\"_onNavigate($event)\" navigation=\"arrows\" class=\"form-control\" [pattern]=\"pattern\" placeholder=\"dd.mm.yyyy\" [tabindex]=\"tabindex\" #autoFocusCalendar><i class=\"icon-calendar button-icon\" [ngClass]=\"{'disabled': disabled}\" (click)=\"rplCalendar.toggle()\"></i></div></div>",
        styles: [".form-control::-ms-clear{display:none;width:0;height:0}.day{border-radius:0!important;box-sizing:border-box;text-align:center;width:inherit!important;height:inherit!important;line-height:2.6em!important;vertical-align:middle;color:#258900;border-left:#d3d3d3 solid 1px;border-right:#d3d3d3 solid 1px;border-bottom:#d3d3d3 solid 1px;border-collapse:separate;border-spacing:0}.icon{width:2rem;height:2rem}.day.greyed{color:#d3d3d3}.day:hover{color:#fff;background-color:#258900;cursor:pointer}:host::ng-deep .header-navigation-date{min-width:133px;min-height:100%;cursor:pointer}:host::ng-deep div[ngbdatepickerreplymonthview]{border-radius:0!important;box-sizing:border-box;text-align:center;min-width:79.2px!important;height:45px!important;line-height:45px!important;vertical-align:middle!important;color:#258900;border-right:#d3d3d3 solid 1px;border-top:#d3d3d3 solid 1px;border-collapse:collapse;border-spacing:0}:host::ng-deep div[ngbdatepickerreplymonthview]:hover .ngbdatepickerreplymonthview{background-color:#c7ecbb;color:#000}:host::ng-deep div[ngbdatepickerreplyyearsview]{border-radius:0!important;box-sizing:border-box;text-align:center;min-width:79.2px!important;height:45px!important;line-height:45px!important;vertical-align:middle!important;color:#258900;border-right:#d3d3d3 solid 1px;border-top:#d3d3d3 solid 1px;border-collapse:collapse;border-spacing:0}:host::ng-deep div[ngbdatepickerreplyyearsview]:hover .ngbDatepickerReplyYearsViewdisabled{background-color:#c7ecbb;color:#000}:host::ng-deep .form-inline{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1em}:host::ng-deep .form-inline .form-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-flow:row wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:0}:host::ng-deep .input-group{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}:host(.ng-touched.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.ng-touched.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host(.ng-dirty.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.ng-dirty.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host::ng-deep .input-group .form-control,:host::ng-deep .input-group-addon,:host::ng-deep .input-group-btn{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}:host::ng-deep .form-control{display:block;width:100%;height:3.125em;color:#464a4c;background-color:#fff;background-image:none;background-clip:padding-box;border-radius:.15em!important;transition:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;border:1px solid #323232!important}:host::ng-deep .form-control:active:not([disabled]),:host::ng-deep .form-control:focus:not([disabled]){border:1px solid #258900!important}:host::ng-deep .form-control[disabled]{border:1px solid #ccc!important;color:#ccc;user-select:none}:host::ng-deep .input-group-addon{padding:.5em .75em;margin-bottom:0;font-size:1em;font-weight:400;line-height:1.25;color:#258900;text-align:center;background-color:#fff!important;border-top-color:rgba(0,0,0,.15);border-top-style:solid;border-top-width:1px;border-right-color:rgba(0,0,0,.15);border-right-style:solid;border-right-width:1px;border-bottom-color:rgba(0,0,0,.15);border-bottom-style:solid;border-bottom-width:1px;border-left-style:none!important;border-left-width:0!important;border-left-color:none!important}:host::ng-deep .input-group-addon img{width:1.2em;height:1em;cursor:pointer}:host::ng-deep .form-control+.input-group-addon:not(:first-child){border-left:0}:host::ng-deep .button-calendar{background-color:#fff;border-bottom:1px solid #d3d3d3;border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:none;color:#258900;right:21px;position:relative;margin-right:-21px}:host::ng-deep .dropdown-menu{position:absolute;top:100%;left:0;display:none;float:left;min-width:10em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#1d1d1d;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;padding:0;top:24px;left:0;border-radius:0!important;border:none!important}:host::ng-deep .d-inline-block{display:inline-block!important}:host::ng-deep .rounded{border-radius:.25em}:host::ng-deep .ngb-dp-header{height:4em!important;margin-bottom:-1.5em!important;border-bottom:none!important}:host::ng-deep .pt-1{padding-top:0!important;height:4.25em;margin-bottom:-2em}:host::ng-deep .rounded-top{border-top-right-radius:.25em;border-top-left-radius:.25em;border-radius:0!important}:host::ng-deep .bg-faded{background-color:#fff!important}:host::ng-deep ngb-datepicker-navigation{height:2em;line-height:1.85em}:host::ng-deep .justify-content-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}:host::ng-deep .d-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}:host::ng-deep .btn-link{cursor:pointer;outline:#d3d3d3 solid 1px!important}:host::ng-deep .btn-link,:host::ng-deep .btn-link:active,:host::ng-deep .btn-link:focus{border-color:transparent}:host::ng-deep .btn-link,:host::ng-deep .btn-link.active,:host::ng-deep .btn-link:active,:host::ng-deep .btn-link:disabled{background-color:transparent}:host::ng-deep .btn-link{font-weight:400;color:#258900;border-radius:0}:host::ng-deep button,:host::ng-deep input,:host::ng-deep select,:host::ng-deep textarea{line-height:inherit}:host::ng-deep [role=button],:host::ng-deep a,:host::ng-deep area,:host::ng-deep button,:host::ng-deep input,:host::ng-deep label,:host::ng-deep select,:host::ng-deep summary,:host::ng-deep textarea{-ms-touch-action:manipulation;touch-action:manipulation}:host::ng-deep button{-webkit-appearance:button}:host::ng-deep button,:host::ng-deep select{text-transform:none}:host::ng-deep button,:host::ng-deep input{overflow:visible}:host::ng-deep button,:host::ng-deep input,:host::ng-deep optgroup,:host::ng-deep select,:host::ng-deep textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}:host::ng-deep .ngb-dp-navigation-chevron::before{border-style:solid;border-width:.1em .1em 0 0!important;content:'';display:inline-block;height:.75em!important;transform:rotate(-135deg);-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);width:.75em!important;margin:0 0 0 .5em!important;color:grey}:host::ng-deep .ngb-dp-navigation-chevron.right:before{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);margin:0 .5em 0 0!important}:host::ng-deep .d-block{display:block!important}:host::ng-deep ngb-datepicker-navigation-select.d-block{width:9em!important}:host::ng-deep select{padding:.25em .5em;font-size:.875em;line-height:1.25;height:inherit;width:50%}:host::ng-deep .d-inline-block{display:inline-block!important}:host::ng-deep select.custom-select.d-inline-block{padding:.25em .5rem!important;font-size:.875em!important;line-height:1.25;height:inherit;width:50%}:host::ng-deep .custom-select{display:inline-block;max-width:100%;height:calc(4.25em);padding:.375em 1.75em .375em .75em;line-height:1.25;color:#464a4c;vertical-align:middle;border:1px solid rgba(0,0,0,.15);border-radius:.25em;-moz-appearance:none;-webkit-appearance:none}:host::ng-deep .px-1{padding-left:0!important;padding-right:0!important}:host::ng-deep .pb-1{padding-bottom:.25em!important}:host::ng-deep .ngb-dp-month:first-child{margin-left:0!important}:host::ng-deep .ngb-dp-month{pointer-events:none}:host::ng-deep .ml-3{margin-left:1em!important}:host::ng-deep .ngb-dp-day{width:45px!important;height:45px!important;cursor:pointer}:host::ng-deep .ngb-dp-week-number,:host::ng-deep .ngb-dp-weekday{width:45px!important;height:35px!important}:host::ng-deep .ngb-dp-day{position:relative;box-sizing:border-box}:host::ng-deep .ngb-dp-week.d-flex:not(:first-child){border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-week.d-flex:first-child{border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:1px solid #d3d3d3}:host::ng-deep ngb-datepicker-navigation.d-flex{height:2.5em!important;line-height:1.8em!important;border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-week-number,:host::ng-deep .ngb-dp-weekday{line-height:35px!important}:host::ng-deep .text-info{color:#5bc0de!important}:host::ng-deep .font-italic{font-style:italic}:host::ng-deep .outside{opacity:.5}:host::ng-deep ngb-dp-day>div{text-align:center;width:45px;height:45px;line-height:45px;border-radius:0!important}:host::ng-deep div[ngbdatepickerdayview]{border-radius:0!important;box-sizing:border-box;text-align:center;width:45px!important;height:45px!important;line-height:45px!important;vertical-align:middle!important}:host::ng-deep div[ngbdatepickerdayviewdisabled]{border-radius:0!important;box-sizing:border-box;text-align:center;width:45px!important;height:45px!important;line-height:45px!important;vertical-align:middle!important}:host::ng-deep .ngbdatepickerdayviewdisabled{cursor:default}:host::ng-deep .ngbdatepickerreplymonthviewdisabled{cursor:default;opacity:.5;color:#258900!important}:host::ng-deep .ngbdatepickerreplymonthviewdisabled:hover{background-color:#fff!important}:host::ng-deep .ngbDatepickerReplyYearsViewdisabled{cursor:default;opacity:.5;background-color:#fff!important;color:#258900!important}:host::ng-deep .ngbDatepickerReplyYearsViewdisabled:hover{background-color:#fff!important}:host::ng-deep .text-muted{color:#636c72!important}:host::ng-deep .btn-secondary{color:#258900;background-color:#fff;border-color:#ccc;font-weight:700;font-size:.8em}:host::ng-deep .btn-secondary-month{color:#258900;background-color:#fff;border-color:#ccc;font-weight:700;font-size:.8em}:host::ng-deep .btn-secondary-years{color:#258900;background-color:#fff;border-color:#ccc;font-weight:700;font-size:.8em}:host::ng-deep .text-white{color:#fff!important}:host::ng-deep .bg-primary :not(.disabledView){background-color:#258900!important}:host::ng-deep .bg-primary::before{border-bottom:8px solid #fff;border-left:8px solid transparent;border-right:8px solid transparent;position:absolute;top:0;right:-8px;content:'';display:inline-block;width:0;height:0;margin:0;padding:0;transform:rotate(45deg);transform-origin:top}:host::ng-deep .text-center{text-align:center!important}:host::ng-deep .small,:host::ng-deep small{font-size:80%;font-weight:400}:host::ng-deep .ngb-dp-months.pb-1{padding:0!important}:host::ng-deep .input-group>input.form-control{padding-left:.625em;padding-right:2.5em}:host::ng-deep .ngb-dp-day:not(:first-child)>.btn-secondary{border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-day:not(:first-child)>.btn-secondary-month{border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-day:not(:first-child)>.btn-secondary-years{border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-weekday.font-italic{font-family:'Arial Bold',Arial;font-weight:700;font-style:normal!important;font-size:.75em;color:#6f6f6f!important;text-align:center;text-transform:uppercase}:host::ng-deep button.btn-link{color:#258900!important}:host::ng-deep .collapsed{margin-bottom:-2em!important}:host::ng-deep .ngb-dp-month-name{font-size:.8em!important;padding-top:1em!important;font-weight:700;text-transform:uppercase;color:#258900;position:absolute;text-align:center!important;top:0;height:3.2em!important;width:11.4em;line-height:1.42857143em!important;word-wrap:break-word;word-break:break-word;left:0;right:0;margin-left:auto;margin-right:auto}:host::ng-deep .ngb-dp-weekday{width:2.666666666666667em!important}.button-icon{cursor:pointer;position:relative;top:.001em;right:1.6em;z-index:2;color:#258900;font-size:1.5em;line-height:2.083em}.button-icon.disabled{cursor:not-allowed;pointer-events:none;color:#ccc}.contrasto-on :host::ng-deep div[ngbdatepickerdayview]{color:#000}.contrasto-on :host::ng-deep .bg-primary :not(.disabledView){color:#fff!important;background-color:#000!important}.contrasto-on :host::ng-deep div[ngbdatepickerreplymonthview]{color:#000;border:#d3d3d3 solid 1px}.contrasto-on :host::ng-deep div[ngbdatepickerreplymonthview]:hover .ngbdatepickerreplymonthview{background-color:#000;color:#fff}.contrasto-on :host::ng-deep div[ngbdatepickerreplyyearsview]{color:#000;border:#d3d3d3 solid 1px}.contrasto-on :host::ng-deep div[ngbdatepickerreplyyearsview]:hover .ngbDatepickerReplyYearsView{background-color:#000;color:#fff}.contrasto-on :host::ng-deep .ngb-dp-month-name{color:#000}.contrasto-on :host::ng-deep .ngb-dp-weekda{color:#000!important}.contrasto-on :host::ng-deep .ngbdatepickerdayviewdisabled{color:#fff!important;background-color:#000!important;opacity:.5}.contrasto-on :host::ng-deep .ngb-dp-navigation-chevron::before{color:#000!important}.contrasto-on :host::ng-deep .ngb-dp-weekday{color:#000!important}.contrasto-on :host::ng-deep .ngbdatepickerreplymonthviewdisabled{color:#000!important}.contrasto-on :host::ng-deep .ngbDatepickerReplyYearsViewdisabled{color:#000!important}:host-context(.contrasto-on) .button-icon{color:#000} /*# sourceMappingURL=nbp-calendar-generic.component.css.map */ "],
        providers: [
            EnabledRangeService,
            I18n$1,
            NbpDatepickerConfiguration$1,
            { provide: NgbDatepickerI18n$2, useClass: NbpDatepickerItI18n$1 },
            { provide: NgbDateParserFormatter$2, useClass: NbpItDateParserFormatter$1 },
            NBP_CALENDAR_CONTROL_VALUE_ACCESSOR,
            NBP_INPUT_CALENDAR_ELEMENT_BASE
        ]
    }),
    __param$1(1, _angular_core.Optional()), __param$1(1, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$1(2, _angular_core.Optional()), __param$1(2, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __param$1(3, _angular_core.Optional()),
    __metadata$21("design:paramtypes", [EnabledRangeService, Array, Array, exports.NbpFormContainerComponent,
        _angular_core.ElementRef,
        _angular_core.Injector])
], exports.NbpCalendarGenericComponent);

/**
 * Enum per la definizione del colore dei componenti della libreria
 * PRIMARY - Green
 * SECONDARY - White
 * DEFAULT - Grey
 * OUTLINE - Background transparent
 * DEFAULT_L - Grey + Float left
 * DEFAULT_R - Grey + Float right
 * PRIMARY_L - Green + Float left
 * PRIMARY_R - Green + Float right
 */
/**
 * Enum per la definizione del colore dei componenti della libreria
 * PRIMARY - Green
 * SECONDARY - White
 * DEFAULT - Grey
 * OUTLINE - Background transparent
 * DEFAULT_L - Grey + Float left
 * DEFAULT_R - Grey + Float right
 * PRIMARY_L - Green + Float left
 * PRIMARY_R - Green + Float right
 */ 
(function (NbpStyle) {
    NbpStyle[NbpStyle["PRIMARY"] = 0] = "PRIMARY";
    NbpStyle[NbpStyle["SECONDARY"] = 1] = "SECONDARY";
    NbpStyle[NbpStyle["DEFAULT"] = 2] = "DEFAULT";
    NbpStyle[NbpStyle["OUTLINE"] = 3] = "OUTLINE";
    //modificareply
    NbpStyle[NbpStyle["BACKGROUNDGREEN"] = 4] = "BACKGROUNDGREEN";
    NbpStyle[NbpStyle["BACKGROUNDGRAY"] = 5] = "BACKGROUNDGRAY";
    NbpStyle[NbpStyle["BACKGROUNDGRAYPRIMARY"] = 6] = "BACKGROUNDGRAYPRIMARY";
    NbpStyle[NbpStyle["CHECK"] = 7] = "CHECK";
    NbpStyle[NbpStyle["PROFILE"] = 8] = "PROFILE";
    NbpStyle[NbpStyle["DEFAULT_L"] = 9] = "DEFAULT_L";
    NbpStyle[NbpStyle["DEFAULT_R"] = 10] = "DEFAULT_R";
    NbpStyle[NbpStyle["PRIMARY_L"] = 11] = "PRIMARY_L";
    NbpStyle[NbpStyle["PRIMARY_R"] = 12] = "PRIMARY_R";
})(exports.NbpStyle || (exports.NbpStyle = {}));
/**
 * Enum per la definizione della dimensione dei componenti della libreria
 * LG - Large
 * MD - Medium
 */

(function (NbpSize) {
    NbpSize[NbpSize["SM"] = 0] = "SM";
    NbpSize[NbpSize["LG"] = 1] = "LG";
    NbpSize[NbpSize["MD"] = 2] = "MD";
})(exports.NbpSize || (exports.NbpSize = {}));
/**
 * Enum per la definizione della grandezza del font da utilizzare
 */

(function (NbpFontSize) {
    NbpFontSize[NbpFontSize["SMALL"] = 0] = "SMALL";
    NbpFontSize[NbpFontSize["MEDIUM"] = 1] = "MEDIUM";
    NbpFontSize[NbpFontSize["LARGE"] = 2] = "LARGE";
})(exports.NbpFontSize || (exports.NbpFontSize = {}));

(function (NbpPipe) {
    NbpPipe[NbpPipe["CURRENCY"] = 0] = "CURRENCY";
    NbpPipe[NbpPipe["DATE"] = 1] = "DATE";
    NbpPipe[NbpPipe["DECIMAL"] = 2] = "DECIMAL";
    NbpPipe[NbpPipe["LOWERCASE"] = 3] = "LOWERCASE";
    NbpPipe[NbpPipe["PERCENT"] = 4] = "PERCENT";
    NbpPipe[NbpPipe["UPPERCASE"] = 5] = "UPPERCASE";
    NbpPipe[NbpPipe["CONTO"] = 6] = "CONTO";
})(exports.NbpPipe || (exports.NbpPipe = {}));
/**
 * Enum per la definizione del canale applicativo
 */

(function (NbpChannel) {
    NbpChannel[NbpChannel["ABC"] = 0] = "ABC";
    NbpChannel[NbpChannel["INTRANET"] = 1] = "INTRANET";
    NbpChannel[NbpChannel["IB"] = 2] = "IB";
})(exports.NbpChannel || (exports.NbpChannel = {}));

(function (NbpLoadingStatus) {
    NbpLoadingStatus[NbpLoadingStatus["START"] = 0] = "START";
    NbpLoadingStatus[NbpLoadingStatus["STOP"] = 1] = "STOP";
})(exports.NbpLoadingStatus || (exports.NbpLoadingStatus = {}));

(function (NbpAlertType) {
    NbpAlertType[NbpAlertType["INFORMATIVA"] = 0] = "INFORMATIVA";
    NbpAlertType[NbpAlertType["INFORMATIVA_POSITIVA"] = 1] = "INFORMATIVA_POSITIVA";
    NbpAlertType[NbpAlertType["INFORMATIVA_PROMOZIONALE"] = 2] = "INFORMATIVA_PROMOZIONALE";
    NbpAlertType[NbpAlertType["WARNING"] = 3] = "WARNING";
    NbpAlertType[NbpAlertType["WARNING_BLOCCANTE"] = 4] = "WARNING_BLOCCANTE";
})(exports.NbpAlertType || (exports.NbpAlertType = {}));

(function (NbpStepDimension) {
    NbpStepDimension[NbpStepDimension["PICCOLO"] = 1] = "PICCOLO";
    NbpStepDimension[NbpStepDimension["MEDIO"] = 2] = "MEDIO";
    NbpStepDimension[NbpStepDimension["GRANDE"] = 3] = "GRANDE";
})(exports.NbpStepDimension || (exports.NbpStepDimension = {}));
/**
 * Enum dei tipi di Eventi/Messaggi gestiti per NDCE
 */

(function (NbpEmbeddingMessageType) {
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["CJ_READY"] = 1] = "CJ_READY";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["CJ_STEP"] = 2] = "CJ_STEP";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["ERROR"] = 3] = "ERROR";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["FLOATING_MENU_ON"] = 4] = "FLOATING_MENU_ON";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["FLOATING_MENU_OFF"] = 5] = "FLOATING_MENU_OFF";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["GOTO"] = 6] = "GOTO";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["LOADING_WINDOW_START"] = 7] = "LOADING_WINDOW_START";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["LOADING_WINDOW_STOP"] = 8] = "LOADING_WINDOW_STOP";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["MODAL_WINDOW_SHOW"] = 9] = "MODAL_WINDOW_SHOW";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["MODAL_WINDOW_HIDE"] = 10] = "MODAL_WINDOW_HIDE";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["PAGE_SCROLL"] = 11] = "PAGE_SCROLL";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["PAGE_SIZE"] = 12] = "PAGE_SIZE";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["SET_CONTRAST_OFF"] = 13] = "SET_CONTRAST_OFF";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["SET_CONTRAST_ON"] = 14] = "SET_CONTRAST_ON";
    NbpEmbeddingMessageType[NbpEmbeddingMessageType["SET_FONT_SIZE"] = 15] = "SET_FONT_SIZE";
})(exports.NbpEmbeddingMessageType || (exports.NbpEmbeddingMessageType = {}));

/**
 * Enum necessaria per la definizione del tipo di pulsante
 */
/**
 * Enum necessaria per la definizione del tipo di pulsante
 */ 
(function (NbpButtonType) {
    NbpButtonType[NbpButtonType["ACTION"] = 0] = "ACTION";
    NbpButtonType[NbpButtonType["SELECT"] = 1] = "SELECT";
    NbpButtonType[NbpButtonType["GENERATIVE"] = 2] = "GENERATIVE";
    // modificareply
    NbpButtonType[NbpButtonType["CHECK"] = 3] = "CHECK";
    NbpButtonType[NbpButtonType["PROFILE"] = 4] = "PROFILE";
})(exports.NbpButtonType || (exports.NbpButtonType = {}));

var __decorate$38 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$23 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente per linserimento di pulsanti nella pagina. La prima versione del
 * componente conterr un insieme minimale delle funzionalit, ad esempio sar possibile
 * utilizzare solo button senza icona.
 *
 */
exports.NbpButtonComponent = (function () {
    function NbpButtonComponent() {
        /**
         * (Opzionale) Enum per impostare lo stile del pulsante.
         * "DEFAULT" | "PRIMARY" | "SECONDRY" | "OUTLINE"
         *  Valore default: "DEFAULT"
         */
        this.nbpStyle = exports.NbpStyle.DEFAULT;
        /**
          * (Opzionale) Enum, che indica la dimensione dei pulsanti.
          * Propriet che agisce solo sui pulsanti di tipo SELECT (vedi Style Guide)
          * LG | MD
          * Valore default : MD
          */
        this.nbpSize = exports.NbpSize.MD;
        /**
         * (Opzionale) Enum, che indica la tipologia dei pulsanti.
         * "ACTION" | "SELECT" | "GENERATIVE"
         * Valore default : ACTION
         */
        this.nbpType = exports.NbpButtonType.ACTION;
        /**
         * Evento emesso al click sul pulsante.
         * @param {EventEmitter<any>}  nbpClick
         */
        this.nbpClick = new _angular_core.EventEmitter();
        this._isSelectButtonChecked = false;
        /**
         * Parametro usato per attivare e disattivare il focus al tab.
         */
        this.focusOn = false;
        /**
         * (Opzionale) Paramentro che indica l'ordine di spostamento da un campo all'altro attraverso il tab.
         */
        this.tabindex = 0;
        this._style = exports.NbpStyle;
        this._type = exports.NbpButtonType;
        this._size = exports.NbpSize;
        this._isSelectButtonSizeLarge = false;
    }
    Object.defineProperty(NbpButtonComponent.prototype, "disabled", {
        get: function () { return this._nbpDisabled; },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpButtonComponent.prototype, "nbpChecked", {
        /**
         * (Opzionale) Agiste solo sui button con nbpType = 'SELECT'
         */
        get: function () { return this._isSelectButtonChecked; },
        set: function (value) { this._isSelectButtonChecked = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpButtonComponent.prototype.ngOnInit = function () {
        this.nbpSize = this.nbpSize !== exports.NbpSize.SM ? this.nbpSize : exports.NbpSize.MD;
        this._configureButton();
        if (this.firstFocus) {
            this.focusOn = true;
            this.elementRef.nativeElement.focus(this.focusFn());
        }
    };
    NbpButtonComponent.prototype.focusFn = function () {
        this.focusOn = true;
    };
    NbpButtonComponent.prototype._onClickButton = function () {
        this.focusOn = false;
        this._isSelectButtonChecked = (exports.NbpButtonType.SELECT === this.nbpType || exports.NbpButtonType.CHECK === this.nbpType || exports.NbpButtonType.PROFILE === this.nbpType) ? !this._isSelectButtonChecked : false;
        this.nbpClick.emit();
    };
    NbpButtonComponent.prototype._configureButton = function () {
        this._ifSelectButtonPrimarySetDefault();
    };
    NbpButtonComponent.prototype._tabFocusOn = function () {
        this.focusOn = true;
    };
    NbpButtonComponent.prototype._tabFocusOff = function () {
        this.focusOn = false;
    };
    NbpButtonComponent.prototype._shiftTabFocusOn = function () {
        this.focusOn = true;
    };
    NbpButtonComponent.prototype._shiftTabFocusOff = function () {
        this.focusOn = false;
    };
    NbpButtonComponent.prototype._ifSelectButtonPrimarySetDefault = function () {
        if (this.nbpStyle === this._style.PRIMARY && this.nbpType === this._type.SELECT) {
            this.nbpStyle = this._style.DEFAULT;
        }
    };
    NbpButtonComponent.prototype._ifSelectButtonIgnoreStyle = function () {
        if (this.nbpType === this._type.SELECT) {
            this.nbpStyle = this._style.DEFAULT;
            console.log("I pulsanti di tipo SELECT non supportano gli Stili");
        }
    };
    return NbpButtonComponent;
}());
__decorate$38([
    _angular_core.Input(),
    __metadata$23("design:type", String)
], exports.NbpButtonComponent.prototype, "nbpLabel", void 0);
__decorate$38([
    _angular_core.Input(),
    __metadata$23("design:type", String)
], exports.NbpButtonComponent.prototype, "nbpIcon", void 0);
__decorate$38([
    _angular_core.HostBinding('class.nbp-global-disable'),
    _angular_core.Input(),
    __metadata$23("design:type", Boolean),
    __metadata$23("design:paramtypes", [Object])
], exports.NbpButtonComponent.prototype, "disabled", null);
__decorate$38([
    _angular_core.Input(),
    __metadata$23("design:type", Number)
], exports.NbpButtonComponent.prototype, "nbpStyle", void 0);
__decorate$38([
    _angular_core.Input(),
    __metadata$23("design:type", Number)
], exports.NbpButtonComponent.prototype, "nbpSize", void 0);
__decorate$38([
    _angular_core.Input(),
    __metadata$23("design:type", Number)
], exports.NbpButtonComponent.prototype, "nbpType", void 0);
__decorate$38([
    _angular_core.Output(),
    __metadata$23("design:type", _angular_core.EventEmitter)
], exports.NbpButtonComponent.prototype, "nbpClick", void 0);
__decorate$38([
    _angular_core.Input(),
    __metadata$23("design:type", Boolean),
    __metadata$23("design:paramtypes", [Object])
], exports.NbpButtonComponent.prototype, "nbpChecked", null);
__decorate$38([
    _angular_core.Input(),
    __metadata$23("design:type", Boolean)
], exports.NbpButtonComponent.prototype, "firstFocus", void 0);
__decorate$38([
    _angular_core.Input(),
    __metadata$23("design:type", Boolean)
], exports.NbpButtonComponent.prototype, "focusOn", void 0);
__decorate$38([
    _angular_core.Input(),
    __metadata$23("design:type", Number)
], exports.NbpButtonComponent.prototype, "tabindex", void 0);
__decorate$38([
    _angular_core.ViewChild('autoFocusButton'),
    __metadata$23("design:type", _angular_core.ElementRef)
], exports.NbpButtonComponent.prototype, "elementRef", void 0);
exports.NbpButtonComponent = __decorate$38([
    _angular_core.Component({
        selector: 'nbp-button',template: "<button class=\"btn button\" (click)=\"_onClickButton()\" (focusout)=\"_tabFocusOff()\" (keydown.tab)=\"_tabFocusOff()\" (keyup.tab)=\"_tabFocusOn()\" (keydown.shift.tab)=\"_shiftTabFocusOff()\" (keyup.shift.tab)=\"_shiftTabFocusOn()\" [disabled]=\"disabled\" [ngClass]=\"{'default': nbpStyle === _style.DEFAULT, 'default-l': nbpStyle === _style.DEFAULT_L, 'default-r': nbpStyle === _style.DEFAULT_R, 'primary':  nbpStyle === _style.PRIMARY, 'primary-l': nbpStyle === _style.PRIMARY_L, 'primary-r': nbpStyle === _style.PRIMARY_R, 'secondary':  nbpStyle === _style.SECONDARY, 'btn-fill-container': nbpType === _type.ACTION, 'outline' : nbpStyle === _style.OUTLINE, 'select' : nbpType === _type.SELECT, 'check' : nbpType === _type.CHECK, 'lg' : nbpSize === _size.LG,  'on': nbpChecked, 'background-green': nbpStyle === _style.BACKGROUNDGREEN,             'background-gray': nbpStyle === _style.BACKGROUNDGRAY, 'background-gray-primary': nbpStyle === _style.BACKGROUNDGRAYPRIMARY, 'profileStyle': nbpStyle === _style.PROFILE, 'profile' : nbpType === _type.PROFILE, 'tabFocusOn': focusOn }\" [tabindex]=\"tabindex\" #autoFocusButton><div *ngIf=\"nbpType != _type.PROFILE\" [ngClass]=\"{'allineamento-select':nbpType === _type.SELECT}\"><span *ngIf=\"nbpType === _type.CHECK\" class=\"icon button-icon-check icomoon-Simboli_Risorsa-182\"></span> <span *ngIf=\"!!nbpIcon\" class=\"icon button-icon {{nbpIcon}}\" [ngClass]=\"{'icon-with-text': !!nbpLabel, 'button-icon-check': nbpType === _type.CHECK}\"></span> <span *ngIf=\"!!nbpLabel\" [ngClass]=\"{'button-label-icon': nbpIcon, 'button-label': !nbpIcon}\">{{nbpLabel}}</span></div><div *ngIf=\"nbpType === _type.PROFILE\" class=\"allineamento-select\"><span [hidden]=\"!nbpIcon\" class=\"icon button-icon-profile {{nbpIcon}}\"></span> <span *ngIf=\"_isSelectButtonChecked\" class=\"icon button-icon-check icomoon-Simboli_Risorsa-182\"></span><br><br><span [ngClass]=\"{'button-label-icon': nbpIcon}\">{{nbpLabel}}</span></div></button>",
        styles: [".btn{border-radius:2px!important}.button{font-weight:700;font-size:.75em;padding-top:1em;padding-bottom:1em;line-height:1;outline:0!important;text-transform:uppercase;height:4.167em;min-width:9.167em;box-shadow:none!important}.button.check.tabFocusOn{box-shadow:0 0 .05em .2em rgba(37,137,0,.6)!important}.tabFocusOn{box-shadow:0 0 .05em .2em rgba(37,137,0,.6)!important}.button.primary{color:#fff;background-color:#258900;border-color:#258900}.button.primary:hover:not(.select){background-color:#323232;color:#fff;border-color:#323232}.button.primary-l{color:#fff;background-color:#258900;border-color:#258900;float:left}.button.primary-l:hover:not(.select){background-color:#323232;color:#fff;border-color:#323232}.button.primary-r{color:#fff;background-color:#258900;border-color:#258900;float:right;margin-right:5px}.button.primary-r:hover:not(.select){background-color:#323232;color:#fff;border-color:#323232}.button.default{color:#258900;background-color:#f8f8f8;border-color:#258900}.button.default:hover:not(.select){background-color:#323232;color:#fff;border-color:#323232}.button.default-l{color:#258900;background-color:#f8f8f8;border-color:#258900;float:left;margin-left:5px}.button.default-l:hover:not(.select){background-color:#323232;color:#fff;border-color:#323232}.button.default-r{color:#258900;background-color:#f8f8f8;border-color:#258900;float:right}.button.default-r:hover:not(.select){background-color:#323232;color:#fff;border-color:#323232}.button.background-green{background-color:#fff;border-color:#258900;color:#258900}.button.background-green:hover{background-color:#323232;color:#fff;border-color:#323232}.button.background-green[disabled]{opacity:.5}.button.background-gray{background-color:#fff;border-color:#258900;color:#258900}.button.background-gray:hover{background-color:#323232;color:#fff;border-color:#323232}.button.background-gray[disabled]{opacity:.5}.button.background-gray-primary{background-color:#258900;border-color:#258900;color:#fff}.button.background-gray-primary:hover{background-color:#323232;color:#fff;border-color:#323232}.button.background-gray-primary[disabled]{opacity:.5}.button.secondary{color:#6f6f6f;background-color:#fff;border-color:#6f6f6f}.button.secondary:hover:not(.select){background-color:#323232;color:#fff;border-color:#323232}.button.outline{color:#f2f2f2;background-color:Transparent;background-repeat:no-repeat;border-color:#f2f2f2}.button.outline:hover:not(.select){background-color:#258900;color:#f2f2f2;border-color:#258900}.btn.primary[disabled]{opacity:.5}.btn.primary[disabled]:hover{color:#fff;background-color:#258900!important;border-color:#258900!important;cursor:not-allowed}.btn.default[disabled]{opacity:.5}.btn.default[disabled]:hover{color:#ccc;background-color:#fff!important;border-color:#f2f2f2!important;cursor:not-allowed}.btn.secondary[disabled]:hover{color:#6f6f6f;background-color:#fff!important;border-color:#f2f2f2!important;cursor:not-allowed}.btn.outline[disabled]{color:#ccc;background-color:Transparent!important;border-color:#ccc!important;cursor:not-allowed}.btn.outline[disabled]:hover{color:#ccc;background-color:Transparent!important;border-color:#ccc!important;cursor:not-allowed}.button-icon{font-size:2em!important;display:table-cell!important;position:relative}.button-label-icon{padding-left:.625em;display:table-cell!important;vertical-align:middle}.button.selection-button{width:29.6875em;height:5.625em;background-color:#f2f2f2;border:none;border-radius:1.5625em!important;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;font-size:1em;color:#258900;text-align:left}.button.selection-button:hover{background-color:#258900;color:#fff}.button.selection-button .button-label-icon{padding-bottom:0;padding-left:4.8em;text-transform:none;font-weight:400}.button.selection-button .button-icon{top:.12em;left:1em}.button.action{color:#323232;background-color:#f2f2f2;border-color:#f2f2f2}.button.action .button-icon{color:#258900}.button.action:hover{background-color:#323232;color:#fff;border:none}.button.action:hover .button-icon{color:#fff}.btn.action[disabled]{color:#6f6f6f;background-color:#f8f8f8!important;border-color:#f2f2f2!important;opacity:.5}.btn.action[disabled]:hover{color:#6f6f6f;background-color:#f8f8f8!important;border:.063em solid #f2f2f2!important;cursor:default}.btn.action[disabled]:hover .button-icon{color:#258900}.btn.action[disabled].green .button-icon{color:#258900!important}.button.select{color:#258900;border-color:#258900;height:4.167em;min-width:7em;border-radius:2.5625em!important}.button.select.on{background-color:#258900!important;color:#fff!important}.button.select .button-icon{left:.7em;top:0}.button.select .icon-with-text{left:1em}.button.select .button-label-icon{padding-bottom:.1125em;padding-left:3.225em;padding-right:3.225em}.button.select .button-label{padding-bottom:.1125em;padding-left:3.225em;padding-right:3.225em}.button.select[disabled]{opacity:.5}.button.select[disabled]:hover{opacity:1!important;background-color:#fff!important;color:#ccc}.button.select[disabled] .button-icon{color:#f2f2f2}.button.select.lg{color:#258900;height:5.625em!important;min-width:14.375em!important;border-radius:1.5625em!important;font-weight:400;font-size:1em;text-transform:uppercase;box-shadow:none!important}.button.select.lg.outline{color:#f2f2f2;background-color:Transparent;background-repeat:no-repeat;border-color:#f2f2f2}.button.select.lg.outline:hover{color:#f2f2f2;background-color:Transparent;background-repeat:no-repeat;border-color:#f2f2f2}.button.select.lg.outline .button-icon{color:#f2f2f2}.button.select.lg.on{background-color:#258900!important;color:#fff!important}.button.select.lg.on .button-icon{color:#fff!important}.button.select.lg .button-icon{left:0;top:0;font-size:1.875em!important;color:#258900}.button.select.lg .button-label-icon{padding-left:2.225em;white-space:normal;width:.0625em;padding-bottom:0;text-transform:capitalize}.button.select.lg .allineamento-select{text-align:justify;vertical-align:middle!important;display:inline-block!important}.button.select.lg .button-icon-check{position:absolute;margin-left:-1.375em;margin-top:-.188em;width:1em;height:1.125em;font-size:1.35em!important}.button.select.lg[disabled]{opacity:1!important;background-color:#fff!important;color:#ccc}.button.select.lg[disabled] .button-icon{color:#f2f2f2}.button.check{height:4.167em;color:#258900;border:.063em solid #258900;background-color:transparent;border-radius:2.5625em!important;font-weight:700;font-size:.75em;text-transform:uppercase;box-shadow:none!important;min-width:9.167em}.button.check.on{background-color:#258900;color:#fff}.button.check .button-label{padding-bottom:.1125em;padding-left:3.225em;padding-right:3.225em}.button.check .button-icon{color:#258900;margin-right:.313em;top:-.1em}.button.check .allineamento-select{margin-left:1.25em;margin-right:1.25em}.button.check .button-icon-check{position:absolute;margin-top:-.188em;width:1em;height:1.125em;font-size:1.35em!important;color:#fff}.button.profile{border-radius:1.563em!important;height:8.75em;width:7.5em;min-width:7.5em;color:#258900;background-color:#fff;border:.063em solid #258900;font-weight:400!important;font-size:1em!important;text-transform:capitalize!important}.button.profile.on{background-color:#258900;color:#fff}.button.profile.on .checkbox-label{color:#fff!important}.button.profile .icheckbox-container{display:block;top:-3.0625em;position:relative}.button.profile .checkbox-label{color:#258900;font-weight:400!important;font-size:1em!important;text-transform:initial;display:block;white-space:normal;word-wrap:break-word;width:4.375em;text-align:left;margin-top:.625em!important}.button.profile .icheckbox_intesa{display:block}.button.profile .button-icon-profile{top:0;width:3.125em!important;height:3.125em!important}.button.profile .button-icon-profile:before{font-size:2.625em}.button.profile .button-icon-check{top:-.7em;font-size:1.35em!important;display:inline;position:relative;width:1.5em!important;height:1.313em!important;margin-left:.3em}.button.profile .button-label-icon{top:0;font-size:.75em;font-weight:700;font-family:Arial;white-space:normal;word-wrap:break-word;line-height:1.2em;padding-left:0!important}.button.profile .allineamento-select{margin-top:-1em;padding-top:.625em}.button.select.outline{color:#f2f2f2;background-color:Transparent;background-repeat:no-repeat;border-color:#f2f2f2}.button.select.outline:hover{color:#f2f2f2;background-color:Transparent;background-repeat:no-repeat;border-color:#f2f2f2}.button.select.outline[disabled]{color:#6f6f6f!important;background-color:Transparent!important;background-repeat:no-repeat;border-color:#6f6f6f!important}.button.select.outline[disabled]:hover{color:#6f6f6f;background-color:Transparent!important;background-repeat:no-repeat;border-color:#6f6f6f}.button.select.outline[disabled] .button-icon{color:#6f6f6f!important}.button.select.outline .button-icon{color:#f2f2f2}.button.select-profile{height:8.75em;width:14.375em;color:#258900;background-color:#fff;border:.063em solid #ccc;font-weight:400!important;font-size:1em!important;text-transform:capitalize!important}.button.select-profile.on{background-color:#258900;color:#fff}.button.select-profile.on .checkbox-label{color:#fff!important}.button.select-profile .icheckbox-container{display:block;top:-3.0625em;position:relative}.button.select-profile .checkbox-label{color:#258900;font-weight:400!important;font-size:1em!important;text-transform:initial;display:block;white-space:normal;word-wrap:break-word;width:4.375em;text-align:left;margin-top:.625em!important}.button.select-profile .icheckbox_intesa{display:block}.button.select-profile .button-icon{top:0;left:1.7em;font-size:4.375em!important}.button.select-icon-text{height:3em;min-width:18.75em;border-radius:1.5em!important;color:#323232;background-color:#f2f2f2;font-weight:700;font-size:1em;text-transform:uppercase}.button.select-icon-text.on{background-color:#c4dbbc;color:#258900}.button.select-icon-text.on .button-icon{background-color:#258900;color:#fff}.button.select-icon-text .button-icon{top:-.5125em;left:-.3em;font-size:1.625em!important;padding:.225em .425em;display:inline-block;-moz-border-radius:6.25em;-webkit-border-radius:6.25em;border-radius:6.25em;border-color:#ccc;background-color:#ccc}.button.select-icon-text .button-icon:before{top:.125em;position:relative}.button.select-icon-text .button-label-icon{padding-bottom:1.3125em;padding-left:2.225em}.button.select-icon-text.white{background-color:#fff;border:.063em solid #ccc}.button.select-icon-text.white.on{background-color:#c4dbbc}.button.select-icon-text.white.on .button-icon{background-color:#258900;color:#fff}.button.generative-1{height:3.334em;width:18.334em;background-color:#f2f2f2;color:#323232}.button.generative-1:hover{background-color:#323232;color:#fff}.button.generative-1:hover .button-icon{color:#fff}.button.generative-1 .button-icon{color:#258900;font-size:2.001em!important}.button.generative-2{height:3.334em;width:18.334em;border:.063em dashed #ccc;border-radius:1.5625em!important;background-color:#fff;color:#6f6f6f}.button.generative-2:hover{color:#258900;border:.063em dashed #258900}.button.generative-2:hover .button-icon{color:#258900}.button.generative-2 .button-icon{color:#6f6f6f;font-size:1.425em!important}.button.generative-3{color:#258900;background-color:#fff}.button.generative-3:hover .button-icon{color:#fff;-moz-box-shadow:0 0 .125em #258900;-webkit-box-shadow:0 0 .125em #258900;box-shadow:0 0 .125em #258900;background-color:#258900}.button.generative-3 .button-icon{color:#ccc;padding:.063em .188em;display:inline-block;-moz-border-radius:6.25em;-webkit-border-radius:6.25em;border-radius:6.25em;-moz-box-shadow:0 0 .125em #ccc;-webkit-box-shadow:0 0 .125em #ccc;box-shadow:0 0 .125em #ccc}.button.generative-3 .button-icon.ico-comuni-aggiungi:before{content:\"\e01f\";position:relative;top:.125em}.allineamento-generative{display:inline-block!important;text-align:center}.green-event{background-color:#258900!important;color:#fff!important}.gray-event{background-color:#f2f2f2!important;color:#6f6f6f!important;border-color:#f2f2f2!important}:host-context(.contrasto-on) .button.action,:host-context(.contrasto-on) .button.background-gray,:host-context(.contrasto-on) .button.background-gray-primary,:host-context(.contrasto-on) .button.background-green,:host-context(.contrasto-on) .button.default,:host-context(.contrasto-on) .button.default-l,:host-context(.contrasto-on) .button.default-r,:host-context(.contrasto-on) .button.outline,:host-context(.contrasto-on) .button.primary,:host-context(.contrasto-on) .button.primary-l,:host-context(.contrasto-on) .button.primary-r,:host-context(.contrasto-on) .button.secondary{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.action:hover:not(.select),:host-context(.contrasto-on) .button.background-gray-primary:hover:not(.select),:host-context(.contrasto-on) .button.background-gray:hover:not(.select),:host-context(.contrasto-on) .button.background-green:hover:not(.select),:host-context(.contrasto-on) .button.default-l:hover:not(.select),:host-context(.contrasto-on) .button.default-r:hover:not(.select),:host-context(.contrasto-on) .button.default:hover:not(.select),:host-context(.contrasto-on) .button.outline:hover:not(.select),:host-context(.contrasto-on) .button.primary-l:hover:not(.select),:host-context(.contrasto-on) .button.primary-r:hover:not(.select),:host-context(.contrasto-on) .button.primary:hover:not(.select),:host-context(.contrasto-on) .button.secondary:hover:not(.select){color:#fff;background-color:#000;border-color:#fff}:host-context(.contrasto-on) .btn.default[disabled],:host-context(.contrasto-on) .btn.outline[disabled],:host-context(.contrasto-on) .btn.primary[disabled],:host-context(.contrasto-on) .btn.secondary[disabled],:host-context(.contrasto-on) .button.action[disabled]{opacity:1;color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .btn.default[disabled]:hover,:host-context(.contrasto-on) .btn.outline[disabled]:hover,:host-context(.contrasto-on) .btn.primary[disabled]:hover,:host-context(.contrasto-on) .btn.secondary[disabled]:hover,:host-context(.contrasto-on) .button.action[disabled]:hover{color:#000;background-color:#fff;border-color:#000;cursor:default}:host-context(.contrasto-on) .button.generative-1,:host-context(.contrasto-on) .button.generative-2,:host-context(.contrasto-on) .button.generative-3,:host-context(.contrasto-on) .button.selection-button{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.generative-1:hover,:host-context(.contrasto-on) .button.generative-2:hover,:host-context(.contrasto-on) .button.generative-3:hover,:host-context(.contrasto-on) .button.selection-button:hover{color:#fff;background-color:#000;border-color:#fff}:host-context(.contrasto-on) .button.action .button-icon,:host-context(.contrasto-on) .button.generative-1 .button-icon,:host-context(.contrasto-on) .button.generative-2 .button-icon,:host-context(.contrasto-on) .button.generative-3 .button-icon{color:#000}:host-context(.contrasto-on) .button.action:hover.button-icon,:host-context(.contrasto-on) .button.generative-1:hover.button-icon,:host-context(.contrasto-on) .button.generative-2:hover.button-icon,:host-context(.contrasto-on) .button.generative-3:hover.button-icon{color:#fff}:host-context(.contrasto-on) .btn.action[disabled] .button-icon{color:#000}:host-context(.contrasto-on) .btn.action[disabled]:hover .button-icon{color:#000}:host-context(.contrasto-on) .btn.action[disabled].green .button-icon{color:#000}:host-context(.contrasto-on) .button.check,:host-context(.contrasto-on) .button.profile,:host-context(.contrasto-on) .button.select,:host-context(.contrasto-on) .button.select-icon-text,:host-context(.contrasto-on) .button.select-profile{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.check.on,:host-context(.contrasto-on) .button.profile.on,:host-context(.contrasto-on) .button.select-icon-text.on,:host-context(.contrasto-on) .button.select-profile.on,:host-context(.contrasto-on) .button.select.on{color:#fff!important;background-color:#000!important;border-color:#fff}:host-context(.contrasto-on) .button.check[disabled],:host-context(.contrasto-on) .button.profile[disabled],:host-context(.contrasto-on) .button.select-icon-text[disabled],:host-context(.contrasto-on) .button.select-profile[disabled],:host-context(.contrasto-on) .button.select[disabled]{opacity:1;color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.check[disabled]:hover,:host-context(.contrasto-on) .button.profile[disabled]:hover,:host-context(.contrasto-on) .button.select-icon-text[disabled]:hover,:host-context(.contrasto-on) .button.select-profile[disabled]:hover,:host-context(.contrasto-on) .button.select[disabled]:hover{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.check[disabled] .button-icon,:host-context(.contrasto-on) .button.profile[disabled] .button-icon,:host-context(.contrasto-on) .button.select-icon-text[disabled] .button-icon,:host-context(.contrasto-on) .button.select-profile[disabled] .button-icon,:host-context(.contrasto-on) .button.select[disabled] .button-icon{color:#000}:host-context(.contrasto-on) .button.check.lg,:host-context(.contrasto-on) .button.profile.lg,:host-context(.contrasto-on) .button.select-icon-text.lg,:host-context(.contrasto-on) .button.select-profile.lg,:host-context(.contrasto-on) .button.select.lg{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.check.lg.outline,:host-context(.contrasto-on) .button.profile.lg.outline,:host-context(.contrasto-on) .button.select-icon-text.lg.outline,:host-context(.contrasto-on) .button.select-profile.lg.outline,:host-context(.contrasto-on) .button.select.lg.outline{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.check.lg.outline:hover,:host-context(.contrasto-on) .button.profile.lg.outline:hover,:host-context(.contrasto-on) .button.select-icon-text.lg.outline:hover,:host-context(.contrasto-on) .button.select-profile.lg.outline:hover,:host-context(.contrasto-on) .button.select.lg.outline:hover{color:#fff;background-color:#000;border-color:#fff}:host-context(.contrasto-on) .button.check.lg.outline.button-icon,:host-context(.contrasto-on) .button.profile.lg.outline.button-icon,:host-context(.contrasto-on) .button.select-icon-text.lg.outline.button-icon,:host-context(.contrasto-on) .button.select-profile.lg.outline.button-icon,:host-context(.contrasto-on) .button.select.lg.outline.button-icon{color:#fff}:host-context(.contrasto-on) .button.check.lg.on,:host-context(.contrasto-on) .button.profile.lg.on,:host-context(.contrasto-on) .button.select-icon-text.lg.on,:host-context(.contrasto-on) .button.select-profile.lg.on,:host-context(.contrasto-on) .button.select.lg.on{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.check.lg.on.button-icon,:host-context(.contrasto-on) .button.profile.lg.on.button-icon,:host-context(.contrasto-on) .button.select-icon-text.lg.on.button-icon,:host-context(.contrasto-on) .button.select-profile.lg.on.button-icon,:host-context(.contrasto-on) .button.select.lg.on.button-icon{color:#000}:host-context(.contrasto-on) .button.check.lg.button-icon,:host-context(.contrasto-on) .button.profile.lg.button-icon,:host-context(.contrasto-on) .button.select-icon-text.lg.button-icon,:host-context(.contrasto-on) .button.select-profile.lg.button-icon,:host-context(.contrasto-on) .button.select.lg.button-icon{color:#000}:host-context(.contrasto-on) .button.check.lg[disabled],:host-context(.contrasto-on) .button.profile.lg[disabled],:host-context(.contrasto-on) .button.select-icon-text.lg[disabled],:host-context(.contrasto-on) .button.select-profile.lg[disabled],:host-context(.contrasto-on) .button.select.lg[disabled]{opacity:1;color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.check.lg[disabled] .button-icon,:host-context(.contrasto-on) .button.profile.lg[disabled] .button-icon,:host-context(.contrasto-on) .button.select-icon-text.lg[disabled] .button-icon,:host-context(.contrasto-on) .button.select-profile.lg[disabled] .button-icon,:host-context(.contrasto-on) .button.select.lg[disabled] .button-icon{color:#000}:host-context(.contrasto-on) .button.check .button-icon,:host-context(.contrasto-on) .button.select-icon-text .button-icon,:host-context(.contrasto-on) .button.select.outline .button-icon{color:#000}:host-context(.contrasto-on) .button.check .button-icon-check,:host-context(.contrasto-on) .button.select-icon-text .button-icon-check,:host-context(.contrasto-on) .button.select.outline .button-icon-check{color:#fff}:host-context(.contrasto-on) .button.profile .checkbox-label,:host-context(.contrasto-on) .button.select-profile .checkbox-label{color:#fff} /*# sourceMappingURL=nbp-button.component.css.map */ "],
    }),
    __metadata$23("design:paramtypes", [])
], exports.NbpButtonComponent);

var __decorate$39 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$24 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente per linserimento di pulsanti nella pagina. La prima versione del
 * componente conterr un insieme minimale delle funzionalit, ad esempio sar possibile
 * utilizzare solo button senza icona.
 *
 */
exports.NbpButtonGenerationComponent = (function () {
    function NbpButtonGenerationComponent() {
        /**
         * (Opzionale) Nome della classe icona da visualizzare nel pulsante
         */
        this.nbpIcon = 'true';
        /**
         * (Opzionale) Enum, che indica la dimensione dei pulsanti.
         * Propriet che agisce solo sui pulsanti di tipo SELECT (vedi Style Guide)
         * LG | MD
         * Valore default : MD
         */
        this.nbpSize = exports.NbpSize.LG;
        /**
         * (Opzionale) Enum, che indica la tipologia dei pulsanti.
         * "DEFAULT" | "ROUND" | "DEFAULT_L" | "ROUND_L" | "DEFAULT_R" | "ROUND_R"
         * Valore default : DEFAULT
         */
        this.nbpType = "DEFAULT";
        /**
        * Evento emesso al click sul pulsante.
        * @param {EventEmitter<any>}  nbpClick
        */
        this.nbpClick = new _angular_core.EventEmitter();
        this._isSelectButtonChecked = false;
        this.hover = false;
        /**
         * Parametro usato per attivare e disattivare il focus al tab.
         */
        this.focusOn = false;
        /**
         * (Opzionale) Paramentro che indica l'ordine di spostamento da un campo all'altro attraverso il tab.
         */
        this.tabindex = 0;
        this._size = exports.NbpSize;
        this._isSelectButtonSizeLarge = false;
        this.switchType = "DEFAULT";
    }
    Object.defineProperty(NbpButtonGenerationComponent.prototype, "disabled", {
        get: function () { return this._nbpDisabled; },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpButtonGenerationComponent.prototype.ngOnInit = function () {
        this.nbpType = this.nbpType.toUpperCase();
        if (this.nbpType != "DEFAULT" && this.nbpType != "ROUND" && this.nbpType != "DEFAULT_L" && this.nbpType != "ROUND_L" && this.nbpType != "DEFAULT_R" && this.nbpType != "ROUND_R")
            this.nbpType = "DEFAULT";
        if (this.nbpType == "ROUND" || this.nbpType == "ROUND_L" || this.nbpType == "ROUND_R")
            this.switchType = "ROUND";
        this.nbpSize = this.nbpSize !== exports.NbpSize.SM ? this.nbpSize : exports.NbpSize.MD;
        if (this.firstFocus) {
            this.focusOn = true;
            this.elementRef.nativeElement.focus(this.focusFn());
        }
    };
    NbpButtonGenerationComponent.prototype.focusFn = function () {
        this.focusOn = true;
    };
    NbpButtonGenerationComponent.prototype._onClickButton = function () {
        this.focusOn = false;
        this.nbpClick.emit();
    };
    NbpButtonGenerationComponent.prototype._tabFocusOn = function () {
        this.focusOn = true;
    };
    NbpButtonGenerationComponent.prototype._tabFocusOff = function () {
        this.focusOn = false;
    };
    NbpButtonGenerationComponent.prototype._shiftTabFocusOn = function () {
        this.focusOn = true;
    };
    NbpButtonGenerationComponent.prototype._shiftTabFocusOff = function () {
        this.focusOn = false;
    };
    return NbpButtonGenerationComponent;
}());
__decorate$39([
    _angular_core.Input(),
    __metadata$24("design:type", String)
], exports.NbpButtonGenerationComponent.prototype, "nbpLabel", void 0);
__decorate$39([
    _angular_core.Input(),
    __metadata$24("design:type", String)
], exports.NbpButtonGenerationComponent.prototype, "nbpIcon", void 0);
__decorate$39([
    _angular_core.HostBinding('class.nbp-global-disable'),
    _angular_core.Input(),
    __metadata$24("design:type", Boolean),
    __metadata$24("design:paramtypes", [Object])
], exports.NbpButtonGenerationComponent.prototype, "disabled", null);
__decorate$39([
    _angular_core.Input(),
    __metadata$24("design:type", Number)
], exports.NbpButtonGenerationComponent.prototype, "nbpSize", void 0);
__decorate$39([
    _angular_core.Input(),
    __metadata$24("design:type", String)
], exports.NbpButtonGenerationComponent.prototype, "nbpType", void 0);
__decorate$39([
    _angular_core.Output(),
    __metadata$24("design:type", _angular_core.EventEmitter)
], exports.NbpButtonGenerationComponent.prototype, "nbpClick", void 0);
__decorate$39([
    _angular_core.Input(),
    __metadata$24("design:type", Boolean)
], exports.NbpButtonGenerationComponent.prototype, "firstFocus", void 0);
__decorate$39([
    _angular_core.Input(),
    __metadata$24("design:type", Boolean)
], exports.NbpButtonGenerationComponent.prototype, "focusOn", void 0);
__decorate$39([
    _angular_core.Input(),
    __metadata$24("design:type", Number)
], exports.NbpButtonGenerationComponent.prototype, "tabindex", void 0);
__decorate$39([
    _angular_core.ViewChild('autoFocusButtonGeneration'),
    __metadata$24("design:type", _angular_core.ElementRef)
], exports.NbpButtonGenerationComponent.prototype, "elementRef", void 0);
exports.NbpButtonGenerationComponent = __decorate$39([
    _angular_core.Component({
        selector: 'nbp-button-generation',template: "<button class=\"btn button\" #autoFocusButtonGeneration (click)=\"_onClickButton()\" (focusout)=\"_tabFocusOff()\" (keydown.tab)=\"_tabFocusOff()\" (keyup.tab)=\"_tabFocusOn()\" (keydown.shift.tab)=\"_shiftTabFocusOff()\" (keyup.shift.tab)=\"_shiftTabFocusOn()\" [disabled]=\"disabled\" [tabindex]=\"tabindex\" [ngClass]=\"{ 'default': nbpType == 'DEFAULT', 'default-l': nbpType == 'DEFAULT_L', 'default-r': nbpType == 'DEFAULT_R', 'round':  nbpType == 'ROUND', 'round-l': nbpType == 'ROUND_L', 'round-r': nbpType == 'ROUND_R', 'tabFocusOn': focusOn }\"><ng-container [ngSwitch]=\"switchType\"><ng-container *ngSwitchCase=\"'ROUND'\"><span *ngIf=\"!!nbpIcon\" class=\"icon button-icon-round icomoon-Simboli_Risorsa-24\"></span> <span *ngIf=\"!!nbpIcon\" class=\"icon button-icon-round icomoon-Simboli_Risorsa-25\"></span><span *ngIf=\"!!nbpLabel\" (mouseenter)=\"hover=true\" (mouseleave)=\"hover=false\" [ngClass]=\"{'button-label-icon-round': nbpIcon, 'button-label-round': !nbpIcon}\">{{nbpLabel}}</span></ng-container><ng-container *ngSwitchDefault><span *ngIf=\"!!nbpIcon\" class=\"icon button-icon {{nbpIcon}}\"></span><span *ngIf=\"!!nbpLabel\" [ngClass]=\"{'button-label-icon': nbpIcon, 'button-label': !nbpIcon}\">{{nbpLabel}}</span></ng-container></ng-container></button>",
        styles: [".btn{border-radius:2px!important}.button{font-weight:700;font-size:.75em;padding-top:1em;padding-bottom:1em;line-height:1;outline:0!important;text-transform:uppercase;height:4.167em;min-width:9.167em;box-shadow:none!important}.button.check.tabFocusOn{box-shadow:0 0 .05em .2em rgba(37,137,0,.6)!important}.tabFocusOn{box-shadow:0 0 .05em .2em rgba(37,137,0,.6)!important}.button.default{color:#258900;background-color:#f8f8f8;border-color:#258900;border-radius:3px!important}.button.default:hover:not(.select){color:#fff;background-color:#258900}.button.default-l{color:#258900;background-color:#f8f8f8;border-color:#258900;float:left;margin-left:5px}.button.default-l:hover:not(.select){color:#fff;background-color:#258900}.button.default-r{color:#258900;background-color:#f8f8f8;border-color:#258900;float:right}.button.default-r:hover:not(.select){color:#fff;background-color:#258900}.button-icon{padding-left:.625em;font-size:2em!important;display:table-cell!important;position:relative}.button-label-icon{padding-left:2em;padding-right:2.625em;display:table-cell!important;vertical-align:middle;font:Arial 12 Bold}.icomoon-Simboli_Risorsa-25{display:none!important}.button.round{border:0;color:#258900;background-color:transparent;border-color:#258900;border-radius:3px!important}.button.round:hover .icomoon-Simboli_Risorsa-25{display:table-cell!important;color:#258900}.button.round:hover .icomoon-Simboli_Risorsa-24{display:none!important}.button.round-l{border:0;color:#258900;background-color:transparent;border-color:#258900;float:left;margin-left:5px}.button.round-l:hover .icomoon-Simboli_Risorsa-25{display:table-cell!important;color:#258900}.button.round-l:hover .icomoon-Simboli_Risorsa-24{display:none!important}.button.round-r{border:0;color:#258900;background-color:transparent;border-color:#258900;float:right}.button.round-r:hover .icomoon-Simboli_Risorsa-25{display:table-cell!important;color:#258900}.button.round-r:hover .icomoon-Simboli_Risorsa-24{display:none!important}.button-icon-round{font-size:30px!important;display:table-cell;position:relative;border-color:#258900;color:#323232}.button-icon-round:hover{color:#258900}.button-label-icon-round{padding-left:10px;padding-right:10px;display:table-cell!important;vertical-align:middle;font:Arial 12 Bold}:host-context(.contrasto-on) .button.default,:host-context(.contrasto-on) .button.default-l,:host-context(.contrasto-on) .button.default-r{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.default-l:hover:not(.select),:host-context(.contrasto-on) .button.default-r:hover:not(.select),:host-context(.contrasto-on) .button.default:hover:not(.select){color:#fff;background-color:#000;border-color:#fff}:host-context(.contrasto-on) .button.round,:host-context(.contrasto-on) .button.round-l,:host-context(.contrasto-on) .button.round-r{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .button.round-l:hover,:host-context(.contrasto-on) .button.round-r:hover,:host-context(.contrasto-on) .button.round:hover{color:#000}:host-context(.contrasto-on) .button.round-l:hover .icomoon-Simboli_Risorsa-25,:host-context(.contrasto-on) .button.round-r:hover .icomoon-Simboli_Risorsa-25,:host-context(.contrasto-on) .button.round:hover .icomoon-Simboli_Risorsa-25{color:#000} /*# sourceMappingURL=nbp-button-generation.component.css.map */ "],
    }),
    __metadata$24("design:paramtypes", [])
], exports.NbpButtonGenerationComponent);

var __decorate$40 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$25 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpLabelComponent = (function () {
    function NbpLabelComponent() {
    }
    NbpLabelComponent.prototype.ngOnInit = function () {
    };
    return NbpLabelComponent;
}());
__decorate$40([
    _angular_core.Input(),
    __metadata$25("design:type", String)
], exports.NbpLabelComponent.prototype, "nbpText", void 0);
__decorate$40([
    _angular_core.Input(),
    __metadata$25("design:type", Boolean)
], exports.NbpLabelComponent.prototype, "nbpRequired", void 0);
__decorate$40([
    _angular_core.Input(),
    __metadata$25("design:type", String)
], exports.NbpLabelComponent.prototype, "for", void 0);
exports.NbpLabelComponent = __decorate$40([
    _angular_core.Component({selector: 'nbp-label',
        template: "<label [for]=\"for\">{{nbpText}}</label><span *ngIf=\"nbpRequired\">*</span>",
        styles: [".nbp-label{background-color:#ff0} /*# sourceMappingURL=nbp-label.component.css.map */ "]
    }),
    __metadata$25("design:paramtypes", [])
], exports.NbpLabelComponent);

var __decorate$42 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
exports.NbpImportoPipe = (function () {
    function NbpImportoPipe() {
    }
    NbpImportoPipe.prototype.transform = function (value, args) {
        var parsedValue = value;
        var decimalPrecision = parseInt(args || 2, 10);
        if (typeof value == 'string') {
            value = value.replace(',', '.');
            parsedValue = parseFloat(value).toFixed(decimalPrecision);
        }
        if (typeof value == 'number') {
            parsedValue = value.toFixed(decimalPrecision);
        }
        if (!isNaN(parsedValue) && !!parsedValue) {
            var valueStr = parsedValue.toString();
            var valueStrDec = valueStr.slice(-decimalPrecision);
            var valueFormat = [];
            valueStr = valueStr.substring(0, valueStr.length - (decimalPrecision + 1));
            while (valueStr.length > 3) {
                valueFormat.unshift(valueStr.slice(-3));
                valueStr = valueStr.substring(0, valueStr.length - 3);
            }
            valueFormat.unshift(valueStr);
            if (valueFormat[0] !== '-') {
                return valueFormat.join('.') + ',' + valueStrDec;
            }
        }
        else {
            return '';
        }
    };
    return NbpImportoPipe;
}());
exports.NbpImportoPipe = __decorate$42([
    _angular_core.Pipe({
        name: 'nbpImporto'
    })
], exports.NbpImportoPipe);

var __extends$15 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$41 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$26 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$2 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * Provider Expression that allows nbp-input to register as a ControlValueAccessor.
 * This allows it to support [(ngModel)].
 * @docs-private
 */
var NBP_INPUT_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpInputTextComponent; }),
    multi: true
};
var NBP_INPUT_ELEMENT_BASE = {
    provide: NbpInputElementBase,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpInputTextComponent; }),
    multi: true
};
/** intero autogenerato usato per id unici per nbpInput component */
var nextId$3 = 0;
/**
 * Componente per la implementazione dei textfield, supporta tutti gli attributi standard html per il tag input.
 * personalizzabile per la gestione di currency grazie all'applicaizone di opportuni pipes
 * definiti dalla libreria.
 */
exports.NbpInputTextComponent = (function (_super) {
    __extends$15(NbpInputTextComponent, _super);
    function NbpInputTextComponent(validatori, asyncValidatori, parentFormContainer, inj) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        _this.parentFormContainer = parentFormContainer;
        _this.inj = inj;
        /**
         * Identificativo univoco per il text field.
         * Se nessun id  fornito e' auto-generato.
         */
        _this.id = "nbp-input-" + ++nextId$3;
        _this._nbpShowValidation = false;
        //modificareply
        _this.showErrorLabel = false;
        /**
         * testo del placeholder
         */
        _this.placeholder = '';
        _this._nbpRoundBorder = false;
        _this.ALLOWED_INPUT_TYPES = ["text", "password", "number"];
        _this.DEFAULT_INPUT_TYPE = _this.ALLOWED_INPUT_TYPES[0];
        /**
         * (Opzionale) Tipo dell'input
         */
        _this.nbpInputType = _this.DEFAULT_INPUT_TYPE;
        /**
         * (Opzionale) Lunghezza massima dell'input. Blocca l'inserimento una volta superata.
         */
        _this.maxlength = null;
        /**
         * (Opzionale) Funzione custom di validazione del campo
         */
        _this.nbpValidation = new _angular_core.EventEmitter();
        //modificareply
        _this.tmpValue = '';
        //modificareply
        _this.nbpForcedTouched = false;
        /**
         * (Opzionale) Paramentro che indica l'ordine di spostamento da un campo all'altro attraverso il tab.
         */
        _this.tabindex = 0;
        return _this;
    }
    Object.defineProperty(NbpInputTextComponent.prototype, "nbpShowValidation", {
        /**
         * (Opzionale)
         * Booleano che consente di visualizzare i messaggi di feedback relativi alla validazione.
         * Valore di default false
         */
        get: function () {
            if (this.parentFormContainer) {
                this._nbpShowValidation = this.parentFormContainer.nbpShowValidation;
            }
            return this._nbpShowValidation;
        },
        set: function (value) { this._nbpShowValidation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpInputTextComponent.prototype, "disabled", {
        /**
         * Flag che abilita/disabilita il campo di input.
         */
        get: function () {
            if (this.parentFormContainer && this.parentFormContainer.disabled !== null) {
                this._nbpDisabled = this.parentFormContainer.disabled;
            }
            return this._nbpDisabled;
        },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpInputTextComponent.prototype, "required", {
        /**
         * Flag che abilita/disabilita il required sul campo di input.
         */
        get: function () { return this._nbpRequired; },
        set: function (value) { this._nbpRequired = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpInputTextComponent.prototype, "nbpRoundBorder", {
        /**
         * Se presente, lattributo abilita arrotondamento dei bordi del campo di input
         */
        get: function () { return this._nbpRoundBorder; },
        set: function (value) { this._nbpRoundBorder = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    Object.defineProperty(NbpInputTextComponent.prototype, "nbpHighlightedDefault", {
        /**
         * (opzionale ) Booleano che gestisce  lattributo  bordo giallo del campo di input.
         * Al primo click/focus torner alla versione di default.
         * valore default false
         */
        get: function () { return this._nbpHighlightedDefault; },
        set: function (value) { this._nbpHighlightedDefault = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    /**
     * funzione pubblica che consente di triggerare la validazione, ad esempio se il contenuto
     *  stato modificato cambiando il model e non con inserimento diretto.
     * (simula il comportamento che si avrebbe inserendo i dati nel componente e cambiando focus).
     */
    NbpInputTextComponent.prototype.triggerValidation = function () {
        this._onTouchedEvent();
        this.nbpForcedTouched = true;
    };
    NbpInputTextComponent.prototype.formatViewOnFocus = function (importo) {
        if (!!importo) {
            for (var i = 0; i < importo.split('.').length; i++) {
                this.tmpValue += importo.split('.')[i];
            }
            importo = this.tmpValue.replace(/\./g, '');
            this.tmpValue = '';
            return importo;
        }
        return null;
    };
    
    NbpInputTextComponent.prototype._onInputEvent = function (event) {
        this.nbpValidation.emit(this.model);
    };
    NbpInputTextComponent.prototype._onFocusEvent = function () {
        if (this._nbpHighlightedDefault) {
            this._nbpHighlightedDefault = false;
        }
        //modificareply
        if (this.nbpFormat === "currency") {
            this.value = this.formatViewOnFocus(this.value);
        }
    };
    NbpInputTextComponent.prototype._onTouchedEvent = function () {
        this.touch();
        //modificareply
        if (this.nbpFormat === "currency") {
            this.value = new exports.NbpImportoPipe().transform(this.value);
        }
        this.showErrorLabel = true;
    };
    NbpInputTextComponent.prototype._onResetEvent = function () {
        // console.log('RESET!');
    };
    NbpInputTextComponent.prototype.ngOnInit = function () {
        this.ngControl = this.inj.get(_angular_forms.NgControl);
        // Validazione @Input componente
        if (this.ALLOWED_INPUT_TYPES.indexOf(this.nbpInputType) === -1) {
            this.nbpInputType = this.DEFAULT_INPUT_TYPE;
        }
        if (this.firstFocus) {
            this.elementRef.nativeElement.focus();
        }
    };
    return NbpInputTextComponent;
}(NbpInputElementBase));
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", String)
], exports.NbpInputTextComponent.prototype, "name", void 0);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", String)
], exports.NbpInputTextComponent.prototype, "id", void 0);
__decorate$41([
    _angular_core.HostBinding('class.nbp-show-validation'),
    _angular_core.Input(),
    __metadata$26("design:type", Boolean),
    __metadata$26("design:paramtypes", [Object])
], exports.NbpInputTextComponent.prototype, "nbpShowValidation", null);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", RegExp)
], exports.NbpInputTextComponent.prototype, "pattern", void 0);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", Boolean),
    __metadata$26("design:paramtypes", [Object])
], exports.NbpInputTextComponent.prototype, "disabled", null);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", Boolean),
    __metadata$26("design:paramtypes", [Object])
], exports.NbpInputTextComponent.prototype, "required", null);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", String)
], exports.NbpInputTextComponent.prototype, "placeholder", void 0);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", Boolean),
    __metadata$26("design:paramtypes", [Object])
], exports.NbpInputTextComponent.prototype, "nbpRoundBorder", null);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", Boolean),
    __metadata$26("design:paramtypes", [Object])
], exports.NbpInputTextComponent.prototype, "nbpHighlightedDefault", null);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", String)
], exports.NbpInputTextComponent.prototype, "nbpFormat", void 0);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", String)
], exports.NbpInputTextComponent.prototype, "nbpIcon", void 0);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", String)
], exports.NbpInputTextComponent.prototype, "nbpErrorMessage", void 0);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", String)
], exports.NbpInputTextComponent.prototype, "nbpInputType", void 0);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", Number)
], exports.NbpInputTextComponent.prototype, "maxlength", void 0);
__decorate$41([
    _angular_core.Output(),
    __metadata$26("design:type", _angular_core.EventEmitter)
], exports.NbpInputTextComponent.prototype, "nbpValidation", void 0);
__decorate$41([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$26("design:type", _angular_forms.NgModel)
], exports.NbpInputTextComponent.prototype, "model", void 0);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", Boolean)
], exports.NbpInputTextComponent.prototype, "firstFocus", void 0);
__decorate$41([
    _angular_core.Input(),
    __metadata$26("design:type", Number)
], exports.NbpInputTextComponent.prototype, "tabindex", void 0);
__decorate$41([
    _angular_core.ViewChild('autoFocusInput'),
    __metadata$26("design:type", _angular_core.ElementRef)
], exports.NbpInputTextComponent.prototype, "elementRef", void 0);
exports.NbpInputTextComponent = __decorate$41([
    _angular_core.Component({
        selector: 'nbp-input-text',template: "<input class=\"textfield-box form-control\" [ngClass]=\"{'round-borders':nbpRoundBorder, 'highlight-default':nbpHighlightedDefault, 'show-validation':nbpShowValidation, 'forced-touched':nbpForcedTouched}\" [type]=\"nbpInputType\" [name]=\"name\" [id]=\"id\" [(ngModel)]=\"value\" [disabled]=\"disabled\" [required]=\"required\" [placeholder]=\"placeholder\" (input)=\"_onInputEvent($event)\" (focus)=\"_onFocusEvent()\" (focusout)=\"_onTouchedEvent()\" [pattern]=\"pattern\" [maxlength]=\"maxlength\" [tabindex]=\"tabindex\" #autoFocusInput> <span *ngIf=\"!!nbpIcon\" class=\"icon icon-inside\" [ngClass]=\"nbpIcon\"></span>",
        styles: [":host{position:relative;display:block}:host(.ng-invalid) input.show-validation.forced-touched,:host(.ng-invalid) input.show-validation.ng-touched,input.ng-invalid.forced-touched.show-validation,input.ng-invalid.ng-touched.show-validation{border:2px solid #c83200}.textfield-box{margin:0 0 .625em 0;padding:.625em;color:#323232;border:1px solid #323232;border-radius:2px;font-size:1em;height:3.125em}.textfield-box:focus{border:2px solid #89bc72;outline:0;box-shadow:none!important}.textfield-box[disabled]{opacity:.5;cursor:default!important}::placeholder{color:#6f6f6f;opacity:1}:-ms-input-placeholder{color:#6f6f6f}::-ms-input-placeholder{color:#6f6f6f}:host(.show-validation.ng-dirty.ng-invalid,.show-validation.nbp-show-validation.ng-invalid) .textfield-box{border:2px solid #c83200!important;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}:host(.show-validation.ng-dirty.ng-invalid,.show-validation.nbp-show-validation.ng-invalid) .textfield-box:focus{border:2px solid #c83200}.highlight-default{border:2px solid #fce07f}.round-borders{border-radius:25px}.icon-inside{position:absolute;top:50%;right:25px;font-size:26px;transform:translateY(-50%)}.icon-inside:before{color:#258900}:host-context(.contrasto-on) .input-label{color:#000}:host-context(.contrasto-on) .highlight-default{border:2px solid #000}:host-context(.contrasto-on) .input-box{color:#000;border:1px solid #000}:host-context(.contrasto-on) .input-box:focus{border:2px solid #000}:host-context(.contrasto-on) .input-box::-webkit-input-placeholder{color:#000}:host-context(.contrasto-on) .input-box[disabled]{color:#fff;background-color:#000;opacity:1}:host-context(.contrasto-on) .has-error .input-box{border:2px solid #000;-webkit-box-shadow:inset 0 0 0 #000;box-shadow:inset 0 0 0 #000}:host-context(.contrasto-on) .has-error .input-box:focus{border:2px solid #000}:host-context(.contrasto-on) .yellow-border{border:2px solid #000} /*# sourceMappingURL=nbp-input-text.component.css.map */ "],
        providers: [NBP_INPUT_CONTROL_VALUE_ACCESSOR, NBP_INPUT_ELEMENT_BASE]
    }),
    __param$2(0, _angular_core.Optional()), __param$2(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$2(1, _angular_core.Optional()), __param$2(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __param$2(2, _angular_core.Optional()),
    __metadata$26("design:paramtypes", [Array, Array, exports.NbpFormContainerComponent,
        _angular_core.Injector])
], exports.NbpInputTextComponent);

var __decorate$43 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$27 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpInputContainerComponent = (function () {
    function NbpInputContainerComponent() {
    }
    return NbpInputContainerComponent;
}());
__decorate$43([
    _angular_core.Input(),
    __metadata$27("design:type", String)
], exports.NbpInputContainerComponent.prototype, "nbpLabel", void 0);
__decorate$43([
    _angular_core.ContentChild(NbpInputElementBase),
    __metadata$27("design:type", Object)
], exports.NbpInputContainerComponent.prototype, "innerNgInput", void 0);
__decorate$43([
    _angular_core.ViewChild('nbp-input-text'),
    __metadata$27("design:type", exports.NbpInputTextComponent)
], exports.NbpInputContainerComponent.prototype, "childNgInput", void 0);
exports.NbpInputContainerComponent = __decorate$43([
    _angular_core.Component({
        selector: 'nbp-input-container',template: "<div style=\"text-align: left\"><label [ngClass]=\"{'label-disabled': innerNgInput?.disabled}\" [for]=\"innerNgInput?.name\">{{nbpLabel}}<span *ngIf=\"innerNgInput?.required\">*</span></label><ng-content></ng-content><ng-container *ngIf=\"innerNgInput?.nbpShowValidation\"><div class=\"error-message\" *ngIf=\"innerNgInput?.showErrorLabel && (innerNgInput?.invalid | async) && ( innerNgInput?.nbpShowValidation || innerNgInput?.ngControl.control.dirty )\"><span *ngIf=\"innerNgInput?.nbpErrorMessage\">{{innerNgInput?.nbpErrorMessage}}</span> <span *ngIf=\"!innerNgInput?.nbpErrorMessage\">{{innerNgInput?.failures | async}}</span></div></ng-container></div>",
        styles: [".error-message{color:#c63200;font-size:.75em;margin-top:.625em;margin-bottom:.625em;opacity:1;transition:all ease-out .25s}.label-disabled{opacity:.5} /*# sourceMappingURL=nbp-input-container.component.css.map */ "]
    }),
    __metadata$27("design:paramtypes", [])
], exports.NbpInputContainerComponent);

var __extends$16 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$44 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$28 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$3 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/** intero autogenerato usato per id unici per checkbox component */
var nextId$4 = 0;
/**
 * Provider Expression that allows nbp-checkbox to register as a ControlValueAccessor.
 * This allows it to support [(ngModel)].
 * @docs-private
 */
var NBP_CHECKBOX_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpCheckboxComponent; }),
    multi: true
};
/**
 * <nbp-checkbox> provides the same functionality as a native <input type="checkbox">
 */
exports.NbpCheckboxComponent = (function (_super) {
    __extends$16(NbpCheckboxComponent, _super);
    function NbpCheckboxComponent(validatori, asyncValidatori) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        /**
         * Nome che sara' applicato all'elemento di input se presente
         */
        _this.name = null;
        /**
         * Identificativo univoco per la checkbox.
         * Se nessun id  fornito e' auto-generato.
         */
        _this.id = "nbp-checkbox-" + ++nextId$4;
        _this._checked = false;
        /**
         * Evento emesso quando il valore `checked` della checkbox cambia.
         */
        _this.change = new _angular_core.EventEmitter(); // TODO definire tipo specifico dell'evento
        /**
         * (Opzionale) Paramentro che indica l'ordine di spostamento da un campo all'altro attraverso il tab.
         */
        _this.tabindex = 0;
        _this.dirty = false;
        _this.propagateChange = function (value) {
            // console.log( 'NbpCheckbox: eseguita funzione propagateChange' );
        };
        return _this;
    }
    Object.defineProperty(NbpCheckboxComponent.prototype, "disabled", {
        /**
         * Se la checkbox  disabled.
         */
        get: function () { return this._nbpDisabled; },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpCheckboxComponent.prototype, "nbpDisplayInline", {
        /**
         * Booleano che imposta, se presente, la propriet CSS display dellelemento
         * a inline-block
         */
        get: function () { return this._nbpDisplayInline; },
        set: function (value) { this._nbpDisplayInline = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpCheckboxComponent.prototype, "nbpYellowBorder", {
        /**
         * (Opzionale) Booleano che abilita il bordo giallo della checkbox. Al primo
         * click/focus torner alla versione di default.
         * Valore default false
         */
        get: function () { return this._nbpYellowBorder; },
        set: function (value) { this._nbpYellowBorder = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    Object.defineProperty(NbpCheckboxComponent.prototype, "required", {
        /** Whether the checkbox is required. */
        get: function () { return this._required; },
        set: function (value) { this._required = value != null && "" + value !== 'false'; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpCheckboxComponent.prototype, "checked", {
        /**
         * Se la checkbox e' checked.
         */
        get: function () { return this._checked; },
        set: function (checked) { if (checked !== this.checked) {
            this._checked = checked;
        } },
        enumerable: true,
        configurable: true
    });
    NbpCheckboxComponent.prototype.ngOnInit = function () {
        if (!this.nbpShowValidation) {
            this.nbpShowValidation = false;
        }
        if (!this.nbpDisplayInline) {
            this.nbpDisplayInline = false;
        }
        if (!this.nbpYellowBorder) {
            this.nbpYellowBorder = false;
        }
        if (this.firstFocus) {
            this.focusOn = true;
            this.elementRef.nativeElement.focus(this.focusFn());
        }
    };
    NbpCheckboxComponent.prototype.focusFn = function () {
        this.focusOn = true;
    };
    NbpCheckboxComponent.prototype.writeValue = function (value) {
        this.checked = !!value;
    };
    NbpCheckboxComponent.prototype.registerOnChange = function (fn) {
        this.propagateChange = fn;
    };
    NbpCheckboxComponent.prototype._onChangeEvent = function (event) {
        event.stopPropagation();
        this.change.next(event);
    };
    NbpCheckboxComponent.prototype._tabFocusOn = function () {
        this.focusOn = true;
    };
    NbpCheckboxComponent.prototype._tabFocusOff = function () {
        this.focusOn = false;
    };
    NbpCheckboxComponent.prototype._shiftTabFocusOn = function () {
        this.focusOn = true;
    };
    NbpCheckboxComponent.prototype._shiftTabFocusOff = function () {
        this.focusOn = false;
    };
    NbpCheckboxComponent.prototype._onClickEvent = function (event) {
        event.stopPropagation();
        this.focusOn = false;
        if (!this.disabled) {
            this.checked = !this.checked;
        }
        if (this._nbpYellowBorder) {
            this._nbpYellowBorder = false;
        }
        this._emitChangeEvent(event);
    };
    NbpCheckboxComponent.prototype._emitChangeEvent = function (event) {
        this.propagateChange(this.checked);
    };
    return NbpCheckboxComponent;
}(NbpInputElementBase));
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", String)
], exports.NbpCheckboxComponent.prototype, "nbpLabel", void 0);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", String)
], exports.NbpCheckboxComponent.prototype, "name", void 0);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Object)
], exports.NbpCheckboxComponent.prototype, "id", void 0);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Boolean),
    __metadata$28("design:paramtypes", [Object])
], exports.NbpCheckboxComponent.prototype, "disabled", null);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Boolean)
], exports.NbpCheckboxComponent.prototype, "nbpShowValidation", void 0);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Boolean),
    __metadata$28("design:paramtypes", [Object])
], exports.NbpCheckboxComponent.prototype, "nbpDisplayInline", null);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Boolean),
    __metadata$28("design:paramtypes", [Object])
], exports.NbpCheckboxComponent.prototype, "nbpYellowBorder", null);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Boolean),
    __metadata$28("design:paramtypes", [Object])
], exports.NbpCheckboxComponent.prototype, "required", null);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Object),
    __metadata$28("design:paramtypes", [Boolean])
], exports.NbpCheckboxComponent.prototype, "checked", null);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", String)
], exports.NbpCheckboxComponent.prototype, "value", void 0);
__decorate$44([
    _angular_core.Output(),
    __metadata$28("design:type", _angular_core.EventEmitter)
], exports.NbpCheckboxComponent.prototype, "change", void 0);
__decorate$44([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$28("design:type", _angular_forms.NgModel)
], exports.NbpCheckboxComponent.prototype, "model", void 0);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Boolean)
], exports.NbpCheckboxComponent.prototype, "firstFocus", void 0);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Boolean)
], exports.NbpCheckboxComponent.prototype, "focusOn", void 0);
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Number)
], exports.NbpCheckboxComponent.prototype, "tabindex", void 0);
__decorate$44([
    _angular_core.ViewChild('autoFocusCheckbox'),
    __metadata$28("design:type", _angular_core.ElementRef)
], exports.NbpCheckboxComponent.prototype, "elementRef", void 0);
exports.NbpCheckboxComponent = __decorate$44([
    _angular_core.Component({
        selector: 'nbp-checkbox',template: "<div class=\"icheckbox-container\" [ngStyle]=\"{'display': nbpDisplayInline ? 'inline-block' : 'block'}\" [ngClass]=\"{'checked': checked, 'disabled': disabled }\"><div class=\"icheckbox_intesa\" [ngClass]=\"{'checked': checked, 'disabled': disabled ,'yellowborder': nbpYellowBorder, 'focusTabCheckbox': focusOn}\"><input class=\"input-checkbox\" [id]=\"id\" [name]=\"name\" [(ngModel)]=\"value\" type=\"checkbox\" [checked]=\"checked\" [disabled]=\"disabled\" (change)=\"_onChangeEvent($event)\" (click)=\"_onClickEvent($event)\" (focusout)=\"_tabFocusOff()\" (keyup.tab)=\"_tabFocusOn()\" (keydown.tab)=\"_tabFocusOff()\" (keydown.shift.tab)=\"_shiftTabFocusOff()\" (keyup.shift.tab)=\"_shiftTabFocusOn()\" [tabindex]=\"tabindex\" #autoFocusCheckbox></div><label *ngIf=\"nbpLabel\" class=\"checkbox-label\">{{nbpLabel}}</label> <label *ngIf=\"!nbpLabel\" class=\"checkbox-label\"><ng-content></ng-content></label></div>",
        styles: [".icheckbox-container{margin-right:.195em}.icheckbox-container.checked .checkbox-label{color:#323232}.icheckbox-container.disabled .checkbox-label{opacity:.5}.icheckbox-container.checked.disabled .checkbox-label{opacity:.5;color:#258900}.focusTabCheckbox{box-shadow:0 0 .05em .23em rgba(37,137,0,.6)!important}.icheckbox_intesa{position:relative;display:inline-block;vertical-align:middle;padding:0;margin:0 0 2px 0;width:24px;height:24px;background:url(/cjlib/assets/images/sprite-margin.png) no-repeat;border:none;background-position:-1px 0}.icheckbox_intesa input[type=checkbox]{margin:4px 4px 0 0!important;cursor:pointer;height:24px;width:30px;opacity:0}.icheckbox_intesa input[type=checkbox]:disabled{cursor:auto}.icheckbox_intesa.yellowborder{background-position:-25px 0}.icheckbox_intesa.checked{background-position:-73px 0}.icheckbox_intesa.checked.yellowborder{background-position:-97px 0}.icheckbox_intesa.disabled{opacity:.5;cursor:default}.icheckbox_intesa.checked.disabled{opacity:.5}.checkbox-label{color:#323232;font-size:.875em!important;font-weight:400;margin:0 0 0 10px!important}.input-checkbox{position:absolute;left:-1px;top:-2px}:host-context(.contrasto-on) .icheckbox-container.checked .checkbox-label{color:#000!important}:host-context(.contrasto-on) .icheckbox_intesa{background:url(/cjlib/assets/images/sprite-margin.png) no-repeat;border:none;background-position:-1px 0}:host-context(.contrasto-on) .icheckbox_intesa.yellowborder{background-position:-1px 0}:host-context(.contrasto-on) .icheckbox_intesa.checked{background-position:-145px 0}:host-context(.contrasto-on) .icheckbox_intesa.checked.yellowborder{background-position:-145px 0}:host-context(.contrasto-on) .checkbox-label{color:#000} /*# sourceMappingURL=nbp-checkbox.component.css.map */ "],
        providers: [NBP_CHECKBOX_CONTROL_VALUE_ACCESSOR]
    }),
    __param$3(0, _angular_core.Optional()), __param$3(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$3(1, _angular_core.Optional()), __param$3(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __metadata$28("design:paramtypes", [Array, Array])
], exports.NbpCheckboxComponent);
exports.NbpCheckboxRequiredValidator = NbpCheckboxRequiredValidator_1 = (function () {
    function NbpCheckboxRequiredValidator() {
    }
    NbpCheckboxRequiredValidator.prototype.validate = function (control) {
        var value = control.value;
        if (this.required && !value) {
            return {
                checkboxRequired: 'checkbox required'
            };
        }
        else {
            return null;
        }
        
    };
    return NbpCheckboxRequiredValidator;
}());
__decorate$44([
    _angular_core.Input(),
    __metadata$28("design:type", Boolean)
], exports.NbpCheckboxRequiredValidator.prototype, "required", void 0);
exports.NbpCheckboxRequiredValidator = NbpCheckboxRequiredValidator_1 = __decorate$44([
    _angular_core.Directive({
        selector: 'nbp-checkbox[required]',
        providers: [{
                provide: _angular_forms.NG_VALIDATORS,
                useExisting: NbpCheckboxRequiredValidator_1,
                multi: true
            }]
    })
], exports.NbpCheckboxRequiredValidator);
var NbpCheckboxRequiredValidator_1;

/**
 * Enum utilizzabile per la definizione della grandezza del font da utilizzare
 */
/**
 * Enum utilizzabile per la definizione della grandezza del font da utilizzare
 */ var NbpFontSize$1;
(function (NbpFontSize) {
    NbpFontSize[NbpFontSize["SMALL"] = 0] = "SMALL";
    NbpFontSize[NbpFontSize["MEDIUM"] = 1] = "MEDIUM";
    NbpFontSize[NbpFontSize["LARGE"] = 2] = "LARGE";
})(NbpFontSize$1 || (NbpFontSize$1 = {}));

var __decorate$45 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$29 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$4 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.NbpFooterComponent = (function () {
    function NbpFooterComponent(document, router) {
        this.document = document;
        this.router = router;
        /**
         * (Opzionale) Evento emesso alla seleziona della lingua
         */
        this.nbpLanguageChange = new _angular_core.EventEmitter();
        /**
         * (Opzionale) Booleano che mostra/nasconde i pulsanti per la gestione del contrasto
         * valore di default false
         */
        this.nbpContrastEnable = true;
        /**
         *  (Opzionale) Booleano che abilita la visualizzazione della dimensione del font
         *  Valore di default false
         */
        this.nbpFontDimensionEnable = true;
        /**
         *  Emissione di un evento per lo zoom del testo
         */
        this.nbpZoom = new _angular_core.EventEmitter();
        this._zoom = NbpFontSize$1;
        /**
         * Booleano per l'attivazione del contrasto, agisce sui colore nel css della libreria
         */
        this.nbpContrastOn = false;
        /**
         *  Emissione di un evento per l'attivazione del contrasto
         */
        this.nbpContrast = new _angular_core.EventEmitter();
        /**
         * Disabilita il margine superiore sul componente. (Valore di default false, margina presente)
         * Permette di accostare un altro componente al footer senza lasciare spazio tra i due.
         * @type {boolean}
         */
        this.nbpDisableMarginTop = false;
        this.redirectTo = function (link) {
            if (link.internalState) {
                this.router.navigate([link.urlLink]);
                // var states = $state.get();
                // for (var i = 0; i < states.length; i++) {
                //   if (states[i].name === link.url) {
                //     $location.path(link.url);
                //     $state.go(link.url);
                //     return;
                //   }
                // }
                // console.log('Stato non definito');
            }
            else {
                if (link.urlLink.search('http://') > -1) {
                    window.open(link.urlLink, "_blank");
                }
                else {
                    window.open('http://' + link.urlLink, "_blank");
                }
            }
        };
    }
    Object.defineProperty(NbpFooterComponent.prototype, "nbpDisableSticky", {
        /**
         * Booleano che abilita/disabilita il posizionamento sticky
         * al bottom della pagina
         */
        get: function () { return this._nbpDisableSticky; },
        set: function (value) { this._nbpDisableSticky = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    NbpFooterComponent.prototype._zoomSelected = function (size) {
        this.nbpZoomSize = size;
        if (size === NbpFontSize$1.SMALL) {
            this.document.body.style.fontSize = '16px';
        }
        else if (size === NbpFontSize$1.MEDIUM) {
            this.document.body.style.fontSize = '19px';
        }
        else if (size === NbpFontSize$1.LARGE) {
            this.document.body.style.fontSize = '22px';
        }
        this.nbpZoom.emit(this.document.body.style.fontSize);
    };
    
    NbpFooterComponent.prototype._languageChange = function (lang) {
        // alert("_languageChange : " + lang )
        this.nbpLanguage = lang;
        this.nbpLanguageChange.emit(this.nbpLanguage);
    };
    
    NbpFooterComponent.prototype._changeContrast = function (contrastOn) {
        // alert("_changeContrast ")
        this.nbpContrastOn = contrastOn;
        /*
        if (contrastOn === true) {
           this.document.getElementsByTagName('body')[0].className = 'contrasto-on';
           console.log("contrast-on");
         } else {
           this.document.getElementsByTagName('body')[0].classList.remove('contrasto-on');
           console.log("contrast-off");
         }
         */
        this.nbpContrast.emit(this.nbpContrastOn);
    };
    
    NbpFooterComponent.prototype._isFooterEmpty = function () {
        return !this.nbpLinks
            && !this.nbpLanguages
            && !this.nbpShowCentralBtn
            && !this.nbpFontDimensionEnable
            && !this.nbpContrastEnable;
    };
    NbpFooterComponent.prototype.ngOnInit = function () {
        this._zoomSelected(NbpFontSize$1.SMALL);
        // this.nbpShowCentralBtn = true;
    };
    return NbpFooterComponent;
}());
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Array)
], exports.NbpFooterComponent.prototype, "nbpLinks", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Array)
], exports.NbpFooterComponent.prototype, "nbpLanguages", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Boolean)
], exports.NbpFooterComponent.prototype, "nbpShowCentralBtn", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Number)
], exports.NbpFooterComponent.prototype, "nbpZoomSize", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Object)
], exports.NbpFooterComponent.prototype, "nbpCentralBtn", void 0);
__decorate$45([
    _angular_core.Output(),
    __metadata$29("design:type", _angular_core.EventEmitter)
], exports.NbpFooterComponent.prototype, "nbpLanguageChange", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", String)
], exports.NbpFooterComponent.prototype, "nbpLanguage", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Boolean)
], exports.NbpFooterComponent.prototype, "nbpContrastEnable", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Boolean)
], exports.NbpFooterComponent.prototype, "nbpFontDimensionEnable", void 0);
__decorate$45([
    _angular_core.Output(),
    __metadata$29("design:type", _angular_core.EventEmitter)
], exports.NbpFooterComponent.prototype, "nbpZoom", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Boolean)
], exports.NbpFooterComponent.prototype, "nbpContrastOn", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Boolean),
    __metadata$29("design:paramtypes", [Object])
], exports.NbpFooterComponent.prototype, "nbpDisableSticky", null);
__decorate$45([
    _angular_core.Output(),
    __metadata$29("design:type", _angular_core.EventEmitter)
], exports.NbpFooterComponent.prototype, "nbpContrast", void 0);
__decorate$45([
    _angular_core.Input(),
    __metadata$29("design:type", Boolean)
], exports.NbpFooterComponent.prototype, "nbpDisableMarginTop", void 0);
exports.NbpFooterComponent = __decorate$45([
    _angular_core.Component({
        selector: 'nbp-footer',template: "<footer class=\"footer\" [ngClass]=\"{ 'contrasto-on':nbpContrastOn, 'empty-footer':_isFooterEmpty(), 'footer-fixed-bottom':!_nbpDisableSticky, 'footer-margin-top':!nbpDisableMarginTop, 'footer-margin-top--disabled':nbpDisableMarginTop}\"><div class=\"container\" [ngClass]=\"{'footer-content':!_isFooterEmpty(),'empty-footer':_isFooterEmpty()}\"><div *ngIf=\"!!nbpLinks\" class=\"footer-content-left col-xs-24\" [ngClass]=\"{'links-no-translate col-sm-24': !nbpLanguages, 'links-translate col-sm-12': nbpLanguages, 'col-md-8': (!nbpShowCentralBtn || !nbpLanguages), 'col-md-6': (nbpShowCentralBtn && nbpLanguages) }\"><div><span *ngFor=\"let link of nbpLinks;let i=index;\"><span class=\"footer-link\" [innerText]=\"link.name\" (click)=\"redirectTo(link)\"></span> <span *ngIf=\"i !== nbpLinks.length - 1\">|</span></span></div></div><div *ngIf=\"!!nbpLanguages\" class=\"footer-content-center-l col-sm-12 col-xs-24 top-left-border\" [ngClass]=\"{'col-md-8':!nbpShowCentralBtn,  'col-md-6':nbpShowCentralBtn  }\"><div class=\"footer-languages\"><div *ngFor=\"let lang of nbpLanguages; let i=index; let l=last\" (click)=\"_languageChange(lang)\"><div><span class=\"footer-lang\" style=\"margin-right: 0.313em\" [innerText]=\"lang\"></span> <span class=\"footer-lang\" *ngIf=\"i !== nbpLanguages.length - 1\">|</span> <span class=\"footer-lang\" *ngIf=\"i === nbpLanguages.length - 1\">&nbsp;</span></div><div [ngStyle]=\"{opacity: nbpLanguage === lang ? 1 : 0}\" class=\"footer-languages-selection\">&#9679;</div></div></div></div><div *ngIf=\"nbpShowCentralBtn\" class=\"footer-content-center-r col-sm-12 col-xs-24\" [ngClass]=\"{'top-left-border col-md-8': !nbpLanguages, 'bottom-right-border col-md-6': nbpLanguages }\"><div><button (click)=\"nbpCentralBtn.action()\" class=\"btn button\"><span class=\"icon button-icon\" [ngClass]=\"nbpCentralBtn.icon\"></span>{{nbpCentralBtn.name}}</button></div></div><div class=\"footer-content-right col-xs-24\" [ngClass]=\"{'top-left-border':nbpShowCentralBtn, 'top-border':!nbpShowCentralBtn, 'col-md-8': (!nbpShowCentralBtn || !nbpLanguages), 'col-md-6': (nbpShowCentralBtn && nbpLanguages), 'col-sm-24': !nbpShowCentralBtn, 'col-sm-12': nbpShowCentralBtn}\"><div class=\"footer-contrasto\" *ngIf=\"nbpContrastEnable\"><div (click)=\"_changeContrast(false)\"><div class=\"icon ico-footer-contrasto-1\"></div><div [ngStyle]=\"{opacity: nbpContrastOn === false ? 1 : 0}\" class=\"footer-contrasto-selection\">&#9679;</div></div><div (click)=\"_changeContrast(true)\"><div class=\"icon ico-footer-contrasto-2\"></div><div [ngStyle]=\"{opacity: nbpContrastOn === true ? 1 : 0}\" class=\"footer-contrasto-selection\">&#9679;</div></div></div><div class=\"footer-testo\" *ngIf=\"nbpFontDimensionEnable\"><div (click)=\"_zoomSelected(_zoom.SMALL)\"><div class=\"icon ico-footer-testo-1\"></div><div [ngStyle]=\"{opacity: nbpZoomSize === _zoom.SMALL ? 1 : 0}\" class=\"footer-contrasto-selection\">&#9679;</div></div><div (click)=\"_zoomSelected(_zoom.MEDIUM)\"><div class=\"icon ico-footer-testo-2\"></div><div [ngStyle]=\"{opacity: nbpZoomSize === _zoom.MEDIUM ? 1 : 0}\" class=\"footer-contrasto-selection\">&#9679;</div></div><div (click)=\"_zoomSelected(_zoom.LARGE)\"><div class=\"icon ico-footer-testo-3\"></div><div [ngStyle]=\"{opacity: nbpZoomSize === _zoom.LARGE ? 1 : 0}\" class=\"footer-contrasto-selection\">&#9679;</div></div></div></div></div></footer>",
        styles: [".footer-content{height:6.25em}.empty-footer{height:3.125em}.empty-footer .footer-content-right{border:none!important}.links-no-translate,.links-translate{border-top:none;border-right:1px solid #6f6f6f;border-bottom:none}.btn-no-translate,.btn-translate{border-top:none;border-right:1px solid #6f6f6f;border-bottom:none}.top-border{border-top:none;border-bottom:none;border-left:1px solid #6f6f6f}.bottom-border{border-top:none;border-bottom:1px solid #6f6f6f;border-left:none}.top-left-border{border-top:none;border-bottom:none;border-left:1px solid #6f6f6f}.bottom-right-border{border-top:none;border-right:1px solid #6f6f6f;border-left:1px solid #6f6f6f;border-bottom:none}.footer-content-center-l,.footer-content-center-r,.footer-content-left,.footer-content-right{display:table;height:inherit;color:#fff}.footer-content-center-l>div,.footer-content-center-r>div,.footer-content-left>div,.footer-content-right>div{display:table-cell;vertical-align:middle;text-align:center}.footer-content-left{padding-left:.625em;padding-right:.625em;text-transform:uppercase}.footer-content-left span{margin-right:.125em;cursor:pointer}.footer-content-center-r button{background-color:#323232;color:#fff;border:none}.footer-content-center-r button:hover{background-color:#fff;color:#323232}.footer-content-right{border-right:none}.footer-link{font-family:Arial;font-size:.75em;white-space:nowrap}.footer-link:hover{text-decoration:underline}.truncate-link{display:inline-block;vertical-align:middle;max-width:10em;text-overflow:ellipsis;overflow:hidden}.footer-languages{font-size:1.5em}.footer-languages .ico-footer-contrasto-1{cursor:pointer}.footer-languages .footer-lang{cursor:pointer;font-family:Arial;font-size:.5em;margin-left:0 .313em 0 0;text-transform:uppercase}.footer-languages .ico-footer-contrasto-2{cursor:pointer}.footer-languages>div{display:inline-block;padding:0 0 0 .313em}.footer-contrasto{font-size:1.5em}.footer-contrasto .ico-footer-contrasto-1{cursor:pointer}.footer-contrasto .ico-footer-contrasto-2{cursor:pointer}.footer-contrasto>div{display:inline-block;padding-left:0 .313em 0 .313em;margin-right:.313em}.footer-contrasto>div:hover{background-color:#fff;color:#323232}.footer-testo{font-size:1.5em}.footer-testo .ico-footer-testo-1{font-size:.5em}.footer-testo .ico-footer-testo-2{font-size:.8em}.footer-testo>div{cursor:pointer;display:inline-block;padding:0 .313em 0 .313em}.footer-testo>div:hover{background-color:#fff;color:#323232}.footer-contrasto-selection,.footer-languages-selection,.footer-testo-selection{cursor:pointer;font-size:.625em}.footer-languages-selection{margin:-.625em 1.313em 0 .313em}.footer-margin-top{margin-top:1.875em!important}.footer-margin-top--disabled{margin-top:0!important}.footer{background-color:#323232;color:#fff;width:100%}.footer.footer-fixed-bottom{z-index:1028;bottom:0}@media (min-width:768px){.footer{margin-bottom:0;margin-right:2.5em}}@media (min-width:992px){.footer{margin-right:12.5em}}@media (max-width:767px){.links-no-translate,.links-translate{border-top:none;border-right:none!important;border-left:none!important;border-bottom:1px solid #6f6f6f!important}.top-border,.top-left-border{border-top:none;border-right:none!important;border-bottom:1px solid #6f6f6f!important;border-left:none!important}.bottom-border,.bottom-right-border{border-top:none;border-right:none!important;border-bottom:1px solid #6f6f6f!important;border-left:none!important}.footer{height:25em}.footer .row{padding:0 .938em 0 .938em}.empty-footer{height:3.125em!important}.empty-footer>div{display:none}.footer-content-right{padding-top:.938em}}@media (min-width:768px) and (max-width:991px){.links-translate{border-top:none;border-right:1px solid #6f6f6f;border-left:none;border-bottom:1px solid #6f6f6f}.links-no-translate{border-top:none;border-right:none;border-left:none;border-bottom:1px solid #6f6f6f}.top-border{border-top:1px solid #6f6f6f;border-right:none;border-bottom:none;border-left:none}.bottom-border{border-top:none;border-right:none;border-bottom:1px solid #6f6f6f;border-left:none}.top-left-border{border-top:1px solid #6f6f6f;border-right:none;border-bottom:none;border-left:1px solid #6f6f6f}.bottom-right-border{border-top:none;border-right:1px solid #6f6f6f;border-bottom:1px solid #6f6f6f;border-left:none}.footer-content-left.bottom-right-border{border-bottom:none!important}.footer-content-center-l.top-left-border{border-top:none!important;border-right:none!important}.footer-content-center-r.top-left-border{border-bottom:none!important;border-left:none!important}.footer-content-right{border-right:none!important;border-bottom:none!important}.footer{height:12.5em}.footer .row{padding:0 .938em 0 .938em}.empty-footer{height:3.125em!important}.empty-footer>div{display:none}}.contrasto-on{background-color:#000}.contrasto-on .footer-content-left{color:#fff}.contrasto-on .footer-content-center-r button{background-color:#000!important}.contrasto-on .footer-content-center-r button:hover{background-color:#fff!important;color:#6f6f6f!important}.contrasto-on .footer-contrasto{color:#ccc}.contrasto-on .footer-contrasto>div:hover{background-color:#000;color:#fff}.contrasto-on .footer-testo{color:#ccc}.contrasto-on .footer-testo>div:hover{background-color:#000;color:#fff}.button-icon{font-size:1.7em!important;display:inline-block;vertical-align:middle;padding-right:.2em}.button{font-weight:700;font-size:.75em;padding-top:1em;padding-bottom:1em;line-height:1;outline:0!important;text-transform:uppercase;height:3.3334em;min-width:6.875em;box-shadow:none!important} /*# sourceMappingURL=nbp-footer.component.css.map */ "]
    }),
    __param$4(0, _angular_core.Inject(_angular_platformBrowser.DOCUMENT)),
    __metadata$29("design:paramtypes", [Object, _angular_router.Router])
], exports.NbpFooterComponent);

var __decorate$50 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$34 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$7 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * Client Http per recuperare le informazioni di cjContext
 */
exports.CjContextClientService = (function () {
    function CjContextClientService(config, http) {
        this.config = config;
        this.http = http;
        this.headers = new _angular_common_http.HttpHeaders().set('Content-Type', 'application/json');
    }
    /**
     * Esegue la chiamata http per recupeare il contesto passando come url param il token
     */
    CjContextClientService.prototype.getCjContext = function (token) {
        var _this = this;
        return this.config.getSessionManagerBaseUrl()
            .concatMap(function (url) {
            return _this.http.get(url + ("/npu-sm-v0/api/cjcontext/" + token), { headers: _this.headers, withCredentials: true });
        });
    };
    /**
     * Esegue la chiamata http per creare un nuovo contesto securizzato dai dati presenti
     * nel parametro di tipo ICjContextRequest
     */
    CjContextClientService.prototype.creaCjContextByRequest = function (request) {
        var _this = this;
        return this.config.getSessionManagerBaseUrl()
            .concatMap(function (url) {
            return _this.http.post(url + "/npu-sm-v0/api/cjcontext", request, { headers: _this.headers, withCredentials: true });
        });
    };
    /**
     * Esegue la chiamata http per creare un nuovo contesto securizzato a partire dai parametri
     * NDG, application canale abi unitaOperativa
     */
    CjContextClientService.prototype.creaCjContext = function (ndg, abi, codUnitaOperativa, application, canale) {
        var _this = this;
        return this.config.getSessionManagerBaseUrl()
            .concatMap(function (url) {
            return _this.http.post(url + "/npu-sm-v0/api/cjcontext", { 'ndg': ndg, 'application': application, 'canale': canale, 'abi': abi, 'codUnitaOperativa': codUnitaOperativa }, { headers: _this.headers, withCredentials: true });
        });
    };
    return CjContextClientService;
}());
exports.CjContextClientService = __decorate$50([
    _angular_core.Injectable(),
    __param$7(0, _angular_core.Inject(APP_CONFIG)),
    __metadata$34("design:paramtypes", [Object, _angular_common_http.HttpClient])
], exports.CjContextClientService);

var __decorate$49 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$33 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Servizio utilizzato per recuperare le informazioni di contesto
 *
 */
exports.CjContextService = (function () {
    // TODO capire come passare l'indirizzo dell'ambiente PUV giusto
    // un idea 'semplice' ma poco elegante potrebbe essere quella di chiederlo in input nei metodi,
    // altrimenti bisogna lavorare a livello di provider
    function CjContextService(cjContextClient) {
        this.cjContextClient = cjContextClient;
        this._contextInfoSource = new rxjs_ReplaySubject.ReplaySubject(1);
    }
    /**
     * Crea un nuovo contesto applicativo
     * @return il token del contesto
     */
    // createNewCjContext(request: ICjContextRequest): Observable<ICjContext>;
    // createNewCjContext(ndg: string, abi: string, codUnitaOperativa: string, application: string, canale: string): Observable<ICjContext>;
    CjContextService.prototype.createNewCjContext = function (ndg, abi, codUnitaOperativa, application, canale) {
        if (typeof ndg !== 'string') {
            // nuovo metodo con oggetto ICjContextRequest
            var request = ndg;
            return this.cjContextClient.creaCjContextByRequest(request);
        }
        return this.cjContextClient.creaCjContext(ndg, abi, codUnitaOperativa, application, canale);
    };
    /**
     * Permette di salvare il contesto applicativo all'interno del servizio
     * @param ICjContext cjContext contesto applicativo
     */
    CjContextService.prototype.setCurrentCjContext = function (cjContext) {
        this._contextInfoSource.next(cjContext);
    };
    /**
     * Recupera il contesto applicativo salvato nel servizio
     * @return ICjContext contesto applicativo salvato nel servizio
     */
    CjContextService.prototype.getCurrentCjContext = function () {
        return this._contextInfoSource.asObservable();
    };
    CjContextService.prototype.getCurrentToken = function () {
        return this._token;
    };
    CjContextService.prototype._setCurrentToken = function (token) {
        this._token = token;
        console.debug('Salvato token corrente: ' + this._token);
    };
    /**
     * Restituisce le informazioni di contesto chiamando il servizio rest dedicato.
     * Se il contensto  gi stato recuperato restituisce tale contesto
     * @param  string token
     * @return Observable<ICjContext> contesto applicativo da servizio rest
     */
    CjContextService.prototype.getCjContextByToken = function (token) {
        this._setCurrentToken(token);
        if (!this._contextInfo) {
            return this.cjContextClient.getCjContext(token);
        }
        else {
            return rxjs_Observable.Observable.of(this._contextInfo);
        }
    };
    return CjContextService;
}());
exports.CjContextService = __decorate$49([
    _angular_core.Injectable(),
    __metadata$33("design:paramtypes", [exports.CjContextClientService])
], exports.CjContextService);

var __decorate$51 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$35 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var CjProgressConfigurationService = (function () {
    function CjProgressConfigurationService() {
        this.progressConfigurationSubject = new rxjs_Subject.Subject();
    }
    CjProgressConfigurationService.prototype.getProgressConfigurationStream = function () {
        return this.progressConfigurationSubject.asObservable();
    };
    CjProgressConfigurationService.prototype.sendProgressConfigurationEvent = function (progressConfigurationEvent) {
        this.progressConfigurationSubject.next(progressConfigurationEvent);
    };
    return CjProgressConfigurationService;
}());
CjProgressConfigurationService = __decorate$51([
    _angular_core.Injectable(),
    __metadata$35("design:paramtypes", [])
], CjProgressConfigurationService);

var __decorate$52 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$36 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$8 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.NbpProgressComponent = (function () {
    function NbpProgressComponent(document, renderer2) {
        var _this = this;
        this.document = document;
        this.renderer2 = renderer2;
        /**
         * Propriet che indica lo step corrente
         * Oggetto strutturato che contiene stepId e pageId
         */
        // @Input() nbpCurrentStep: object;
        this._nbpWidth = 'col-xs-8';
        this._nbpOffset = 'col-xs-offset-0';
        this._nbpStepType = exports.NbpStepDimension; // :NbpStepDimension;
        this._nbpLeftOffsetForCenter = 24;
        this.sticky = false;
        this.stickyActive = false;
        this.initializeProgressBar = function () {
            // setup Step Dimension to Large if not defined
            if (_this.nbpConfiguration) {
                _this.nbpConfiguration.forEach(function (stepConf, index) {
                    // set nbpConfiguration stepDimension(optional) if not declared
                    if (!stepConf.stepDimension) {
                        stepConf.stepDimension = _this._nbpStepType.GRANDE;
                    }
                    // calculate bootstrap col-__-offset depending on stepDimension
                    // this._nbpLeftOffsetForCenter = 24;
                    // switch (stepConf.stepDimension) {
                    //   case this._nbpStepType.GRANDE:
                    //     this._nbpLeftOffsetForCenter = this._nbpLeftOffsetForCenter - 3;
                    //     break;
                    //   case this._nbpStepType.MEDIO:
                    //     this._nbpLeftOffsetForCenter = this._nbpLeftOffsetForCenter - 2;
                    //     break;
                    //   case this._nbpStepType.PICCOLO:
                    //     this._nbpLeftOffsetForCenter = this._nbpLeftOffsetForCenter - 1;
                    //     break;
                    // }
                    // remove old and add new bootstrap col- class depending of stepDimension
                    // if ( this.stepList.length > 0 ) {
                    //   let currentElement = this.stepList.toArray()[index].nativeElement;
                    //   if ( currentElement.classList.contains(/\bcol-.{2}-[1-9]{1}[0-9]{0,1}\b/g) ) {
                    //     currentElement.classList.removeClass(/\bcol-.{2}-[1-9]{1}[0-9]{0,1}\b/g);
                    //   }
                    // }
                });
            }
            // calculate the offset for center the step
            // if ( this._nbpLeftOffsetForCenter > 0 ) { // && this._nbpLeftOffsetForCenter < 24
            //   let colOffset = Math.round((this._nbpLeftOffsetForCenter / 2));
            //   this._nbpOffset = `col-xs-offset-${colOffset} col-md-offset-${colOffset}`;
            // }
            // OLD CODE TO DELETE
            // if (this.nbpConfiguration) {
            //   switch (this.nbpConfiguration.length) {
            //     case 1:
            //       this._nbpWidth = 'col-xs-4 col-md-4';
            //       this._nbpOffset = 'col-xs-offset-12 col-md-offset-12';
            //       break;
            //     case 2:
            //       this._nbpWidth = 'col-xs-4 col-md-4';
            //       this._nbpOffset = 'col-xs-offset-8 col-md-offset-8';
            //       break;
            //     case 3:
            //       this._nbpWidth = 'col-xs-4 col-md-4';
            //       this._nbpOffset = 'col-xs-offset-6 col-md-offset-6';
            //       break;
            //     case 4:
            //       this._nbpWidth = 'col-xs-4 col-md-4';
            //       this._nbpOffset = 'col-xs-offset-4 col-md-offset-4';
            //       break;
            //     case 5:
            //       this._nbpWidth = 'col-xs-4 col-md-4';
            //       this._nbpOffset = 'col-xs-offset-2 col-md-offset-2';
            //       break;
        };
    }
    Object.defineProperty(NbpProgressComponent.prototype, "nbpDisableSticky", {
        /**
         * Booleano che abilita/disabilita il posizionamento sticky
         * al top della pagina
         */
        get: function () { return this._nbpDisableSticky; },
        set: function (value) { this._nbpDisableSticky = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    NbpProgressComponent.prototype.ngOnInit = function () {
        // console.log('nbpProgressInit');
        // console.log('progress: ', this.progress);
        this.renderer2.addClass(this.progress.nativeElement, 'header');
        // console.log('progress: ', this.progress);
        this.renderer2.addClass(this.steps.nativeElement, 'header');
    };
    NbpProgressComponent.prototype.ngOnDestroy = function () {
        /*
        this.renderer2.removeClass(this.progress.nativeElement, 'header');
    
        this.renderer2.removeClass(this.step.nativeElement, 'header');
    
        console.log('progress destroyed', this.progress);
        */
    };
    NbpProgressComponent.prototype.ngDoCheck = function () {
        this.initializeProgressBar();
    };
    NbpProgressComponent.prototype.onWindowScroll = function () {
        var number = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        if (number > 70) {
            this.sticky = true;
        }
        else {
            this.sticky = false;
        }
    };
    return NbpProgressComponent;
}());
__decorate$52([
    _angular_core.Input(),
    __metadata$36("design:type", Array)
], exports.NbpProgressComponent.prototype, "nbpConfiguration", void 0);
__decorate$52([
    _angular_core.Input(),
    __metadata$36("design:type", Boolean),
    __metadata$36("design:paramtypes", [Object])
], exports.NbpProgressComponent.prototype, "nbpDisableSticky", null);
__decorate$52([
    _angular_core.ViewChild('progress'),
    __metadata$36("design:type", _angular_core.ElementRef)
], exports.NbpProgressComponent.prototype, "progress", void 0);
__decorate$52([
    _angular_core.ViewChild('steps'),
    __metadata$36("design:type", _angular_core.ElementRef)
], exports.NbpProgressComponent.prototype, "steps", void 0);
__decorate$52([
    _angular_core.ViewChild('step'),
    __metadata$36("design:type", _angular_core.QueryList)
], exports.NbpProgressComponent.prototype, "stepList", void 0);
__decorate$52([
    _angular_core.HostListener("window:scroll", []),
    __metadata$36("design:type", Function),
    __metadata$36("design:paramtypes", []),
    __metadata$36("design:returntype", void 0)
], exports.NbpProgressComponent.prototype, "onWindowScroll", null);
exports.NbpProgressComponent = __decorate$52([
    _angular_core.Component({
        selector: 'nbp-progress',template: "<div #progress id=\"progress-container\" class=\"nbp-progress-container\" [ngClass]=\"{'sticky':sticky && !_nbpDisableSticky}\"><div class=\"progress-container container\"><div #steps id=\"step-container\" class=\"progress-steps-container\"><div #step *ngFor=\"let stepConf of nbpConfiguration; let stepIndex = index\" class=\"step pad-l-5 pad-r-5\" [ngClass]=\"{'step-grande': stepConf.stepDimension === _nbpStepType.GRANDE, 'step-medio': stepConf.stepDimension === _nbpStepType.MEDIO, 'step-piccolo': stepConf.stepDimension === _nbpStepType.PICCOLO } \"><div class=\"progress\" [ngClass]=\"{'active': stepConf.active || stepConf.fillPercent === 100}\"><div class=\"progress-bar\" [ngStyle]=\"{ width: stepConf.fillPercent + '%' }\"></div></div><div class=\"progress-step-name\" [ngClass]=\"{'active': stepConf.active || stepConf.fillPercent === 100}\">{{stepConf.label}}</div></div></div></div><ng-content></ng-content></div><div *ngIf=\"stickyActive\" style=\"height:5.375em\"></div>",
        styles: ["#progress-container.header{border-top:none!important}#step-container.header{height:3.125em!important}.nbp-progress-container{background-color:#f8f8f8;margin-left:0;margin-right:0;z-index:9040!important;border-bottom:1px solid rgba(204,204,204,.5)}.nbp-progress-container.sticky{position:fixed!important;top:42px;left:0;width:100%!important;z-index:9040!important;-moz-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out}:host(.sticky.menu-opened) .nbp-progress-container.sticky{top:calc(112px + 22em)!important}.progress-container{display:table}.progress-steps-container{height:5em;display:table-cell;padding-top:5px;padding-bottom:5px;vertical-align:middle;text-align:center}.progress-steps-container>.step{display:inline-block;float:none!important}.progress-steps-container>.step.step-grande>.progress{width:6.875em}.progress-steps-container>.step.step-medio>.progress{width:5em}.progress-steps-container>.step.step-piccolo>.progress{width:2.5em}.progress{height:.625em;background-color:transparent;border-radius:.625em;border:.125em solid #ccc;margin-bottom:.25em;box-shadow:none;overflow:hidden}.progress.active{border:.125em solid #258900}.progress-bar{border-radius:.625em;background-color:#258900;box-shadow:none}.progress-step-name{position:relative;text-align:center;font-size:.625em;font-weight:700;text-transform:uppercase;color:#6f6f6f}.progress-step-name.arrowStep:after{position:absolute;-webkit-transform:rotate(45deg);transform:rotate(45deg);content:\" \";width:15px;height:15px;border:0 solid #ccc;border-width:1px 0 0 1px;background:#fff;left:0;right:0;bottom:-32px;margin:0 auto}.progress-step-name.active{color:#258900}:host-context(.contrasto-on) .progress{background-color:#fff;border:.125em solid #000}:host-context(.contrasto-on) .nbp-progress-container{background-color:#fff;border-bottom:1px solid #000}:host-context(.contrasto-on) .progress.active{border:.125em solid #000}:host-context(.contrasto-on) .progress-bar{background-color:#000}:host-context(.contrasto-on) .progress-step-name{color:#000}:host-context(.contrasto-on) .progress-step-name.arrowStep:after{transform:rotate(45deg);content:\" \";width:15px;height:15px;border:0 solid #000;border-width:1px 0 0 1px;background:#fff;left:0;right:0;bottom:-32px;margin:0 auto}:host-context(.contrasto-on) .progress-step-name.active{color:#000}@media (max-width:767px){.progress-container{width:80%}}:host-context(.contrasto-on) .progress.active{border:.125em solid #000}:host-context(.contrasto-on) .progress-bar{background-color:#000}:host-context(.contrasto-on) .progress-step-name{color:#000}:host-context(.contrasto-on) .progress-step-name.active{color:#000} /*# sourceMappingURL=nbp-progress.component.css.map */ "]
    }),
    __param$8(0, _angular_core.Inject(_angular_platformBrowser.DOCUMENT)),
    __metadata$36("design:paramtypes", [Object, _angular_core.Renderer2])
], exports.NbpProgressComponent);

var __decorate$54 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$38 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpEmbeddingService = (function () {
    function NbpEmbeddingService() {
        // TODO: Meglio un BehaviorSubject?
        this._outgoingEvents$ = new rxjs_Subject.Subject();
        this._incomingEvents$ = new rxjs_Subject.Subject();
    }
    /**
     * Permette di recuperare lo stream degli OutgoingEmbeddingEvents
     */
    NbpEmbeddingService.prototype.getOutgoingEventStream = function () {
        return this._outgoingEvents$.asObservable();
    };
    /**
     * Permette di recuperare lo stream degli IncomingEmbeddingEvents
     */
    NbpEmbeddingService.prototype.getIncomingEventStream = function () {
        return this._incomingEvents$.asObservable();
    };
    /**
     * Permette di aggiungere un embeddingEvent nello stream Outgoing
     * @param event: IEmbeddingEvent
     */
    NbpEmbeddingService.prototype.notifyOutgoingEvent = function (event) {
        this._outgoingEvents$.next(event);
    };
    /**
     * Permette di aggiungere un embeddingEvent nello stream Incoming
     * @param event: IEmbeddingEvent
     */
    NbpEmbeddingService.prototype.notifyIncomingEvent = function (event) {
        this._incomingEvents$.next(event);
    };
    return NbpEmbeddingService;
}());
exports.NbpEmbeddingService = __decorate$54([
    _angular_core.Injectable(),
    __metadata$38("design:paramtypes", [])
], exports.NbpEmbeddingService);

var __decorate$53 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$37 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpViewSettingsService = (function () {
    function NbpViewSettingsService(embeddingService) {
        this.embeddingService = embeddingService;
        // TODO: Meglio un BehaviorSubject?
        this._contrast$ = new rxjs_Subject.Subject();
        this._fontSize$ = new rxjs_Subject.Subject();
        this.receiveEvents();
    }
    NbpViewSettingsService.prototype.receiveEvents = function () {
        var _this = this;
        this.embeddingService.getIncomingEventStream().filter(function (event) {
            return (event.type === exports.NbpEmbeddingMessageType.SET_CONTRAST_ON || event.type === exports.NbpEmbeddingMessageType.SET_CONTRAST_OFF);
        })
            .subscribe(function (event) {
            var isContrastoOn = event.type === exports.NbpEmbeddingMessageType.SET_CONTRAST_ON ? true : false;
            _this.notifyContrastoEvent(isContrastoOn);
        });
        this.embeddingService.getIncomingEventStream().filter(function (event) {
            return (event.type === exports.NbpEmbeddingMessageType.SET_FONT_SIZE);
        })
            .subscribe(function (event) {
            var fontSize = event.body.fontSize;
            _this.notifyFontSizeEvent(fontSize);
            _this.embeddingService.notifyOutgoingEvent({
                type: exports.NbpEmbeddingMessageType.PAGE_SIZE,
                body: _this.getPageHeight()
            });
        });
    };
    NbpViewSettingsService.prototype.getPageHeight = function () {
        var resize;
        var element = document.getElementById('nbp-wrapper-container') ? document.getElementById('nbp-wrapper-container') : document.getElementById('body-container');
        if (element) {
            resize = element.clientHeight + 100 + 'px';
        }
        return resize;
    };
    NbpViewSettingsService.prototype.getContrastoEventStream = function () {
        return this._contrast$.asObservable();
    };
    NbpViewSettingsService.prototype.notifyContrastoEvent = function (isContrastoOn) {
        this._contrast$.next(isContrastoOn);
    };
    NbpViewSettingsService.prototype.getFontSizeEventStream = function () {
        return this._fontSize$.asObservable();
    };
    NbpViewSettingsService.prototype.notifyFontSizeEvent = function (fontSize) {
        var pxFontSize;
        switch (fontSize) {
            case exports.NbpFontSize.SMALL:
                pxFontSize = '16px';
                break;
            case exports.NbpFontSize.MEDIUM:
                pxFontSize = '19px';
                break;
            case exports.NbpFontSize.LARGE:
                pxFontSize = '22px';
                break;
            default:
                pxFontSize = '16px';
                break;
        }
        this._fontSize$.next(pxFontSize);
    };
    return NbpViewSettingsService;
}());
exports.NbpViewSettingsService = __decorate$53([
    _angular_core.Injectable(),
    __metadata$37("design:paramtypes", [exports.NbpEmbeddingService])
], exports.NbpViewSettingsService);

var __decorate$48 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$32 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$6 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.CjBodyComponent = (function () {
    function CjBodyComponent(contextService, route, configurator, nbpViewSettingsService, document) {
        this.contextService = contextService;
        this.route = route;
        this.configurator = configurator;
        this.nbpViewSettingsService = nbpViewSettingsService;
        this.document = document;
        this.onResizeEvent = rxjs_Observable.Observable.fromEvent(window, 'resize');
        this.onburgerMenuToggle = new rxjs_Subject.Subject();
        this._isContrastoOn = false;
        /**
         * Evento lanciato sul click del pulsante "Pagina Precedente"
         */
        this.cjOnPrevPageButtonClicked = new _angular_core.EventEmitter();
        /**
         * Evento lanciato sul click della voce di men
         */
        this.cjOnMenuItemClicked = new _angular_core.EventEmitter();
        /**
         * Evento emesso quando il contesto applicativo  disponibile.
         * @param {EventEmitter<ICjContext>}  cjOnContextReady
         */
        this.cjOnContextReady = new _angular_core.EventEmitter();
        this._nbpChannel = exports.NbpChannel;
        this._isProgressInsideStickyHeader = false;
        this.progressStream = this.configurator.getProgressConfigurationStream();
        this.receiveContrastoEvent();
        this.receiveFontSizeEvent();
    }
    Object.defineProperty(CjBodyComponent.prototype, "cjShowPrevPageButton", {
        /**
         * Booleano per abilitare il pulsante Pagina precedente
         */
        get: function () {
            return this._cjShowPrevPageButton;
        },
        set: function (value) {
            this._cjShowPrevPageButton = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CjBodyComponent.prototype, "disabled", {
        /**
         * Booleano che abilita/disabilita il contenuto ng-content del componente.
         * Header e footer sono sempre abilitati.
         * Attributo "disabled" standard di HTML element
         */
        get: function () { return this._cjDisabled; },
        set: function (value) { this._cjDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    CjBodyComponent.prototype.receiveContrastoEvent = function () {
        var _this = this;
        this.nbpViewSettingsService.getContrastoEventStream()
            .subscribe(function (isContrastoOn) { return _this._isContrastoOn = isContrastoOn; });
    };
    CjBodyComponent.prototype.receiveFontSizeEvent = function () {
        var _this = this;
        this.nbpViewSettingsService.getFontSizeEventStream()
            .subscribe(function (fontSize) { return _this.document.body.style.fontSize = fontSize; });
    };
    CjBodyComponent.prototype.ngOnInit = function () {
        this._getCjContextFromToken();
        this.cjChannel = this.cjChannel ? this.cjChannel : exports.NbpChannel.ABC;
    };
    // private onBurgerResize: Observable<any>;
    CjBodyComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        this._setBodyContainerHeight();
        this.onResizeEvent.forEach(function (evt) { return _this._setBodyContainerHeight(); });
        // TODO Serve ancora?? .. eliminare anche ViewChildren
        this.progressChildren.changes.subscribe(function () {
            setTimeout(function () {
                _this._setBodyContainerHeight();
            });
        });
    };
    CjBodyComponent.prototype.ngAfterViewChecked = function () {
        this._setBodyContainerHeight();
    };
    CjBodyComponent.prototype.setNavigationHeaderSlim = function (isNavigationHeaderSlim) {
        this._isNavigationHeaderSlim = isNavigationHeaderSlim;
    };
    CjBodyComponent.prototype._getCjContextFromToken = function () {
        var _this = this;
        if (!this.cjToken) {
            if (this.cjTokenNameParam) {
                this.sub = this.route.params.subscribe(function (params) {
                    _this.cjToken = params[_this.cjTokenNameParam];
                    _this._obtainContext();
                });
            }
            else {
                console.log('WARNING - Componente CjBody - senza cjToken e senza cjTokenNameParam.');
            }
        }
        else {
            this._obtainContext();
        }
    };
    CjBodyComponent.prototype._obtainContext = function () {
        var _this = this;
        this.contextService.getCjContextByToken(this.cjToken).subscribe(function (context) {
            _this._contextInfo = context;
            _this.contextService.setCurrentCjContext(_this._contextInfo);
            /**
             * se cjApplicationName non presente  popolato con i dato preso dal cjContext
             */
            if (!_this.cjApplicationName) {
                _this.cjApplicationName = _this._contextInfo.application;
            }
            _this.cjOnContextReady.emit(_this._contextInfo);
        });
    };
    CjBodyComponent.prototype._onPrevPageButtonClicked = function () {
        this.cjOnPrevPageButtonClicked.emit('cjOnPrevPageButtonClickedEvent');
    };
    CjBodyComponent.prototype._setBodyContainerHeight = function () {
        var stickyContainerElement = document.getElementsByClassName('sticky-default').item(0);
        /*selection of header element container without nbpBurgerMenu element*/
        var headerElement = document.querySelector('nbp-header > div > div');
        var nbpNavigationHeaderElement = document.querySelector('nbp-navigation-header > div');
        var nbpProgressElement = document.querySelector('nbp-progress > .nbp-progress-container.sticky ');
        var cjbodyHeaderHeight;
        /*cjBodyHeader heightCalculation */
        var headerHeight = !!headerElement ? headerElement.clientHeight : 0;
        var navigationHeaderHeight = !!nbpNavigationHeaderElement ? nbpNavigationHeaderElement.clientHeight : 0;
        var nbpProgressHeight = !!nbpProgressElement ? nbpProgressElement.clientHeight : 0;
        cjbodyHeaderHeight = (headerHeight +
            navigationHeaderHeight +
            nbpProgressHeight); // stickyContainerElement.clientHeight;
        if (!!nbpProgressElement) {
            /*Progress position:fixed top position*/
            nbpProgressElement.style.top = headerHeight + navigationHeaderHeight + 'px';
        }
        var footerElement = document.getElementsByTagName('footer').item(0);
        var footerElementHeight = !!footerElement ? footerElement.clientHeight : 0;
        var viewPortElement = document.documentElement;
        var viewPortHeight = viewPortElement.clientHeight; // or window.innerHeight
        var bodyContainerElement = document.getElementById('body-container');
        if (bodyContainerElement) {
            var bodyContainerCalculedHeight = void 0;
            /* Body container height calculation*/
            bodyContainerCalculedHeight = viewPortHeight - (cjbodyHeaderHeight + footerElementHeight);
            bodyContainerElement.style.top = cjbodyHeaderHeight + 'px';
            bodyContainerElement.style.height = bodyContainerCalculedHeight + 'px';
        }
    };
    CjBodyComponent.prototype._cjChangeRoute = function (menuItem) {
        this.cjOnMenuItemClicked.emit(menuItem);
    };
    return CjBodyComponent;
}());
__decorate$48([
    _angular_core.Input(),
    __metadata$32("design:type", String)
], exports.CjBodyComponent.prototype, "cjToken", void 0);
__decorate$48([
    _angular_core.Input(),
    __metadata$32("design:type", String)
], exports.CjBodyComponent.prototype, "cjTokenNameParam", void 0);
__decorate$48([
    _angular_core.Input(),
    __metadata$32("design:type", String)
], exports.CjBodyComponent.prototype, "cjApplicationName", void 0);
__decorate$48([
    _angular_core.Input(),
    __metadata$32("design:type", String)
], exports.CjBodyComponent.prototype, "cjSectionTitle", void 0);
__decorate$48([
    _angular_core.Input(),
    __metadata$32("design:type", Number)
], exports.CjBodyComponent.prototype, "cjChannel", void 0);
__decorate$48([
    _angular_core.Input(),
    __metadata$32("design:type", Object),
    __metadata$32("design:paramtypes", [Boolean])
], exports.CjBodyComponent.prototype, "cjShowPrevPageButton", null);
__decorate$48([
    _angular_core.Input(),
    __metadata$32("design:type", Object)
], exports.CjBodyComponent.prototype, "cjBurgerMenu", void 0);
__decorate$48([
    _angular_core.Output(),
    __metadata$32("design:type", _angular_core.EventEmitter)
], exports.CjBodyComponent.prototype, "cjOnPrevPageButtonClicked", void 0);
__decorate$48([
    _angular_core.Output(),
    __metadata$32("design:type", _angular_core.EventEmitter)
], exports.CjBodyComponent.prototype, "cjOnMenuItemClicked", void 0);
__decorate$48([
    _angular_core.Input(),
    __metadata$32("design:type", Boolean),
    __metadata$32("design:paramtypes", [Object])
], exports.CjBodyComponent.prototype, "disabled", null);
__decorate$48([
    _angular_core.Output(),
    __metadata$32("design:type", _angular_core.EventEmitter)
], exports.CjBodyComponent.prototype, "cjOnContextReady", void 0);
__decorate$48([
    _angular_core.ViewChildren(exports.NbpProgressComponent),
    __metadata$32("design:type", _angular_core.QueryList)
], exports.CjBodyComponent.prototype, "progressChildren", void 0);
exports.CjBodyComponent = __decorate$48([
    _angular_core.Component({
        selector: 'cj-body',template: "<div class=\"sticky-default\"><nbp-header [nbpName]=\"cjApplicationName\" [nbpChannel]=\"cjChannel\" nbpLogo=\"./cjlib/assets/images/sprite.png\" nbpDisableSticky><nbp-customer-name [nbpCustomer]=\"_contextInfo?.cliente.intestazione\"></nbp-customer-name><nbp-burger-menu *ngIf=\"(cjChannel !== _nbpChannel.ABC) && !!cjBurgerMenu\" [nbpMenu]=\"cjBurgerMenu\" (nbpOnItemClick)=\"_cjChangeRoute($event)\"></nbp-burger-menu></nbp-header><nbp-navigation-header [ngClass]=\"{'nav-header-slim': _isProgressInsideStickyHeader}\" [nbpTitle]=\"cjApplicationName\" [nbpSectionTitle]=\"cjSectionTitle\" [nbpShowPrevPage]=\"cjShowPrevPageButton\" (nbpPrevPage)=\"_onPrevPageButtonClicked()\" nbpDisableSticky></nbp-navigation-header></div><div id=\"body-container\" class=\"container-fluid\" [ngClass]=\"{'other-header' : cjChannel !== _nbpChannel.ABC, 'abc-header' : cjChannel === _nbpChannel.ABC}\"><div id=\"body-content\"><ng-content></ng-content></div></div><nbp-footer></nbp-footer>",
        styles: [".navigation-header-container{margin-right:-40px;margin-left:-40px}.sticky-default{position:fixed!important;left:0!important;right:0!important;z-index:1030!important}#body-container.other-header ::ng-deep cj-wizard .sidebar-button__layout{top:80px!important}.internal-scrolling{position:relative;overflow:auto;padding:0 5px 60px}#body-container.other-header{position:relative;overflow:auto;padding:0 5px 60px;width:100%;margin:0!important}#body-container.abc-header{position:relative;overflow:auto;padding:0 5px 60px;width:100%;margin:0!important}#body-container ::ng-deep cj-wizard .sidebar-button__layout.menu-opened{top:calc(80px + 22em)!important} /*# sourceMappingURL=cj-body.component.css.map */ "],
        host: {
            '[class.contrasto-on]': '_isContrastoOn'
        }
    }),
    __param$6(4, _angular_core.Inject(_angular_platformBrowser.DOCUMENT)),
    __metadata$32("design:paramtypes", [exports.CjContextService, _angular_router.ActivatedRoute,
        CjProgressConfigurationService, exports.NbpViewSettingsService, Object])
], exports.CjBodyComponent);

var __decorate$47 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$31 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$5 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.NbpBurgerMenuComponent = (function () {
    function NbpBurgerMenuComponent(cjBody) {
        this.cjBody = cjBody;
        /**
         * (Opzionale) booleano per disabilitare la possibilit di fare logout.
         * Valore default false
         */
        this.nbpDisableLogout = false;
        /**
         * Evento emesso sulla pressione del logout.
         * @param {EventEmitter<INbpUser>}  nbpOnLogout
         */
        this.nbpOnLogout = new _angular_core.EventEmitter();
        /**
         * Evento emesso sulla pressione di ogni voce di menu'.
         * @param {EventEmitter<INbpItemMenu>}  nbpOnItemClick
         */
        this.nbpOnItemClick = new _angular_core.EventEmitter();
        /**
         * Evento emesso all'apertura del burgerMenu.
         * @param {EventEmitter<any>}  nbpOnOpen
         */
        this.nbpOnOpen = new _angular_core.EventEmitter();
        /**
         * Evento emesso alla chiusure del burgerMenu.
         * @param {EventEmitter<any>}  nbpOnOpen
         */
        this.nbpOnClose = new _angular_core.EventEmitter();
        this._isOpen = false; // true in test phase
        this._showSecondLevelMenu = false; // false in test phase
    }
    NbpBurgerMenuComponent.prototype.ngOnInit = function () {
    };
    NbpBurgerMenuComponent.prototype._onClick = function (item) {
        // console.log('click item menu: ' + JSON.stringify(item));
        this.nbpOnItemClick.emit(item);
        if (!item.secondLevelMenu || item.secondLevelMenu.sections.length === 0) {
            this.close();
        }
        if (item.secondLevelMenu && item.secondLevelMenu.sections && item.secondLevelMenu.sections.length > 0) {
            this._selectedItem = item;
            this._showSecondLevelMenu = true;
        }
    };
    NbpBurgerMenuComponent.prototype._goBack = function () {
        this._showSecondLevelMenu = false;
        this._selectedItem = null;
    };
    // Metodi Pubblici del componente
    /**
     * Permette apertura programmatica del BurgerMenu
     */
    NbpBurgerMenuComponent.prototype.open = function () {
        this._isOpen = true;
        this.nbpOnOpen.emit();
        if (this.cjBody) {
            this._sendMenuStatusEvent();
        }
    };
    /**
     * Permette la chiusura programmatica del BurgerMenu
     */
    NbpBurgerMenuComponent.prototype.close = function () {
        this._isOpen = false;
        this.nbpOnClose.emit();
        if (this.cjBody) {
            this._sendMenuStatusEvent();
        }
    };
    /**
     * Permette di eseguire il toggle del BurgerMenu
     */
    NbpBurgerMenuComponent.prototype.toggle = function () {
        this._isOpen ? this.close() : this.open();
    };
    NbpBurgerMenuComponent.prototype._sendMenuStatusEvent = function () {
        this.cjBody.onburgerMenuToggle.next(this._isOpen);
    };
    return NbpBurgerMenuComponent;
}());
__decorate$47([
    _angular_core.Input(),
    __metadata$31("design:type", Object)
], exports.NbpBurgerMenuComponent.prototype, "nbpMenu", void 0);
__decorate$47([
    _angular_core.Input(),
    __metadata$31("design:type", Object)
], exports.NbpBurgerMenuComponent.prototype, "nbpUser", void 0);
__decorate$47([
    _angular_core.Input(),
    __metadata$31("design:type", Boolean)
], exports.NbpBurgerMenuComponent.prototype, "nbpDisableLogout", void 0);
__decorate$47([
    _angular_core.Output(),
    __metadata$31("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuComponent.prototype, "nbpOnLogout", void 0);
__decorate$47([
    _angular_core.Output(),
    __metadata$31("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuComponent.prototype, "nbpOnItemClick", void 0);
__decorate$47([
    _angular_core.Output(),
    __metadata$31("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuComponent.prototype, "nbpOnOpen", void 0);
__decorate$47([
    _angular_core.Output(),
    __metadata$31("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuComponent.prototype, "nbpOnClose", void 0);
exports.NbpBurgerMenuComponent = __decorate$47([
    _angular_core.Component({
        selector: 'nbp-burger-menu',template: "<div class=\"menu\" [ngClass]=\"{'closed': !_isOpen, 'open': _isOpen}\"><div class=\"container first-level-menu\" [ngClass]=\"{'open': !_showSecondLevelMenu}\" [hidden]=\"_showSecondLevelMenu\"><div class=\"row\"><div class=\"col-sm-16\"><div><div class=\"col-sm-12 section-menu\" *ngFor=\"let section of nbpMenu.sections; let i = index\"><ul class=\"main-menu\"><li><a *ngFor=\"let item of section.items\" (click)=\"_onClick(item)\"><span *ngIf=\"item.icon\" class=\"icon {{item.icon}}\"></span> <span>{{item.label}}</span></a></li></ul></div></div></div><div class=\"col-sm-8\"><ng-content selector=\"nbp-logged-user\"></ng-content></div></div></div><div class=\"container second-level-menu\" [ngClass]=\"{'open': _showSecondLevelMenu}\" *ngIf=\"_showSecondLevelMenu\"><div class=\"row upper-bar\"><div class=\"menu-principale pull-left\"><span class=\"glyphicon icon icon-arrow-left\"></span> <span class=\"menu-principale-title\" (click)=\"_goBack()\">Menu principale</span></div><div class=\"selected-first-level-menu pull-right\"><span class=\"icon {{_selectedItem.icon}}\"></span> <span>{{_selectedItem.label}}</span></div></div><div class=\"row second-level-buttons\"><div class=\"col-sm-8\" *ngFor=\"let section of _selectedItem.secondLevelMenu.sections; let i = index\" [ngClass]=\"{'main-menu-container-pad-l': i > 0, 'main-menu-container-pad-r': i !== _selectedItem.secondLevelMenu.sections.length - 1}\"><ul class=\"main-menu\"><li><a *ngFor=\"let item of section.items\" (click)=\"_onClick(item)\"><span *ngIf=\"item.icon\" class=\"icon {{item.icon}}\"></span> <span>{{item.label}}</span></a></li></ul></div></div></div></div>",
        styles: [".menu{position:relative;width:100%;height:0;overflow-x:hidden;overflow-y:auto;background-color:#323232;-moz-transition:height .25s ease-out;-o-transition:height .25s ease-out;transition:height .25s ease-out}.menu .icon{margin-right:.313em;font-size:1.75em;vertical-align:middle}.menu.closed{height:0}.menu.open{height:22em}.main-menu-container{padding:0}.section-menu:nth-child(2n+3){clear:left}.main-menu{list-style:none;padding:0 .313em 0 .313em;margin:0}.main-menu a{color:#ccc;display:table;width:100%;padding:.313em 1.25em .313em 1.25em;margin:1.25em 0 1.25em 0;text-decoration:none;cursor:pointer;height:3.75em}.main-menu a:active,.main-menu a:focus,.main-menu a:hover{background-color:#258900;color:#fff}.main-menu a span{display:table-cell;vertical-align:middle;text-align:left}.main-menu a span:nth-child(1){width:1.563em}.main-menu .select{background-color:#258900;color:#fff;border:1px solid #258900}.upper-bar{border-bottom:1px solid #6f6f6f}.menu-principale{color:#ccc;font-size:1em;padding:1em .625em .625em .625em;cursor:pointer}.menu-principale .icon{font-size:.875em}.menu-principale-title{vertical-align:top}.selected-first-level-menu{color:#6f6f6f;padding:.625em}.first-level-menu{position:absolute;left:0;right:0;opacity:0;left:-6.25em;padding:0 .625em 0 .625em;-moz-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out}.first-level-menu.open{opacity:1;left:0}.second-level-menu{position:absolute;left:0;right:0;opacity:0;left:6.25em;-moz-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out}.second-level-menu.open{opacity:1;left:0}:host-context(.contrasto-on) .menu{background-color:#000}:host-context(.contrasto-on) .menu.open{border-bottom:2px solid #fff}:host-context(.contrasto-on) .main-menu a{color:#fff;border:1px solid #fff}:host-context(.contrasto-on) .main-menu a:active,:host-context(.contrasto-on) .main-menu a:focus,:host-context(.contrasto-on) .main-menu a:hover{background-color:#fff;color:#000;border:1px solid #fff}:host-context(.contrasto-on) .main-menu .select{background-color:#fff;color:#000;border:1px solid #fff}:host-context(.contrasto-on) .upper-bar{border-bottom:1px solid #000}:host-context(.contrasto-on) .menu-principale{color:#fff}:host-context(.contrasto-on) .selected-first-level-menu{color:#fff}:host-context(.contrasto-on) .user-button a{color:#fff;border:1px solid #fff}:host-context(.contrasto-on) .user-button a:active,:host-context(.contrasto-on) .user-button a:focus,:host-context(.contrasto-on) .user-button a:hover{background-color:#fff;color:#000;border:1px solid #fff} /*# sourceMappingURL=nbp-burger-menu.component.css.map */ "]
    }),
    __param$5(0, _angular_core.Optional()),
    __metadata$31("design:paramtypes", [exports.CjBodyComponent])
], exports.NbpBurgerMenuComponent);

var __decorate$46 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$30 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpHeaderComponent = (function () {
    function NbpHeaderComponent() {
        /**
         * Booleano che mantiene lo stato del Menu
         */
        this._nbpMenuOpen = false;
        /**
         * Booleano che permette di mostrare il Menu
         */
        this._nbpHideMenu = false;
        /**
         * Variabile di appoggio per enum NbpChannel
         */
        this._nbpChannel = exports.NbpChannel;
    }
    Object.defineProperty(NbpHeaderComponent.prototype, "nbpDisableSticky", {
        /**
         * Booleano che abilita/disabilita il posizionamento sticky
         * al top della pagina
         */
        get: function () { return this._nbpDisableSticky; },
        set: function (value) { this._nbpDisableSticky = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    NbpHeaderComponent.prototype._toogleMenu = function () {
        this._nbpMenuOpen = !this._nbpMenuOpen;
        if (this.innerMenu) {
            this.innerMenu.toggle();
        }
    };
    NbpHeaderComponent.prototype.ngAfterContentInit = function () {
        if (!this.nbpChannel) {
            this.nbpChannel = exports.NbpChannel.ABC;
        }
        this._setMenuVisibility();
    };
    NbpHeaderComponent.prototype._setMenuVisibility = function () {
        this._nbpHideMenu = this.nbpChannel === exports.NbpChannel.ABC || !this.innerMenu;
        this._burgerMenuCloseSubscription();
    };
    NbpHeaderComponent.prototype._burgerMenuCloseSubscription = function () {
        var _this = this;
        if (!this._nbpHideMenu) {
            this.innerMenu.nbpOnClose.subscribe(function () { _this._nbpMenuOpen = false; });
        }
    };
    return NbpHeaderComponent;
}());
__decorate$46([
    _angular_core.Input(),
    __metadata$30("design:type", String)
], exports.NbpHeaderComponent.prototype, "nbpName", void 0);
__decorate$46([
    _angular_core.Input(),
    __metadata$30("design:type", Number)
], exports.NbpHeaderComponent.prototype, "nbpChannel", void 0);
__decorate$46([
    _angular_core.Input(),
    __metadata$30("design:type", String)
], exports.NbpHeaderComponent.prototype, "nbpLogo", void 0);
__decorate$46([
    _angular_core.Input(),
    __metadata$30("design:type", Boolean),
    __metadata$30("design:paramtypes", [Object])
], exports.NbpHeaderComponent.prototype, "nbpDisableSticky", null);
__decorate$46([
    _angular_core.ContentChild(exports.NbpBurgerMenuComponent),
    __metadata$30("design:type", exports.NbpBurgerMenuComponent)
], exports.NbpHeaderComponent.prototype, "innerMenu", void 0);
exports.NbpHeaderComponent = __decorate$46([
    _angular_core.Component({
        selector: 'nbp-header',template: "<div class=\"header\" [ngClass]=\"{'navbar-fixed-top':!_nbpDisableSticky}\"><div class=\"navbar\" id=\"header-navbar\" [ngClass]=\"{'navbar-IB': (nbpChannel===_nbpChannel.IB) && !_nbpDisableSticky}\"><div class=\"container\" [ngClass]=\"{'container-slim': (nbpChannel===_nbpChannel.ABC)}\"><div><div class=\"navbar-logo\" *ngIf=\"nbpName\"><label *ngIf=\"nbpChannel===_nbpChannel.INTRANET\" class=\"nome-applicativo\" [innerHTML]=\"nbpName\"></label> <a *ngIf=\"!nbpLogo\" class=\"navbar-logo-brand-small\" href=\"#/\"><span class=\"sr-only\">Intesa San Paolo</span> </a><img *ngIf=\"nbpLogo\" src=\"{{nbpLogo}}\" class=\"navbar-logo-brand-small-custom\"></div><div class=\"navbar-logo\" *ngIf=\"!nbpName && nbpChannel!==_nbpChannel.ABC\"><a *ngIf=\"!nbpLogo\" class=\"navbar-logo-brand\" href=\"#/\"><span class=\"sr-only\">Intesa San Paolo</span> </a><img *ngIf=\"nbpLogo\" src=\"{{nbpLogo}}\" class=\"navbar-logo-brand-custom\"></div><div class=\"navbar-logo\" *ngIf=\"!nbpName && (nbpChannel===_nbpChannel.ABC)\"><a *ngIf=\"!nbpLogo\" class=\"navbar-logo-brand-small\" href=\"#/\"><span class=\"sr-only\">Intesa San Paolo</span> </a><img *ngIf=\"nbpLogo\" src=\"{{nbpLogo}}\" class=\"navbar-logo-brand-small-custom\"></div><div *ngIf=\"nbpChannel!==_nbpChannel.ABC\" class=\"navbar-hole\"><div><ng-content></ng-content></div></div><div *ngIf=\"!_nbpHideMenu\" class=\"navbar-toggle\" (click)=\"_toogleMenu()\" ng-class=\"{'navbar-toggle-open': _nbpMenuOpen}\"><button type=\"button\"><span class=\"icon {{_nbpMenuOpen ? 'ico-comuni-chiudi' : 'ico-navbar-menu'}}\"></span></button></div><div *ngIf=\"nbpChannel===_nbpChannel.ABC\" class=\"navbar-info-cliente\"><div><ng-content select=\"nbp-customer-name\"></ng-content></div></div></div></div></div><ng-content select=\"nbp-burger-menu\"></ng-content><ng-content select=\"nbp-navigation-header\"></ng-content></div>",
        styles: [".header{width:100%}.header.navbar-fixed-top{z-index:1041}.header .navbar{position:relative;border:0!important;border-radius:0!important;margin:0!important;left:0;right:0;width:100%;background-color:#258900}.header .navbar.navbar-IB{background:linear-gradient(90deg,#258900 50%,transparent 50%)!important}.header .navbar .container{display:table;position:relative;padding-right:0;background-color:#258900;height:4.375em}.header .navbar .container>div{display:table-row}.header .navbar .container-slim{height:3.125em!important}.header .row{margin:0}.header-overlay{position:relative;top:0;left:0;width:100%;height:100%;background:#f2f2f2}.navbar .container .navbar-logo{display:table-cell;vertical-align:middle;min-width:17em}.navbar .container .navbar-toggle{display:table-cell;vertical-align:middle;width:5em;height:4.375em;float:none;background-color:transparent;border:0;border-radius:0;margin:0;padding:0;text-align:center;cursor:pointer}.navbar .container .navbar-toggle:hover{background:#323232}.navbar .container .navbar-toggle:focus{background:#323232}.navbar .container .navbar-toggle:active{background:#323232}.navbar .container .navbar-info-cliente{display:table-cell;vertical-align:middle;height:3.125em;background-color:transparent;text-align:left;color:#fff;line-height:1em;padding-right:10px}.navbar .container .navbar-info-cliente>div{float:right}.navbar .container .navbar-info-cliente .container-arrow{float:right;padding-top:1.25em;padding-right:1.5625em}.navbar .container .navbar-info-cliente .accordion-arrow{cursor:pointer;font-size:1.6em}.navbar .container .navbar-info-cliente .info-cliente-open{position:absolute;background-color:#323232;z-index:1000;width:22.25em;height:9.8125em;border:0;border-radius:0;text-align:center;margin-top:.5625em;display:table}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-title{vertical-align:middle;height:2.3125em;display:table-cell}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente{vertical-align:middle;height:3.75em;border-top:1px solid #6f6f6f;display:table-cell;cursor:pointer;text-align:left}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente-select{vertical-align:middle;height:3.75em;border-top:1px solid #6f6f6f;display:table-cell;cursor:pointer;text-align:left;background-color:#3f3f3f;font-weight:700}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente-select .icon{float:right;color:#258900;padding-right:10px}.navbar .container .navbar-info-cliente .info-cliente-open .title-nsg-label{color:#ccc;text-transform:uppercase}.navbar .container .navbar-info-cliente .info-cliente-open .nsg-cliente{margin-left:1em;color:#ccc}.navbar .container .navbar-info-cliente .info-cliente-open .nsg-cliente-selected{margin-left:1em;color:#fff}.navbar .container .navbar-hole{display:table-cell;vertical-align:middle;margin-top:5px;margin-bottom:5px;padding-left:10px;padding-right:10px}.navbar-logo-brand{display:block;width:250px;height:30px;background-image:url(/cjlib/assets/images/sprite.png);background-repeat:no-repeat}.navbar-logo-brand-small{display:block;width:225px;height:25px;background-image:url(/cjlib/assets/images/sprite.png);background-repeat:no-repeat}.navbar-logo-brand-custom{display:block;height:30px;background-repeat:no-repeat}.navbar-logo-brand-small-custom{display:block;height:25px;background-repeat:no-repeat}.navbar-toggle button{height:100%;border:none;background:0 0;outline:0}.navbar-toggle .icon-bar{width:1.875em;height:.125em;margin:.313em auto;background-color:#fff!important}.navbar-toggle .ico-comuni-chiudi,.navbar-toggle .ico-navbar-menu{color:#fff;font-size:1.5em;margin:.313em auto}.navbar-toggle-operation button{position:relative;top:50%;transform:translateY(-50%);border:none;background:0 0;outline:0}.navbar-toggle-operation .icon-bar{width:1.875em;height:.125em;margin:.313em auto;background-color:#fff!important}.navbar-toggle-operation .icomoon-Modifica_matita{color:#fff;font-size:1.5em;margin:.313em auto}.navbar-toggle-operation span.labelOperazioni{color:#fff;font-size:.75em}.navbar-toggle-open{background:#323232!important}.nome-applicativo{position:relative;font-size:1.5em;margin-bottom:-.417em;color:#fff;font-weight:400}.header-paging-container,.header-progress-container{border-bottom:1px solid #ccc}@media (max-width:768px){.navbar .container{width:100%}}@media (-webkit-min-device-pixel-ratio:2){.navbar-logo-brand{background-image:url(/cjlib/assets/images/sprite-x2.png)}}@media (min-resolution:192dpi){.navbar-logo-brand{background-image:url(/cjlib/assets/images/sprite-x2.png)}}.triangolo{width:0;height:0;z-index:100;border-left:.625em solid transparent;border-right:.625em solid transparent;border-bottom:.625em solid #323232;float:right;margin-right:1.75em}.triangolo-hide{width:0;height:0;z-index:100;border-left:.625em solid transparent;border-right:.625em solid transparent;border-bottom:.625em solid transparent;float:right}.container-row{display:table-row}.container-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:78%;padding-left:.625em;font-weight:400;float:left}.voce-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:400}.testo-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:700}@media (max-width:970px){.nome-applicativo{font-size:1.2em}}.contrasto-on .header{background-color:#fff}.contrasto-on .header .navbar .container{background-color:#000}.contrasto-on .header .navbar-tape{background-color:#000}.contrasto-on .header-overlay{background:#fff}.contrasto-on .navbar .container .navbar-toggle{background-color:transparent}.contrasto-on .navbar .container .navbar-toggle:hover{background:#000}.contrasto-on .navbar .container .navbar-toggle:focus{background:#000}.contrasto-on .navbar .container .navbar-toggle:active{background:#000}.contrasto-on .navbar .container .navbar-toggle-operation{background-color:transparent}.contrasto-on .navbar .container .navbar-toggle-operation:hover{background:#fff;color:#000}.contrasto-on .navbar .container .navbar-toggle-operation:hover .icomoon-Modifica_matita{color:#000}.contrasto-on .navbar .container .navbar-toggle-operation:hover span{color:#000}.contrasto-on .navbar .container .navbar-toggle-operation:focus{background:#fff;color:#000}.contrasto-on .navbar .container .navbar-toggle-operation:focus .icomoon-Modifica_matita{color:#000}.contrasto-on .navbar .container .navbar-toggle-operation:focus span{color:#000}.contrasto-on .navbar .container .navbar-toggle-operation:active{background:#fff;color:#000}.contrasto-on .navbar .container .navbar-toggle-operation:active .icomoon-Modifica_matita{color:#000}.contrasto-on .navbar .container .navbar-toggle-operation:active span{color:#000}.contrasto-on .navbar .container .navbar-toggle-operation.navbar-toggle-open{background:#fff!important;color:#000}.contrasto-on .navbar .container .navbar-toggle-operation.navbar-toggle-open .icomoon-Modifica_matita{color:#000}.contrasto-on .navbar .container .navbar-toggle-operation.navbar-toggle-open span{color:#000}.contrasto-on .navbar .container .navbar-info-cliente{background-color:transparent;color:#fff}.contrasto-on .navbar .container .navbar-info-cliente .info-cliente-open{background-color:#000}.contrasto-on .navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-title{border-bottom:1px solid #fff;border-top:1px solid #fff}.contrasto-on .navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente{border-bottom:1px solid #fff;border-top:none}.contrasto-on .navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente-select{border-bottom:1px solid #000;border-top:none;background-color:#fff}.contrasto-on .navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente-select .icon{color:#000}.contrasto-on .navbar .container .navbar-info-cliente .info-cliente-open .title-nsg-label{color:#fff}.contrasto-on .navbar .container .navbar-info-cliente .info-cliente-open .nsg-cliente{color:#fff}.contrasto-on .navbar .container .navbar-info-cliente .info-cliente-open .nsg-cliente-selected{color:#000}.contrasto-on .navbar-toggle .icon-bar{background-color:#fff!important}.contrasto-on .navbar-toggle .ico-comuni-chiudi,.contrasto-on .navbar-toggle .ico-navbar-menu,.contrasto-on .navbar-toggle .icomoon-Modifica_matita{color:#fff}.contrasto-on .navbar-toggle-open{background:#000!important}.contrasto-on .prev-page-btn-container .prev-page-btn{color:#000}.contrasto-on .page-title-container{border-bottom:1px solid #000}.contrasto-on .nome-applicativo{color:#fff}.contrasto-on .header-paging-container,.contrasto-on .header-progress-container{border-bottom:1px solid #000}.contrasto-on .triangolo{position:absolute;-webkit-transform:rotate(45deg);transform:rotate(45deg);content:\" \";width:15px;height:15px;border:0 solid #fff;border-width:1px 0 0 1px;background:#000;right:112px;z-index:1001;bottom:-8px;margin:0 auto}.contrasto-on .container-ident-cliente{color:inherit}.contrasto-on .voce-ident-cliente{color:inherit}.contrasto-on .testo-ident-cliente{color:inherit} /*# sourceMappingURL=nbp-header.component.css.map */ "]
    }),
    __metadata$30("design:paramtypes", [])
], exports.NbpHeaderComponent);

var __decorate$55 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$39 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpHeaderLightComponent = (function () {
    function NbpHeaderLightComponent() {
    }
    return NbpHeaderLightComponent;
}());
__decorate$55([
    _angular_core.Input(),
    __metadata$39("design:type", String)
], exports.NbpHeaderLightComponent.prototype, "nbpLogo", void 0);
exports.NbpHeaderLightComponent = __decorate$55([
    _angular_core.Component({
        selector: 'nbp-header-light',template: "<div style=\"position:relative;\"><nav class=\"navbar\"><div class=\"container\"><div class=\"navbar-header\"><div class=\"navbar-logo\"><img [src]=\"nbpLogo\" height=\"25\" width=\"225\" alt=\"\"></div></div><div class=\"nav navbar-right\"><ng-content selector=\"nbp-client-info\"></ng-content></div></div></nav></div>",
        styles: ["nav{background-color:#258900;height:50px;border-radius:0}.navbar-absolute-top{position:absolute;border:0!important;margin:0!important;top:0;left:0;right:0}.navbar .container{display:table}.navbar .navbar-header{display:table-row;height:50px}.navbar .navbar-header .navbar-logo{vertical-align:middle;display:table-cell;height:50px} /*# sourceMappingURL=nbp-header-light.component.css.map */ "]
    }),
    __metadata$39("design:paramtypes", [])
], exports.NbpHeaderLightComponent);

var __decorate$56 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$40 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpNavigationHeaderComponent = (function () {
    function NbpNavigationHeaderComponent() {
        /**
         * Booleano per abilitare il tasto Pagina precedente
         */
        this.nbpShowPrevPage = false;
        /**
        * Testo da associare al link pagina precedente.
        * textPrevLink = stringa  valore di default "Pagina Precedente | translate"
        */
        this.textPrevLink = "Pagina Precedente";
        /**
         * Evento emesso sul click dell'elemento nbpShowPrevPage
         */
        this.nbpPrevPage = new _angular_core.EventEmitter();
    }
    Object.defineProperty(NbpNavigationHeaderComponent.prototype, "nbpDisableSticky", {
        /**
         * Booleano che abilita/disabilita il posizionamento sticky
         * al top della pagina
         */
        get: function () { return this._nbpDisableSticky; },
        set: function (value) { this._nbpDisableSticky = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    NbpNavigationHeaderComponent.prototype.ngOnInit = function () {
    };
    NbpNavigationHeaderComponent.prototype.onClick = function () {
        this.nbpPrevPage.emit('nbpPrevPage');
    };
    return NbpNavigationHeaderComponent;
}());
__decorate$56([
    _angular_core.Input(),
    __metadata$40("design:type", String)
], exports.NbpNavigationHeaderComponent.prototype, "nbpTitle", void 0);
__decorate$56([
    _angular_core.Input(),
    __metadata$40("design:type", String)
], exports.NbpNavigationHeaderComponent.prototype, "nbpSectionTitle", void 0);
__decorate$56([
    _angular_core.Input(),
    __metadata$40("design:type", Object)
], exports.NbpNavigationHeaderComponent.prototype, "nbpShowPrevPage", void 0);
__decorate$56([
    _angular_core.Input(),
    __metadata$40("design:type", String)
], exports.NbpNavigationHeaderComponent.prototype, "textPrevLink", void 0);
__decorate$56([
    _angular_core.Input(),
    __metadata$40("design:type", Boolean),
    __metadata$40("design:paramtypes", [Object])
], exports.NbpNavigationHeaderComponent.prototype, "nbpDisableSticky", null);
__decorate$56([
    _angular_core.Output(),
    __metadata$40("design:type", _angular_core.EventEmitter)
], exports.NbpNavigationHeaderComponent.prototype, "nbpPrevPage", void 0);
exports.NbpNavigationHeaderComponent = __decorate$56([
    _angular_core.Component({
        selector: 'nbp-navigation-header',
        template: "<div class=\"header-overlay\" [ngClass]=\"{'sticky': !_nbpDisableSticky}\" id=\"header-overlay\"><div class=\"container\"><div id=\"navigation-header-title\" class=\"page-title-container\"><div class=\"titles\" [ngClass]=\"{'padding-prev-page-hide':!nbpShowPrevPage}\"><div class=\"page-overtitle\" [innerHTML]=\"nbpSectionTitle \" *ngIf=\"nbpSectionTitle\"></div><div class=\"page-title\" [innerHTML]=\"nbpTitle \" *ngIf=\"nbpTitle\"></div></div></div></div><div class=\"prev-page-btn-container\" *ngIf=\"nbpShowPrevPage\"><div class=\"container\"><div class=\"prev-page-btn\"><span (click)=\"onClick()\" role=\"button\"><span class=\"prev-page-btn-arrow icomoon-Simboli_Risorsa-12\"></span> <span class=\"prev-page-btn-text\">{{textPrevLink}}</span></span></div></div></div></div>",styles: [".titles{padding-left:140px;padding-right:140px}.titles.padding-prev-page-hide{padding-left:0;padding-right:0}:host(.nav-header-slim) .header-overlay{border-bottom:none!important}:host(.nav-header-slim) #navigation-header-title{height:2em!important;padding-top:.3125em!important}:host(.nav-header-slim) .titles.padding-prev-page-hide{padding-left:80px;padding-right:80px}.header-overlay{position:relative;top:0;left:0;width:100%;height:100%;background:#f2f2f2;border-bottom:1px solid #ccc}.prev-page-btn-container{position:absolute;top:0;left:0;right:0;margin:0 auto}.prev-page-btn-container .container{display:table}.prev-page-btn-container .prev-page-btn{display:table-cell;height:3.125em;vertical-align:middle;color:#258900}.prev-page-btn-container .prev-page-btn .prev-page-btn-arrow{font-size:1.25em;vertical-align:middle}.prev-page-btn-container .prev-page-btn .prev-page-btn-text{display:inline-block;max-width:calc(138.75px);font-size:.875em;overflow:hidden;vertical-align:middle;text-overflow:ellipsis;white-space:nowrap}.page-title-container{height:3.125em;display:table-cell;vertical-align:middle}.page-title-container .titles{display:table;table-layout:fixed;width:100%}.page-overtitle{position:relative;font-size:.75em;text-align:center;margin-bottom:-.417em;text-transform:uppercase}.page-title{position:relative;font-size:1.125em;text-align:center;font-weight:700;margin:0;text-transform:uppercase}.page-subtitle{position:relative;font-size:.75em;text-align:center;margin-top:-.417em}.header-overlay.sticky{position:fixed;top:0;left:0!important;z-index:1030!important;height:inherit!important;width:inherit!important}@media (max-width:767px){.container{width:100vw}.titles{padding-left:40px;padding-right:40px}.titles.padding-prev-page-hide{padding-left:5px;padding-right:5px}:host(.nav-header-slim) .titles{padding-left:80px;padding-right:80px}.prev-page-btn-container .prev-page-btn .prev-page-btn-arrow{padding-left:20px}.prev-page-btn-container .prev-page-btn .prev-page-btn-text{display:none}} /*# sourceMappingURL=nbp-navigation-header.component.css.map */ "]
    }),
    __metadata$40("design:paramtypes", [])
], exports.NbpNavigationHeaderComponent);

var __decorate$58 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$42 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpTableUtilService = (function () {
    function NbpTableUtilService() {
        this.disablePaginationStatus = {
            first: false,
            last: false,
            next: false,
            page: false,
            prev: false
        };
    }
    NbpTableUtilService.prototype.setColumns = function (columns) {
        this.columns = columns;
    };
    
    NbpTableUtilService.prototype.getCurrentPageStatus = function () {
        return this.currentPageStatus;
    };
    NbpTableUtilService.prototype.setCurrentPageStatus = function (currentPageStatus) {
        if (currentPageStatus.totalRecords > 0) {
            this.disablePaginationStatus.last = false;
        }
        else {
            this.disablePaginationStatus.last = true;
        }
        this.currentPageStatus = currentPageStatus;
        if (currentPageStatus.totalRecords && (currentPageStatus.pageNumber) * currentPageStatus.pageSize > currentPageStatus.totalRecords) {
            this.disablePaginationStatus.next = true;
        }
        else {
            this.disablePaginationStatus.next = false;
        }
    };
    
    NbpTableUtilService.prototype.setCurrentPageNumber = function (pageNumber) {
        this.currentPageStatus.pageNumber = pageNumber;
    };
    NbpTableUtilService.prototype.getColumns = function () {
        return this.columns;
    };
    NbpTableUtilService.prototype.setColumnOrdering = function (columnField, orderingType) {
        this.columns.map(function (element) {
            element.currentOrder = null;
            if (element.field === columnField) {
                element.currentOrder = orderingType === undefined ? '' : orderingType;
            }
        });
    };
    NbpTableUtilService.prototype.getCurrentOrdering = function () {
        var filteredOrders = this.columns.filter(function (column) { return column.currentOrder !== null; });
        var orders = filteredOrders.map(function (column) { return column.currentOrder + column.field; });
        return orders;
    };
    
    NbpTableUtilService.prototype.findGlobalIndex = function (rowIndex) {
        return this.currentPageStatus ? (this.currentPageStatus.pageSize * (this.currentPageStatus.pageNumber - 1)) + (rowIndex) : -1;
    };
    NbpTableUtilService.prototype.findIndexOfSelectedByItem = function (item, selectedRows) {
        var itemSelectedId = -1;
        selectedRows.map(function (row, index) {
            if (row === item) {
                itemSelectedId = index;
            }
        });
        return itemSelectedId;
    };
    NbpTableUtilService.prototype.getColumnsFromChildren = function (children) {
        var columns = children.map(function (child) {
            var column = {
                id: child.nbpId,
                field: child.nbpField,
                title: child.nbpTitle,
                visible: child.nbpVisible,
                sortable: child.nbpSortable,
                filter: child.nbpFilter,
                filterArg: child.nbpFilterArg,
                currentOrder: null,
                customStyle: child.nbpCustomStyle
            };
            return column;
        });
        return columns;
    };
    return NbpTableUtilService;
}());
NbpTableUtilService = __decorate$58([
    _angular_core.Injectable(),
    __metadata$42("design:paramtypes", [])
], NbpTableUtilService);

var CjlibSettings = (function () {
    function CjlibSettings() {
    }
    return CjlibSettings;
}());
CjlibSettings.DATE_FORMAT = 'dd-MM-yyyy';
CjlibSettings.DECIMAL_FORMAT = '1.2';
CjlibSettings.PERCENT_FORMAT = '1.2';

var __decorate$59 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$43 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var ContoPipe = (function () {
    function ContoPipe() {
    }
    ContoPipe.prototype.transform = function (value) {
        if (!value) {
            return value;
        }
        if (value.length < 9) {
            return value;
        }
        var filiale = value.substring(0, 5);
        var categoria = value.substring(5, 9);
        var conto = value.substring(9);
        return filiale + "/" + categoria + "/" + conto;
    };
    return ContoPipe;
}());
ContoPipe = __decorate$59([
    _angular_core.Pipe({ name: 'conto' })
], ContoPipe);
var NbpFormatterService = (function () {
    function NbpFormatterService(currencyPipe, datePipe, decimalPipe, lowercasePipe, percentPipe, uppercasePipe, contoPipe) {
        this.currencyPipe = currencyPipe;
        this.datePipe = datePipe;
        this.decimalPipe = decimalPipe;
        this.lowercasePipe = lowercasePipe;
        this.percentPipe = percentPipe;
        this.uppercasePipe = uppercasePipe;
        this.contoPipe = contoPipe;
    }
    NbpFormatterService.prototype.displayValueTransformation = function (value, pipe, arg) {
        var transformedValue = value;
        var format;
        switch (pipe) {
            case exports.NbpPipe.CURRENCY:
                transformedValue = this.currencyPipe.transform(value, arg);
                break;
            case exports.NbpPipe.DATE:
                format = arg ? arg : CjlibSettings.DATE_FORMAT;
                transformedValue = this.datePipe.transform(value, format);
                break;
            case exports.NbpPipe.DECIMAL:
                format = arg ? arg : CjlibSettings.DECIMAL_FORMAT;
                transformedValue = this.decimalPipe.transform(value, format);
                break;
            case exports.NbpPipe.LOWERCASE:
                transformedValue = this.lowercasePipe.transform(value);
                break;
            case exports.NbpPipe.PERCENT:
                format = arg ? arg : CjlibSettings.DECIMAL_FORMAT;
                transformedValue = this.percentPipe.transform(value, format);
                break;
            case exports.NbpPipe.UPPERCASE:
                transformedValue = this.uppercasePipe.transform(value);
                break;
            case exports.NbpPipe.CONTO:
                transformedValue = this.contoPipe.transform(value);
                break;
            default:
                transformedValue = value;
                break;
        }
        return transformedValue;
    };
    return NbpFormatterService;
}());
NbpFormatterService = __decorate$59([
    _angular_core.Injectable(),
    __metadata$43("design:paramtypes", [_angular_common.CurrencyPipe,
        _angular_common.DatePipe,
        _angular_common.DecimalPipe,
        _angular_common.LowerCasePipe,
        _angular_common.PercentPipe,
        _angular_common.UpperCasePipe,
        ContoPipe])
], NbpFormatterService);

var SortingDirection;
(function (SortingDirection) {
    SortingDirection[SortingDirection["ASCENDING"] = 1] = "ASCENDING";
    SortingDirection[SortingDirection["DESCENDING"] = -1] = "DESCENDING";
})(SortingDirection || (SortingDirection = {}));
var CompareStatus;
(function (CompareStatus) {
    CompareStatus[CompareStatus["HIGHER"] = 1] = "HIGHER";
    CompareStatus[CompareStatus["EQUAL"] = 0] = "EQUAL";
    CompareStatus[CompareStatus["LOWER"] = -1] = "LOWER";
})(CompareStatus || (CompareStatus = {}));
var Actions;
(function (Actions) {
    Actions[Actions["CLICKED"] = 0] = "CLICKED";
    Actions[Actions["SELECTED"] = 1] = "SELECTED";
})(Actions || (Actions = {}));

var __extends$17 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var INbpDataSource = (function () {
    function INbpDataSource() {
        this.pageDataSubject = new rxjs_Subject.Subject();
    }
    INbpDataSource.prototype.sendDataEvent = function (pageNumber, sortFields, pageSize) {
        var _this = this;
        var page = this.getPage(pageNumber, sortFields, pageSize);
        page.subscribe(function (iDataPage) { return _this.pageDataSubject.next(iDataPage); });
    };
    INbpDataSource.prototype.getDataStream = function () {
        return this.pageDataSubject.asObservable();
    };
    return INbpDataSource;
}());
var INbpAutocompleteDataSource = (function () {
    function INbpAutocompleteDataSource() {
        this.pageDataSubject = new rxjs_Subject.Subject();
    }
    INbpAutocompleteDataSource.prototype.sendDataEvent = function (filterFields, filter$$1) {
        var _this = this;
        var page = this.getPage(filterFields, filter$$1);
        page.subscribe(function (iDataPage) { return _this.pageDataSubject.next(iDataPage); });
    };
    INbpAutocompleteDataSource.prototype.getDataStream = function () {
        return this.pageDataSubject.asObservable();
    };
    return INbpAutocompleteDataSource;
}());
var INbpArrayDataSource = (function (_super) {
    __extends$17(INbpArrayDataSource, _super);
    function INbpArrayDataSource() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    return INbpArrayDataSource;
}(INbpDataSource));

var __decorate$60 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$44 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$6 = 0;
exports.NbpTableColumnComponent = (function () {
    function NbpTableColumnComponent() {
        /**
         * Identificativo univoco per la colonna. Se non viene passato un valore, l'id viene autogenerato.
         */
        this.nbpId = "nbp-table-column-" + ++nextId$6;
        /**
          * Propriet booleana rappresentante la visualizzazione della colonna nella tabella.
          * Default: true;
          */
        this.nbpVisible = true;
    }
    return NbpTableColumnComponent;
}());
__decorate$60([
    _angular_core.Input(),
    __metadata$44("design:type", String)
], exports.NbpTableColumnComponent.prototype, "nbpId", void 0);
__decorate$60([
    _angular_core.Input(),
    __metadata$44("design:type", String)
], exports.NbpTableColumnComponent.prototype, "nbpTitle", void 0);
__decorate$60([
    _angular_core.Input(),
    __metadata$44("design:type", String)
], exports.NbpTableColumnComponent.prototype, "nbpField", void 0);
__decorate$60([
    _angular_core.Input(),
    __metadata$44("design:type", Boolean)
], exports.NbpTableColumnComponent.prototype, "nbpSortable", void 0);
__decorate$60([
    _angular_core.Input(),
    __metadata$44("design:type", Boolean)
], exports.NbpTableColumnComponent.prototype, "nbpVisible", void 0);
__decorate$60([
    _angular_core.Input(),
    __metadata$44("design:type", Number)
], exports.NbpTableColumnComponent.prototype, "nbpFilter", void 0);
__decorate$60([
    _angular_core.Input(),
    __metadata$44("design:type", Object)
], exports.NbpTableColumnComponent.prototype, "nbpFilterArg", void 0);
__decorate$60([
    _angular_core.Input(),
    __metadata$44("design:type", Object)
], exports.NbpTableColumnComponent.prototype, "nbpCustomStyle", void 0);
exports.NbpTableColumnComponent = __decorate$60([
    _angular_core.Component({
        selector: 'nbp-table-column',
        template: '<span></span>',
    }),
    __metadata$44("design:paramtypes", [])
], exports.NbpTableColumnComponent);

var __decorate$57 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$41 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// import { DatePipe, DecimalPipe, CurrencyPipe } from '@angular/common';
// export class NbpOnRowActionEvent<T> implements INbpOnRowActionEvent<T> {
//   constructor(public item: T, public action: Actions, public rowIndex: number, public globalIndex?: number) { }
// }
var NbpOnRowsActionEvent = (function () {
    function NbpOnRowsActionEvent(items, lastSelectedItem) {
        this.items = items;
        this.lastSelectedItem = lastSelectedItem;
    }
    return NbpOnRowsActionEvent;
}());
/** intero autogenerato usato per id unici per checkbox component */
var nextId$5 = 0;
exports.NbpTableComponent = (function () {
    function NbpTableComponent(_tableUtilService, _nbpFormatter) {
        this._tableUtilService = _tableUtilService;
        this._nbpFormatter = _nbpFormatter;
        this.tableScrollbarScroll = false;
        this.tableScrollbarAuto = false;
        this.idHeaderAllCheckboxChecked = false;
        this.disabledCheckboxUnchecked = 0;
        /**
         * Stringa che definisce l'id della tabella del cmponente
         */
        this.nbpId = "nbp-table-" + ++nextId$5;
        /**
         * Stringa che rappresenta la tipologia di selezione della griglia tra:
         * 'single' | 'multi' | 'none'
         * Default: 'none'
         */
        this.nbpSelectionType = 'none';
        /**
       * Riga preselezionata della tabella
       * Default: -1
       */
        this.nbpSelectedRow = -1;
        /**
         * Evento che viene emesso al click su una riga singola della tabella (solo nbpSelectionType = 'none').
         * L'evento emesso contiene un insieme di metadati definiti nella INbpClickRowEvent.
         * @param {EventEmitter<INbpOnRowActionEvent<T>>}  nbpOnClickRow
         */
        this.nbpOnClickRow = new _angular_core.EventEmitter();
        /**
         * Evento che viene emesso alla selezione singola di un record della table (solo nbpSelectionType = 'single').
         * L'evento emesso contiene il dato selezionato del tipo definito.
         * @param {EventEmitter<INbpOnRowActionEvent<T>>}  nbpOnSelectRow
         */
        this.nbpOnSelectRow = new _angular_core.EventEmitter();
        /**
         * Evento che viene emesso al click su una singola della tabella (solo nbpSelectionType = 'multi').
         * L'evento emesso contiene la lista dei record selezionati
         * e l'ultimo elemento selezionato definiti nella INbpClickRowsEvent.
         * @param {EventEmitter<INbpOnRowActionEvent<T>>}  nbpOnMultiSelectRows
         */
        this.nbpOnMultiSelectRow = new _angular_core.EventEmitter();
        /**
         * Evento lanciato ad ogni cambio pagina (utile per il servizio di
         * paginazione lato BE)
         * @param {EventEmitter<any> = new EventEmitter(} ) nbpChangePage
         */
        this.nbpChangePage = new _angular_core.EventEmitter();
        this._selectedRowsIndexes = new Array();
        this._selectedRows = new Array();
        this._alreadyPreCheckTestedItems = new Array();
    }
    Object.defineProperty(NbpTableComponent.prototype, "nbpAutoBind", {
        get: function () {
            return this._nbpAutoBind;
        },
        set: function (value) {
            this._nbpAutoBind = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpTableComponent.prototype, "nbpLayoutAuto", {
        /**
         * Rappresenta la possibilit di decidere se rendere la larghezza delle colonne adattabile al contenuto.
         * In caso di nbpLayoutAuto = false, il layout della tabella sar fixed.
         */
        get: function () {
            return this._nbpLayoutAuto;
        },
        set: function (value) {
            this._nbpLayoutAuto = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    NbpTableComponent.prototype.ngOnInit = function () {
        /* this._shadowAutoBind = Object.assign({} , this.nbpAutoBind); */
        if (this.scrollBar) {
            this.scrollBar = this.scrollBar.toUpperCase();
            if (this.scrollBar == "AUTO")
                this.tableScrollbarAuto = true;
            if (this.scrollBar == "SCROLL")
                this.tableScrollbarScroll = true;
        }
    };
    NbpTableComponent.prototype.ngAfterContentInit = function () {
        if (!this.nbpSelectionType) {
            this.nbpSelectionType = 'none';
        }
        if (this.contentChildren) {
            this._initializeTableByChildren(this.contentChildren);
        }
        this._initializePaginationGap();
        if (this.nbpDataSource) {
            this._datasourceSubscription = this._subscribeToData();
        }
        if (this.nbpSelectedRow != -1) {
            this._selectedRowsIndexes.push(this.nbpSelectedRow);
        }
        // esegue preordinamento (opzionale)
        if (this.nbpPreOrder) {
            this._onOrder(this.nbpPreOrder.field, this.nbpPreOrder.inverse ? '-' : '');
        }
    };
    NbpTableComponent.prototype.ngOnChanges = function (changes) {
        if (changes.nbpDataSource) {
            if (this._datasourceSubscription) {
                this._datasourceSubscription.unsubscribe();
            }
            this._datasourceSubscription = this._subscribeToData();
        }
    };
    NbpTableComponent.prototype.ngOnDestroy = function () {
        if (this._datasourceSubscription) {
            this._datasourceSubscription.unsubscribe();
        }
    };
    NbpTableComponent.prototype._initializeTableByChildren = function (children) {
        this._tableUtilService.setColumns(this._tableUtilService.getColumnsFromChildren(children));
        this.nbpOptions.columns = this._tableUtilService.getColumns();
        this._tableUtilService.setCurrentPageStatus({ pageNumber: 1, pageSize: -1, totalRecords: -1 });
        if (this._nbpAutoBind) {
            this._firstPageNavigation();
        }
    };
    // TODO IMPLEMENTARE POSSIBILIT DI INIZIALIZZARE VIA OPTIONS LE COLONNE
    /*initializeTableFromOptions() {
       this.tableUtilService.setColumns(this.nbpOptions.columns);
       this.tableUtilService.setCurrentPageStatus({ pageNumber: 1, pageSize: null, totalRecords: null });
       this.firstPageNavigation();
     }*/
    NbpTableComponent.prototype._onOrder = function (columnField, orderingType) {
        this._tableUtilService.setColumnOrdering(columnField, orderingType);
        var currentPageStatus = this._tableUtilService.getCurrentPageStatus();
        this.navigateToPage(currentPageStatus.pageNumber, this._tableUtilService.getCurrentOrdering(), this.nbpOptions.pageSize);
    };
    NbpTableComponent.prototype._firstPageNavigation = function () {
        this.navigateToPage(1, this._tableUtilService.getCurrentOrdering(), this.nbpOptions.pageSize);
    };
    NbpTableComponent.prototype._clearRowsSelections = function () {
        this._selectedRowsIndexes.splice(0);
        if (this.nbpSelectionType !== 'multi') {
            this._selectedRows.splice(0);
        }
    };
    NbpTableComponent.prototype._emitEmptySelectionEvents = function () {
        this.nbpOnSelectRow.emit();
        this.nbpOnMultiSelectRow.emit();
    };
    NbpTableComponent.prototype._singleRowSelection = function (item, rowIndex) {
        var globalIndex = this._tableUtilService.findGlobalIndex(rowIndex);
        var eventDataSingle = new NbpOnRowActionEvent(item, Actions.SELECTED, rowIndex, globalIndex);
        this.nbpOnSelectRow.emit(eventDataSingle);
        this._clearRowsSelections();
        this._selectedRowsIndexes.push(rowIndex);
        console.debug('singleselect');
    };
    NbpTableComponent.prototype._removeItemFromSelectedRows = function (item) {
        var itemSelectedId = this._tableUtilService.findIndexOfSelectedByItem(item, this._selectedRows);
        this._selectedRows.splice(itemSelectedId, 1);
        // this.idHeaderAllCheckbox.nativeElement.checked = false;
        this.idHeaderAllCheckboxChecked = false;
        console.debug('remove element');
    };
    NbpTableComponent.prototype._insertItemIntoSelectedRows = function (item) {
        if (this._selectedRows.indexOf(item) == -1) {
            this._selectedRows.push(item);
            this._checkIdHeaderAllCheckbox();
            console.debug('add element');
        }
        else {
            console.debug('not adding element already present:', item);
        }
    };
    NbpTableComponent.prototype._sendMultiSelectionEvent = function () {
        console.debug('selected rows: ', this._selectedRows);
        var eventDataMulti = new NbpOnRowsActionEvent(this._selectedRows, this._selectedRows[this._selectedRows.length - 1]);
        this.nbpOnMultiSelectRow.emit(eventDataMulti);
    };
    NbpTableComponent.prototype._onSelectAllRow = function (checkboxValue) {
        var _this = this;
        switch (checkboxValue) {
            case false:
                if (this._shadowNbpDataSource)
                    this._shadowNbpDataSource.forEach(function (item, index) {
                        if (_this._selectedRows.indexOf(item) > -1 && !_this._isCheckboxDisabled(item))
                            _this._onSelectRow(item, index, false);
                    });
                break;
            case true:
                if (this._shadowNbpDataSource)
                    this._shadowNbpDataSource.forEach(function (item, index) {
                        if (_this._selectedRows.indexOf(item) == -1 && !_this._isCheckboxDisabled(item))
                            _this._onSelectRow(item, index, true);
                    });
                break;
        }
    };
    NbpTableComponent.prototype._onSelectRow = function (item, rowIndex, checkboxValue) {
        switch (this.nbpSelectionType) {
            case 'single':
                this._singleRowSelection(item, rowIndex);
                break;
            case 'multi':
                switch (checkboxValue) {
                    case false:
                        this._removeItemFromSelectedRows(item);
                        break;
                    case true:
                        this._insertItemIntoSelectedRows(item);
                        break;
                }
                this._sendMultiSelectionEvent();
                break;
            case 'none':
                this._onClickRow(item, rowIndex);
                console.debug('none');
                break;
        }
    };
    NbpTableComponent.prototype._isChecked = function (item) {
        if (this._selectedRows.indexOf(item) == -1)
            return false;
        return true;
    };
    NbpTableComponent.prototype._isCheckboxDisabled = function (item) {
        if (this.nbpCheckboxDisabledFn) {
            return this.nbpCheckboxDisabledFn(item);
        }
        else {
            return false;
        }
    };
    NbpTableComponent.prototype._isPreChecked = function (item) {
        if (this.nbpPreCheckedFn) {
            return this.nbpPreCheckedFn(item);
        }
        else {
            return false;
        }
    };
    NbpTableComponent.prototype._onClickRow = function (item, rowIndex) {
        var globalIndex = this._tableUtilService.findGlobalIndex(rowIndex);
        var eventData = new NbpOnRowActionEvent(item, Actions.CLICKED, rowIndex, globalIndex);
        this.nbpOnClickRow.emit(eventData);
    };
    NbpTableComponent.prototype._getCellValueForColumn = function (obj, column) {
        var cellValue = getPropertyValueByPath(obj, column.field);
        var formatteCellValue = this._nbpFormatter.displayValueTransformation(cellValue, column.filter, column.filterArg);
        return formatteCellValue;
    };
    NbpTableComponent.prototype._isCurrentIndexIntoSelected = function (currentIndex) {
        var result = this._selectedRowsIndexes.indexOf(currentIndex);
        return result === -1 ? false : true;
    };
    NbpTableComponent.prototype._onNextPage = function (requestedState) {
        this._clearRowsSelections();
        this._emitEmptySelectionEvents();
        var currentOrder = this._tableUtilService.getCurrentOrdering();
        this.navigateToPage(requestedState.pageNumber, currentOrder, this.nbpOptions.pageSize);
    };
    NbpTableComponent.prototype._onPrevPage = function (requestedState) {
        this._clearRowsSelections();
        this._emitEmptySelectionEvents();
        var currentOrder = this._tableUtilService.getCurrentOrdering();
        this.navigateToPage(requestedState.pageNumber, currentOrder, this.nbpOptions.pageSize);
    };
    NbpTableComponent.prototype._onFirstPage = function () {
        this._clearRowsSelections();
        this._emitEmptySelectionEvents();
        this._tableUtilService.setCurrentPageNumber(1);
        this._firstPageNavigation();
    };
    NbpTableComponent.prototype._onLastPage = function (requestedState) {
        var currentPageStatus = this._tableUtilService.getCurrentPageStatus();
        if (currentPageStatus.totalRecords && currentPageStatus.pageSize) {
            this._clearRowsSelections();
            this._emitEmptySelectionEvents();
            var currentOrder = this._tableUtilService.getCurrentOrdering();
            var lastPage = this._evaluateLastPage(currentPageStatus);
            this.navigateToPage(lastPage, currentOrder, this.nbpOptions.pageSize);
        }
    };
    NbpTableComponent.prototype._evaluateLastPage = function (currentPageStatus) {
        var partialPages = Math.floor((currentPageStatus.totalRecords) / currentPageStatus.pageSize);
        var lastPage = (currentPageStatus.totalRecords) % currentPageStatus.pageSize ? partialPages + 1 : partialPages;
        return lastPage;
    };
    NbpTableComponent.prototype._onGoToPage = function (requestedState) {
        this._clearRowsSelections();
        this._emitEmptySelectionEvents();
        var currentOrder = this._tableUtilService.getCurrentOrdering();
        var currentPageStatus = this._tableUtilService.getCurrentPageStatus();
        if (currentPageStatus && currentPageStatus.totalRecords) {
            var lastPage = this._evaluateLastPage(currentPageStatus);
            var pageToGo = lastPage < requestedState.pageNumber ? lastPage : requestedState.pageNumber;
            this.navigateToPage(pageToGo, currentOrder, this.nbpOptions.pageSize);
        }
    };
    NbpTableComponent.prototype._onPageChange = function () {
        this.nbpChangePage.emit();
        console.debug('changed page');
    };
    NbpTableComponent.prototype._initializePaginationGap = function () {
        if (this.nbpOptions.pageGapSize) {
            this._pageGapSize = this.nbpOptions.pageGapSize;
        }
    };
    /**
     * Effettua la preselezione sulle checkbox se presente la funzione nbpPreCheckedFn (salta gli item gi analizzati)
     * @private
     */
    NbpTableComponent.prototype._preCheckRows = function (allValues) {
        var _this = this;
        this.disabledCheckboxUnchecked = 0;
        // conto il numero di checkbox disabled non preselezionate
        allValues.forEach(function (item) {
            if ((!_this.nbpPreCheckedFn || !_this.nbpPreCheckedFn(item)) && _this._isCheckboxDisabled(item)) {
                // casella non preselezionata e disabled
                _this.disabledCheckboxUnchecked += 1;
            }
        });
        allValues.forEach(function (item) {
            if (_this._alreadyPreCheckTestedItems.indexOf(item) === -1) {
                // aggiungo l'item a _alreadyPreCheckTestedItems
                _this._alreadyPreCheckTestedItems.push(item);
                if (_this.nbpPreCheckedFn && _this.nbpPreCheckedFn(item)) {
                    // pre seleziono la casella
                    _this._insertItemIntoSelectedRows(item);
                }
            }
        });
    };
    NbpTableComponent.prototype._subscribeToData = function () {
        var _this = this;
        return this.nbpDataSource.getDataStream().subscribe(function (value) {
            _this._tableUtilService.setCurrentPageStatus(value.status);
            _this._clearRowsSelections();
            _this._emitEmptySelectionEvents();
            _this._overridePaginationDisable = value.status.pageSize === value.status.totalRecords;
            if (value.data && value.data.length) {
                _this._shadowNbpDataSource = value.data.slice();
                // console.log('Resolve Subscribe');
            }
            else {
                var pageNumber = _this._tableUtilService.getCurrentPageStatus().pageNumber - 1;
                _this._tableUtilService.setCurrentPageNumber(pageNumber);
            }
            if (_this.nbpSelectionType === 'multi') {
                _this._preCheckRows(value.data);
                _this._sendMultiSelectionEvent();
                _this._checkIdHeaderAllCheckbox();
            }
        }, function (error) {
            console.log(JSON.stringify(error));
        });
    };
    /**
     * Permette di navigare la paginazione della tabella programmaticamente.
     * @param pageNumber (Opzionale) Numero della pagina da visualizzare, se non passato permette di ritornare tutti i dati
     * @param pageSize (Opzionale) serve per il set di un pageSize differente dal defaultPageSize della DataSource
     * @param sortingFields (Opzionale) array contenente i nomi delle propriet su cui fare il sorting
     * (e.g. [name]->(ASC name) oppure [-name]->(DESC name) )
     */
    NbpTableComponent.prototype.navigateToPage = function (pageNumber, sortingFields, pageSize) {
        this.nbpDataSource.sendDataEvent(pageNumber, sortingFields, pageSize); // TODO prendere i parametri
    };
    /**
     * Permette di bindare i dati alla tabella oppure in caso di dati gi bindati
     * di ricaricare i dati e riportare alla prima pagina oppure in caso di dati
     * gi bindati di ricaricare i dati e riportare alla prima pagina.
     */
    NbpTableComponent.prototype.datasourceRead = function () {
        if (this.nbpDataSource && !this._nbpAutoBind) {
            this._nbpAutoBind = true;
        }
        this._firstPageNavigation();
    };
    /**
     * controlla se la checkbox in testa alla tabella vada attivata o meno.
     * @private
     */
    NbpTableComponent.prototype._checkIdHeaderAllCheckbox = function () {
        var _this = this;
        // controllo per selezionare la checkbox generale al cambio pagina
        this.idHeaderAllCheckboxChecked = true;
        this._shadowNbpDataSource.forEach(function (item) {
            if (!(_this._isCheckboxDisabled && _this._isCheckboxDisabled(item)) && _this._selectedRows.indexOf(item) == -1) {
                // c' almeno una checkbox non selezionata in questa pagina
                _this.idHeaderAllCheckboxChecked = false;
            }
        });
    };
    return NbpTableComponent;
}());
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", String)
], exports.NbpTableComponent.prototype, "scrollBar", void 0);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", String)
], exports.NbpTableComponent.prototype, "nbpId", void 0);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", Object)
], exports.NbpTableComponent.prototype, "nbpOptions", void 0);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", INbpDataSource)
], exports.NbpTableComponent.prototype, "nbpDataSource", void 0);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", Object),
    __metadata$41("design:paramtypes", [Boolean])
], exports.NbpTableComponent.prototype, "nbpAutoBind", null);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", Object),
    __metadata$41("design:paramtypes", [Boolean])
], exports.NbpTableComponent.prototype, "nbpLayoutAuto", null);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", String)
], exports.NbpTableComponent.prototype, "nbpSelectionType", void 0);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", Number)
], exports.NbpTableComponent.prototype, "nbpSelectedRow", void 0);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", Function)
], exports.NbpTableComponent.prototype, "nbpCheckboxDisabledFn", void 0);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", Function)
], exports.NbpTableComponent.prototype, "nbpPreCheckedFn", void 0);
__decorate$57([
    _angular_core.Input(),
    __metadata$41("design:type", Object)
], exports.NbpTableComponent.prototype, "nbpPreOrder", void 0);
__decorate$57([
    _angular_core.Output(),
    __metadata$41("design:type", _angular_core.EventEmitter)
], exports.NbpTableComponent.prototype, "nbpOnClickRow", void 0);
__decorate$57([
    _angular_core.Output(),
    __metadata$41("design:type", _angular_core.EventEmitter)
], exports.NbpTableComponent.prototype, "nbpOnSelectRow", void 0);
__decorate$57([
    _angular_core.Output(),
    __metadata$41("design:type", _angular_core.EventEmitter)
], exports.NbpTableComponent.prototype, "nbpOnMultiSelectRow", void 0);
__decorate$57([
    _angular_core.Output(),
    __metadata$41("design:type", _angular_core.EventEmitter)
], exports.NbpTableComponent.prototype, "nbpChangePage", void 0);
__decorate$57([
    _angular_core.ContentChildren(exports.NbpTableColumnComponent),
    __metadata$41("design:type", _angular_core.QueryList)
], exports.NbpTableComponent.prototype, "contentChildren", void 0);
__decorate$57([
    _angular_core.ViewChild('idHeaderAllCheckbox'),
    __metadata$41("design:type", _angular_core.ElementRef)
], exports.NbpTableComponent.prototype, "idHeaderAllCheckbox", void 0);
exports.NbpTableComponent = __decorate$57([
    _angular_core.Component({
        selector: 'nbp-table',
        template: "<div class=\"table-container\" [ngClass]=\"{ 'table-scrollbar-auto': tableScrollbarAuto, 'table-scrollbar-scroll': tableScrollbarScroll }\"><table [id]=\"nbpId\" [ngClass]=\"_nbpLayoutAuto ? 'auto-width' : 'fixed-width'\"><thead><tr id=\"headerRow\" class=\"row-nowrap\"><th *ngIf=\"nbpSelectionType === 'multi'\" class=\"table-label with-checkbox\"><input #idHeaderAllCheckbox type=\"checkbox\" (click)=\"_onSelectAllRow($event.target.checked);\" [(checked)]=\"idHeaderAllCheckboxChecked\"></th><th class=\"table-label\" *ngFor=\"let column of nbpOptions?.columns\" [hidden]=\"!column.visible\" [ngStyle]=\"column.customStyle\">{{column.title}}<div class=\"sort-button\" [hidden]=\"!nbpOptions.sortable || !column.sortable\"><div class=\"arrow-down\" (click)=\"_onOrder(column.field,'-');\" [ngClass]=\"{'active':column && column.currentOrder === '-'}\"></div><div class=\"arrow-up\" (click)=\"_onOrder(column.field);\" [ngClass]=\"{'active':column && column.currentOrder === '' }\"></div></div></th></tr></thead><tbody><tr *ngFor=\"let data of _shadowNbpDataSource; let rowIndex=index;\" class=\"table-row\" [ngClass]=\"{'highlighted': _isCurrentIndexIntoSelected(rowIndex), 'clickable': nbpSelectionType === 'single'}\" (click)=\"_onSelectRow(data,rowIndex);\"><td *ngIf=\"nbpSelectionType === 'multi'\" class=\"table-cell text-center selection-cell\"><input type=\"checkbox\" (click)=\"_onSelectRow(data, rowIndex, $event.target.checked);\" [checked]=\"_isChecked(data)\" [disabled]=\"_isCheckboxDisabled(data)\"></td><td *ngFor=\"let column of nbpOptions?.columns\" class=\"table-cell text-center data-cell\" [hidden]=\"!column.visible\">{{ _getCellValueForColumn(data , column) }}</td></tr></tbody></table></div><nbp-pagination *ngIf=\"_nbpAutoBind && (!nbpOptions.disablePagination && !_overridePaginationDisable)\" [nbpPaginationStatus]=\"_tableUtilService.currentPageStatus\" [nbpDisablePaginationStatus]=\"_tableUtilService.disablePaginationStatus\" [nbpPageWindowSize]=\"_pageGapSize\" (nbpOnFirst)=\"_onFirstPage($event)\" (nbpOnLast)=\"_onLastPage($event)\" (nbpOnNext)=\"_onNextPage($event)\" (nbpOnFirst)=\"_onFirstPage($event)\" (nbpOnGoToPage)=\"_onGoToPage($event)\" (nbpOnPrev)=\"_onPrevPage($event)\" (nbpOnPageChange)=\"_onPageChange()\"></nbp-pagination><ng-content selector=\"nbp-table-column\"></ng-content>",
        viewProviders: [NbpTableUtilService, NbpFormatterService],styles: [".table-container{margin-bottom:1.25em}.table-container table{width:100%}.table-select{border-collapse:separate}.table-scrollbar-auto{overflow-x:auto}.table-scrollbar-scroll{overflow-x:scroll}.table-label{padding:.625em;color:#6f6f6f;font-weight:700;font-size:.75em;text-transform:uppercase;text-align:center;white-space:normal;height:3.333em;border:.0625em solid #ccc;background-color:#f2f2f2}.table-label.with-checkbox{width:4.167em;padding:0}.table-label.with-accordion{width:4.167em;padding:0}.table-label .icheckbox-container{margin-right:0!important;display:inline-table!important}.table-label.label-select{color:#6f6f6f;font-weight:700;font-size:.75em;text-transform:uppercase;height:1.875em;text-align:left;padding-left:.625em;border:.0625em solid #ccc;background-color:#fff}.table-label.label-select.select{background-color:#c4dbbc;border:.0625em solid #6f6f6f}.table-label.label-select .radio-label{font-size:100%}.table-row{font-size:.875em;height:4.285em;background-color:#fff;color:#323232;border:.0625em solid #ccc}.table-row.clickable{border-top:0;cursor:pointer}.table-row.clickable:hover{background-color:#89bc72}.table-row.with-checkbox{width:3.429em;padding:0;text-align:center;cursor:auto}.table-row.bold{font-weight:700}.table-row.highlighted{background-color:#89bc72}.table-row .icheckbox-container{margin-right:0!important;display:inline-table!important}.table-row.with-accordion{width:3.429em;padding:0;text-align:center;cursor:auto}.table-row .accordion-arrow{position:relative;font-size:2em;margin-top:-.156em;cursor:pointer}.row-yellow{background-color:#ff0}.cell-red{background-color:red}.content-accordion{background-color:#f8f8f8}.content-accordion .accordion-panel{text-align:center;font-size:.75em;font-family:Arial;font-style:normal;height:6.25em}.table-cell{position:relative;padding:0 .688em 0 .688em}.table-cell.with-borders{border:.0625em solid #ccc}.table-cell.with-checkbox{width:3.429em;padding:0;text-align:center}.table-cell.with-accordion{width:3.429em;padding:0;text-align:center}.table-cell.cell-select{color:#6f6f6f;height:4.375em;border:.0625em solid #ccc;background-color:#f2f2f2}.table-cell.cell-select.select{background-color:#c4dbbc;border:.0625em solid #6f6f6f;border-top:none}.table-cell a{text-overflow:ellipsis;word-wrap:break-word}.table-cell img{width:100%}.table-pagination{margin-top:.625em}.table-pagination table{width:100%;table-layout:fixed}.table-pagination .table-page-btn{display:inline-block;color:#258900;cursor:pointer;margin-top:.313em}.table-pagination .table-page-btn.disabled{color:#6f6f6f;cursor:auto}.table-pagination .table-page-btn .page-btn-arrow{font-size:1.25em;vertical-align:middle}.table-pagination .table-page-btn .page-btn-text{padding:0 .625em 0 .625em;font-size:.813em;font-weight:700}.table-pagination .table-page-btn .table-page-number{display:inline-block;border:.0625em solid #258900;font-weight:700;color:#258900;background:#fff;text-align:center;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:2em;height:2em;font-size:.938em;line-height:2em;margin:0 .125em 0 .125em;cursor:pointer}.table-pagination .table-page-btn .table-page-number.backward{margin-right:-.125em}.table-pagination .table-page-btn .table-page-number.forward{margin-left:-.125em}.table-pagination .table-page-btn .table-page-number.active{color:#fff;background:#258900}.table-pagination .table-pagination-center{text-align:center}.table-pagination .table-pagination-center .table-page-btn{margin-top:0}.sort-button{cursor:pointer}.arrow-up{display:inline-block;position:relative;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #258900;margin-right:2px}.arrow-up::before{content:'';position:absolute;top:1px;left:-5px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:5px solid #fff}.arrow-down{display:inline-block;position:relative;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #258900}.arrow-down::before{content:'';position:absolute;top:auto;bottom:1px;left:-5px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #fff}.arrow-up.active::before{display:none}.arrow-down.active::before{display:none}.annulla-check{display:inline-block;color:#258900;cursor:pointer;margin-top:.313em}.annulla-check .page-btn-text{padding:0 .625em 0 .625em;font-size:.813em;font-weight:700}.row-nowrap{white-space:nowrap}.horizontal-scrollbar{overflow-x:scroll;overflow-y:hidden}.table-full-width{width:100%}.auto-width{table-layout:auto!important}.fixed-width{table-layout:fixed!important}.table-image{text-align:center;padding:.625em!important}[tooltip-hover]:before{content:attr(tooltip-hover);position:absolute;overflow:none;opacity:0;padding:1.25em;color:#fff;border-radius:.125em;background:#323232;margin-top:0;margin-left:0}[tooltip-hover]:hover:before{opacity:1;overflow:none;background:#323232;margin-top:-3.125em}[tooltip-hover]:not([tooltip-persistent]):before{pointer-events:none}[tooltip-click]:before{content:attr(tooltip-click);position:absolute;opacity:0;padding:1.25em;color:#fff;border-radius:.125em;background:#323232;margin-top:0;margin-left:0}[tooltip-click]:visited:before{opacity:1;background:#323232;margin-top:-3.125em}[tooltip-click]:not([tooltip-persistent]):before{pointer-events:none}.tooltipClickLabel{position:absolute;padding:1.25em;color:#fff;border-radius:.125em;background:#323232;margin-top:0;margin-left:0;bottom:2.5em;z-index:1000}.tooltipClickLabel:after{content:\"\A\";color:#323232;width:0;height:0;border-left:.625em solid transparent;border-right:.625em solid transparent;border-top:.625em solid;position:absolute;margin-top:2.813em;left:50%}.tooltipClickLabel .closeTip{position:absolute;top:.125em;right:.3125em;z-index:1000;color:#fa9600;cursor:pointer}.green-link{color:#258900}:host-context(.contrasto-on) .table-container td{border:.0625em solid #000}:host-context(.contrasto-on) .table-label{color:#fff;border:.0625em solid #fff;background-color:#000}:host-context(.contrasto-on) .table-label.label-select{color:#000;border:.0625em solid #000;background-color:#fff}:host-context(.contrasto-on) .table-label.label-select.select{background-color:#000;border:.0625em solid #fff}:host-context(.contrasto-on) .table-label.label-select.select .iradio-container.checked .radio-label{color:#fff!important}:host-context(.contrasto-on) .table-row{background-color:#fff;color:#000}:host-context(.contrasto-on) .table-row.clickable{border:.0625em solid #000}:host-context(.contrasto-on) .table-row.clickable:hover{background-color:#fff;color:#000;border:.125em solid #000!important}:host-context(.contrasto-on) .table-row.highlighted{background-color:#fff;color:#000;border:.125em solid #000!important}:host-context(.contrasto-on) .content-accordion{background-color:#000;color:#fff}:host-context(.contrasto-on) .content-accordion .table-cell.with-borders{border:.0625em solid #fff}:host-context(.contrasto-on) .table-cell.with-borders{border:.0625em solid #000}:host-context(.contrasto-on) .table-cell.cell-select{color:#000;border:.125em solid #000;background-color:#fff}:host-context(.contrasto-on) .table-cell.cell-select.select{background-color:#000;border:.125em solid #fff;color:#fff}:host-context(.contrasto-on) .table-pagination .table-page-btn{color:#000}:host-context(.contrasto-on) .table-pagination .table-page-btn.disabled{color:#6f6f6f}:host-context(.contrasto-on) .table-pagination .table-page-btn .table-page-number{border:.0625em solid #000;color:#000;background:#fff}:host-context(.contrasto-on) .table-pagination .table-page-btn .table-page-number.active{color:#fff;background:#000}:host-context(.contrasto-on) .arrow-up{display:inline-block;position:relative;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff;margin-right:2px}:host-context(.contrasto-on) .arrow-up::before{content:'';position:absolute;top:1px;left:-5px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:5px solid #000}:host-context(.contrasto-on) .arrow-down{display:inline-block;position:relative;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}:host-context(.contrasto-on) .arrow-down::before{content:'';position:absolute;top:auto;bottom:1px;left:-5px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #000}:host-context(.contrasto-on) .arrow-up.active::before{display:none}:host-context(.contrasto-on) .arrow-down.active::before{display:none}:host-context(.contrasto-on) .annulla-check{color:#000}:host-context(.contrasto-on) [tooltip-hover]:before{content:attr(tooltip-hover);position:absolute;overflow:none;opacity:0;padding:1.25em;color:#fff;border-radius:.125em;background:#000;margin-top:0;margin-left:0}:host-context(.contrasto-on) [tooltip-hover]:hover:before{opacity:1;overflow:none;background:#000;margin-top:-3.125em}:host-context(.contrasto-on) [tooltip-hover]:not([tooltip-persistent]):before{pointer-events:none}:host-context(.contrasto-on) [tooltip-click]:before{content:attr(tooltip-click);position:absolute;opacity:0;padding:1.25em;color:#fff;border-radius:.125em;background:#000;margin-top:0;margin-left:0}:host-context(.contrasto-on) [tooltip-click]:visited:before{opacity:1;background:#000;margin-top:-3.125em}:host-context(.contrasto-on) [tooltip-click]:not([tooltip-persistent]):before{pointer-events:none}:host-context(.contrasto-on) .tooltipClickLabel{position:absolute;padding:1.25em;color:#fff;border-radius:.125em;background:#323232;margin-top:0;margin-left:0;bottom:2.5em;z-index:1000}:host-context(.contrasto-on) .tooltipClickLabel:after{content:\"\A\";color:#fff;width:0;height:0;border-left:.625em solid transparent;border-right:.625em solid transparent;border-top:.625em solid;position:absolute;margin-top:2.813em;left:50%}:host-context(.contrasto-on) .tooltipClickLabel .closeTip{position:absolute;top:.125em;right:.3125em;z-index:1000;color:#fff;cursor:pointer}:host-context(.contrasto-on) .green-link{color:#000} /*# sourceMappingURL=nbp-table.component.css.map */ "]
    }),
    __metadata$41("design:paramtypes", [NbpTableUtilService,
        NbpFormatterService])
], exports.NbpTableComponent);
var NbpOnRowActionEvent = (function () {
    function NbpOnRowActionEvent(item, action, rowIndex, globalIndex) {
        this.item = item;
        this.action = action;
        this.rowIndex = rowIndex;
        this.globalIndex = globalIndex;
    }
    return NbpOnRowActionEvent;
}());

var __decorate$63 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$47 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$10 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.ApplicationStatusService = (function () {
    function ApplicationStatusService(alertDefinition) {
        var _this = this;
        this.alertDefinition = alertDefinition;
        this._errorRaw$ = new rxjs_BehaviorSubject.BehaviorSubject(null);
        this._globalError$ = new rxjs_Observable.Observable();
        this._applicationAlert$ = new rxjs_Observable.Observable();
        if (alertDefinition) {
            this.appAlertDefinitionFn = alertDefinition.isAnApplicationAlert;
        }
        else {
            this.appAlertDefinitionFn = this.applicationAlertDefinition;
        }
        var errorPartitions = this._errorRaw$.asObservable()
            .partition(function (error) { return _this.appAlertDefinitionFn(error); });
        this._applicationAlert$ = errorPartitions[0];
        this._globalError$ = errorPartitions[1];
    }
    /**
     * Permette di aggiungere un errore
     */
    ApplicationStatusService.prototype.notifyError = function (error) {
        this._errorRaw$.next(error);
    };
    /**
     * Permette di ricevere lo stream degli errori grezzi
     * sia globalError sia ApplicationAlert
     */
    ApplicationStatusService.prototype.getErrorRawStream = function () {
        return this._errorRaw$.asObservable();
    };
    /**
     * Permette di ricevere gli errori globali
     */
    ApplicationStatusService.prototype.getGlobalErrorStream = function () {
        return this._globalError$;
    };
    /**
     * Permette di ricevere gli alert applicativi da visualizzare sul
     * top delle varie pagine
     */
    ApplicationStatusService.prototype.getApplicationAlertStream = function () {
        return this._applicationAlert$;
    };
    /**
     * Definizione dei criteri da usare per distinguere tra errore globale da visualizzare
     * tramite modale di errore e Alert applicativo (errore restituito dal BE es. incongruenza
     * input inseriti)
     * @param {IClientError} error erroreGlobale
     *
     */
    ApplicationStatusService.prototype.applicationAlertDefinition = function (error) {
        return false;
    };
    return ApplicationStatusService;
}());
exports.ApplicationStatusService = __decorate$63([
    _angular_core.Injectable(),
    __param$10(0, _angular_core.Inject(APP_ALERT_DEF)), __param$10(0, _angular_core.Optional()),
    __metadata$47("design:paramtypes", [Object])
], exports.ApplicationStatusService);

var __decorate$62 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$46 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.CjErrorModalComponent = (function () {
    function CjErrorModalComponent(applicationStatus, zone) {
        this.applicationStatus = applicationStatus;
        this.zone = zone;
        this._errorTitle = 'Global Error!';
        this._size = exports.NbpSize.MD;
        this._openModal = false;
    }
    CjErrorModalComponent.prototype.ngOnInit = function () {
        var _this = this;
        this._errorSubscription = this.applicationStatus.getGlobalErrorStream().filter(function (error) { return error !== null; })
            .subscribe(function (error) {
            console.log('CjErrorModal dentro subscribe');
            _this.zone.run(function () {
                if (_this._cjErrorModal) {
                    _this._cjErrorModal.open();
                    _this._cjGlobalError = error;
                }
                //  this._openModal = true;
            });
        }, function (err) { return console.error('Observer got an error: ' + err); }, function () { return console.log('Observer got a complete notification'); });
    };
    CjErrorModalComponent.prototype.ngOnDestroy = function () {
        this._errorSubscription.unsubscribe();
    };
    return CjErrorModalComponent;
}());
__decorate$62([
    _angular_core.ViewChild('errorModal'),
    __metadata$46("design:type", exports.NbpModalComponent)
], exports.CjErrorModalComponent.prototype, "_cjErrorModal", void 0);
exports.CjErrorModalComponent = __decorate$62([
    _angular_core.Component({
        selector: 'cj-error-modal',template: "<nbp-modal #errorModal [(nbpOpened)]=\"_openModal\" [nbpSize]=\"_size\"><div class=\"container-fluid\"><cj-error-view [cjClientError]=\"_cjGlobalError\"></cj-error-view></div></nbp-modal>",
        styles: [".error-view-content{max-height:500px;overflow:auto} /*# sourceMappingURL=cj-error-modal.component.css.map */ "]
    }),
    __metadata$46("design:paramtypes", [exports.ApplicationStatusService, _angular_core.NgZone])
], exports.CjErrorModalComponent);

var __decorate$64 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$48 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpAutoFocusInModalDirective = (function () {
    function NbpAutoFocusInModalDirective() {
        this.forcedFocusTabChange = new _angular_core.EventEmitter();
    }
    /**
     * evento chiamato dalla modale (nbp-modal) all'apertura per simulare il focus via tab
     * @param event
     */
    NbpAutoFocusInModalDirective.prototype.setTabFocus = function (event) {
        this.forcedFocusTabChange.emit(event);
    };
    return NbpAutoFocusInModalDirective;
}());
__decorate$64([
    _angular_core.Output('nbpAutoFocusInModal'),
    __metadata$48("design:type", _angular_core.EventEmitter)
], exports.NbpAutoFocusInModalDirective.prototype, "forcedFocusTabChange", void 0);
exports.NbpAutoFocusInModalDirective = __decorate$64([
    _angular_core.Directive({
        selector: '[nbpAutoFocusInModal]'
    }),
    __metadata$48("design:paramtypes", [])
], exports.NbpAutoFocusInModalDirective);

var __decorate$61 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$45 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$9 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var nextId$7 = 0;
/**
 * La Finestra Modale  una pagina che viene visualizzata al di sopra della pagina
 * corrente, la quale viene disabilitata.
 */
exports.NbpModalComponent = (function () {
    function NbpModalComponent(cjErrorModal, _differs) {
        this.cjErrorModal = cjErrorModal;
        this._differs = _differs;
        this.id = "nbp-modal-" + ++nextId$7;
        this.nbpOpenedChange = new _angular_core.EventEmitter();
        /**
         * Propriet che definisce la grandezza della modale, tramite l'enum NbpSize
         * valore di default: NbpSize.MD
         */
        this.nbpSize = exports.NbpSize.MD;
        /**
         * Array che descrive i pulsanti
         * da visualizzare nella modale
         */
        this.nbpButtons = [];
        /**
         * Object che definisce uno stile aggiuntivo per il container di default  definito = {'max-height': '90vh'}
         */
        this.nbpContainerStyle = {};
        // /**
        //  * (Opzionale) id html dell'elemento su cui mettere il focus dopo l'apertura della modale. Deve essere unico.
        //  */
        // @Input() nbpFirstFocusElementId: string;
        /**
         * Evento lanciato alla pressione di ogni pulsante.
         * Viene passato come parametro il pulsante cliccato.
         */
        this.nbpOnButtonClicked = new _angular_core.EventEmitter();
        /**
         * Evento lanciato alla chusura della modale.
         */
        this.nbpOnClose = new _angular_core.EventEmitter();
        /**
         * Evento lanciato all'apertura della modale.
         */
        this.nbpOnOpen = new _angular_core.EventEmitter();
        this._modalSize = exports.NbpSize;
        this._isModalInsideErrorModal = false;
        this._maxHeight = { 'max-height': '90vh' };
        this.buttonsNeedUpdate = false;
    }
    Object.defineProperty(NbpModalComponent.prototype, "nbpOpened", {
        /**
         * Flag che controlla la visibilit della modale.
         */
        get: function () {
            return this._nbpOpened;
        },
        set: function (nbpOpenendValue) {
            if (this._nbpOpened !== nbpOpenendValue) {
                this._nbpOpened = nbpOpenendValue;
                this.nbpOpenedChange.emit(nbpOpenendValue);
                // if  (this._nbpOpened)  {
                //     this.nbpOnOpen.emit();
                // } else {
                //      this.nbpOnClose.emit();
                // }
            }
        },
        enumerable: true,
        configurable: true
    });
    
    NbpModalComponent.prototype.ngOnInit = function () {
        this._evaluateButtonsAndLayout();
        this._isModalInsideErrorModal = !!this.cjErrorModal;
        this._createButtonsDiffers();
    };
    NbpModalComponent.prototype.ngOnChanges = function (changes) {
        if (changes.nbpOpened) {
            if (changes.nbpOpened.currentValue) {
                this.nbpOnOpen.emit();
                if (this.autoFocusComponent && this.autoFocusCompDOMRef) {
                    try {
                        // setto il focus su un elemento (attivando la grafica come se fosse avvenuta la pressione del tab)
                        this.setFocusOnElement();
                    }
                    catch (e) {
                        console.log('impossibile settare il flag all\'apertura della modale');
                    }
                }
            }
            else {
                // filtro il primo cambiamento (inizializzazione della modale (chiusa).
                // in questo caso voglio evitare di lanciare l'evento a vuoto.
                if (this.initialized) {
                    this.nbpOnClose.emit();
                }
                this.resetFocusOnElement();
            }
        }
        if (!this.initialized) {
            // la modale  stata inizializzata
            this.initialized = true;
        }
    };
    NbpModalComponent.prototype._populateShadowButtons = function () {
        this._shadowButtons = this.nbpButtons.length > 5 ? this.nbpButtons.slice(0, 5) : this.nbpButtons.slice();
    };
    NbpModalComponent.prototype._populateStyles = function () {
        switch (this._shadowButtons.filter(function (button) { return button.visible; }).length) {
            case 1:
                this._shadowButtons.map(function (button) {
                    button.layout = 'text-center';
                });
                break;
            case 2:
                this._shadowButtons.map(function (button, index) {
                    button.layout = 'text-center';
                });
                break;
            case 3:
                this._shadowButtons.map(function (button, index) {
                    if (index === 0) {
                        button.layout = '';
                    }
                    if (index === 1) {
                        button.layout = 'col-md-6 text-center';
                    }
                    if (index === 2) {
                        button.layout = 'text-center';
                    }
                });
                break;
            case 4:
                this._shadowButtons.map(function (button, index) {
                    button.layout = 'col-md-4 text-center';
                });
                break;
            case 5:
                this._shadowButtons.map(function (button, index) {
                    button.layout = 'col-md-offset-2 col-md-4 text-center';
                });
                break;
        }
    };
    NbpModalComponent.prototype._evaluateButtonsAndLayout = function () {
        console.log('evaluate button'); //fixme
        this._populateShadowButtons();
        this._populateStyles();
    };
    NbpModalComponent.prototype._getDisplayStyleValue = function () {
        // block => Visibile / none => Invisibile
        // let displayStyle = this._nbpOpened ? 'block' : 'none';
        // return displayStyle;
        return this._nbpOpened;
    };
    NbpModalComponent.prototype._onClick = function (button) {
        this.nbpOnButtonClicked.emit(button);
    };
    NbpModalComponent.prototype.open = function () {
        this.nbpOpened = true;
    };
    NbpModalComponent.prototype.close = function () {
        this.nbpOpened = false;
    };
    /**
     * si occupa di settare il focus sull'elemento (attivando la grafica come se fosse avvenuta la pressione del tab).
     *
     * il set del focus avviene in due fasi:
     * - si setta il focus vero e proprio all'interno del componente.
     * - si setta la grafica del componente come se si fosse settato il focus tramite tasto tab
     */
    NbpModalComponent.prototype.setFocusOnElement = function () {
        if (!this.autoFocusCompDOMRef) {
            return;
        }
        this.setInnerFocusOnElement();
        this.simulateTabFocusOnElement();
    };
    /**
     * si occupa di resettare il focus sull'elemento (necessario per far funzionare
     * il successivo set del focus all'apertura della modale).
     */
    NbpModalComponent.prototype.resetFocusOnElement = function () {
        if (!this.autoFocusCompDOMRef) {
            return;
        }
        this.resetTabFocusOnElement();
    };
    /**
     * setta il focus vero e proprio all'interno del componente.
     * Si accede all'elemento del DOM su cui  posizionata la direttiva NbpAutoFocusInModalDirective,
     * da esso si ricerca ricorsivamente nell'albero html in esso contenuto l'elemento html standard su cui settare
     * il focus.
     */
    NbpModalComponent.prototype.setInnerFocusOnElement = function () {
        var idElement = this.autoFocusCompDOMRef.nativeElement;
        if (!idElement) {
            console.warn('elemento NbpAutoFocusInModalDirective non trovato, focus non settato');
            return;
        }
        var elementToFocus = this.searchInsideComponent(idElement);
        // uso setTimeout per evitare problemi di sincronia
        setTimeout(function () {
            try {
                elementToFocus.focus();
            }
            catch (e) {
                console.warn('impossibile settare focus su componente in modale a elemento ' + elementToFocus);
                console.warn(e);
                return;
            }
        }, 0);
    };
    /**
     * questa funzione cerca nell'albero html interno al componente passato per trovare il primo elemento senza figli con
     * la propriet tabIndex settata, nell'ipotesi che questo sia l'elemento su cui fare il focus.
     * @param {HTMLElement} idElement
     * @returns {any}
     */
    NbpModalComponent.prototype.searchInsideComponent = function (idElement) {
        if (idElement.children.length > 0) {
            for (var i = 0; i < idElement.children.length; i++) {
                // se ci sono figli vai dentro
                var child = idElement.children[i];
                var elementToFocus = this.searchInsideComponent(child);
                if (elementToFocus) {
                    // se ho trovato l'elementToFocus lo faccio risalire l'albero ricorsivo
                    return elementToFocus;
                }
            }
        }
        else {
            // se non ci sono verifica se questo elemento ha un attributo 'tabIndex'
            if (idElement.hasAttribute('tabIndex')) {
                return idElement;
            }
            else {
                return null;
            }
        }
        // ho finito i children senza trovare elementToFocus
        return null;
    };
    /**
     * questo metodo si occupa di chiamare il metodo della direttiva NbpAutoFocusInModalDirective
     * che sar applicata sul componente su cui settare il focus. (la direttiva funge da interfaccia unica per
     * tutti i vari componenti che supportano il focus da tab)
     */
    NbpModalComponent.prototype.simulateTabFocusOnElement = function () {
        this.autoFocusComponent.setTabFocus(true);
    };
    /**
     * questo metodo si occupa di chiamare il metodo della direttiva NbpAutoFocusInModalDirective
     * che sar applicata sul componente su cui resettare il focus. (la direttiva funge da interfaccia unica per
     * tutti i vari componenti che supportano il focus da tab)
     */
    NbpModalComponent.prototype.resetTabFocusOnElement = function () {
        this.autoFocusComponent.setTabFocus(false);
    };
    // change detection per rilevare cambiamenti negli nbpButtons (essendo un array non viene
    // rilevato dal normale ngOnChanges.
    NbpModalComponent.prototype.ngDoCheck = function () {
        var _this = this;
        this.nbpButtons.forEach(function (el) {
            if (!_this.buttonsNeedUpdate && el.id) {
                var objDiffer = _this.buttonsDiffers[el.id];
                var objChanges = objDiffer.diff(el);
                if (objChanges) {
                    _this.buttonsNeedUpdate = true;
                }
            }
        });
        if (this.buttonsNeedUpdate) {
            this._evaluateButtonsAndLayout();
            this.buttonsNeedUpdate = false;
        }
    };
    /**
     * genera un differ per confrontare i cambiamenti all'interno dell'array nbpButtons
     * @private
     */
    NbpModalComponent.prototype._createButtonsDiffers = function () {
        var _this = this;
        this.buttonsDiffers = {};
        this.nbpButtons.forEach(function (el) {
            if (el.id) {
                _this.buttonsDiffers[el.id] = _this._differs.find(el).create();
            }
            else {
                console.warn('Attenzione, change detection degli nbpButtons non funzionante nel componente nbpModal. Inserire un id unico per ogni pulsante');
            }
        });
    };
    return NbpModalComponent;
}());
__decorate$61([
    _angular_core.Input(),
    __metadata$45("design:type", String)
], exports.NbpModalComponent.prototype, "id", void 0);
__decorate$61([
    _angular_core.Input(),
    __metadata$45("design:type", Boolean),
    __metadata$45("design:paramtypes", [Boolean])
], exports.NbpModalComponent.prototype, "nbpOpened", null);
__decorate$61([
    _angular_core.Output(),
    __metadata$45("design:type", Object)
], exports.NbpModalComponent.prototype, "nbpOpenedChange", void 0);
__decorate$61([
    _angular_core.Input(),
    __metadata$45("design:type", String)
], exports.NbpModalComponent.prototype, "nbpTitle", void 0);
__decorate$61([
    _angular_core.Input(),
    __metadata$45("design:type", String)
], exports.NbpModalComponent.prototype, "nbpSubTitle", void 0);
__decorate$61([
    _angular_core.Input(),
    __metadata$45("design:type", Number)
], exports.NbpModalComponent.prototype, "nbpSize", void 0);
__decorate$61([
    _angular_core.Input(),
    __metadata$45("design:type", Array)
], exports.NbpModalComponent.prototype, "nbpButtons", void 0);
__decorate$61([
    _angular_core.Input(),
    __metadata$45("design:type", Object)
], exports.NbpModalComponent.prototype, "nbpContainerStyle", void 0);
__decorate$61([
    _angular_core.Output(),
    __metadata$45("design:type", _angular_core.EventEmitter)
], exports.NbpModalComponent.prototype, "nbpOnButtonClicked", void 0);
__decorate$61([
    _angular_core.Output(),
    __metadata$45("design:type", _angular_core.EventEmitter)
], exports.NbpModalComponent.prototype, "nbpOnClose", void 0);
__decorate$61([
    _angular_core.Output(),
    __metadata$45("design:type", _angular_core.EventEmitter)
], exports.NbpModalComponent.prototype, "nbpOnOpen", void 0);
__decorate$61([
    _angular_core.ContentChild(exports.NbpAutoFocusInModalDirective),
    __metadata$45("design:type", exports.NbpAutoFocusInModalDirective)
], exports.NbpModalComponent.prototype, "autoFocusComponent", void 0);
__decorate$61([
    _angular_core.ContentChild(exports.NbpAutoFocusInModalDirective, { read: _angular_core.ElementRef }),
    __metadata$45("design:type", _angular_core.ElementRef)
], exports.NbpModalComponent.prototype, "autoFocusCompDOMRef", void 0);
exports.NbpModalComponent = __decorate$61([
    _angular_core.Component({
        selector: 'nbp-modal',template: "<div class=\"nbp-modal\" [ngClass]=\"{'inside-error-modal': _isModalInsideErrorModal, 'nbp-modal--opened': nbpOpened}\"><div class=\"nbp-modal-container\" [ngStyle]=\"nbpContainerStyle\" [ngClass]=\"{'container__large': nbpSize === _modalSize.LG , 'container__medium': nbpSize === _modalSize.MD , 'container__small': nbpSize === _modalSize.SM}\"><div class=\"close-icon-container\"><span class=\"icon-times pull-right\" (click)=\"close()\"></span></div><div class=\"container-fluid\"><div class=\"row\"><div class=\"col-md-24 text-center\"><div *ngIf=\"!!nbpTitle\" class=\"col-md-24 nbp-modal-title text-center\">{{nbpTitle | uppercase}}</div><div *ngIf=\"!!nbpSubTitle\" class=\"col-md-24 nbp-modal-sub-title text-center\">{{nbpSubTitle}}</div></div></div><div class=\"row\"><div class=\"col-md-24\" [ngClass]=\"{ 'nbp-modal-body-with-title': nbpTitle, 'nbp-modal-body-without-title': !nbpTitle }\"><ng-content></ng-content></div></div><div class=\"row mrg-l-5\"><ng-container *ngFor=\"let button of _shadowButtons\"><div *ngIf=\"button.visible\" [class]=\"button.layout\"><nbp-button [nbpLabel]=\"button.label\" (nbpClick)=\"_onClick(button)\" [disabled]=\"button.disabled\" [nbpStyle]=\"button.style\" [tabindex]=\"button.tabindex || 0\"></nbp-button></div></ng-container></div></div></div></div>",
        styles: [".nbp-modal--opened{display:flex!important;flex-direction:column;align-items:center}.nbp-modal{display:none;position:fixed;z-index:10000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.5)}.nbp-modal.no-static-backdrop__small{width:34.375em}.nbp-modal.container__medium{width:64em}.nbp-modal.container__large{width:85.375em}.nbp-modal.inside-error-modal{z-index:150000!important}.nbp-modal-title{color:#323232;font-size:18px;padding-top:20px}.nbp-modal-sub-title{text-transform:capitalize;color:#323232;padding-top:20px}.close-icon-container{position:relative}.close-icon-container>.icon-times{position:absolute;right:20px;top:20px;width:19px;height:19px;font-size:19px;z-index:10;color:#258900;cursor:pointer}.mrg-l-5{margin-left:5px;margin-right:5px}.nbp-modal-body-with-title{padding:20px 15px 20px 15px}.nbp-modal-body-without-title{padding:40px}.container-fluid{line-height:1}.nbp-modal-container{max-height:90vh;overflow:auto;overflow:visible;position:relative;background-color:#fefefe;margin:auto;padding-bottom:20px;border:1px solid #888}.nbp-modal-container.container__small{max-width:34.5em;min-width:17.375em}.nbp-modal-container.container__medium{max-width:64em;min-width:32em}.nbp-modal-container.container__large{max-width:85.375em;min-width:42.375em}.nbp-close-modal{color:#aaa;font-size:28px;font-weight:700}.nbp-close-modal:focus,.nbp-close-modal:hover{color:#000;text-decoration:none;cursor:pointer}:host-context(.contrasto-on) .close-icon-container>.icon-times{color:#000} /*# sourceMappingURL=nbp-modal.component.css.map */ "]
    }),
    __param$9(0, _angular_core.Optional()),
    __metadata$45("design:paramtypes", [exports.CjErrorModalComponent,
        _angular_core.KeyValueDiffers])
], exports.NbpModalComponent);

var __extends$18 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$65 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$49 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$11 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * Provider Expression that allows nbp-combo to register as a ControlValueAccessor.
 * This allows it to support [(ngModel)].
 * @docs-private
 */
var NBP_COMBO_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpComboComponent; }),
    multi: true
};
var NBP_INPUT_ELEMENT_BASE$1 = {
    provide: NbpInputElementBase,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpComboComponent; }),
    multi: true
};
/** intero autogenerato usato per id unici per nbpCombo component */
var nextId$8 = 0;
/**
 * Componente per la implementazione della combobox, supporta tutti gli attributi standard html per il tag input.
 * Personalizzabile per la gestione di currency grazie all'applicaizone di opportuni pipes
 * definiti dalla libreria.
 */
exports.NbpComboComponent = (function (_super) {
    __extends$18(NbpComboComponent, _super);
    function NbpComboComponent(validatori, asyncValidatori, parentFormContainer, formatterService, element, inj, cd) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        _this.parentFormContainer = parentFormContainer;
        _this.formatterService = formatterService;
        _this.element = element;
        _this.inj = inj;
        _this.cd = cd;
        /**
         * Identificativo univoco per il text field.
         * Se nessun id  fornito e' auto-generato.
         */
        _this.id = "nbp-combo-" + ++nextId$8;
        _this._nbpShowValidation = false;
        _this.showErrorLabel = false;
        /**
         * Il testo del placeholder.
         */
        _this.placeholder = '';
        /**
         * Evento emesso quando  selezionato un elemento della combobox.
         */
        _this.select = new _angular_core.EventEmitter();
        /**
         * Evento emesso quando la dropdown viene chiuda
         */
        _this.dropdownClosed = new _angular_core.EventEmitter();
        /**
         * Evento emesso quando la dropdown viene aperta
         */
        _this.dropdownOpened = new _angular_core.EventEmitter();
        /**
         * (Opzionale) Funzione custom di validazione del campo
         */
        _this.nbpValidation = new _angular_core.EventEmitter();
        /**
         * (Opzionale) Paramentro che indica l'ordine di spostamento da un campo all'altro attraverso il tab.
         */
        _this.tabindex = 0;
        _this._dropdownVisible = false;
        _this._arrowClicked = false;
        _this._nbpPipe = exports.NbpPipe;
        _this._multi = false;
        _this.initPolyfillScroll();
        return _this;
    }
    Object.defineProperty(NbpComboComponent.prototype, "nbpShowValidation", {
        /**
         * (Opzionale)
         * Booleano che consente di visualizzare i messaggi di feedback relativi alla validazione.
         * Valore di default false
         */
        get: function () {
            if (this.parentFormContainer) {
                this._nbpShowValidation = this.parentFormContainer.nbpShowValidation;
            }
            return this._nbpShowValidation;
        },
        set: function (value) { this._nbpShowValidation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpComboComponent.prototype, "disabled", {
        /**
         * Flag che abilita/disabilita le funzionalit associate alla combobox
         */
        get: function () {
            if (this.parentFormContainer && this.parentFormContainer.disabled) {
                this._nbpDisabled = true;
            }
            return this._nbpDisabled;
        },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpComboComponent.prototype, "required", {
        /**
         * Flag che imposta come obbligatorio o meno il campo di input (disabilitato) associato alla combobox
         */
        get: function () { return this._nbpRequired; },
        set: function (value) { this._nbpRequired = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpComboComponent.prototype, "nbpShowEmptyValue", {
        /**
         * Flag che imposta come obbligatorio o meno il campo di input (disabilitato) associato alla combobox
         */
        get: function () {
            // alert("get------->" + this._nbpShowEmptyValue + "<--------")
            //camillocamillo
            return this._nbpShowEmptyValue;
        },
        set: function (value) {
            // alert("set input ------->" + value + "<--------")
            this._nbpShowEmptyValue = coerceBooleanProperty(value);
            // alert("set output ------->" + this._nbpShowEmptyValue + "<--------")
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpComboComponent.prototype, "nbpHighlightedDefault", {
        /**
         * (opzionale ) Booleano che gestisce lattributo  bordo giallo della combobox.
         * Al primo click/focus torner alla versione di default.
         * valore default false
         */
        get: function () { return this._nbpHighlightedDefault; },
        set: function (value) { this._nbpHighlightedDefault = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    Object.defineProperty(NbpComboComponent.prototype, "nbpBindingToKeyField", {
        /**
         * Definisce quando il binding del ngModel deve essere fatto sull'attributo nbpKeyField
         *
         */
        get: function () { return this._nbpBindingToKeyField; },
        set: function (value) {
            if (!this._multi) {
                this._nbpBindingToKeyField = coerceBooleanProperty(value);
            }
            else {
                this._nbpBindingToKeyField = false;
            }
        },
        enumerable: true,
        configurable: true
    });
    
    
    NbpComboComponent.prototype.initPolyfillScroll = function () {
        if (!Element.prototype['scrollIntoViewIfNeeded']) {
            Element.prototype.scrollIntoViewIfNeeded = function (centerIfNeeded) {
                centerIfNeeded = arguments.length === 0 ? true : !!centerIfNeeded;
                var parent = this.parentNode, parentComputedStyle = window.getComputedStyle(parent, null), parentBorderTopWidth = parseInt(parentComputedStyle.getPropertyValue('border-top-width'), 10), parentBorderLeftWidth = parseInt(parentComputedStyle.getPropertyValue('border-left-width'), 10), overTop = this.offsetTop - parent.offsetTop < parent.scrollTop, overBottom = (this.offsetTop - parent.offsetTop + this.clientHeight - parentBorderTopWidth) > (parent.scrollTop + parent.clientHeight), overLeft = this.offsetLeft - parent.offsetLeft < parent.scrollLeft, overRight = (this.offsetLeft - parent.offsetLeft + this.clientWidth - parentBorderLeftWidth) > (parent.scrollLeft + parent.clientWidth), alignWithTop = overTop && !overBottom;
                if ((overTop || overBottom) && centerIfNeeded) {
                    parent.scrollTop = this.offsetTop - parent.offsetTop - parent.clientHeight / 2 - parentBorderTopWidth + this.clientHeight / 2;
                }
                if ((overLeft || overRight) && centerIfNeeded) {
                    parent.scrollLeft = this.offsetLeft - parent.offsetLeft - parent.clientWidth / 2 - parentBorderLeftWidth + this.clientWidth / 2;
                }
                if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded) {
                    this.scrollIntoView(alignWithTop);
                }
            };
        }
    };
    NbpComboComponent.prototype.writeValue = function (value) {
        _super.prototype.writeValue.call(this, value);
        this.cd.markForCheck();
    };
    NbpComboComponent.prototype._getDropdownState = function () {
        return this._dropdownVisible ? 'expanded' : 'collapsed';
    };
    NbpComboComponent.prototype._manageDropdownState = function (event) {
        switch (event.key.toLowerCase()) {
            case 'enter':
                event.preventDefault();
                if (this._dropdownVisible) {
                    this._onPreSelectEvent(this._nbpShadowData[this._preSelectedElementIndex]);
                }
                this._dropdownVisible = !this._dropdownVisible;
                break;
            case 'tab':
                if (this._dropdownVisible) {
                    event.preventDefault();
                    this._onPreSelectEvent(this._nbpShadowData[this._preSelectedElementIndex]);
                }
                this._dropdownVisible = false;
                break;
            default:
                this._dropdownVisible = false;
                break;
        }
        if (this._evaluateCurrentSelectionIndex() >= 0) {
            this.scrollToSelectedIndex(this._evaluateCurrentSelectionIndex());
        }
        else {
            this._preSelectedElementIndex = null;
        }
    };
    NbpComboComponent.prototype._isOptionPreselected = function (item) {
        var currentPreSelection = this._nbpShadowData.findIndex(function (element) { return element === item; });
        return currentPreSelection === this._preSelectedElementIndex;
    };
    NbpComboComponent.prototype._onSelectByKeyboard = function (event) { };
    NbpComboComponent.prototype._showCheckbox = function (item) { };
    NbpComboComponent.prototype._isAlphaNumericCharacter = function (keyCode) {
        return (keyCode >= 48 && keyCode <= 57) || (keyCode >= 65 && keyCode <= 90) || (keyCode >= 95 && keyCode <= 122);
    };
    NbpComboComponent.prototype._searchByKey = function (event) {
        var _this = this;
        if (this._nbpDisabled) {
            return;
        }
        //console.log(event.key);
        if (this._isAlphaNumericCharacter(event.keyCode)) {
            var currentSelection = void 0;
            var listByKey_1;
            if (this.nbpViewField) {
                listByKey_1 = this._nbpShadowData.filter(function (item) {
                    var _startWithCode = !item.emptyValue ? getPropertyValueByPath(item, _this.nbpViewField)
                        .toLowerCase().trim().startsWith(event.key.toLowerCase()) : false;
                    return _startWithCode;
                });
            }
            else {
                this._nbpShadowData.findIndex(function (item) { return item === _this.value; });
                listByKey_1 = this._nbpShadowData.filter(function (item) {
                    var _startWithCode = item ? item.toLowerCase().trim().startsWith(event.key.toLowerCase()) : '';
                    return _startWithCode;
                });
            }
            currentSelection = (listByKey_1 && listByKey_1.length > 0) ? this._nbpShadowData.findIndex(function (item) { return listByKey_1[0] === item; }) : null;
            if (currentSelection !== null) {
                this._dropdownVisible = true;
                this.scrollToSelectedIndex(currentSelection);
                // this._onPreSelectEvent(this._nbpShadowData[currentSelection]);
                this._preSelectedElementIndex = currentSelection;
            }
        }
    };
    /**
     * Alla pressione di "delete" o "backspace", se la checkbox  vuota ne svuoto anche il value (in modo da triggerare anche la validation).
     * Svuoto anche il _preSelectedElementIndex.
     * @param event
     * @private
     */
    NbpComboComponent.prototype._checkEmpty = function (event) {
        if (!this.visibleTextBox.nativeElement.value) {
            this._preSelectedElementIndex = undefined;
            this.value = undefined;
        }
    };
    NbpComboComponent.prototype._evaluateCurrentSelectionIndex = function () {
        var _this = this;
        var currentSelection;
        if (this.value) {
            if (this.nbpKeyField && this.nbpBindingToKeyField) {
                currentSelection = this._nbpShadowData.findIndex(function (item) { return getPropertyValueByPath(item, _this.nbpKeyField) === _this.value; });
            }
            else {
                currentSelection = this._nbpShadowData.findIndex(function (item) { return item === _this.value; });
            }
            return currentSelection;
        }
        return 0;
    };
    NbpComboComponent.prototype.scrollToSelectedIndex = function (elementIndex) {
        if (this._dropdownVisible) {
            setTimeout(function () {
                document.getElementById('combo-element_' + elementIndex).scrollIntoViewIfNeeded();
            });
        }
    };
    NbpComboComponent.prototype._moveNext = function (event) {
        if (this._nbpDisabled) {
            return;
        }
        event.preventDefault();
        var currentSelection = this._preSelectedElementIndex !== null && this._preSelectedElementIndex !== undefined ?
            this._preSelectedElementIndex : (this.nbpShowEmptyValue) ? 0 : -1;
        var nextSelection = currentSelection + 1;
        if (nextSelection >= this._nbpShadowData.length) {
            nextSelection = currentSelection;
        }
        this.scrollToSelectedIndex(nextSelection);
        // this._onPreSelectEvent(this._nbpShadowData[nextSelection]);
        this._preSelectedElementIndex = nextSelection;
    };
    NbpComboComponent.prototype._movePrev = function (event) {
        if (this._nbpDisabled) {
            return;
        }
        event.preventDefault();
        var currentSelection = this._preSelectedElementIndex !== null && this._preSelectedElementIndex !== undefined ?
            this._preSelectedElementIndex : 0;
        var nextSelection = currentSelection < 0 ? 0 : currentSelection - 1;
        if (nextSelection < 0) {
            nextSelection = currentSelection;
        }
        this.scrollToSelectedIndex(nextSelection);
        // this._onPreSelectEvent(this._nbpShadowData[nextSelection]);
        this._preSelectedElementIndex = nextSelection;
    };
    NbpComboComponent.prototype.confirmSelection = function () {
        this._onSelectEvent(this._nbpShadowData[this._preSelectedElementIndex]);
    };
    NbpComboComponent.prototype.ngOnInit = function () {
        this.ngControl = this.inj.get(_angular_forms.NgControl);
        this._prepareDataSource();
        this.initVisibleTextBox();
        if (this.firstFocus) {
            this.elementRef.nativeElement.focus();
            this.elementRef.nativeElement.click();
            // this._focusActive = true;
        }
    };
    NbpComboComponent.prototype.initVisibleTextBox = function () {
        try {
            this._preSelectedElementIndex = this._nbpShadowData.indexOf(this.model);
            this._nbpViewValue = this._getViewModelElement(this._nbpShadowData[this._preSelectedElementIndex]);
        }
        catch (e) {
            console.warn('failed to initialize combo: ' + e);
        }
    };
    NbpComboComponent.prototype.ngOnChanges = function (changes) {
        if (changes.nbpDataSource && !changes.nbpDataSource.firstChange) {
            this._prepareDataSource();
        }
    };
    NbpComboComponent.prototype._prepareDataSource = function () {
        var _this = this;
        if (this.nbpDataSource) {
            this.datasourceSubscription = this.nbpDataSource.getDataStream().subscribe(function (value) {
                if (value.data && value.data.length) {
                    _this._nbpShadowData = value.data.slice(); // 0, 50
                    if (_this.nbpShowEmptyValue) {
                        if (_this.nbpViewField) {
                            var emptyObject = { emptyValue: true };
                            emptyObject = generateObjectFromStringPath(emptyObject, _this.nbpViewField);
                            if (_this.nbpKeyField) {
                                emptyObject = generateObjectFromStringPath(emptyObject, _this.nbpKeyField);
                            }
                            _this._nbpShadowData.unshift(emptyObject);
                        }
                        else {
                            _this._nbpShadowData.unshift(null);
                        }
                    }
                }
                else {
                    _this._nbpShadowData = new Array();
                }
                
            }, function (error) {
                console.log(JSON.stringify(error));
            });
            this.nbpDataSource.sendDataEvent();
        }
    };
    NbpComboComponent.prototype._getViewValue = function (item) {
        if (!item) {
            return null;
        }
        return this.formatterService.displayValueTransformation(this._getViewModelElement(item), this.nbpFilter, this.nbpFilterArg);
    };
    NbpComboComponent.prototype._getModelValue = function (item) {
        if (!item || item && item.emptyValue) {
            return;
        }
        return (this._nbpBindingToKeyField && this.nbpKeyField) ? getPropertyValueByPath(item, this.nbpKeyField) : item;
    };
    NbpComboComponent.prototype._getDropDownLabel = function (item) {
        return this.formatterService.displayValueTransformation((this.nbpViewField ? getPropertyValueByPath(item, this.nbpViewField) : item), this.nbpFilter, this.nbpFilterArg);
    };
    NbpComboComponent.prototype._onSelectEvent = function (item) {
        this._nbpViewValue = this._getViewModelElement(item);
        this.value = this._getModelValue(item);
        this.nbpValidation.emit(this.model);
        this._dropdownVisible = !this._dropdownVisible;
        this.element.nativeElement.querySelector('.dropdown-inner-container').focus();
        // TODO validazione anche su set programmatica del value
        event.stopPropagation();
        this.select.emit(item);
    };
    NbpComboComponent.prototype._onPreSelectEvent = function (item) {
        this._nbpViewValue = this._getViewModelElement(item);
        this.value = this._getModelValue(item);
        this.nbpValidation.emit(this.model);
        // TODO validazione anche su set programmatica del value
        event.stopPropagation();
        this.select.emit(item);
    };
    NbpComboComponent.prototype._getViewModelElement = function (item) {
        if (item) {
            if (this._nbpBindingToKeyField) {
                return this.nbpKeyField ? this._getSelectedElement(item) : item;
            }
            else {
                return this.nbpViewField ? getPropertyValueByPath(item, this.nbpViewField) : item;
            }
        }
        return;
    };
    NbpComboComponent.prototype._getSelectedElement = function (item) {
        var _this = this;
        var elems = this._nbpShadowData ? this._nbpShadowData.filter(function (elem) {
            return getPropertyValueByPath(elem, _this.nbpKeyField) === item;
        }) : [];
        if (elems.length > 0) {
            var selectedElem = elems[0];
            return this.nbpViewField ? getPropertyValueByPath(selectedElem, this.nbpViewField) : item;
        }
        else {
            return item;
        }
    };
    NbpComboComponent.prototype._isOptionSelected = function (item) {
        if (!item || !this.value) {
            return false;
        }
        if (this.nbpKeyField && item && getPropertyValueByPath(item, this.nbpKeyField)) {
            var currentValue = this.value;
            if (this._nbpBindingToKeyField) {
                return getPropertyValueByPath(item, this.nbpKeyField) === currentValue;
            }
            else {
                return getPropertyValueByPath(item, this.nbpKeyField) === getPropertyValueByPath(currentValue, this.nbpKeyField);
            }
        }
        if (item) {
            return item === this.value;
        }
        return false;
    };
    NbpComboComponent.prototype._onInputFocus = function (event) {
        if (!this._nbpDisabled
            && this._nbpShadowData
            && this._nbpShadowData.length > 0 && !this._arrowClicked) {
            this._dropdownVisible = !this._dropdownVisible;
            this._dropdownVisible ? this.dropdownOpened.emit() : this.dropdownClosed.emit();
        }
    };
    NbpComboComponent.prototype._onInputClick = function (event) {
        if (!this._nbpDisabled
            && this._nbpShadowData
            && this._nbpShadowData.length > 0) {
            this._dropdownVisible = !this._dropdownVisible;
            this._arrowClicked = !this._arrowClicked;
            if (this._evaluateCurrentSelectionIndex() >= 0 && !this._multi) {
                this.scrollToSelectedIndex(this._evaluateCurrentSelectionIndex());
            }
        }
    };
    NbpComboComponent.prototype._onTouchedEvent = function (event) {
        this.touch();
        this.showErrorLabel = true;
    };
    NbpComboComponent.prototype._closeDropDown = function (target) {
        if (!this._dropdownVisible) {
            return;
        }
        var parentFound = false;
        while (target != null && !parentFound) {
            if (target === this.element.nativeElement) {
                parentFound = true;
            }
            target = target.parentElement;
        }
        if (!parentFound) {
            this._dropdownVisible = false;
            this._arrowClicked = false;
            this.dropdownClosed.emit();
        }
    };
    NbpComboComponent.prototype._focusOutFn = function (event) {
        this._focusActive = false;
        this._onTouchedEvent(event);
        this._onPreSelectEvent(this._nbpShadowData[this._preSelectedElementIndex]);
    };
    NbpComboComponent.prototype.onFocusout = function (target) {
        this._closeDropDown(target);
    };
    NbpComboComponent.prototype.onClick = function (target) {
        this._closeDropDown(target);
    };
    return NbpComboComponent;
}(NbpInputElementBase));
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", String)
], exports.NbpComboComponent.prototype, "name", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Object)
], exports.NbpComboComponent.prototype, "id", void 0);
__decorate$65([
    _angular_core.HostBinding('class.nbp-show-validation'),
    _angular_core.Input(),
    __metadata$49("design:type", Boolean),
    __metadata$49("design:paramtypes", [Object])
], exports.NbpComboComponent.prototype, "nbpShowValidation", null);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", String)
], exports.NbpComboComponent.prototype, "nbpErrorMessage", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Boolean)
], exports.NbpComboComponent.prototype, "showErrorLabel", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Boolean),
    __metadata$49("design:paramtypes", [Object])
], exports.NbpComboComponent.prototype, "disabled", null);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Boolean),
    __metadata$49("design:paramtypes", [Object])
], exports.NbpComboComponent.prototype, "required", null);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", String)
], exports.NbpComboComponent.prototype, "placeholder", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Boolean),
    __metadata$49("design:paramtypes", [Object])
], exports.NbpComboComponent.prototype, "nbpShowEmptyValue", null);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", INbpDataSource)
], exports.NbpComboComponent.prototype, "nbpDataSource", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", String)
], exports.NbpComboComponent.prototype, "nbpViewField", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", String)
], exports.NbpComboComponent.prototype, "nbpKeyField", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Boolean),
    __metadata$49("design:paramtypes", [Object])
], exports.NbpComboComponent.prototype, "nbpHighlightedDefault", null);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Number)
], exports.NbpComboComponent.prototype, "nbpFilter", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Object)
], exports.NbpComboComponent.prototype, "nbpFilterArg", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Boolean),
    __metadata$49("design:paramtypes", [Object])
], exports.NbpComboComponent.prototype, "nbpBindingToKeyField", null);
__decorate$65([
    _angular_core.Output(),
    __metadata$49("design:type", _angular_core.EventEmitter)
], exports.NbpComboComponent.prototype, "select", void 0);
__decorate$65([
    _angular_core.Output(),
    __metadata$49("design:type", Object)
], exports.NbpComboComponent.prototype, "dropdownClosed", void 0);
__decorate$65([
    _angular_core.Output(),
    __metadata$49("design:type", Object)
], exports.NbpComboComponent.prototype, "dropdownOpened", void 0);
__decorate$65([
    _angular_core.Output(),
    __metadata$49("design:type", _angular_core.EventEmitter)
], exports.NbpComboComponent.prototype, "nbpValidation", void 0);
__decorate$65([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$49("design:type", _angular_forms.NgModel)
], exports.NbpComboComponent.prototype, "model", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Boolean)
], exports.NbpComboComponent.prototype, "firstFocus", void 0);
__decorate$65([
    _angular_core.Input(),
    __metadata$49("design:type", Number)
], exports.NbpComboComponent.prototype, "tabindex", void 0);
__decorate$65([
    _angular_core.ViewChild('autoFocusCombo'),
    __metadata$49("design:type", _angular_core.ElementRef)
], exports.NbpComboComponent.prototype, "elementRef", void 0);
__decorate$65([
    _angular_core.ViewChild('visibleTextBox'),
    __metadata$49("design:type", _angular_core.ElementRef)
], exports.NbpComboComponent.prototype, "visibleTextBox", void 0);
__decorate$65([
    _angular_core.HostListener('document: focusout', ['$event.target']),
    __metadata$49("design:type", Function),
    __metadata$49("design:paramtypes", [HTMLElement]),
    __metadata$49("design:returntype", void 0)
], exports.NbpComboComponent.prototype, "onFocusout", null);
__decorate$65([
    _angular_core.HostListener('document: click', ['$event.target']),
    __metadata$49("design:type", Function),
    __metadata$49("design:paramtypes", [HTMLElement]),
    __metadata$49("design:returntype", void 0)
], exports.NbpComboComponent.prototype, "onClick", null);
exports.NbpComboComponent = __decorate$65([
    _angular_core.Component({
        selector: 'nbp-combo',template: "<div class=\"dropdown-container\"><input type=\"hidden\" [(ngModel)]=\"value\"><div class=\"dropdown-inner-container\" (click)=\"_onInputClick($event)\" (keypress)=\"_searchByKey($event)\" (keydown.arrowdown)=\"_moveNext($event)\" (keydown.arrowup)=\"_movePrev($event)\" (keydown.enter)=\"_manageDropdownState($event)\" (keydown.esc)=\"_manageDropdownState($event)\" (keydown.spacebar)=\"_onSelectByKeyboard($event)\" (keydown.space)=\"_onSelectByKeyboard($event)\" (keydown.tab)=\"_manageDropdownState($event)\" (keydown.shift.tab)=\"_manageDropdownState($event)\" (keyup.shift.tab)=\"_manageDropdownState($event)\" (keyup)=\"_checkEmpty($event)\" (focus)=\"_focusActive = true;\" [ngClass]=\"{'collapse-disabled' : disabled}\" (focusout)=\"_focusOutFn($event)\"><input #visibleTextBox type=\"text\" [id]=\"id\" [name]=\"name\" [placeholder]=\"placeholder\" class=\"dropdown-input-box form-control\" [ngClass]=\"{ 'dropdown-input-box-green': _dropdownVisible || _focusActive, 'highlight-default':nbpHighlightedDefault, 'input-box-disabled': disabled}\" [value]=\"_getViewValue(value)\" [required]=\"required\" autocomplete=\"off\" (focus)=\"_focusActive = true;\" (focusout)=\"_focusOutFn($event)\" #autoFocusCombo [tabindex]=\"tabindex\"> <button class=\"dropdown-button\" [ngClass]=\"{'collapse-disabled' : disabled}\" type=\"button\" tabindex=\"-1\"><span class=\"dropdown-button-border\"></span> <span [ngClass]=\"{'triangolo-bottom' : !_dropdownVisible, 'triangolo-top' : _dropdownVisible}\"></span></button></div><ul *ngIf=\"_dropdownVisible\"><li *ngFor=\"let item of _nbpShadowData; let i = index; let last = last\" (click)=\"_onSelectEvent(item)\" [id]=\"'combo-element_'+i\" [ngClass]=\"{'active': _isOptionSelected(item), 'preselected':_isOptionPreselected(item), 'last': last }\"><nbp-checkbox #checkbox [checked]=\"_isOptionSelected(item)\" (change)=\"_onSelectEvent(item, checkbox.checked)\" *ngIf=\"_showCheckbox(item)\" nbpDisplayInline></nbp-checkbox><span>{{ _getDropDownLabel(item) }}</span></li></ul></div>",
        styles: [":host{position:relative;display:block}:host(.ng-touched.ng-invalid,.nbp-show-validation.ng-invalid) .dropdown-input-box{border:.125em solid #c63200!important;-webkit-box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075);box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075)}:host(.ng-touched.ng-invalid,.nbp-show-validation.ng-invalid) .dropdown-input-box:focus{border:.125em solid #c63200!important}:host(.ng-dirty.ng-invalid,.nbp-show-validation.ng-invalid) .dropdown-input-box{border:.125em solid #c63200!important;-webkit-box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075);box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075)}:host(.ng-dirty.ng-invalid,.nbp-show-validation.ng-invalid) .dropdown-input-box:focus{border:.125em solid #c63200!important}.highlight-default{border:.125em solid #fce07f!important;outline:0;box-shadow:none!important}.dropdown-container{display:inline-block;position:relative;width:100%}.dropdown-container ul{opacity:1;background:#fff;border-top-width:0;border-right-color:#323232;border-right-style:solid;border-right-width:.0625em;border-bottom-color:#323232;border-bottom-style:solid;border-bottom-width:.0625em;border-left-color:#323232;border-left-style:solid;border-left-width:.0625em;border-radius:0 0 .125em .125em;list-style:none;margin:0 0 .625em 0;padding:0;position:absolute;width:100%;z-index:1000;overflow-y:auto;max-height:12.8125em}.dropdown-container ul>li{cursor:pointer;min-height:3.125em;padding:.75em .625em .5em .625em;border-bottom:.0625em solid #ccc}.dropdown-container ul>li:hover{background:#c4dbbc}.dropdown-container ul>li.preselected{background:#c4dbbc}.dropdown-container ul>li.preselected.active{box-shadow:inset 0 0 1em #258900}.dropdown-container ul>li.active{background:#89bc72}.dropdown-container ul>li.last{border-bottom:none}.dropdown-container ul.ng-hide-add{transition:all ease-out .25s}.dropdown-container ul.ng-hide-remove{transition:all ease-out .25s}.dropdown-container ul.ng-hide{opacity:0;max-height:0}.dropdown-inner-container{position:relative;z-index:999}.dropdown-inner-container.collapse-disabled{pointer-events:none}.dropdown-label{color:#6f6f6f;font-size:1em;margin:0 0 0 .75em!important}.dropdown-input-box{margin:0;border-collapse:separate;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:.625em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#323232;border:.0625em solid #323232;border-radius:.125em;font-size:1em!important;height:3.125em}.dropdown-input-box:focus{border:.125em solid #89bc72;outline:0;box-shadow:none!important}.dropdown-input-box::-ms-clear{display:none}.dropdown-input-box:disabled{background-color:#fff!important;cursor:default;box-shadow:none}.dropdown-input-box.input-box-disabled{background-color:#fff!important;border:.0625em solid #6f6f6f;opacity:.5!important;cursor:not-allowed}::placeholder{color:#6f6f6f;opacity:1}:-ms-input-placeholder{color:#6f6f6f}::-ms-input-placeholder{color:#6f6f6f}.dropdown-input-box-green{border:.125em solid #89bc72;outline:0;box-shadow:none!important}.dropdown-input-box-disabled{background-color:#fff!important;opacity:.5!important}.dropdown-button{display:table;position:absolute;top:0;right:0;width:2.5em;height:3.125em;text-align:center;color:#ccc;border-color:transparent;background-color:transparent!important}.dropdown-button[role=\"\"]{cursor:default;opacity:.5}.dropdown-button.collapse-disabled .dropdown-button-border{border-left:.0625em solid #6f6f6f!important}.dropdown-button.collapse-disabled .triangolo-bottom{border-style:solid;border-width:.5em .40625em;border-color:#6f6f6f transparent transparent transparent}.dropdown-button.collapse-disabled .triangolo-top{border-style:solid;border-width:0 .40625em .5em .40625em;border-color:transparent transparent #6f6f6f transparent}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.dropdown-button span{position:absolute}.dropdown-button.collapse-disabled .triangolo-top{transform:translateY(-50%);top:50%}.dropdown-button.collapse-disabled .triangolo-bottom{transform:translateY(-50%);top:50%}.triangolo-top{transform:translateY(-50%);top:50%}.triangolo-bottom{transform:translateY(-50%);top:50%}}.dropdown-button-border{position:absolute;display:inline-block;height:60%;top:20%;left:0;border-left:.0625em solid #323232}.has-error .dropdown-input-box{border:.125em solid #c63200;-webkit-box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075);box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075)}.has-error .dropdown-input-box:focus{border:.125em solid #c63200}.dropdown-error-message{color:#c63200;font-size:1em;margin-top:.625em;margin-bottom:.625em;opacity:1}.dropdown-error-message.ng-hide-add{transition:all ease-out .25s}.dropdown-error-message.ng-hide-remove{transition:all ease-out .25s}.dropdown-error-message.ng-hide{opacity:0;margin-top:-.625em}.triangolo-top{width:0;height:0;border-style:solid;border-width:0 .625em .625em .625em;border-color:transparent transparent #258900 transparent;display:inline-block!important}.triangolo-bottom{width:0;height:0;border-style:solid;border-width:.625em .625em 0 .625em;border-color:#258900 transparent transparent transparent;display:inline-block!important}.yellow-border{border:.125em solid #fce07f}:host-context(.contrasto-on) :host(.ng-invalid.nbp-show-validation) .dropdown-input-box{border-color:#000!important}:host-context(.contrasto-on) :host(.ng-invalid.nbp-show-validation) .dropdown-input-box:focus{border-color:#000!important}:host-context(.contrasto-on) .highlight-default{border-color:#000!important}:host-context(.contrasto-on) .dropdown-container ul{background:#fff;border-right-color:#000;border-bottom-color:#000;border-left-color:#000}:host-context(.contrasto-on) .dropdown-container ul>li{border-bottom-color:#fff}:host-context(.contrasto-on) .dropdown-container ul>li:hover{background:#000;color:#fff}:host-context(.contrasto-on) .dropdown-container ul>li.active{background:#000;color:#fff}:host-context(.contrasto-on) .dropdown-label{color:#000}:host-context(.contrasto-on) .dropdown-input-box{color:#000;border-color:#000}:host-context(.contrasto-on) .dropdown-input-box:focus{border-color:#000}:host-context(.contrasto-on) .dropdown-input-box:disabled{background-color:#fff!important}:host-context(.contrasto-on) .dropdown-input-box.input-box-disabled{background-color:#fff!important;border-color:#000}:host-context(.contrasto-on) .dropdown-input-box-green{border-color:#000}:host-context(.contrasto-on) .dropdown-input-box-disabled{background-color:#fff!important}:host-context(.contrasto-on) .dropdown-button{color:#000}:host-context(.contrasto-on) .dropdown-button.collapse-disabled .dropdown-button-border{border-left-color:#000!important}:host-context(.contrasto-on) .dropdown-button.collapse-disabled .triangolo-bottom{border-top-color:#000}:host-context(.contrasto-on) .dropdown-button.collapse-disabled .triangolo-top{border-bottom-color:#000}:host-context(.contrasto-on) .dropdown-button-border{border-left-color:#000}:host-context(.contrasto-on) .has-error .dropdown-input-box{border-color:#000}:host-context(.contrasto-on) .has-error .dropdown-input-box:focus{border-color:#000}:host-context(.contrasto-on) .dropdown-error-message{color:#000}:host-context(.contrasto-on) .triangolo-top{border-bottom-color:#000}:host-context(.contrasto-on) .triangolo-bottom{border-top-color:#000}:host-context(.contrasto-on) .yellow-border{border-color:#fff} /*# sourceMappingURL=nbp-combo.component.css.map */ "],
        viewProviders: [NbpFormatterService],
        providers: [NBP_COMBO_CONTROL_VALUE_ACCESSOR, NBP_INPUT_ELEMENT_BASE$1],
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush
        // animations: [
        //   trigger('dropdownAnimationState', [
        //     state('expanded', style({ opacity: 1, visibility: 'visible', display: 'block' })),
        //     state('collapsed, void', style({ opacity: 0, visibility: 'hidden', display: 'none' })),
        //     transition('expanded => collapsed', animate('100ms ease-in')),
        //     transition('collapsed => expanded', animate('100ms ease-out'))])
        // ]
    }),
    __param$11(0, _angular_core.Optional()), __param$11(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$11(1, _angular_core.Optional()), __param$11(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __param$11(2, _angular_core.Optional()),
    __metadata$49("design:paramtypes", [Array, Array, exports.NbpFormContainerComponent,
        NbpFormatterService,
        _angular_core.ElementRef, _angular_core.Injector, _angular_core.ChangeDetectorRef])
], exports.NbpComboComponent);

var __extends$19 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$66 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$50 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$12 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * Provider Expression that allows nbp-combo-multi to register as a ControlValueAccessor.
 * This allows it to support [(ngModel)].
 * @docs-private
 */
var NBP_COMBO_MULTI_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpComboMultiComponent; }),
    multi: true
};
var NBP_INPUT_MULTI_ELEMENT_BASE = {
    provide: NbpInputElementBase,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpComboMultiComponent; }),
    multi: true
};
exports.NbpComboMultiComponent = (function (_super) {
    __extends$19(NbpComboMultiComponent, _super);
    function NbpComboMultiComponent(validatori, asyncValidatori, parentFormContainer, formatterService, element, inj, cd) {
        var _this = _super.call(this, validatori, asyncValidatori, parentFormContainer, formatterService, element, inj, cd) || this;
        _this._multi = true;
        _super.prototype.initPolyfillScroll.call(_this);
        return _this;
    }
    Object.defineProperty(NbpComboMultiComponent.prototype, "nbpBindKeyField", {
        get: function () {
            return this._nbpBindKeyField;
        },
        set: function (value) {
            this._nbpBindKeyField = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    NbpComboMultiComponent.prototype._canMoveOrSearch = function () {
        return this.disabled || !this._dropdownVisible;
    };
    NbpComboMultiComponent.prototype._searchByKey = function (event) {
        var _this = this;
        if (this._canMoveOrSearch()) {
            return;
        }
        console.log(event.key);
        if (this._isAlphaNumericCharacter(event.keyCode)) {
            var currentSelection = void 0;
            var listByKey_1;
            if (this.nbpViewField) {
                listByKey_1 = this._nbpShadowData.filter(function (item) {
                    var _startWithCode = !item.emptyValue ? getPropertyValueByPath(item, _this.nbpViewField)
                        .toLowerCase().trim().startsWith(event.key.toLowerCase()) : false;
                    return _startWithCode;
                });
            }
            else {
                this._nbpShadowData.findIndex(function (item) { return item === _this.value; });
                listByKey_1 = this._nbpShadowData.filter(function (item) {
                    var _startWithCode = item ? item.toLowerCase().trim().startsWith(event.key.toLowerCase()) : null;
                    return _startWithCode;
                });
            }
            currentSelection = (listByKey_1 && listByKey_1.length > 0) ? this._nbpShadowData.findIndex(function (item) { return listByKey_1[0] === item; }) : null;
            if (currentSelection !== null) {
                this.scrollToSelectedIndex(currentSelection);
                this._preSelectedElementIndex = currentSelection;
            }
        }
    };
    NbpComboMultiComponent.prototype._moveNext = function (event) {
        if (this._canMoveOrSearch()) {
            return;
        }
        event.preventDefault();
        var currentSelection = this._preSelectedElementIndex !== null && this._preSelectedElementIndex !== undefined ?
            this._preSelectedElementIndex : (this.nbpShowEmptyValue) ? 0 : -1;
        var nextSelection = currentSelection + 1;
        if (nextSelection >= this._nbpShadowData.length) {
            nextSelection = currentSelection;
        }
        this.scrollToSelectedIndex(nextSelection);
        this._preSelectedElementIndex = nextSelection;
    };
    NbpComboMultiComponent.prototype._onSelectByKeyboard = function (event) {
        event.preventDefault();
        this._onSelectEvent(this._nbpShadowData[this._preSelectedElementIndex]);
    };
    NbpComboMultiComponent.prototype._movePrev = function (event) {
        if (this._canMoveOrSearch()) {
            return;
        }
        event.preventDefault();
        var currentSelection = this._preSelectedElementIndex !== null && this._preSelectedElementIndex !== undefined ?
            this._preSelectedElementIndex : 0;
        var nextSelection = currentSelection < 0 ? 0 : currentSelection - 1;
        if (nextSelection < 0) {
            nextSelection = currentSelection;
        }
        this.scrollToSelectedIndex(nextSelection);
        this._preSelectedElementIndex = nextSelection;
    };
    NbpComboMultiComponent.prototype._isOptionPreselected = function (item) {
        var currentPreSelection = this._nbpShadowData.findIndex(function (element) { return element === item; });
        return currentPreSelection === this._preSelectedElementIndex;
    };
    NbpComboMultiComponent.prototype.findFullElementFromDSData = function (selectedElement) {
        var _this = this;
        var fullElements = this._nbpShadowData.filter(function (element) {
            return getPropertyValueByPath(element, _this.nbpKeyField) === selectedElement;
        });
        if (fullElements.length === 1) {
            return fullElements[0];
        }
        return;
    };
    NbpComboMultiComponent.prototype._getViewValue = function (valueArray) {
        if (!valueArray) {
            return this._formatViewValueLabel(0);
        }
        else if (valueArray && valueArray.length === 1) {
            if (this.nbpBindKeyField && this.nbpKeyField) {
                var tmpViewValue_1 = this.findFullElementFromDSData(valueArray[0]);
                if (tmpViewValue_1) {
                    return this.formatterService.displayValueTransformation(getPropertyValueByPath(tmpViewValue_1, this.nbpViewField), this.nbpFilter, this.nbpFilterArg);
                }
                return;
            }
            var tmpViewValue = this.nbpViewField ? getPropertyValueByPath(valueArray[0], this.nbpViewField) : valueArray[0];
            return this.formatterService.displayValueTransformation(tmpViewValue, this.nbpFilter, this.nbpFilterArg);
        }
        return this._formatViewValueLabel(valueArray.length);
    };
    NbpComboMultiComponent.prototype._formatViewValueLabel = function (numberOfSelectedItems) {
        return numberOfSelectedItems + ' Selezionati';
    };
    NbpComboMultiComponent.prototype._getModelValue = function (item) {
        return this._getUpdatedValueAfterSelectionChange(item);
    };
    NbpComboMultiComponent.prototype._getUpdatedValueAfterSelectionChange = function (item) {
        var currentValueArray = this.value;
        currentValueArray = !currentValueArray ? [] : currentValueArray;
        var valueArray = [];
        if (item == null || (item && item.emptyValue)) {
            return [];
        }
        var element = (this.nbpBindKeyField && this.nbpKeyField) ? getPropertyValueByPath(item, this.nbpKeyField) : item;
        if (this.isOptionInSelectedArray(item)) {
            var currentSelectionIndex = currentValueArray.findIndex(function (arrayItem) {
                return arrayItem === element;
            });
            if (currentSelectionIndex !== -1) {
                valueArray = currentValueArray.slice();
                valueArray.splice(currentSelectionIndex, 1);
            }
        }
        else {
            valueArray = currentValueArray.slice();
            // valueArray = !valueArray ? [] : valueArray;
            if (element !== "") {
                valueArray.push(element);
            }
        }
        return valueArray;
    };
    NbpComboMultiComponent.prototype._manageDropdownState = function (event) {
        switch (event.key.toLowerCase()) {
            case 'enter':
                event.preventDefault();
                this._dropdownVisible = !this._dropdownVisible;
                break;
            case 'tab':
                if (this._dropdownVisible) {
                    event.preventDefault();
                    this._onPreSelectEvent("");
                }
                this._dropdownVisible = false;
                break;
            default:
                this._dropdownVisible = false;
                break;
        }
        if (!this._dropdownVisible) {
            this._preSelectedElementIndex = null;
        }
    };
    NbpComboMultiComponent.prototype._onInputClick = function (event) {
        _super.prototype._onInputClick.call(this, event);
        if (!this._dropdownVisible) {
            this._preSelectedElementIndex = null;
        }
    };
    NbpComboMultiComponent.prototype._showCheckbox = function (item) {
        var returnValue;
        if (this._multi) {
            var isObject = this.nbpKeyField || this.nbpViewField;
            if (isObject) {
                returnValue = !item.emptyValue;
            }
            else {
                returnValue = !!item;
            }
        }
        else {
            returnValue = false;
        }
        return returnValue;
    };
    NbpComboMultiComponent.prototype._updateViewAndModelValues = function (item) {
        this._nbpViewValue = this._getViewModelElement(item);
        this.value = this._getModelValue(item); // TODO
    };
    NbpComboMultiComponent.prototype._sendSelectionEvents = function (item) {
        this.nbpValidation.emit(this.model);
        this.select.emit(item);
    };
    NbpComboMultiComponent.prototype._onSelectEvent = function (item, value) {
        if (value === this._isOptionSelected(item)) {
            return;
        }
        event.stopPropagation();
        this._updateViewAndModelValues(item);
        this._sendSelectionEvents(item);
    };
    NbpComboMultiComponent.prototype._getViewModelElement = function (item) {
        if (this._nbpBindKeyField) {
            return this.nbpKeyField ? this._getSelectedElement(item) : item;
        }
        return this.nbpViewField ? getPropertyValueByPath(item, this.nbpViewField) : item;
    };
    NbpComboMultiComponent.prototype._getSelectedElement = function (item) {
        var _this = this;
        var elems = this._nbpShadowData ? this._nbpShadowData.filter(function (elem) {
            return getPropertyValueByPath(elem, _this.nbpKeyField) === item;
        }) : [];
        if (elems.length > 0) {
            var selectedElem = elems[0];
            return this.nbpViewField ? getPropertyValueByPath(selectedElem, this.nbpViewField) : item;
        }
        else {
            return item;
        }
    };
    NbpComboMultiComponent.prototype.isOptionInSelectedArray = function (item) {
        var valueArray = this.value;
        var result = false;
        var element = (this.nbpBindKeyField && this.nbpKeyField) ? getPropertyValueByPath(item, this.nbpKeyField) : item;
        if (valueArray) {
            result = valueArray.some(function (currentValue) {
                return element === currentValue;
            });
        }
        else {
            result = false;
        }
        return result;
    };
    NbpComboMultiComponent.prototype._isOptionSelected = function (item) {
        if (!item || !this.value) {
            return false;
        }
        var result = this.isOptionInSelectedArray(item);
        return result;
    };
    return NbpComboMultiComponent;
}(exports.NbpComboComponent));
__decorate$66([
    _angular_core.ViewChild('checkbox'),
    __metadata$50("design:type", exports.NbpCheckboxComponent)
], exports.NbpComboMultiComponent.prototype, "checkbox", void 0);
__decorate$66([
    _angular_core.Input(),
    __metadata$50("design:type", Object),
    __metadata$50("design:paramtypes", [Boolean])
], exports.NbpComboMultiComponent.prototype, "nbpBindKeyField", null);
exports.NbpComboMultiComponent = __decorate$66([
    _angular_core.Component({
        selector: 'nbp-combo-multi',template: "<div class=\"dropdown-container\"><input type=\"hidden\" [(ngModel)]=\"value\"><div class=\"dropdown-inner-container\" (click)=\"_onInputClick($event)\" (keypress)=\"_searchByKey($event)\" (keydown.arrowdown)=\"_moveNext($event)\" (keydown.arrowup)=\"_movePrev($event)\" (keydown.enter)=\"_manageDropdownState($event)\" (keydown.esc)=\"_manageDropdownState($event)\" (keydown.spacebar)=\"_onSelectByKeyboard($event)\" (keydown.space)=\"_onSelectByKeyboard($event)\" (keydown.tab)=\"_manageDropdownState($event)\" (keydown.shift.tab)=\"_manageDropdownState($event)\" (keyup.shift.tab)=\"_manageDropdownState($event)\" (focus)=\"_focusActive = true;\" [ngClass]=\"{'collapse-disabled' : disabled}\" (focusout)=\"_focusActive = false; _onTouchedEvent($event)\"><input type=\"text\" [id]=\"id\" [name]=\"name\" [placeholder]=\"placeholder\" class=\"dropdown-input-box form-control\" [ngClass]=\"{ 'dropdown-input-box-green': _dropdownVisible || _focusActive, 'highlight-default':nbpHighlightedDefault, 'input-box-disabled': disabled}\" [value]=\"_getViewValue(value)\" [required]=\"required\" autocomplete=\"off\" (focus)=\"_focusActive = true;\" (focusout)=\"_focusActive = false;\" #autoFocusCombo [tabindex]=\"tabindex\"> <button class=\"dropdown-button\" [ngClass]=\"{'collapse-disabled' : disabled}\" type=\"button\" tabindex=\"-1\"><span class=\"dropdown-button-border\"></span> <span [ngClass]=\"{'triangolo-bottom' : !_dropdownVisible, 'triangolo-top' : _dropdownVisible}\"></span></button></div><ul *ngIf=\"_dropdownVisible\"><li *ngFor=\"let item of _nbpShadowData; let i = index; let last = last\" (click)=\"_onSelectEvent(item)\" [id]=\"'combo-element_'+i\" [ngClass]=\"{'active': _isOptionSelected(item), 'preselected':_isOptionPreselected(item), 'last': last }\"><nbp-checkbox #checkbox [checked]=\"_isOptionSelected(item)\" (change)=\"_onSelectEvent(item, checkbox.checked)\" *ngIf=\"_showCheckbox(item)\" nbpDisplayInline></nbp-checkbox><span>{{ _getDropDownLabel(item) }}</span></li></ul></div>",
        styles: [":host{position:relative;display:block}:host(.ng-touched.ng-invalid,.nbp-show-validation.ng-invalid) .dropdown-input-box{border:.125em solid #c63200!important;-webkit-box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075);box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075)}:host(.ng-touched.ng-invalid,.nbp-show-validation.ng-invalid) .dropdown-input-box:focus{border:.125em solid #c63200!important}:host(.ng-dirty.ng-invalid,.nbp-show-validation.ng-invalid) .dropdown-input-box{border:.125em solid #c63200!important;-webkit-box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075);box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075)}:host(.ng-dirty.ng-invalid,.nbp-show-validation.ng-invalid) .dropdown-input-box:focus{border:.125em solid #c63200!important}.highlight-default{border:.125em solid #fce07f!important;outline:0;box-shadow:none!important}.dropdown-container{display:inline-block;position:relative;width:100%}.dropdown-container ul{opacity:1;background:#fff;border-top-width:0;border-right-color:#323232;border-right-style:solid;border-right-width:.0625em;border-bottom-color:#323232;border-bottom-style:solid;border-bottom-width:.0625em;border-left-color:#323232;border-left-style:solid;border-left-width:.0625em;border-radius:0 0 .125em .125em;list-style:none;margin:0 0 .625em 0;padding:0;position:absolute;width:100%;z-index:1000;overflow-y:auto;max-height:12.8125em}.dropdown-container ul>li{cursor:pointer;min-height:3.125em;padding:.75em .625em .5em .625em;border-bottom:.0625em solid #ccc}.dropdown-container ul>li:hover{background:#c4dbbc}.dropdown-container ul>li.preselected{background:#c4dbbc}.dropdown-container ul>li.preselected.active{box-shadow:inset 0 0 1em #258900}.dropdown-container ul>li.active{background:#89bc72}.dropdown-container ul>li.last{border-bottom:none}.dropdown-container ul.ng-hide-add{transition:all ease-out .25s}.dropdown-container ul.ng-hide-remove{transition:all ease-out .25s}.dropdown-container ul.ng-hide{opacity:0;max-height:0}.dropdown-inner-container{position:relative;z-index:999}.dropdown-inner-container.collapse-disabled{pointer-events:none}.dropdown-label{color:#6f6f6f;font-size:1em;margin:0 0 0 .75em!important}.dropdown-input-box{margin:0;border-collapse:separate;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:.625em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#323232;border:.0625em solid #323232;border-radius:.125em;font-size:1em!important;height:3.125em}.dropdown-input-box:focus{border:.125em solid #89bc72;outline:0;box-shadow:none!important}.dropdown-input-box::-ms-clear{display:none}.dropdown-input-box:disabled{background-color:#fff!important;cursor:default;box-shadow:none}.dropdown-input-box.input-box-disabled{background-color:#fff!important;border:.0625em solid #6f6f6f;opacity:.5!important;cursor:not-allowed}.dropdown-input-box-green{border:.125em solid #89bc72;outline:0;box-shadow:none!important}.dropdown-input-box-disabled{background-color:#fff!important;opacity:.5!important}.dropdown-button{display:table;position:absolute;top:0;right:0;width:2.5em;height:3.125em;text-align:center;color:#ccc;border-color:transparent;background-color:transparent!important}.dropdown-button span{vertical-align:middle}.dropdown-button[role=\"\"]{cursor:default;opacity:.5}.dropdown-button.collapse-disabled .dropdown-button-border{border-left:.0625em solid #6f6f6f!important}.dropdown-button.collapse-disabled .triangolo-bottom{border-style:solid;border-width:.5em .40625em;border-color:#6f6f6f transparent transparent transparent}.dropdown-button.collapse-disabled .triangolo-top{border-style:solid;border-width:0 .40625em .5em .40625em;border-color:transparent transparent #6f6f6f transparent}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.dropdown-button span{position:absolute}.dropdown-button.collapse-disabled .triangolo-top{transform:translateY(-50%);top:50%}.dropdown-button.collapse-disabled .triangolo-bottom{transform:translateY(-50%);top:50%}.triangolo-top{transform:translateY(-50%);top:50%}.triangolo-bottom{transform:translateY(-50%);top:50%}}.dropdown-button-border{position:absolute;display:inline-block;height:60%;top:20%;left:0;border-left:.0625em solid #323232}.has-error .dropdown-input-box{border:.125em solid #c63200;-webkit-box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075);box-shadow:inset 0 .0625em .0625em rgba(0,0,0,.075)}.has-error .dropdown-input-box:focus{border:.125em solid #c63200}.dropdown-error-message{color:#c63200;font-size:1em;margin-top:.625em;margin-bottom:.625em;opacity:1}.dropdown-error-message.ng-hide-add{transition:all ease-out .25s}.dropdown-error-message.ng-hide-remove{transition:all ease-out .25s}.dropdown-error-message.ng-hide{opacity:0;margin-top:-.625em}.triangolo-top{width:0;height:0;border-style:solid;border-width:0 .625em .625em .625em;border-color:transparent transparent #258900 transparent;display:inline-block!important}.triangolo-bottom{width:0;height:0;border-style:solid;border-width:.625em .625em 0 .625em;border-color:#258900 transparent transparent transparent;display:inline-block!important}.yellow-border{border:.125em solid #fce07f}:host-context(.contrasto-on) :host(.ng-invalid.nbp-show-validation) .dropdown-input-box{border-color:#000!important}:host-context(.contrasto-on) :host(.ng-invalid.nbp-show-validation) .dropdown-input-box:focus{border-color:#000!important}:host-context(.contrasto-on) .highlight-default{border-color:#000!important}:host-context(.contrasto-on) .dropdown-container ul{background:#fff;border-right-color:#000;border-bottom-color:#000;border-left-color:#000}:host-context(.contrasto-on) .dropdown-container ul>li{border-bottom-color:#fff}:host-context(.contrasto-on) .dropdown-container ul>li:hover{background:#000;color:#fff}:host-context(.contrasto-on) .dropdown-container ul>li.active{background:#000;color:#fff}:host-context(.contrasto-on) .dropdown-label{color:#000}:host-context(.contrasto-on) .dropdown-input-box{color:#000;border-color:#000}:host-context(.contrasto-on) .dropdown-input-box:focus{border-color:#000}:host-context(.contrasto-on) .dropdown-input-box:disabled{background-color:#fff!important}:host-context(.contrasto-on) .dropdown-input-box.input-box-disabled{background-color:#fff!important;border-color:#000}:host-context(.contrasto-on) .dropdown-input-box-green{border-color:#000}:host-context(.contrasto-on) .dropdown-input-box-disabled{background-color:#fff!important}:host-context(.contrasto-on) .dropdown-button{color:#000}:host-context(.contrasto-on) .dropdown-button.collapse-disabled .dropdown-button-border{border-left-color:#000!important}:host-context(.contrasto-on) .dropdown-button.collapse-disabled .triangolo-bottom{border-top-color:#000}:host-context(.contrasto-on) .dropdown-button.collapse-disabled .triangolo-top{border-bottom-color:#000}:host-context(.contrasto-on) .dropdown-button-border{border-left-color:#000}:host-context(.contrasto-on) .has-error .dropdown-input-box{border-color:#000}:host-context(.contrasto-on) .has-error .dropdown-input-box:focus{border-color:#000}:host-context(.contrasto-on) .dropdown-error-message{color:#000}:host-context(.contrasto-on) .triangolo-top{border-bottom-color:#000}:host-context(.contrasto-on) .triangolo-bottom{border-top-color:#000}:host-context(.contrasto-on) .yellow-border{border-color:#fff} /*# sourceMappingURL=nbp-combo-multi.component.css.map */ "],
        viewProviders: [NbpFormatterService],
        providers: [NBP_COMBO_MULTI_CONTROL_VALUE_ACCESSOR, NBP_INPUT_MULTI_ELEMENT_BASE],
        changeDetection: _angular_core.ChangeDetectionStrategy.OnPush
        // animations: [
        // trigger('dropdownAnimationState', [
        //     state('expanded', style({ opacity: 1, visibility: 'visible', display: 'block' })),
        //     state('collapsed, void', style({ opacity: 0, visibility: 'hidden', display: 'none' })),
        //     transition('expanded => collapsed', animate('100ms ease-in')),
        //     transition('collapsed => expanded', animate('100ms ease-out'))])
        // ]
    }),
    __param$12(0, _angular_core.Optional()), __param$12(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$12(1, _angular_core.Optional()), __param$12(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __param$12(2, _angular_core.Optional()),
    __metadata$50("design:paramtypes", [Array, Array, exports.NbpFormContainerComponent,
        NbpFormatterService,
        _angular_core.ElementRef, _angular_core.Injector, _angular_core.ChangeDetectorRef])
], exports.NbpComboMultiComponent);

var __extends$20 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$67 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$51 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$13 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/** intero autogenerato usato per id unici per nbpDatepicker component */
var nextId$9 = 0;
/**
 * Provider Expression that allows nbp-input to register as a ControlValueAccessor.
 * This allows it to support [(ngModel)].
 * @docs-private
 */
var NBP_DATE_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpDatepickerHtml5Component; }),
    multi: true
};
var NBP_INPUT_ELEMENT_BASE$2 = {
    provide: NbpInputElementBase,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpDatepickerHtml5Component; }),
    multi: true
};
exports.NbpDatepickerHtml5Component = (function (_super) {
    __extends$20(NbpDatepickerHtml5Component, _super);
    // @HostListener('input', ['$event.target.valueAsDate']) onChange = (_: any) => { };
    function NbpDatepickerHtml5Component(validatori, asyncValidatori) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        /**
         * Identificativo univoco per il text field.
         * Se nessun id  fornito e' auto-generato.
         */
        _this.id = "nbp-datepicker-" + ++nextId$9;
        /**
         * (Opzionale)
         * Booleano che consente di visualizzare i messaggi di feedback relativi alla validazione.
         * Valore di default false
         */
        _this.nbpShowValidation = false;
        /**
         * testo del placeholder
         */
        _this.placeholder = '';
        /**
        * (Opzionale) Evento emesso per la validazione
        */
        _this.nbpValidation = new _angular_core.EventEmitter();
        /**
        * Evento sollevato al modifica del model associato al campo di input.
        */
        _this.nbpOnDateChange = new _angular_core.EventEmitter();
        return _this;
    }
    Object.defineProperty(NbpDatepickerHtml5Component.prototype, "disabled", {
        /**
         * Flag che abilita/disabilita il campo di input-date.
         */
        get: function () { return this._nbpDisabled; },
        set: function (value) { this._nbpDisabled = value != null && "" + value !== 'false'; },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpDatepickerHtml5Component.prototype, "required", {
        /**
         * Flag che abilita/disabilita il required sul campo di input.
         */
        get: function () { return this._nbpRequired; },
        set: function (value) { this._nbpRequired = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpDatepickerHtml5Component.prototype, "nbpHighlightedDefault", {
        /**
         * (opzionale ) Booleano che gestisce  lattributo  bordo giallo del campo di input.
         * Al primo click/focus torner alla versione di default.
         * valore default false
         */
        get: function () { return this._nbpHighlightedDefault; },
        set: function (value) { this._nbpHighlightedDefault = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    NbpDatepickerHtml5Component.prototype.ngOnInit = function () {
    };
    return NbpDatepickerHtml5Component;
}(NbpInputElementBase));
__decorate$67([
    _angular_core.Input(),
    __metadata$51("design:type", String)
], exports.NbpDatepickerHtml5Component.prototype, "name", void 0);
__decorate$67([
    _angular_core.Input(),
    __metadata$51("design:type", String)
], exports.NbpDatepickerHtml5Component.prototype, "id", void 0);
__decorate$67([
    _angular_core.HostBinding('class.nbp-show-validation'),
    _angular_core.Input(),
    __metadata$51("design:type", Boolean)
], exports.NbpDatepickerHtml5Component.prototype, "nbpShowValidation", void 0);
__decorate$67([
    _angular_core.Input(),
    __metadata$51("design:type", Boolean),
    __metadata$51("design:paramtypes", [Object])
], exports.NbpDatepickerHtml5Component.prototype, "disabled", null);
__decorate$67([
    _angular_core.Input(),
    __metadata$51("design:type", Boolean),
    __metadata$51("design:paramtypes", [Object])
], exports.NbpDatepickerHtml5Component.prototype, "required", null);
__decorate$67([
    _angular_core.Input(),
    __metadata$51("design:type", String)
], exports.NbpDatepickerHtml5Component.prototype, "placeholder", void 0);
__decorate$67([
    _angular_core.Input(),
    __metadata$51("design:type", Boolean),
    __metadata$51("design:paramtypes", [Object])
], exports.NbpDatepickerHtml5Component.prototype, "nbpHighlightedDefault", null);
__decorate$67([
    _angular_core.Input(),
    __metadata$51("design:type", String)
], exports.NbpDatepickerHtml5Component.prototype, "nbpErrorMessage", void 0);
__decorate$67([
    _angular_core.Output(),
    __metadata$51("design:type", _angular_core.EventEmitter)
], exports.NbpDatepickerHtml5Component.prototype, "nbpValidation", void 0);
__decorate$67([
    _angular_core.Output(),
    __metadata$51("design:type", _angular_core.EventEmitter)
], exports.NbpDatepickerHtml5Component.prototype, "nbpOnDateChange", void 0);
__decorate$67([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$51("design:type", _angular_forms.NgModel)
], exports.NbpDatepickerHtml5Component.prototype, "model", void 0);
exports.NbpDatepickerHtml5Component = __decorate$67([
    _angular_core.Component({
        selector: 'nbp-datepicker-html5',template: "<input type=\"date\" [name]=\"name\" [id]=\"id\" [(ngModel)]=\"value\" [disabled]=\"disabled\" [required]=\"required\">",
        styles: [":host{position:relative;display:block}:host(.ng-invalid.nbp-show-validation) .textfield-box{border:2px solid #c63200!important;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}:host(.ng-invalid.nbp-show-validation) .textfield-box:focus{border:2px solid #c63200}.dropdown-menu{box-shadow:none!important}.uib-datepicker-popup{z-index:1100!important;overflow:hidden}.uib-datepicker-popup .btn:focus{outline:0!important}.data-green{border:2px solid #89bc72!important}.datepicker-container{position:relative;max-width:300px;margin-bottom:1.563em}.datepicker-label{color:#6f6f6f;font-size:.75em;margin:0 0 0 .75em!important}.datepicker-input-box{margin:.625em 0 .625em 0;padding:.375em 1em .375em 1em;color:#6f6f6f;border:1px solid #ccc;border-radius:3px}.datepicker-input-box::-ms-clear{display:none}.datepicker-input-box:focus{border:2px solid #89bc72;outline:0;box-shadow:none!important}.datepicker-input-box[disabled]{cursor:auto;background-color:#fff;opacity:.5}.has-error .datepicker-input-box{border:2px solid #c63200;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .datepicker-input-box:focus{border:2px solid #c63200}.datepicker-error-message{color:#c63200;font-size:.75em;margin-top:0;margin-bottom:.625em;opacity:1}.datepicker-error-message.ng-hide-add{transition:all ease-out .25s}.datepicker-error-message.ng-hide-remove{transition:all ease-out .25s}.datepicker-error-message.ng-hide{opacity:0;margin-top:-.625em}.datepicker-button{display:inline-block;position:absolute;cursor:pointer;font-size:1.5em;color:#6f6f6f;margin-top:-1.65em;right:.625em}.datepicker-button[role=\"\"]{cursor:default;opacity:.5}.uib-datepicker-popup.dropdown-menu{border:none!important;border-radius:0!important;padding:0!important}.uib-day{min-width:42px;max-width:42px}.uib-daypicker{width:300px!important}.uib-daypicker .btn{border-radius:0!important}.uib-daypicker #datepicker-header{border-top:1px solid #ccc}.uib-daypicker #datepicker-header .btn:focus{background-color:#323232;color:#fff;border-color:#323232}.uib-daypicker #datepicker-header .btn:active{background-color:#323232;color:#fff;border-color:#323232}.uib-daypicker #datepicker-header .btn:hover{background-color:#323232;color:#fff;border-color:#323232}.uib-daypicker .pull-left{padding-top:8px;padding-bottom:8px;min-width:auto;color:#6f6f6f;border-top:none;border-bottom:none;border-left:none;border-right:none}.uib-daypicker .border-r-l{border-left:1px solid #ccc!important;border-right:1px solid #ccc!important}.uib-daypicker .border-r{border-right:1px solid #ccc!important}.uib-daypicker .uib-title{padding-top:8px;padding-bottom:8px;min-width:auto;border:none;color:#6f6f6f;font-size:.84em;cursor:default;pointer-events:none;text-transform:uppercase}.uib-daypicker .uib-title strong{font-weight:400!important}.uib-daypicker .pull-right{padding-top:8px;padding-bottom:8px;min-width:auto;color:#6f6f6f;border-top:none;border-bottom:none;border-left:none;border-right:none}.uib-daypicker .border-l{border-left:1px solid #ccc!important}.uib-daypicker .icon-arrow-left{display:block;margin-top:4px}.uib-daypicker .icon-arrow-right{display:block;margin-top:4px}.uib-daypicker .size-icon{font-size:20px}.uib-daypicker #datepicker-weeks{text-transform:uppercase;color:#6f6f6f;height:2.625em;background-color:#dfdfdf;border:1px solid #ccc;border-right:2px solid #ccc}.uib-weeks{border-right:1px solid #ccc}.uib-weeks .btn{color:#6f6f6f;background-color:#f2f2f2;padding:0;height:42px;border-top:none;border-right:none}.uib-weeks .btn:focus{background-color:#323232;color:#fff;border-color:#323232}.uib-weeks .btn:active{background-color:#323232;color:#fff;border-color:#323232}.uib-weeks .btn:hover{background-color:#323232;color:#fff;border-color:#323232}.uib-weeks .btn-info{border-color:#ccc}.uib-weeks .current{color:#fff;background-color:#6f6f6f;border:1px solid #6f6f6f}.uib-weeks .text-info{color:#fff}.uib-weeks .secondary{color:#ccc;background-color:#fff}.uib-weeks .secondary .text-muted{color:#ccc}.uib-weeks .last-day{border-right:1px solid #ccc}.uib-weeks .btn.active{background-color:#258900;border-color:#258900;box-shadow:none;color:#fff}.uib-weeks .btn.active .text-info{color:#fff}.uib-datepicker-popup.ng-enter{-webkit-transition:opacity .25s ease-in-out;-o-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out;opacity:0}.uib-datepicker-popup.ng-leave{-webkit-transition:opacity .25s ease-in-out;-o-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out;opacity:1}.uib-datepicker-popup.ng-enter.ng-enter-active{opacity:1}.uib-datepicker-popup.ng-leave.ng-leave-active{opacity:0}.yellow-border{border:2px solid #fce07f}.rightDate .uib-datepicker-popup.dropdown-menu{padding:15px 28px!important;top:-114px!important;overflow:visible}.rightDate .container-row{border-right:1px solid #6f6f6f}.rightDate .uib-daypicker::after{bottom:82px;left:-43px!important;right:auto!important;transform:rotate(-45deg)!important}.leftDate .uib-datepicker-popup.dropdown-menu{padding:15px 28px!important;top:-114px!important;overflow:visible}.leftDate .container-row{border-right:1px solid #6f6f6f}@media (min-width:1200px){.rightDate .uib-datepicker-popup.dropdown-menu{left:277px!important}.leftDate .uib-datepicker-popup.dropdown-menu{left:-360px!important}}@media (max-width:1199px){.rightDate .uib-datepicker-popup.dropdown-menu{left:309px!important}.leftDate .uib-datepicker-popup.dropdown-menu{left:-360px!important}}@media (max-width:991px){.rightDate .uib-datepicker-popup.dropdown-menu{left:356px!important}.leftDate .uib-datepicker-popup.dropdown-menu{left:-360px!important}}.contrasto-on .data-green{border:2px solid #000!important}.contrasto-on .datepicker-label{color:#000}.contrasto-on .datepicker-input-box{color:#000;border:1px solid #000}.contrasto-on .datepicker-input-box::-webkit-input-placeholder{color:#000}.contrasto-on .datepicker-input-box:focus{border:2px solid #000;outline:0;box-shadow:none!important}.contrasto-on .datepicker-input-box[disabled]{cursor:auto;background-color:#000;color:#fff;opacity:1}.contrasto-on .has-error .datepicker-input-box{border:2px solid #000;-webkit-box-shadow:inset 0 0 0 #000;box-shadow:inset 0 0 0 #000}.contrasto-on .has-error .datepicker-input-box:focus{border:2px solid #000}.contrasto-on .datepicker-error-message{color:#000}.contrasto-on .datepicker-button{cursor:pointer;color:#000}.contrasto-on .datepicker-button[role=\"\"]{color:#fff;cursor:default;opacity:1}.contrasto-on .uib-datepicker-popup.dropdown-menu{border:none!important;border-radius:0!important;padding:0!important}.contrasto-on .uib-day{min-width:42px;max-width:42px}.contrasto-on .uib-daypicker{width:300px!important}.contrasto-on .uib-daypicker .btn{border-radius:0!important}.contrasto-on .uib-daypicker #datepicker-header{border-top:1px solid #000}.contrasto-on .uib-daypicker #datepicker-header .btn:focus{background-color:#000;color:#fff;border-color:#000}.contrasto-on .uib-daypicker #datepicker-header .btn:active{background-color:#000;color:#fff;border-color:#000}.contrasto-on .uib-daypicker #datepicker-header .btn:hover{background-color:#000;color:#fff;border-color:#000}.contrasto-on .uib-daypicker .pull-left{padding-top:8px;padding-bottom:8px;min-width:auto;color:#000;border-top:none;border-bottom:none;border-left:none;border-right:none}.contrasto-on .uib-daypicker .border-r-l{border-left:1px solid #000!important;border-right:1px solid #000!important}.contrasto-on .uib-daypicker .border-r{border-right:1px solid #000!important}.contrasto-on .uib-daypicker .uib-title{padding-top:8px;padding-bottom:8px;min-width:auto;border:none;color:#000;font-size:.84em;cursor:default;pointer-events:none;text-transform:uppercase}.contrasto-on .uib-daypicker .uib-title strong{font-weight:400!important}.contrasto-on .uib-daypicker .pull-right{padding-top:8px;padding-bottom:8px;min-width:auto;color:#000;border-top:none;border-bottom:none;border-left:none;border-right:none}.contrasto-on .uib-daypicker .border-l{border-left:1px solid #000!important}.contrasto-on .uib-daypicker #datepicker-weeks{color:#fff;background-color:#000;border:1px solid #000;border-right:2px solid #000}.contrasto-on .uib-weeks{border-right:1px solid #ccc}.contrasto-on .uib-weeks .btn{color:#fff;background-color:#000;border-top:none;border-right:none}.contrasto-on .uib-weeks .btn:focus{background-color:#fff;color:#000;border-color:#fff}.contrasto-on .uib-weeks .btn:active{background-color:#fff;color:#000;border-color:#fff}.contrasto-on .uib-weeks .btn:hover{background-color:#fff;color:#000;border-color:#fff}.contrasto-on .uib-weeks .btn-info{border-color:#ccc}.contrasto-on .uib-weeks .current{color:#000;background-color:#fff;border:1px solid #fff}.contrasto-on .uib-weeks .text-info{color:#000}.contrasto-on .uib-weeks .secondary{color:#000;background-color:#fff}.contrasto-on .uib-weeks .secondary .text-muted{color:#000}.contrasto-on .uib-weeks .last-day{border-right:1px solid #ccc}.contrasto-on .uib-weeks .btn.active{background-color:#fff;border-color:#fff;box-shadow:none;color:#000}.contrasto-on .uib-weeks .btn.active .text-info{color:#000}.contrasto-on .yellow-border{border:2px solid #000}.contrasto-on .rightDate .uib-datepicker-popup.dropdown-menu{padding:15px 28px!important;top:-114px!important;overflow:visible}.contrasto-on .rightDate .container-row{border-right:1px solid #6f6f6f}.contrasto-on .rightDate .uib-daypicker::after{bottom:82px;left:-43px!important;right:auto!important;transform:rotate(-45deg)!important}.contrasto-on .leftDate .uib-datepicker-popup.dropdown-menu{padding:15px 28px!important;top:-114px!important;overflow:visible}.contrasto-on .leftDate .container-row{border-right:1px solid #6f6f6f}@media (min-width:1200px){.contrasto-on .rightDate .uib-datepicker-popup.dropdown-menu{left:277px!important}.contrasto-on .leftDate .uib-datepicker-popup.dropdown-menu{left:-360px!important}}@media (max-width:1199px){.contrasto-on .rightDate .uib-datepicker-popup.dropdown-menu{left:309px!important}.contrasto-on .leftDate .uib-datepicker-popup.dropdown-menu{left:-360px!important}}@media (max-width:991px){.contrasto-on .rightDate .uib-datepicker-popup.dropdown-menu{left:356px!important}.contrasto-on .leftDate .uib-datepicker-popup.dropdown-menu{left:-360px!important}} /*# sourceMappingURL=nbp-datepicker-html5.component.css.map */ "],
        providers: [NBP_DATE_CONTROL_VALUE_ACCESSOR, NBP_INPUT_ELEMENT_BASE$2]
    }),
    __param$13(0, _angular_core.Optional()), __param$13(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$13(1, _angular_core.Optional()), __param$13(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __metadata$51("design:paramtypes", [Array, Array])
], exports.NbpDatepickerHtml5Component);

var __decorate$68 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$52 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/** intero autogenerato usato per id unici per nbpInput component */
var nextId$10 = 0;
exports.NbpSwitchComponent = (function () {
    function NbpSwitchComponent() {
        /**
         * Identificativo univoco per il text field.
         * Se nessun id  fornito e' auto-generato.
         */
        this.id = "nbp-switch-" + ++nextId$10;
        // *
        //  * Rappresenta loggetto associato al pulsante di switch selezionato.
        // @Input() nbpSelected: String;
        /**
         * Funzione associata allevento di click su un pulsante di switch.
         */
        this.nbpClickFn = new _angular_core.EventEmitter();
        this._switchType = NpbSwitchDispalyType;
    }
    Object.defineProperty(NbpSwitchComponent.prototype, "disabled", {
        /**
         *Booleano che abilita/disabilita le funzionalit del radio button
         */
        get: function () { return this.nbpDisabled; },
        set: function (value) { this.nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpSwitchComponent.prototype, "nbpTextUp", {
        /**
         * Booleano abilita l'andata a capo del testo
         */
        get: function () { return this._nbpTextUp; },
        set: function (value) { this._nbpTextUp = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpSwitchComponent.prototype.ngOnInit = function () {
        if (this.nbpOptionList && this.nbpOptionList.length < 2) {
            console.warn('Componente NbpSwitchComponent istanziato con una sola option!');
        }
        if (!(this.nbpSelectedValue === null ||
            typeof this.nbpSelectedValue === 'undefined')) {
            // for (let index in this.nbpOptionList) {
            for (var optionIndex = 0; optionIndex < this.nbpOptionList.length; optionIndex++) {
                if (this.nbpOptionList[optionIndex].value === this.nbpSelectedValue) {
                    this._buttonSelectedIndex = optionIndex;
                    break;
                }
            }
        }
    };
    NbpSwitchComponent.prototype.onSelectButton = function (index, selectedValue) {
        this._buttonSelectedIndex = index;
        this.nbpClickFn.emit(selectedValue);
        this.nbpSelectedValue = selectedValue;
    };
    NbpSwitchComponent.prototype._showIcon = function () {
        return this.nbpDisplayType === NpbSwitchDispalyType.ICON;
    };
    NbpSwitchComponent.prototype._showText = function () {
        return this.nbpDisplayType === NpbSwitchDispalyType.TEXT;
    };
    NbpSwitchComponent.prototype._showIconAndText = function () {
        return this.nbpDisplayType === NpbSwitchDispalyType.ICON_TEXT;
    };
    NbpSwitchComponent.prototype._showTextUp = function () {
        return (this.nbpDisplayType === NpbSwitchDispalyType.ICON_TEXT && this.nbpTextUp);
    };
    return NbpSwitchComponent;
}());
__decorate$68([
    _angular_core.Input(),
    __metadata$52("design:type", String)
], exports.NbpSwitchComponent.prototype, "id", void 0);
__decorate$68([
    _angular_core.Input(),
    __metadata$52("design:type", Array)
], exports.NbpSwitchComponent.prototype, "nbpOptionList", void 0);
__decorate$68([
    _angular_core.Input(),
    __metadata$52("design:type", Object)
], exports.NbpSwitchComponent.prototype, "nbpSelectedValue", void 0);
__decorate$68([
    _angular_core.Input(),
    __metadata$52("design:type", Number)
], exports.NbpSwitchComponent.prototype, "nbpDisplayType", void 0);
__decorate$68([
    _angular_core.Input(),
    __metadata$52("design:type", Boolean),
    __metadata$52("design:paramtypes", [Object])
], exports.NbpSwitchComponent.prototype, "disabled", null);
__decorate$68([
    _angular_core.Output(),
    __metadata$52("design:type", _angular_core.EventEmitter)
], exports.NbpSwitchComponent.prototype, "nbpClickFn", void 0);
__decorate$68([
    _angular_core.Input(),
    __metadata$52("design:type", Boolean),
    __metadata$52("design:paramtypes", [Object])
], exports.NbpSwitchComponent.prototype, "nbpTextUp", null);
exports.NbpSwitchComponent = __decorate$68([
    _angular_core.Component({
        selector: 'nbp-switch',
        template: "<div class=\"switch-container btn-group\"><button *ngFor=\"let currentOption of nbpOptionList; let i = index;\" [id]=\"id\" class=\"btn\" [ngClass]=\"{ 'switch-button-text': _showText(), 'switch-button-icontext': _showIconAndText(), 'switch-button-icon': _showIcon(), 'inline-text-icon': !_showTextUp(), 'block-text-icon': _showTextUp(), 'default':_buttonSelectedIndex !== i, 'primary':  _buttonSelectedIndex == i }\" [disabled]=\"disabled\" (click)=\"onSelectButton(i, currentOption.value)\"><span *ngIf=\"!_showIcon()\" class=\"switch-label-icon\" [ngClass]=\"{'switch-label': !_showTextUp()}\">{{currentOption.label}}</span> <span *ngIf=\"!_showText()\" [ngClass]=\"{'switch-icon-text-up': _showTextUp()}\" class=\"icon switch-icon {{currentOption?.icon}}\"></span></button></div>",styles: [".btn[disabled]{box-shadow:none!important;pointer-events:none;curson:not-allowed}.switch-button-text{text-align:center;position:relative;font-weight:700;font-size:.75em;margin:0!important;padding-top:1em;padding-bottom:1em;line-height:1;outline:0!important;min-width:9.584em;height:4.167em;z-index:0}.switch-button-text:active{box-shadow:inset .25em .25em .25em 0 rgba(0,0,0,.2)}.switch-button-text .btn{border-radius:.125em!important}.switch-button-text.primary{color:#fff;background-color:#258900;border-color:#258900;box-shadow:inset .25em .25em .25em 0 rgba(0,0,0,.2)}.switch-button-text.default{color:#6f6f6f;background-color:#fff;border-color:#ccc}.switch-button-text[disabled]{box-shadow:none}.switch-button-text.default[disabled]:hover{background-color:#fff!important;border-color:#ccc!important}.switch-button-text.primary[disabled]:hover{background-color:#258900!important;border-color:#258900!important}.switch-button-icontext{position:relative;font-weight:700;font-size:.75em;margin:0!important;padding-top:1em;padding-bottom:1em;line-height:1;outline:0!important;min-width:6.875em;height:4.167em;z-index:0}.switch-button-icontext:active{box-shadow:inset .25em .25em .25em 0 rgba(0,0,0,.2)}.switch-button-icontext.block-text-icon{padding-top:.416em}.switch-button-icontext.inline-text-icon{padding-top:1em}.switch-button-icontext .switch-label{padding-right:.625em}.switch-button-icontext .switch-label-icon{padding-bottom:.416em;display:table-cell!important;vertical-align:middle}.switch-button-icontext .switch-icon{font-size:2.084em!important;display:table-cell!important}.switch-button-icontext .switch-icon-text-up{display:block!important;padding-bottom:.208em!important}.switch-button-icontext .btn{border-radius:.125em!important}.switch-button-icontext.primary{color:#fff;background-color:#258900;border-color:#258900;box-shadow:inset .25em .25em .25em 0 rgba(0,0,0,.2)}.switch-button-icontext.default{color:#6f6f6f;background-color:#fff;border-color:#ccc}.switch-button[disabled]{box-shadow:none}.switch-button-icontext.default[disabled]:hover{background-color:#fff!important;border-color:#ccc!important}.switch-button-icontext.primary[disabled]:hover{background-color:#258900!important;border-color:#258900!important}.switch-button-icon{position:relative;font-weight:700;font-size:.75em;margin:0!important;padding-top:1em;padding-bottom:1em;line-height:1;outline:0!important;min-width:6.25em;height:4.167em;z-index:0}.switch-button-icon:active{box-shadow:inset .25em .25em .25em 0 rgba(0,0,0,.2)}.switch-button-icon .switch-icon{font-size:2.084em!important}.switch-button-icon .btn{border-radius:2px!important}.switch-button-icon.primary{color:#fff;background-color:#258900;border-color:#258900;box-shadow:inset .25em .25em .25em 0 rgba(0,0,0,.2)}.switch-button-icon.default{color:#6f6f6f;background-color:#fff;border-color:#ccc}.switch-button[disabled]{box-shadow:none}.switch-button-icon.default[disabled]:hover{background-color:#fff!important;border-color:#ccc!important}.switch-button-icon.primary[disabled]:hover{background-color:#258900!important;border-color:#258900!important}:host-context(.contrasto-on) .switch-button-icon.default,:host-context(.contrasto-on) .switch-button-icontext.default,:host-context(.contrasto-on) .switch-button-text.default{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .switch-binary,:host-context(.contrasto-on) .switch-button-icon.primary,:host-context(.contrasto-on) .switch-button-icontext.primary,:host-context(.contrasto-on) .switch-button-text.primary{color:#fff;background-color:#000;border-color:#fff}:host-context(.contrasto-on) .slider-box{background-color:#fff;border-color:#000}:host-context(.contrasto-on) .switch-binary .switch-label-icon-on{color:#fff}:host-context(.contrasto-on) .switch-binary .switch-label-icon-off{color:#fff}:host-context(.contrasto-on) .switch-binary-true{background-color:#000} /*# sourceMappingURL=nbp-switch.component.css.map */ "]
    }),
    __metadata$52("design:paramtypes", [])
], exports.NbpSwitchComponent);
var NpbSwitchDispalyType;
(function (NpbSwitchDispalyType) {
    NpbSwitchDispalyType[NpbSwitchDispalyType["TEXT"] = 0] = "TEXT";
    NpbSwitchDispalyType[NpbSwitchDispalyType["ICON"] = 1] = "ICON";
    NpbSwitchDispalyType[NpbSwitchDispalyType["ICON_TEXT"] = 2] = "ICON_TEXT";
})(NpbSwitchDispalyType || (NpbSwitchDispalyType = {}));

(function (NpbSwitchDispalyType) {
    NpbSwitchDispalyType[NpbSwitchDispalyType["TEXT"] = 0] = "TEXT";
    NpbSwitchDispalyType[NpbSwitchDispalyType["ICON"] = 1] = "ICON";
    NpbSwitchDispalyType[NpbSwitchDispalyType["ICON_TEXT"] = 2] = "ICON_TEXT";
})(exports.NpbSwitchDispalyType || (exports.NpbSwitchDispalyType = {}));

var __decorate$69 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$53 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpCustomerInfoComponent = (function () {
    function NbpCustomerInfoComponent() {
        /**
         * Booleano che pilota la visualizzazione iniziale dellaccordion collassato o espanso.
         */
        this._isCollapsed = true;
    }
    NbpCustomerInfoComponent.prototype._toggleCollapse = function () {
        this._isCollapsed = !this._isCollapsed;
    };
    return NbpCustomerInfoComponent;
}());
__decorate$69([
    _angular_core.Input(),
    __metadata$53("design:type", Object)
], exports.NbpCustomerInfoComponent.prototype, "nbpCustomer", void 0);
exports.NbpCustomerInfoComponent = __decorate$69([
    _angular_core.Component({
        selector: 'nbp-customer-info',template: "<div class=\"container-ident-cliente\" nowrap=\"nowrap\"><span class=\"voce-ident-cliente\">CLIENTE</span> <span class=\"testo-ident-cliente\">{{nbpCustomer?.intestazione}}</span><br><span class=\"voce-ident-cliente\">NSG</span> <span class=\"testo-ident-cliente\" [innerHTML]=\"nbpCustomer?.nsg\"></span><br><span class=\"voce-ident-cliente\">GESTORE PORTAFOGLIAZIONE</span> <span class=\"testo-ident-cliente\" [innerHTML]=\"nbpCustomer?.gestore\"></span></div><div class=\"container-arrow\"><span class=\"accordion-arrow\" [ngClass]=\"{'icon ico-comuni-freccia-accordion-apri':_isCollapsed , 'icon ico-comuni-freccia-accordion-chiudi':!_isCollapsed}\" (click)=\"_toggleCollapse()\"></span></div><div class=\"container-row\"><div [ngClass]=\"{'triangolo':!_isCollapsed,'triangolo-hide':_isCollapsed}\"></div><div class=\"info-cliente-open\" [hidden]=\"_isCollapsed\"><div class=\"container-row\"><div class=\"collapse\" [ngClass]=\"{'in':!_isCollapsed}\"><div class=\"panel-body\"><span>CLIENTE</span> <span>{{nbpCustomer?.intestazione}}</span><br><span>NSG</span> <span [innerHTML]=\"nbpCustomer?.nsg\"></span><br><span>GESTORE PORTAFOGLIAZIONE</span> <span [innerHTML]=\"nbpCustomer?.gestore\"></span></div></div></div></div></div>",
        styles: [".accordion-arrow{cursor:pointer;font-size:1.6em}.container-row{display:table-row}.container-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:78%;padding-left:.625em;font-weight:400;float:left}.voce-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:400}.testo-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:700}.panel-body{vertical-align:middle;display:table-cell;cursor:pointer;text-align:left}.info-cliente-open{position:relative;background-color:#323232;z-index:90;border:0;border-radius:0;text-align:center;margin-top:.5625em;display:table}.container-arrow{float:right;padding-top:1.25em;padding-right:1.5625em}.triangolo{width:0;height:0;z-index:90;border-left:.563em solid transparent;border-right:.563em solid transparent;border-bottom:.563em solid #323232;float:right;margin-right:1.75em}.triangolo-hide{width:0;height:0;z-index:90;border-left:.563em solid transparent;border-right:.563em solid transparent;border-bottom:.563em solid transparent;float:right;margin-right:1.75em} /*# sourceMappingURL=nbp-customer-info.component.css.map */ "],
    }),
    __metadata$53("design:paramtypes", [])
], exports.NbpCustomerInfoComponent);

/**
 * Evento custom emesso dal componente NbpAccordion
 * sull'operazione di toggle
 */
var NbpAccordionEvent = (function () {
    function NbpAccordionEvent() {
    }
    return NbpAccordionEvent;
}());

var __decorate$70 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$54 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$11 = 0;
exports.NbpAccordionComponent = (function () {
    function NbpAccordionComponent() {
        this.id = "nbp-accordion-" + ++nextId$11;
        /**
         * (Opzionale) Booleano che pilota la visualizzazione iniziale dellaccordion collassato o espanso.
         *Default accordion collassato.
         */
        this.nbpCollapsed = true;
        this.nbpStyle = exports.NbpStyle.DEFAULT;
        /**
       * Booleano che indica se mostrare icona e tooltip nell'intestazione del componente
       */
        this.showTooltip = false;
        /**
         * (Opzionale) Enum che definisce il la posizione del tooltip rispetto alloggetto al quale  ancorato:
         * Top | Right | Bottom | Left | Top-Left | Top-Right | Bottom-Left | Bottom-Right
         * Default: Top
         */
        this.tooltipPosition = 'Top';
        /**
         * Propriet che definisce la grandezza del tooltip, tramite l'enum NbpSize
         * valore di default: NbpSize.SM
         */
        this.tooltipSize = exports.NbpSize.SM;
        /**
         * Stringa che definisce la classe dell'icona da mostrare
         */
        this.tooltipIcon = 'icomoon-Simboli_Risorsa-1';
        /**
         * Evento emesso sul toggle del componente.
         * @param {EventEmitter<NbpAccordionEvent>}  nbpOnToggle
         */
        this.nbpOnToggle = new _angular_core.EventEmitter();
        this._style = exports.NbpStyle;
    }
    //     Methods
    /**
     * metodo utilizzabile per lapertura programmatica
     */
    NbpAccordionComponent.prototype.open = function () {
        this.nbpCollapsed = false;
    };
    /**
     * metodo utilizzabile per la chiusura programmatica
     */
    NbpAccordionComponent.prototype.close = function () {
        this.nbpCollapsed = true;
    };
    /**
     * metodo utilizzabile per verificare se il componente  collassato
     */
    NbpAccordionComponent.prototype.isCollapsed = function () {
        return this.nbpCollapsed;
    };
    NbpAccordionComponent.prototype.ngOnInit = function () {
    };
    NbpAccordionComponent.prototype._toggleCollapse = function () {
        this.nbpCollapsed = !this.nbpCollapsed;
        this._onToggle();
    };
    NbpAccordionComponent.prototype._onToggle = function () {
        var acordionEvent = new NbpAccordionEvent();
        acordionEvent.source = this;
        acordionEvent.isCollapsed = this.nbpCollapsed;
        this.nbpOnToggle.emit(acordionEvent);
    };
    return NbpAccordionComponent;
}());
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", Object)
], exports.NbpAccordionComponent.prototype, "id", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", String)
], exports.NbpAccordionComponent.prototype, "nbpTitle", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", String)
], exports.NbpAccordionComponent.prototype, "nbpSubtitle", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", String)
], exports.NbpAccordionComponent.prototype, "nbpLabel", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", Object)
], exports.NbpAccordionComponent.prototype, "nbpCollapsed", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", Number)
], exports.NbpAccordionComponent.prototype, "nbpStyle", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", String)
], exports.NbpAccordionComponent.prototype, "nbpIcon", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", Boolean)
], exports.NbpAccordionComponent.prototype, "showTooltip", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", String)
], exports.NbpAccordionComponent.prototype, "tooltipPosition", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", String)
], exports.NbpAccordionComponent.prototype, "tooltipVisibility", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", String)
], exports.NbpAccordionComponent.prototype, "tooltipText", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", Object)
], exports.NbpAccordionComponent.prototype, "tooltipSize", void 0);
__decorate$70([
    _angular_core.Input(),
    __metadata$54("design:type", String)
], exports.NbpAccordionComponent.prototype, "tooltipIcon", void 0);
__decorate$70([
    _angular_core.Output(),
    __metadata$54("design:type", _angular_core.EventEmitter)
], exports.NbpAccordionComponent.prototype, "nbpOnToggle", void 0);
exports.NbpAccordionComponent = __decorate$70([
    _angular_core.Component({
        selector: 'nbp-accordion',template: "<div class=\"panel nbp-panel-primary panel-default\"><div class=\"panel-heading\" [ngClass]=\"{'panel-heading-round': isCollapsed()}\" role=\"tab\" [id]=\"id\" (click)=\"_toggleCollapse()\"><div class=\"panel-title\" [ngClass]=\"{'panel-title-tooltip': showTooltip}\"><span class=\"icon accordion-icon\" [ngClass]=\"nbpIcon\" *ngIf=\"!!nbpIcon\"></span><div class=\"title-container\"><div class=\"title\">{{nbpTitle}}</div><span *ngIf=\"nbpSubtitle\" style=\"margin-right: 5px\" class=\"subtitle\">{{nbpSubtitle}}</span><nbp-tooltip *ngIf=\"showTooltip\" [nbpSize]=\"tooltipSize\" [nbpPosition]=\"tooltipPosition\" [nbpVisibilityStrategy]=\"tooltipVisibility\" [nbpText]=\"tooltipText\"><span class=\"{{tooltipIcon}}\" style=\"font-size:1.429em;vertical-align: middle;\"></span></nbp-tooltip></div><span class=\"label\">{{nbpLabel}}</span> <span class=\"icon accordion-arrow\" [ngClass]=\"{'ico-comuni-freccia-accordion-apri':isCollapsed() , 'ico-comuni-freccia-accordion-chiudi':!isCollapsed()}\"></span></div></div><div class=\"panel-collapse\" [ngClass]=\"{'in panel-open':!isCollapsed()}\"><div class=\"panel-body\"><ng-content></ng-content></div></div></div>",
        animations: [],
        styles: [".panel{border:none!important;border-radius:0!important;box-shadow:none}.panel .panel-open{background-color:#6f6f6f!important;overflow:visible}.panel-heading{height:3.75em;border-radius:.125em .125em 0 0!important;box-shadow:none;background-color:#f8f8f8!important;cursor:pointer}.panel-heading.panel-heading-round{border-radius:.125em .125em .125em .125em!important}.panel-heading .panel-title{color:#000;font-size:.875em!important}.panel-heading .panel-title-tooltip{margin-top:-.3125em}.panel-heading .accordion-arrow{color:#000;position:relative;font-size:2em}.panel-heading .accordion-arrow .icon{vertical-align:middle}.panel-heading .label{color:#000!important}.panel-body{border:none!important;box-shadow:none;background-color:#f2f2f2!important;border-radius:0 0 .125em .125em!important}.panel-collapse{border:none!important;box-shadow:none;background-color:#f2f2f2!important;border-radius:0 0 .125em .125em!important;max-height:0;transition:max-height .15s ease-out;overflow:hidden}.panel-collapse.in{max-height:1000em;transition:max-height .25s ease-in}.panelTitleLayout{display:table;table-layout:fixed;width:100%;height:3em}.panelTitleItemLayout{display:table-cell;vertical-align:middle}.titlefont{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.nbp-panel-primary>.panel-heading{position:relative}.nbp-panel-primary>.panel-heading>.panel-title{display:table;table-layout:fixed;width:100%;height:3em}.nbp-panel-primary>.panel-heading>.panel-title>.accordion-icon{display:table-cell;vertical-align:middle;text-align:center;font-size:2em;width:2.3125em;padding-right:.3125em}.nbp-panel-primary>.panel-heading>.panel-title>.accordion-icon ::before{vertical-align:middle}.nbp-panel-primary>.panel-heading>.panel-title>.title-container{display:table-cell;vertical-align:middle}.nbp-panel-primary>.panel-heading>.panel-title>.title-container>.title{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:1.14em;font-weight:400}.nbp-panel-primary>.panel-heading>.panel-title>.title-container>.subtitle{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:1.14em;font-weight:700}.nbp-panel-primary>.panel-heading>.panel-title>.label{display:table-cell;vertical-align:middle;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:1em;font-weight:400;text-align:right}.nbp-panel-primary>.panel-heading>.panel-title .accordion-arrow{display:table-cell;vertical-align:middle;text-align:center;font-size:1.5em;width:25px}.panel-default>.panel-heading{background-color:#f8f8f8!important}.panel-default>.panel-open{background-color:#6f6f6f!important}:host-context(.contrasto-on) .panel .panel-open{background-color:#fff!important;color:#000;border:none!important}:host-context(.contrasto-on) .panel .panel-open .panel-title{color:#000}:host-context(.contrasto-on) .panel .panel-open .stringa{color:#000}:host-context(.contrasto-on) .panel .panel-open .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel-heading{background-color:#000!important}:host-context(.contrasto-on) .panel-heading .panel-title{color:#fff}:host-context(.contrasto-on) .panel-heading .accordion-arrow{color:#fff}:host-context(.contrasto-on) .panel-heading .label{color:#fff!important}:host-context(.contrasto-on) .panel-body{background-color:#fff!important;border:none!important;color:#000}:host-context(.contrasto-on) .accordion-green-header>.panel-heading{background-color:#000!important}:host-context(.contrasto-on) .accordion-green-header>.panel-open{background-color:#fff!important;color:#000;border:1px solid #000!important} /*# sourceMappingURL=nbp-accordion.component.css.map */ "]
    }),
    __metadata$54("design:paramtypes", [])
], exports.NbpAccordionComponent);

var __decorate$71 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$55 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$12 = 0;
exports.NbpAccordionButtonComponent = (function () {
    function NbpAccordionButtonComponent() {
        // TODO NIS questo componente sarebbe da unire al nbp-accordion-showmore aggiungendo uno style magari!!
        this.id = "nbp-accordion-button-" + ++nextId$12;
        /**
         * (Opzionale) Booleano che pilota la visualizzazione iniziale dellaccordion collassato o espanso.
         *Default accordion collassato.
         */
        this.nbpCollapsed = true;
        /**
         * (Opzionale) Booleano che indica se allineare a destra l'heading del componente.
         * Default false.
         */
        this.nbpPullRight = false;
        /**
         * Evento emesso sul toggle del componente.
         * @param {EventEmitter<NbpAccordionEvent>}  nbpOnToggle
         */
        this.nbpOnToggle = new _angular_core.EventEmitter();
    }
    //     Methods
    /**
     * metodo utilizzabile per lapertura programmatica
     */
    NbpAccordionButtonComponent.prototype.open = function () {
        this.nbpCollapsed = false;
    };
    /**
     * metodo utilizzabile per la chiusura programmatica
     */
    NbpAccordionButtonComponent.prototype.close = function () {
        this.nbpCollapsed = true;
    };
    /**
     * metodo utilizzabile per verificare se il componente  collassato
     */
    NbpAccordionButtonComponent.prototype.isCollapsed = function () {
        return this.nbpCollapsed;
    };
    NbpAccordionButtonComponent.prototype.ngOnInit = function () {
    };
    NbpAccordionButtonComponent.prototype._toggleCollapse = function () {
        this.nbpCollapsed = !this.nbpCollapsed;
        this._onToggle();
    };
    NbpAccordionButtonComponent.prototype._onToggle = function () {
        var acordionEvent = new NbpAccordionEvent();
        acordionEvent.source = this;
        acordionEvent.isCollapsed = this.nbpCollapsed;
        this.nbpOnToggle.emit(acordionEvent);
    };
    return NbpAccordionButtonComponent;
}());
__decorate$71([
    _angular_core.Input(),
    __metadata$55("design:type", String)
], exports.NbpAccordionButtonComponent.prototype, "id", void 0);
__decorate$71([
    _angular_core.Input(),
    __metadata$55("design:type", String)
], exports.NbpAccordionButtonComponent.prototype, "nbpTitle", void 0);
__decorate$71([
    _angular_core.Input(),
    __metadata$55("design:type", Boolean)
], exports.NbpAccordionButtonComponent.prototype, "nbpCollapsed", void 0);
__decorate$71([
    _angular_core.Input(),
    __metadata$55("design:type", String)
], exports.NbpAccordionButtonComponent.prototype, "nbpIcon", void 0);
__decorate$71([
    _angular_core.Input(),
    __metadata$55("design:type", Boolean)
], exports.NbpAccordionButtonComponent.prototype, "nbpPullRight", void 0);
__decorate$71([
    _angular_core.Output(),
    __metadata$55("design:type", _angular_core.EventEmitter)
], exports.NbpAccordionButtonComponent.prototype, "nbpOnToggle", void 0);
exports.NbpAccordionButtonComponent = __decorate$71([
    _angular_core.Component({
        selector: 'nbp-accordion-button',template: "<div class=\"panel nbp-panel-button\"><div class=\"panel-heading\" role=\"button\" [ngClass]=\"{'panel-heading-round': !isCollapsed(), 'pull-right': nbpPullRight}\" role=\"tab\" [id]=\"id\" (click)=\"_toggleCollapse()\"><h4 class=\"panel-title\"><span class=\"icon accordion-icon\" [ngClass]=\"nbpIcon\" *ngIf=\"!!nbpIcon\"></span> <span class=\"title\" [ngClass]=\"{'accordion-title-icon':!!nbpIcon}\">{{nbpTitle}}</span><br><span [ngClass]=\"{'triangolo-bottom-accordion': isCollapsed(), 'triangolo-top-accordion': !isCollapsed()}\"></span></h4></div><div class=\"panel-collapse\" [ngClass]=\"{'in panel-open':!isCollapsed()}\"><div class=\"panel-body\"><ng-content></ng-content></div></div></div>",
        animations: [],
        styles: [".panel{box-shadow:none}.panel .panel-open{background-color:#f2f2f2!important;border:.0625em!important;border-color:#6f6f6f;margin-top:.625em}.panel-heading{text-align:center;border:.0625em solid #258900!important;box-shadow:none;color:#258900;background-color:#fff;padding:1em 1.25em 1em 1.25em!important;height:3.125em;width:18.75em;border-radius:1.5625em}.panel-heading:hover{cursor:pointer;background-color:#258900!important}.panel-heading:hover .panel-title{color:#fff}.panel-heading:hover .triangolo-top-accordion{border-color:transparent transparent #fff transparent}.panel-heading:hover .triangolo-bottom-accordion{border-color:#fff transparent transparent transparent}.panel-heading.panel-heading-round{background-color:#258900!important}.panel-heading.panel-heading-round .panel-title{color:#fff}.panel-heading.panel-heading-round .triangolo-top-accordion{border-color:transparent transparent #fff transparent}.panel-heading.panel-heading-round .triangolo-bottom-accordion{border-color:#fff transparent transparent transparent}.panel-heading .panel-title{color:#258900;font-weight:700;font-size:.75em!important;text-transform:uppercase}.panel-heading .accordion-arrow{color:#000;position:relative;font-size:1.625em!important;margin-top:1.156em}.panel-heading .triangolo-top-accordion{border-style:solid;border-width:0 .4375em .4375em .4375em;border-color:transparent transparent #258900 transparent;display:inline-block!important}.panel-heading .triangolo-bottom-accordion{border-style:solid;border-width:.4375em .4375em 0 .4375em;border-color:#258900 transparent transparent transparent;display:inline-block!important}.panel-heading .stringa{color:#fff;font-size:.75em!important;margin-right:1.875em;font-weight:700;font-family:arial}.panel-heading h4{margin:0;font-size:1em}.panel-body{border:.0625em!important;box-shadow:none;background-color:#f2f2f2!important}.panel-collapse{width:100%;border:.0625em!important;box-shadow:none;background-color:#f2f2f2!important;max-height:0;overflow:hidden}.panel-collapse.in{max-height:1000em}.panelTitle{font-size:.875em;font-weight:700;text-transform:uppercse}.accordionIcon{font-size:2em;position:absolute;top:.5625em}.nbp-panel-button>.panel-heading{background-color:#fff;position:relative}.nbp-panel-button>.panel-heading .accordion-icon{font-size:2em;position:absolute;top:.5625em}.nbp-panel-button>.panel-heading>.panel-title{font-size:.875em;font-weight:700;text-transform:uppercse}.nbp-panel-button>.panel-heading>.panel-title>.title{padding:.125em .125em .125em 0}.nbp-panel-button>.panel-heading>.panel-title .accordion-title-icon{padding:.125em .125em .125em 3.25em!important;margin-bottom:.625em}.nbp-panel-button>.panel-heading>.panel-open{background-color:#5ca740!important}:host-context(.contrasto-on) .panel .panel-open{background-color:#fff!important;color:#000}:host-context(.contrasto-on) .panel .panel-open .panel-title{color:#000}:host-context(.contrasto-on) .panel .panel-open .stringa{color:#000}:host-context(.contrasto-on) .panel .panel-open .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel-heading{background-color:#000!important}:host-context(.contrasto-on) .panel-heading:hover{background-color:#fff!important;color:#000;border:.0625em solid #000!important}:host-context(.contrasto-on) .panel-heading:hover .panel-title{color:#000}:host-context(.contrasto-on) .panel-heading:hover .stringa{color:#000}:host-context(.contrasto-on) .panel-heading:hover .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel-heading:hover .triangolo-top-accordion{border-color:transparent transparent #000 transparent}:host-context(.contrasto-on) .panel-heading:hover .triangolo-bottom-accordion{border-color:#000 transparent transparent transparent}:host-context(.contrasto-on) .panel-heading .panel-title{color:#fff}:host-context(.contrasto-on) .panel-heading .accordion-arrow{color:#fff}:host-context(.contrasto-on) .panel-heading .stringa{color:#fff}:host-context(.contrasto-on) .panel-body{background-color:#fff!important;border-top:none!important;color:#000}:host-context(.contrasto-on) .accordion-green-header>.panel-heading{background-color:#000!important}:host-context(.contrasto-on) .accordion-green-header>.panel-heading:hover{background-color:#fff!important;color:#000;border:.0625em solid #000}:host-context(.contrasto-on) .accordion-green-header>.panel-open{background-color:#fff!important;color:#000;border:.0625em solid #000!important}:host-context(.contrasto-on) .triangolo-top-accordion{border-color:transparent transparent #fff transparent}:host-context(.contrasto-on) .triangolo-bottom-accordion{border-color:#fff transparent transparent transparent} /*# sourceMappingURL=nbp-accordion-button.component.css.map */ "]
    }),
    __metadata$55("design:paramtypes", [])
], exports.NbpAccordionButtonComponent);

var __decorate$72 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$56 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$13 = 0;
exports.NbpAccordionShowmoreComponent = (function () {
    function NbpAccordionShowmoreComponent() {
        this.id = "nbp-accordion-showmore-" + ++nextId$13;
        /**
         * (Opzionale) Booleano che pilota la visualizzazione iniziale dellaccordion collassato o espanso.
         *Default accordion collassato.
         */
        this.nbpCollapsed = true;
        /**
         * (Opzionale) Booleano che indica se allineare a destra l'heading del componente.
         * Default false.
         */
        this.nbpPullRight = false;
        /**
         * Evento emesso sul toggle del componente.
         * @param {EventEmitter<NbpAccordionEvent>}  nbpOnToggle
         */
        this.nbpOnToggle = new _angular_core.EventEmitter();
    }
    //     Methods
    /**
     * metodo utilizzabile per lapertura programmatica
     */
    NbpAccordionShowmoreComponent.prototype.open = function () {
        this.nbpCollapsed = false;
    };
    /**
     * metodo utilizzabile per la chiusura programmatica
     */
    NbpAccordionShowmoreComponent.prototype.close = function () {
        this.nbpCollapsed = true;
    };
    /**
     * metodo utilizzabile per verificare se il componente  collassato
     */
    NbpAccordionShowmoreComponent.prototype.isCollapsed = function () {
        return this.nbpCollapsed;
    };
    NbpAccordionShowmoreComponent.prototype.ngOnInit = function () {
    };
    NbpAccordionShowmoreComponent.prototype._toggleCollapse = function () {
        this.nbpCollapsed = !this.nbpCollapsed;
        this._onToggle();
    };
    NbpAccordionShowmoreComponent.prototype._onToggle = function () {
        var acordionEvent = new NbpAccordionEvent();
        acordionEvent.source = this;
        acordionEvent.isCollapsed = this.nbpCollapsed;
        this.nbpOnToggle.emit(acordionEvent);
    };
    return NbpAccordionShowmoreComponent;
}());
__decorate$72([
    _angular_core.Input(),
    __metadata$56("design:type", String)
], exports.NbpAccordionShowmoreComponent.prototype, "id", void 0);
__decorate$72([
    _angular_core.Input(),
    __metadata$56("design:type", String)
], exports.NbpAccordionShowmoreComponent.prototype, "nbpTitle", void 0);
__decorate$72([
    _angular_core.Input(),
    __metadata$56("design:type", Boolean)
], exports.NbpAccordionShowmoreComponent.prototype, "nbpCollapsed", void 0);
__decorate$72([
    _angular_core.Input(),
    __metadata$56("design:type", String)
], exports.NbpAccordionShowmoreComponent.prototype, "nbpIcon", void 0);
__decorate$72([
    _angular_core.Input(),
    __metadata$56("design:type", Boolean)
], exports.NbpAccordionShowmoreComponent.prototype, "nbpPullRight", void 0);
__decorate$72([
    _angular_core.Output(),
    __metadata$56("design:type", _angular_core.EventEmitter)
], exports.NbpAccordionShowmoreComponent.prototype, "nbpOnToggle", void 0);
exports.NbpAccordionShowmoreComponent = __decorate$72([
    _angular_core.Component({
        selector: 'nbp-accordion-showmore',template: "<div class=\"panel nbp-panel-showmore\"><div class=\"panel-heading\" [ngClass]=\"{'panel-heading-round': isCollapsed(), 'pull-right': nbpPullRight}\" role=\"tab\" [id]=\"id\" (click)=\"_toggleCollapse()\"><h4 class=\"panel-title\"><span class=\"icon accordion-icon\" [ngClass]=\"nbpIcon\" *ngIf=\"!!nbpIcon\"></span> <span class=\"title\" [ngClass]=\"{'accordion-title-icon':!!nbpIcon}\">{{nbpTitle}}</span> <a role=\"button\" class=\"collapsed pull-right\"><span style=\"font-size: 1.6em\" [ngClass]=\"{'icon ico-comuni-freccia-accordion-apri':isCollapsed() , 'icon ico-comuni-freccia-accordion-chiudi':!isCollapsed()}\"></span></a></h4></div><div class=\"panel-collapse\" [ngClass]=\"{'in panel-open':!isCollapsed()}\"><div class=\"panel-body\"><ng-content></ng-content></div></div></div>",
        animations: [],
        styles: [".panel{border:1px!important;border-color:#fff;box-shadow:none}.panel .panel-open{background-color:#f2f2f2!important;border:1px!important;border-color:#6f6f6f}.panel-heading{border:1px!important;box-shadow:none;color:#258900;border-color:#6f6f6f;background-color:#fff;padding:1em 1.25em 1em 0!important;height:50px;width:18.75em}.panel-heading:hover{cursor:pointer}.panel-heading .panel-title{color:green;font-weight:700;font-size:.75em!important;text-transform:uppercase;text-align:center}.panel-heading .accordion-arrow{color:#000;position:relative;font-size:26px!important;margin-top:1.156em}.panel-heading .stringa{color:#fff;font-size:.75em!important;margin-right:1.875em;font-weight:700;font-family:arial}.panel-heading h4{margin:0;font-size:1em}.panel-body{border:1px!important;box-shadow:none;background-color:#f2f2f2!important;border-radius:0 0 2px 2px!important}.panel-collapse{width:100%;border:1px!important;box-shadow:none;background-color:#f2f2f2!important;border-radius:0 0 2px 2px!important;max-height:0;transition:max-height .15s ease-out;overflow:hidden}.panel-collapse.in{max-height:1000em;transition:max-height .25s ease-in}.panelTitle{font-size:.875em;font-weight:700}.accordionIcon{font-size:32px;position:absolute;top:9px}.nbp-panel-showmore a{text-decoration:none!important;margin-top:-3px;margin-right:4.962em}.nbp-panel-showmore>.panel-heading{background-color:#fff!important;position:relative}.nbp-panel-showmore>.panel-heading .accordion-icon{font-size:32px;position:absolute;top:9px}.nbp-panel-showmore>.panel-heading>.panel-title{font-size:.875em;font-weight:700;text-align:left!important}.nbp-panel-showmore>.panel-heading>.panel-title>.title{padding:2px 20px 2px 0}.nbp-panel-showmore>.panel-heading>.panel-title .accordion-title-icon{padding:2px 2px 2px 52px!important;margin-bottom:10px}.nbp-panel-showmore>.panel-heading>.panel-open{background-color:#5ca740!important}:host-context(.contrasto-on) .panel .panel-open{background-color:#fff!important;color:#000}:host-context(.contrasto-on) .panel .panel-open .panel-title{color:#000}:host-context(.contrasto-on) .panel .panel-open .stringa{color:#000}:host-context(.contrasto-on) .panel .panel-open .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel-heading{background-color:#fff!important}:host-context(.contrasto-on) .panel-heading .panel-title{color:#000}:host-context(.contrasto-on) .panel-heading .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel-heading .stringa{color:#000}:host-context(.contrasto-on) .panel-body{background-color:#fff!important;border-top:none!important;color:#000}:host-context(.contrasto-on) .accordion-green-header>.panel-heading{background-color:#000!important}:host-context(.contrasto-on) .accordion-green-header>.panel-heading:hover{background-color:#fff!important;color:#000;border:1px solid #000}:host-context(.contrasto-on) .accordion-green-header>.panel-open{background-color:#fff!important;color:#000;border:1px solid #000!important} /*# sourceMappingURL=nbp-accordion-showmore.component.css.map */ "]
    }),
    __metadata$56("design:paramtypes", [])
], exports.NbpAccordionShowmoreComponent);

var __decorate$73 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$57 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$14 = 0;
exports.NbpAccordionShowmoreCircleComponent = (function () {
    function NbpAccordionShowmoreCircleComponent() {
        this.id = "nbp-accordion-showmore-circle-" + ++nextId$14;
        /**
         * (Opzionale) Booleano che pilota la visualizzazione iniziale dellaccordion collassato o espanso.
         *Default accordion collassato.
         */
        this.nbpCollapsed = true;
        /**
         * (Opzionale) Stringa che indica l'allineamento del Title desiderato.
         *  Possibili valori : right, left, center
         *  Default allineamento : center.
         */
        this.nbpTitleAlign = "center";
        /**
         * (Opzionale) Stringa che indica l'allineamento del Body desiderato.
         *  Possibili valori : right, left, center
         *  Default allineamento : right.
         */
        this.nbpBodyAlign = "right";
        /**
       * Evento emesso sul toggle del componente.
       * @param {EventEmitter<NbpAccordionEvent>}  nbpOnToggle
       */
        this.nbpOnToggle = new _angular_core.EventEmitter();
    }
    //     Methods
    /**
     * metodo utilizzabile per lapertura programmatica
     */
    NbpAccordionShowmoreCircleComponent.prototype.open = function () {
        this.nbpCollapsed = false;
    };
    /**
     * metodo utilizzabile per la chiusura programmatica
     */
    NbpAccordionShowmoreCircleComponent.prototype.close = function () {
        this.nbpCollapsed = true;
    };
    /**
     * metodo utilizzabile per verificare se il componente  collassato
     */
    NbpAccordionShowmoreCircleComponent.prototype.isCollapsed = function () {
        return this.nbpCollapsed;
    };
    NbpAccordionShowmoreCircleComponent.prototype._toggleCollapse = function () {
        this.nbpCollapsed = !this.nbpCollapsed;
        this._onToggle();
    };
    NbpAccordionShowmoreCircleComponent.prototype._onToggle = function () {
        var acordionEvent = new NbpAccordionEvent();
        // acordionEvent.source = this;
        acordionEvent.isCollapsed = this.nbpCollapsed;
        this.nbpOnToggle.emit(acordionEvent);
    };
    return NbpAccordionShowmoreCircleComponent;
}());
__decorate$73([
    _angular_core.Input(),
    __metadata$57("design:type", String)
], exports.NbpAccordionShowmoreCircleComponent.prototype, "id", void 0);
__decorate$73([
    _angular_core.Input(),
    __metadata$57("design:type", String)
], exports.NbpAccordionShowmoreCircleComponent.prototype, "nbpTitle", void 0);
__decorate$73([
    _angular_core.Input(),
    __metadata$57("design:type", Boolean)
], exports.NbpAccordionShowmoreCircleComponent.prototype, "nbpCollapsed", void 0);
__decorate$73([
    _angular_core.Input(),
    __metadata$57("design:type", String)
], exports.NbpAccordionShowmoreCircleComponent.prototype, "nbpTitleAlign", void 0);
__decorate$73([
    _angular_core.Input(),
    __metadata$57("design:type", String)
], exports.NbpAccordionShowmoreCircleComponent.prototype, "nbpBodyAlign", void 0);
__decorate$73([
    _angular_core.Output(),
    __metadata$57("design:type", _angular_core.EventEmitter)
], exports.NbpAccordionShowmoreCircleComponent.prototype, "nbpOnToggle", void 0);
exports.NbpAccordionShowmoreCircleComponent = __decorate$73([
    _angular_core.Component({
        selector: 'nbp-accordion-showmore-circle',template: "<div><div class=\"panel-heading\" role=\"tab\" [id]=\"id\" [style.text-align]=\"nbpTitleAlign\" (click)=\"_toggleCollapse()\"><h4 class=\"panel-title\"><span>{{nbpTitle}}</span> <a role=\"button\" class=\"collapsed\"><span class=\"accordion-arrow-round\" [ngClass]=\"{'icomoon-Simboli_Risorsa-15':isCollapsed() , 'icomoon-Simboli_Risorsa-14':!isCollapsed()}\"></span></a></h4></div><div class=\"panel-collapse\" [style.text-align]=\"nbpBodyAlign\" [ngClass]=\"{'in panel-open':!isCollapsed()}\"><div class=\"panel-body\"><ng-content></ng-content></div></div></div>",
        animations: [],
        styles: ["a:focus,a:hover{text-decoration:none}.panel{border:1px!important;border-color:#fff;box-shadow:none}.panel .panel-open{background-color:#f2f2f2!important;border:1px!important;border-color:#6f6f6f}.panel-heading{border:1px!important;box-shadow:none;color:#258900;border-color:#6f6f6f;background-color:#fff;padding:1em 1.25em 1em 0!important;height:50px}.panel-heading:hover{cursor:pointer}.panel-heading h4{margin:0;font-size:1em}.panel-heading .panel-title{color:green;font-weight:700;font-size:.75em!important;text-transform:uppercase}.panel-heading .accordion-arrow-round{color:#000;position:relative;font-size:30px;vertical-align:middle;margin-left:8px}.panel-body{margin-top:5px;border:1px!important;box-shadow:none;background-color:#f2f2f2!important;border-radius:0 0 2px 2px!important}.panel-collapse{width:100%;margin-top:5px;border:1px!important;box-shadow:none;background-color:#f2f2f2!important;border-radius:0 0 2px 2px!important;max-height:0;transition:max-height .15s ease-out;overflow:hidden}.panel-collapse.in{max-height:1000em;transition:max-height .25s ease-in}.panelTitle{font-size:.875em;font-weight:700}:host-context(.contrasto-on) .panel .panel-open{background-color:#fff!important;color:#000}:host-context(.contrasto-on) .panel .panel-open .panel-title{color:#000}:host-context(.contrasto-on) .panel .panel-open .stringa{color:#000}:host-context(.contrasto-on) .panel .panel-open .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel-heading{background-color:#fff!important}:host-context(.contrasto-on) .panel-heading .panel-title{color:#000}:host-context(.contrasto-on) .panel-heading .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel-heading .stringa{color:#000}:host-context(.contrasto-on) .panel-body{background-color:#fff!important;border-top:none!important;color:#000}:host-context(.contrasto-on) .accordion-green-header>.panel-heading{background-color:#000!important}:host-context(.contrasto-on) .accordion-green-header>.panel-heading:hover{background-color:#fff!important;color:#000;border:1px solid #000}:host-context(.contrasto-on) .accordion-green-header>.panel-open{background-color:#fff!important;color:#000;border:1px solid #000!important}:host-context(.contrasto-on) .panel-collapse{background-color:#fff!important} /*# sourceMappingURL=nbp-accordion-showmore-circle.component.css.map */ "]
    }),
    __metadata$57("design:paramtypes", [])
], exports.NbpAccordionShowmoreCircleComponent);

var __extends$21 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$74 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$58 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$14 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/** intero autogenerato usato per id unici per radio component */
var nextId$15 = 0;
/**
 * Provider Expression that allows nbp-radio to register as a ControlValueAccessor.
 * This allows it to support [(ngModel)].
 * @docs-private
 */
var NBP_RADIO_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpRadioComponent; }),
    multi: true
};
/**
 * <nbp-radio> provides the same functionality as a native <input type="radio">
 */
exports.NbpRadioComponent = (function (_super) {
    __extends$21(NbpRadioComponent, _super);
    function NbpRadioComponent(validatori, asyncValidatori, parentFormContainer) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        _this.parentFormContainer = parentFormContainer;
        /**
         * Identificativo univoco per il radio button. Se non viene passato un valore, l'id viene autogenerato.
         */
        _this.id = "nbp-radio-" + ++nextId$15;
        _this._nbpChecked = false;
        _this._nbpNullable = false;
        /**
         * Event emitted when the radio's `checked` value changes.
         */
        _this.change = new _angular_core.EventEmitter(); // TODO definire tipo specifico dell'evento
        /**
         * (Opzionale) Paramentro che indica l'ordine di spostamento da un campo all'altro attraverso il tab.
         */
        _this.tabindex = 0;
        _this.propagateChange = function (value) {
            console.log('NbpRadio: eseguita funzione propagateChange ' + value);
        };
        return _this;
    }
    Object.defineProperty(NbpRadioComponent.prototype, "value", {
        get: function () { return this._nbpValue; },
        set: function (newValue) {
            if (this._nbpValue !== newValue) {
                // Set this before proceeding to ensure no circular loop occurs with selection.
                this._nbpValue = newValue;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpRadioComponent.prototype, "disabled", {
        get: function () {
            if (this.parentFormContainer && this.parentFormContainer.disabled) {
                this._nbpDisabled = true;
            }
            return this._nbpDisabled;
        },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpRadioComponent.prototype, "required", {
        /**
        * (Opzionale) Booleano che imposta come obbligatorio o meno del campo associato al radio button.
        * Valore di dafault false.
        */
        get: function () { return this._nbpRequired; },
        set: function (value) { this._nbpRequired = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpRadioComponent.prototype, "checked", {
        /**
        * (Opzionale) Booleano che imposta come 'checked' o meno il radio button.
        * Valore di dafault false.
        */
        get: function () {
            return this._nbpChecked;
        },
        set: function (value) {
            this._nbpChecked = coerceBooleanProperty(value);
            /*old code
            if (this._nbpChecked !== checked) {
              this._nbpChecked = checked;
            }*/
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpRadioComponent.prototype, "nbpDisplayInline", {
        /**
         *(opzionale)Booleano che imposta, se presente, la propriet CSS display dellelemento a inline-block
         *valore default false
         */
        get: function () { return this._nbpDisplayInline; },
        set: function (value) { this._nbpDisplayInline = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpRadioComponent.prototype, "nbpYellowBorder", {
        /**
        * (Opzionale) Booleano, se presente, lattributo abilita il bordo giallo della radio-button.
        * Al primo click/focus torner alla versione di default.
        * Valore di default false.
        */
        get: function () {
            return this._nbpYellowBorder;
        },
        set: function (value) {
            this._nbpYellowBorder = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpRadioComponent.prototype, "nbpNullable", {
        /**
         * (Opzionale) Permettere di rendere deselezionabile il radiobutton
         * valore di default false
         */
        get: function () { return this._nbpNullable; },
        set: function (value) {
            this._nbpNullable = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    NbpRadioComponent.prototype.ngOnInit = function () {
        if (!this.nbpShowValidation) {
            this.nbpShowValidation = false;
        }
        if (!this.nbpDisplayInline) {
            this.nbpDisplayInline = false;
        }
        if (!this.nbpYellowBorder) {
            this.nbpYellowBorder = false;
        }
        if (this.firstFocus) {
            this.focusOn = true;
            this.elementRef.nativeElement.focus(this.focusFn());
        }
    };
    NbpRadioComponent.prototype.focusFn = function () {
        this.focusOn = true;
    };
    NbpRadioComponent.prototype._onFocusEvent = function (event) {
        // event.stopPropagation();
        this.nbpYellowBorder = false;
    };
    NbpRadioComponent.prototype._tabFocusOn = function () {
        this.focusOn = true;
    };
    NbpRadioComponent.prototype._tabFocusOff = function () {
        this.focusOn = false;
    };
    NbpRadioComponent.prototype._shiftTabFocusOn = function () {
        this.focusOn = true;
    };
    NbpRadioComponent.prototype._shiftTabFocusOff = function () {
        this.focusOn = false;
    };
    NbpRadioComponent.prototype.writeValue = function (value) {
        this.checked = this.value === value;
        // this.value = value;
    };
    NbpRadioComponent.prototype.registerOnChange = function (fn) {
        this.propagateChange = fn;
    };
    NbpRadioComponent.prototype._onChangeEvent = function (event) {
        event.stopPropagation();
        this.change.next(event);
    };
    NbpRadioComponent.prototype._onClickEvent = function (event) {
        event.stopPropagation();
        this.focusOn = false;
        if (!this.disabled) {
            this.checked = this.nbpNullable ? !this.checked : true;
            if (this.checked) {
                this.model = this.value;
            }
            else {
                this.model = null;
            }
            if (this._nbpYellowBorder) {
                this.nbpYellowBorder = false;
            }
        }
        this._emitChangeEvent(event);
    };
    NbpRadioComponent.prototype._emitChangeEvent = function (event) {
        this.change.emit(this.model);
        this.propagateChange(this.model);
    };
    return NbpRadioComponent;
}(NbpInputElementBase));
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", String)
], exports.NbpRadioComponent.prototype, "id", void 0);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", String)
], exports.NbpRadioComponent.prototype, "name", void 0);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Object),
    __metadata$58("design:paramtypes", [Object])
], exports.NbpRadioComponent.prototype, "value", null);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Boolean),
    __metadata$58("design:paramtypes", [Object])
], exports.NbpRadioComponent.prototype, "disabled", null);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Boolean),
    __metadata$58("design:paramtypes", [Object])
], exports.NbpRadioComponent.prototype, "required", null);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Boolean),
    __metadata$58("design:paramtypes", [Object])
], exports.NbpRadioComponent.prototype, "checked", null);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", String)
], exports.NbpRadioComponent.prototype, "nbpLabel", void 0);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Boolean)
], exports.NbpRadioComponent.prototype, "nbpShowValidation", void 0);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Boolean),
    __metadata$58("design:paramtypes", [Object])
], exports.NbpRadioComponent.prototype, "nbpDisplayInline", null);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Boolean),
    __metadata$58("design:paramtypes", [Object])
], exports.NbpRadioComponent.prototype, "nbpYellowBorder", null);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", String)
], exports.NbpRadioComponent.prototype, "nbpIcon", void 0);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", String)
], exports.NbpRadioComponent.prototype, "nbpSelectionSign", void 0);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Boolean),
    __metadata$58("design:paramtypes", [Object])
], exports.NbpRadioComponent.prototype, "nbpNullable", null);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", String)
], exports.NbpRadioComponent.prototype, "nbpErrorMessage", void 0);
__decorate$74([
    _angular_core.Output(),
    __metadata$58("design:type", _angular_core.EventEmitter)
], exports.NbpRadioComponent.prototype, "change", void 0);
__decorate$74([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$58("design:type", _angular_forms.NgModel)
], exports.NbpRadioComponent.prototype, "model", void 0);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Boolean)
], exports.NbpRadioComponent.prototype, "firstFocus", void 0);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Boolean)
], exports.NbpRadioComponent.prototype, "focusOn", void 0);
__decorate$74([
    _angular_core.Input(),
    __metadata$58("design:type", Number)
], exports.NbpRadioComponent.prototype, "tabindex", void 0);
__decorate$74([
    _angular_core.ViewChild('autoFocusRadio'),
    __metadata$58("design:type", _angular_core.ElementRef)
], exports.NbpRadioComponent.prototype, "elementRef", void 0);
exports.NbpRadioComponent = __decorate$74([
    _angular_core.Component({
        selector: 'nbp-radio',template: "<div class=\"iradio-container\" [ngStyle]=\"{'display': nbpDisplayInline ? 'inline-block' : 'block'}\" [ngClass]=\"{'checked': checked && !disabled, 'disabled': disabled, 'yellowborder': nbpYellowBorder}\"><div class=\"iradio_intesa\" [ngClass]=\"{'checked': checked, 'iradio_intesa_spunta': nbpSelectionSign === 'spunta', 'yellowborder': nbpYellowBorder, 'disabled': disabled, 'focusTabRadio': focusOn}\"><input [id]=\"id\" [name]=\"name\" [checked]=\"checked\" type=\"radio\" [value]=\"value\" [disabled]=\"disabled\" [required]=\"required\" (click)=\"_onClickEvent($event)\" (change)=\"_onChangeEvent($event)\" (focusout)=\"_tabFocusOff()\" (keyup.tab)=\"_tabFocusOn()\" (keydown.tab)=\"_tabFocusOff()\" (keydown.shift.tab)=\"_shiftTabFocusOff()\" (keyup.shift.tab)=\"_shiftTabFocusOn()\" [tabindex]=\"tabindex\" #autoFocusRadio></div><span *ngIf=\"!!nbpIcon\" class=\"icon radio-icon\" [ngClass]=\"nbpIcon\"></span> <label *ngIf=\"nbpLabel\" [ngClass]=\"{'radio-label-icon': nbpIcon , 'radio-label': !nbpIcon}\" [for]=\"id\">{{nbpLabel}}</label> <label *ngIf=\"!nbpLabel\" [ngClass]=\"{'radio-label-icon': nbpIcon , 'radio-label': !nbpIcon}\" [for]=\"id\"><ng-content></ng-content></label></div>",
        styles: [".iradio-container{margin-right:.625em}.iradio-container.checked .radio-label{color:#258900!important}.iradio-container.checked .radio-label-icon{color:#258900!important}.iradio-container.checked .radio-icon{color:#258900!important}.iradio-container.disabled .radio-label{opacity:.5}.iradio_intesa{position:relative;display:inline-block;vertical-align:middle;margin:0;padding:0;width:22px;height:22px;background:url(/cjlib/assets/images/intesa.png) no-repeat;border:none;background-position:-222px -1px}.iradio_intesa input[type=radio]{margin:4px 4px 0 0!important;cursor:pointer;opacity:0}.iradio_intesa input[type=radio]:disabled{cursor:auto}.iradio_intesa.yellowborder{background-position:-294px -1px}.focusTabRadio{box-shadow:0 0 .05em .23em rgba(37,137,0,.6)!important}.iradio_intesa_spunta.checked{background-position:-330px -1px!important}.iradio_intesa_spunta.checked.yellowborder{background-position:-617px -1px!important}.iradio_intesa_spunta.checked.disabled{opacity:.5}.iradio_intesa.checked{background-position:-186px -1px}.iradio_intesa.checked.yellowborder{background-position:-258px -1px}.iradio_intesa.disabled{opacity:.5}.iradio_intesa.checked.disabled{opacity:.5}.radio-label{color:#323232;font-size:.875em!important;font-weight:400;margin:0 0 0 10px!important}.radio-label-icon{padding-left:.825em;padding-bottom:.8125em;display:table-cell!important;vertical-align:middle;font-size:.875em!important;font-weight:400}.radio-icon{font-size:2em!important;vertical-align:middle;margin:5px 0 0 15px!important}.radio-error-message{color:#c63200;font-size:.75em;margin-top:0;margin-bottom:.625em;opacity:1}.radio-error-message.ng-hide-add{transition:all ease-out .25s}.radio-error-message.ng-hide-remove{transition:all ease-out .25s}.radio-error-message.ng-hide{opacity:0;margin-top:-.625em}@media (-o-min-device-pixel-ratio:5/4){.iradio_intesa{background-image:url(/cjlib/assets/images/intesa@2x.png);-webkit-background-size:1156px 22px;background-size:1156px 22px}.iradio_intesa{background-position:-193px -1px}.iradio_intesa.yellowborder{background-position:-473px -1px}.iradio_intesa_spunta.checked{background-position:-287px -1px!important}.iradio_intesa_spunta.checked.yellowborder{background-position:-538px -1px!important}.iradio_intesa_spunta.checked.disabled{background-position:-287px -1px!important}.iradio_intesa_spunta.checked.disabled.yellowborder{background-position:-538px -1px!important}.iradio_intesa.checked{background-position:-162px -1px}.iradio_intesa.checked.yellowborder{background-position:-505px -1px}.iradio_intesa.disabled{background-position:-193px -1px;cursor:default}.iradio_intesa.disabled.yellowborder{background-position:-473px -1px}.iradio_intesa.checked.disabled{background-position:-162px -1px}.iradio_intesa.checked.disabled.yellowborder{background-position:-505px -1px}}@media (-webkit-min-device-pixel-ratio:1.25){.iradio_intesa{background-image:url(/cjlib/assets/images/intesa@2x.png);-webkit-background-size:1156px 22px;background-size:1156px 22px}.iradio_intesa{background-position:-193px -1px}.iradio_intesa.yellowborder{background-position:-473px -1px}.iradio_intesa_spunta.checked{background-position:-287px -1px!important}.iradio_intesa_spunta.checked.yellowborder{background-position:-538px -1px!important}.iradio_intesa_spunta.checked.disabled{background-position:-287px -1px!important}.iradio_intesa_spunta.checked.disabled.yellowborder{background-position:-538px -1px!important}.iradio_intesa.checked{background-position:-162px -1px}.iradio_intesa.checked.yellowborder{background-position:-505px -1px}.iradio_intesa.disabled{background-position:-193px -1px;cursor:default}.iradio_intesa.disabled.yellowborder{background-position:-473px -1px}.iradio_intesa.checked.disabled{background-position:-162px -1px}.iradio_intesa.checked.disabled.yellowborder{background-position:-505px -1px}}@media (min-resolution:120dpi){.iradio_intesa{background-image:url(/cjlib/assets/images/intesa@2x.png);-webkit-background-size:1156px 22px;background-size:1156px 22px}.iradio_intesa{background-position:-193px -1px}.iradio_intesa.yellowborder{background-position:-473px -1px}.iradio_intesa_spunta.checked{background-position:-287px -1px!important}.iradio_intesa_spunta.checked.yellowborder{background-position:-538px -1px!important}.iradio_intesa_spunta.checked.disabled{background-position:-287px -1px!important}.iradio_intesa_spunta.checked.disabled.yellowborder{background-position:-538px -1px!important}.iradio_intesa.checked{background-position:-162px -1px}.iradio_intesa.checked.yellowborder{background-position:-505px -1px}.iradio_intesa.disabled{background-position:-193px -1px;cursor:default}.iradio_intesa.disabled.yellowborder{background-position:-473px -1px}.iradio_intesa.checked.disabled{background-position:-162px -1px}.iradio_intesa.checked.disabled.yellowborder{background-position:-505px -1px}}@media (min-resolution:1.25dppx){.iradio_intesa{background-image:url(/cjlib/assets/images/intesa@2x.png);-webkit-background-size:1156px 22px;background-size:1156px 22px}.iradio_intesa{background-position:-193px -1px}.iradio_intesa.yellowborder{background-position:-473px -1px}.iradio_intesa_spunta.checked{background-position:-287px -1px!important}.iradio_intesa_spunta.checked.yellowborder{background-position:-538px -1px!important}.iradio_intesa_spunta.checked.disabled{background-position:-287px -1px!important}.iradio_intesa_spunta.checked.disabled.yellowborder{background-position:-538px -1px!important}.iradio_intesa.checked{background-position:-162px -1px}.iradio_intesa.checked.yellowborder{background-position:-505px -1px}.iradio_intesa.disabled{background-position:-193px -1px;cursor:default}.iradio_intesa.disabled.yellowborder{background-position:-473px -1px}.iradio_intesa.checked.disabled{background-position:-162px -1px}.iradio_intesa.checked.disabled.yellowborder{background-position:-505px -1px}}:host-context(.contrasto-on) .iradio-container{margin-right:.625em}:host-context(.contrasto-on) .iradio-container.checked .radio-label{color:#000!important}:host-context(.contrasto-on) .iradio-container.disabled .radio-label{color:#000!important}:host-context(.contrasto-on) .iradio_intesa{background:url(/cjlib/assets/images/intesa.png) no-repeat;background-position:-1155px -1px}:host-context(.contrasto-on) .iradio_intesa.yellowborder{background-position:-1155px -1px}:host-context(.contrasto-on) .iradio_intesa_spunta.checked{background-position:-1301px -1px!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.yellowborder{background-position:-1301px -1px!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled{background-position:-1301px -1px!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled.yellowborder{background-position:-1301px -1px!important}:host-context(.contrasto-on) .iradio_intesa.checked{background-position:-1191px -1px}:host-context(.contrasto-on) .iradio_intesa.checked.yellowborder{background-position:-1191px -1px}:host-context(.contrasto-on) .iradio_intesa.disabled{background-position:-1155px -1px;cursor:default}:host-context(.contrasto-on) .iradio_intesa.disabled.yellowborder{background-position:-1155px -1px}:host-context(.contrasto-on) .iradio_intesa.checked.disabled{background-position:-1191px -1px}:host-context(.contrasto-on) .iradio_intesa.checked.disabled.yellowborder{background-position:-1191px -1px}:host-context(.contrasto-on) .radio-label{color:#000}:host-context(.contrasto-on) .radio-error-message{color:#000}@media (-o-min-device-pixel-ratio:5/4){:host-context(.contrasto-on) .iradio_intesa{background-image:url(/cjlib/assets/images/intesa@2x.png);-webkit-background-size:1156px 22px;background-size:1156px 22px}:host-context(.contrasto-on) .iradio_intesa{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa.yellowborder{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.yellowborder{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled.yellowborder{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.yellowborder{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.disabled{background-position:-1007px 0!important;cursor:default}:host-context(.contrasto-on) .iradio_intesa.disabled.yellowborder{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.disabled{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.disabled.yellowborder{background-position:-1037px 0!important}}@media (-webkit-min-device-pixel-ratio:1.25){:host-context(.contrasto-on) .iradio_intesa{background-image:url(/cjlib/assets/images/intesa@2x.png);-webkit-background-size:1156px 22px;background-size:1156px 22px}:host-context(.contrasto-on) .iradio_intesa{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa.yellowborder{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.yellowborder{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled.yellowborder{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.yellowborder{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.disabled{background-position:-1007px 0!important;cursor:default}:host-context(.contrasto-on) .iradio_intesa.disabled.yellowborder{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.disabled{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.disabled.yellowborder{background-position:-1037px 0!important}}@media (min-resolution:120dpi){:host-context(.contrasto-on) .iradio_intesa{background-image:url(/cjlib/assets/images/intesa@2x.png);-webkit-background-size:1156px 22px;background-size:1156px 22px}:host-context(.contrasto-on) .iradio_intesa{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa.yellowborder{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.yellowborder{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled.yellowborder{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.yellowborder{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.disabled{background-position:-1007px 0!important;cursor:default}:host-context(.contrasto-on) .iradio_intesa.disabled.yellowborder{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.disabled{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.disabled.yellowborder{background-position:-1037px 0!important}}@media (min-resolution:1.25dppx){:host-context(.contrasto-on) .iradio_intesa{background-image:url(/cjlib/assets/images/intesa@2x.png);-webkit-background-size:1156px 22px;background-size:1156px 22px}:host-context(.contrasto-on) .iradio_intesa{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa.yellowborder{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.yellowborder{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa_spunta.checked.disabled.yellowborder{background-position:-1133px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.yellowborder{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.disabled{background-position:-1007px 0!important;cursor:default}:host-context(.contrasto-on) .iradio_intesa.disabled.yellowborder{background-position:-1007px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.disabled{background-position:-1037px 0!important}:host-context(.contrasto-on) .iradio_intesa.checked.disabled.yellowborder{background-position:-1037px 0!important}} /*# sourceMappingURL=nbp-radio.component.css.map */ "],
        providers: [NBP_RADIO_CONTROL_VALUE_ACCESSOR]
    }),
    __param$14(0, _angular_core.Optional()), __param$14(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$14(1, _angular_core.Optional()), __param$14(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __param$14(2, _angular_core.Optional()),
    __metadata$58("design:paramtypes", [Array, Array, exports.NbpFormContainerComponent])
], exports.NbpRadioComponent);

var __decorate$75 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
exports.NbpProgressStickyContentComponent = (function () {
    function NbpProgressStickyContentComponent() {
    }
    return NbpProgressStickyContentComponent;
}());
exports.NbpProgressStickyContentComponent = __decorate$75([
    _angular_core.Component({
        selector: 'nbp-progress-sticky-content',template: "<ng-content></ng-content>"
    })
], exports.NbpProgressStickyContentComponent);

var __decorate$76 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$59 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$15 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.NbpFormAutoScrollDirective = (function () {
    function NbpFormAutoScrollDirective(elementRef, inj) {
        this.elementRef = elementRef;
        this.inj = inj;
    }
    NbpFormAutoScrollDirective.prototype.ngOnInit = function () {
        var _this = this;
        this.form = this.inj.get(_angular_forms.NgForm, null);
        this.form.ngSubmit.subscribe(function (submit) {
            // console.log('submit');
            _this.scrollTo(null);
        });
        // console.log('Form detected ' + this.form);
        if (this.submitEvent) {
            this.submitEvent.subscribe(function () {
                _this.scrollTo(null);
            });
        }
    };
    NbpFormAutoScrollDirective.prototype.scrollTo = function (field) {
        try {
            console.dir(this.inputs);
            // tslint:disable-next-line:max-line-length
            var elements = document.querySelectorAll('nbp-input-text.ng-invalid, nbp-combo.ng-invalid, nbp-combo-multi.ng-invalid, nbp-checkbox.ng-invalid, .alert');
            if (elements.length === 0) {
                // console.log('not found');
                return;
            }
            console.dir(elements);
            // console.log('found, scrolling ' + elements[0].name);
            console.dir(elements[0]);
            elements[0].scrollIntoView({ behavior: 'smooth' });
        }
        finally {
            // console.log('scroll done');
        }
    };
    return NbpFormAutoScrollDirective;
}());
__decorate$76([
    _angular_core.Input(),
    __metadata$59("design:type", _angular_core.EventEmitter)
], exports.NbpFormAutoScrollDirective.prototype, "submitEvent", void 0);
__decorate$76([
    _angular_core.ViewChildren('input'),
    __metadata$59("design:type", _angular_core.QueryList)
], exports.NbpFormAutoScrollDirective.prototype, "inputs", void 0);
exports.NbpFormAutoScrollDirective = __decorate$76([
    _angular_core.Directive({
        selector: 'form[autoscroll]',
    }),
    __param$15(0, _angular_core.Inject(_angular_core.ElementRef)),
    __metadata$59("design:paramtypes", [_angular_core.ElementRef,
        _angular_core.Injector])
], exports.NbpFormAutoScrollDirective);

var __decorate$77 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$60 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpPagingComponent = (function () {
    function NbpPagingComponent() {
        /**
         * evento generato al click sul pallino che indica la pagina.
         * Contiene il numero della pagina a cui si desidera tornare.
         */
        this.nbpGoToPage = new _angular_core.EventEmitter();
    }
    /**
     * funzione invocata al click sul pallino che indica la pagina.
     */
    NbpPagingComponent.prototype.onClickPage = function (indice) {
        // debugger;
        this.nbpConfiguration.pages;
        this.nbpGoToPage.emit(indice);
    };
    return NbpPagingComponent;
}());
__decorate$77([
    _angular_core.Input(),
    __metadata$60("design:type", Object)
], exports.NbpPagingComponent.prototype, "nbpConfiguration", void 0);
__decorate$77([
    _angular_core.Output(),
    __metadata$60("design:type", _angular_core.EventEmitter)
], exports.NbpPagingComponent.prototype, "nbpGoToPage", void 0);
exports.NbpPagingComponent = __decorate$77([
    _angular_core.Component({
        selector: 'nbp-paging',template: "<div class=\"page-steps-container col-md-24 border-top-white\"><div class=\"container pad-t-12 pad-b-12 pad-l-10 pad-r-10\"><ul class=\"page-steps pull-left\"><ng-container *ngFor=\"let page of nbpConfiguration?.pages; let pageIndex= index\"><li class=\"page-step\" *ngIf=\"page.status !== 'todo'\"><div class=\"col\"><span class=\"page-steps-number\" (click)=\"onClickPage(pageIndex)\" [ngClass]=\"{'active': page.status === 'active', 'done': page.status === 'done'}\">{{pageIndex + 1}}</span><div class=\"row\"><label class=\"page-step-label\" *ngIf=\"page.status === 'active'\">{{nbpConfiguration.currentParentLabel}}</label><br><label class=\"page-steps-label\" *ngIf=\"page.status === 'active'\">{{page.label}}</label></div></div></li></ng-container></ul><ul class=\"page-steps pull-right\"><ng-container *ngFor=\"let page of nbpConfiguration?.pages; let pageIndex = index\"><li class=\"page-step\" *ngIf=\"page.status === 'todo'\"><span class=\"page-steps-number\" [ngClass]=\"{'active': page.status === 'active', 'done': page.status === 'done'}\">{{pageIndex + 1}}</span> <label class=\"page-steps-label\" *ngIf=\"page.status === 'active'\">{{page.label}}</label></li></ng-container></ul></div></div>",
        styles: [".page-steps{list-style:none;padding:0;margin:0;height:2em}.page-steps li{display:inline-block;height:2em;line-height:2em}.page-steps li .row{line-height:0}.page-steps .page-step .col{display:inline-table}.page-steps .page-step .row{display:table-cell}.page-steps .page-steps-number{display:inline-block;border:1px solid #6f6f6f;font-weight:700;color:#6f6f6f;text-align:center;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:2em;height:2em;font-size:.785em;line-height:2em;margin:0 .125em 0 .125em}.page-steps .page-steps-number.active{color:#258900;border:1px solid #258900}.page-steps .page-steps-number.done{color:#fff;background-color:#258900;border-color:#258900;cursor:pointer}.page-steps .page-step-label{font-weight:400;color:#258900;font-size:.6875em;line-height:.5em;text-transform:uppercase;margin-left:.5em;margin-top:.4em}.page-steps .page-steps-label{font-weight:700;color:#258900;font-size:.785em;line-height:1em;text-transform:uppercase;margin-left:.5em}.page-steps-container{background-color:#fff}@media (min-width:768px){.page-steps .page-steps-label{font-size:.938em}.page-steps .page-steps-number{font-size:.938em}}@-moz-document url-prefix(){.page-steps .page-step .col{display:inline-flex}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.page-steps .page-step .col .row{top:-10px}}.contrasto-on .page-steps .page-steps-number{color:#000}.contrasto-on .page-steps .page-steps-number.active{color:#000;border:1px solid #000}.contrasto-on .page-steps .page-steps-number.done{color:#fff;background-color:#000;border-color:#000}.contrasto-on .page-steps .page-step-label{color:#000}.contrasto-on .page-steps .page-steps-label{color:#000}.contrasto-on .page-steps-container{background-color:#fff} /*# sourceMappingURL=nbp-paging.component.css.map */ "]
    }),
    __metadata$60("design:paramtypes", [])
], exports.NbpPagingComponent);

var NpbPaginationDispalyType;
(function (NpbPaginationDispalyType) {
    NpbPaginationDispalyType[NpbPaginationDispalyType["DISABLED"] = 0] = "DISABLED";
    NpbPaginationDispalyType[NpbPaginationDispalyType["ENABLED"] = 1] = "ENABLED";
})(NpbPaginationDispalyType || (NpbPaginationDispalyType = {}));
var PaginationActions;
(function (PaginationActions) {
    PaginationActions[PaginationActions["ON_PAGE_CLICK"] = 0] = "ON_PAGE_CLICK";
    PaginationActions[PaginationActions["ON_WINDOW_NEXT_CLICK"] = 1] = "ON_WINDOW_NEXT_CLICK";
    PaginationActions[PaginationActions["ON_WINDOW_PREV_CLICK"] = 2] = "ON_WINDOW_PREV_CLICK";
})(PaginationActions || (PaginationActions = {}));

var __decorate$78 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$61 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpPaginationComponent = (function () {
    function NbpPaginationComponent() {
        /**
         * Configurazione numerica degli stati del paginatore.
         * Di tipo: IPaginationStatus
         * Valore di default: {pageNumber: 1, pageSize: -1, totalRecords: -1};
         */
        this.nbpPaginationStatus = { pageNumber: 1, pageSize: -1, totalRecords: -1 };
        /**
         * Configurazione per la visualizzazione dei pulsanti del paginatore.
         * Di tipo : INbpPaginationConfiguration
         * Valore di default: { next: true, prev: true, page: true, last: true, first: true };
         */
        this.nbpShowPaginationStatus = { next: true, prev: true, page: true, last: true, first: true };
        /**
         * Configurazione per la disabilitazione dei pulsanti del paginatore.
         * Di tipo : INbpPaginationConfiguration
         * Valore di default: { next: false, prev: false, page: false, last: false, first: false };
         */
        this.nbpDisablePaginationStatus = { next: false, prev: false, page: false, last: false, first: false };
        /**
         * Evento di notifica per pagina cambiata
         */
        this.nbpOnPageChange = new _angular_core.EventEmitter();
        /**
        * Evento di notifica per passaggio alla pagina successiva
        */
        this.nbpOnNext = new _angular_core.EventEmitter();
        /**
        * Evento di notifica per passaggio ad una pagina qualsiasi
        */
        this.nbpOnGoToPage = new _angular_core.EventEmitter();
        /**
        * Evento di notifica per passaggio alla pagina precedente
        */
        this.nbpOnPrev = new _angular_core.EventEmitter();
        /**
        * Evento di notifica per passaggio alla prima pagina
        */
        this.nbpOnFirst = new _angular_core.EventEmitter();
        /**
        * Evento di notifica per passaggio all'ultima pagina
        */
        this.nbpOnLast = new _angular_core.EventEmitter();
        this._windowPages = [];
        this._paginationActions = PaginationActions;
        this._showTooltip = false;
    }
    NbpPaginationComponent.prototype.ngOnChanges = function (changes) {
        if (changes.nbpPaginationStatus) {
            this.nbpPageWindowSize = this.nbpPageWindowSize ? this.nbpPageWindowSize : 5;
            this._internalPageNumber = changes.nbpPaginationStatus.currentValue.pageNumber - 1;
            if (this._isTotalRecordsProvided() && this.nbpPageWindowSize) {
                this._lastPageModelNumber = this._getTotalPages(this.nbpPaginationStatus.pageSize, this.nbpPaginationStatus.totalRecords) - 1;
                this._evaluateWindowPages(this._internalPageNumber);
            }
            else {
                this._setShowTooltipCondition();
            }
        }
    };
    NbpPaginationComponent.prototype._getTotalPages = function (pageSize, totalSize) {
        return Math.trunc(totalSize / pageSize) + (totalSize % pageSize > 0 ? 1 : 0);
    };
    NbpPaginationComponent.prototype._isTotalRecordsProvided = function () {
        return this.nbpPaginationStatus && this.nbpPaginationStatus.totalRecords && this.nbpPaginationStatus.totalRecords !== -1;
    };
    NbpPaginationComponent.prototype._setShowTooltipCondition = function (pagesWindowLimits) {
        if (this._isTotalRecordsProvided()) {
            this._showTooltip = (pagesWindowLimits.min >= 999 || pagesWindowLimits.max >= 999) ? true : false;
        }
        else {
            this._showTooltip = this.nbpPaginationStatus.pageNumber >= 999 ? true : false;
        }
    };
    NbpPaginationComponent.prototype._evaluateTooltipText = function (pageNumber) {
        return this._showTooltip ? pageNumber : null;
    };
    NbpPaginationComponent.prototype._generateRange = function (pageNumber) {
        var min = (Math.floor(pageNumber / this.nbpPageWindowSize) * this.nbpPageWindowSize);
        var max = min + this.nbpPageWindowSize - 1;
        var pagesWindowLimits = { min: min, max: max };
        this._setShowTooltipCondition(pagesWindowLimits);
        return pagesWindowLimits;
    };
    NbpPaginationComponent.prototype._evaluateWindowPages = function (pageNumber) {
        this._windowPages = [];
        var range = this._generateRange(pageNumber);
        for (var i = range.min; i <= range.max; i++) {
            if (i > this._lastPageModelNumber) {
                break;
            }
            this._windowPages.push({ model: i, view: i + 1 });
        }
    };
    NbpPaginationComponent.prototype._isNextPageWindowButtonVisible = function () {
        var _this = this;
        var lastPageFromWindow = this._windowPages.filter(function (page) { return page.model === _this._lastPageModelNumber; });
        return !lastPageFromWindow.length;
    };
    NbpPaginationComponent.prototype._isPrevPageWindowButtonVisible = function () {
        var firstPageFromWindow = this._windowPages.filter(function (page) { return page.model === 0; });
        return !firstPageFromWindow.length;
    };
    NbpPaginationComponent.prototype._getPrevPageNumber = function () {
        var page;
        if (this.nbpPaginationStatus.pageNumber !== 1 && this.nbpPaginationStatus.pageNumber) {
            page = this.nbpPaginationStatus.pageNumber - 1;
        }
        else {
            page = this.nbpPaginationStatus.pageNumber;
        }
        return page;
    };
    NbpPaginationComponent.prototype._setPageNumber = function (windowPage) {
        this._internalPageNumber = windowPage.model;
        this.nbpPaginationStatus.pageNumber = windowPage.view;
    };
    NbpPaginationComponent.prototype.onNext = function () {
        this.nbpPaginationStatus.pageNumber = this.nbpPaginationStatus.pageNumber + 1;
        this.nbpOnNext.emit(this.nbpPaginationStatus);
        this.nbpOnPageChange.emit();
    };
    NbpPaginationComponent.prototype.onPrev = function () {
        this.nbpPaginationStatus.pageNumber = this._getPrevPageNumber();
        this.nbpOnPrev.emit(this.nbpPaginationStatus);
        this.nbpOnPageChange.emit();
    };
    NbpPaginationComponent.prototype.onLast = function () {
        this.nbpOnLast.emit(this.nbpPaginationStatus);
        this.nbpOnPageChange.emit();
    };
    NbpPaginationComponent.prototype.onFirst = function () {
        this.nbpOnFirst.emit(this.nbpPaginationStatus);
        this.nbpOnPageChange.emit();
    };
    NbpPaginationComponent.prototype.onGoToPage = function (action, page) {
        var partialPage;
        var currentPageOnWindow;
        switch (action) {
            case this._paginationActions.ON_WINDOW_NEXT_CLICK:
                partialPage = this._internalPageNumber + this.nbpPageWindowSize;
                this._evaluateWindowPages(partialPage);
                currentPageOnWindow = this._windowPages[0];
                break;
            case this._paginationActions.ON_WINDOW_PREV_CLICK:
                partialPage = this._internalPageNumber - this.nbpPageWindowSize;
                if (partialPage >= 0) {
                    this._evaluateWindowPages(partialPage);
                    currentPageOnWindow = this._windowPages[this._windowPages.length - 1];
                }
                else {
                    partialPage = this._internalPageNumber;
                    this._evaluateWindowPages(partialPage);
                    currentPageOnWindow = { model: this._internalPageNumber, view: this.nbpPaginationStatus.pageNumber };
                }
                break;
            case this._paginationActions.ON_PAGE_CLICK:
                currentPageOnWindow = this._windowPages.filter(function (window) { return window.model === page; })[0];
                partialPage = currentPageOnWindow.model;
                this._evaluateWindowPages(partialPage);
                break;
        }
        this._setPageNumber(currentPageOnWindow);
        this.nbpOnGoToPage.emit(this.nbpPaginationStatus);
        this.nbpOnPageChange.emit();
    };
    return NbpPaginationComponent;
}());
__decorate$78([
    _angular_core.Input(),
    __metadata$61("design:type", Object)
], exports.NbpPaginationComponent.prototype, "nbpPaginationStatus", void 0);
__decorate$78([
    _angular_core.Input(),
    __metadata$61("design:type", Object)
], exports.NbpPaginationComponent.prototype, "nbpShowPaginationStatus", void 0);
__decorate$78([
    _angular_core.Input(),
    __metadata$61("design:type", Object)
], exports.NbpPaginationComponent.prototype, "nbpDisablePaginationStatus", void 0);
__decorate$78([
    _angular_core.Input(),
    __metadata$61("design:type", Number)
], exports.NbpPaginationComponent.prototype, "nbpPageWindowSize", void 0);
__decorate$78([
    _angular_core.Output(),
    __metadata$61("design:type", _angular_core.EventEmitter)
], exports.NbpPaginationComponent.prototype, "nbpOnPageChange", void 0);
__decorate$78([
    _angular_core.Output(),
    __metadata$61("design:type", _angular_core.EventEmitter)
], exports.NbpPaginationComponent.prototype, "nbpOnNext", void 0);
__decorate$78([
    _angular_core.Output(),
    __metadata$61("design:type", _angular_core.EventEmitter)
], exports.NbpPaginationComponent.prototype, "nbpOnGoToPage", void 0);
__decorate$78([
    _angular_core.Output(),
    __metadata$61("design:type", _angular_core.EventEmitter)
], exports.NbpPaginationComponent.prototype, "nbpOnPrev", void 0);
__decorate$78([
    _angular_core.Output(),
    __metadata$61("design:type", _angular_core.EventEmitter)
], exports.NbpPaginationComponent.prototype, "nbpOnFirst", void 0);
__decorate$78([
    _angular_core.Output(),
    __metadata$61("design:type", _angular_core.EventEmitter)
], exports.NbpPaginationComponent.prototype, "nbpOnLast", void 0);
exports.NbpPaginationComponent = __decorate$78([
    _angular_core.Component({
        selector: 'nbp-pagination',template: "<div class=\"pagination-container\"><div class=\"row\"><div class=\"col-md-5 col-sm-5 col-xs-5\"><button id=\"firstButton\" class=\"table-page-btn pull-left\" type=\"button\" (click)=\"onFirst()\" *ngIf=\"nbpShowPaginationStatus.first\" [disabled]=\"nbpDisablePaginationStatus.first\"><span class=\"page-btn-arrow icomoon-Simboli_freccia_sinistra\"></span> <span class=\"page-btn-text\">PRIMO</span></button></div><div class=\"col-md-14 col-sm-14 col-xs-14\" style=\"text-align:center\"><button style=\"margin-right: 30px\" id=\"prevButton\" class=\"table-page-btn\" type=\"button\" (click)=\"onPrev()\" *ngIf=\"nbpShowPaginationStatus.prev\" [disabled]=\"nbpDisablePaginationStatus.prev\"><span class=\"page-btn-arrow icomoon-Simboli_Risorsa-12\"></span></button><ng-container *ngIf=\"_isTotalRecordsProvided() && nbpShowPaginationStatus.page\"><button id=\"windowPrevButton\" *ngIf=\"_isPrevPageWindowButtonVisible()\" [disabled]=\"nbpDisablePaginationStatus.page\" class=\"table-page-btn\" type=\"button\" (click)=\"onGoToPage(_paginationActions.ON_WINDOW_PREV_CLICK)\">...</button><ng-container *ngFor=\"let page of _windowPages; let i = index\"><button id=\"windowPageButton\" class=\"table-page-btn\" type=\"button\" [disabled]=\"nbpDisablePaginationStatus.page\" (click)=\"onGoToPage(_paginationActions.ON_PAGE_CLICK, page.model)\"><span class=\"table-page-number\" [ngClass]=\"{'active': nbpPaginationStatus && page.model === _internalPageNumber}\" [attr.tooltip]=\"_evaluateTooltipText(page.view)\">{{page.view}}</span></button></ng-container><button id=\"windowNextButton\" *ngIf=\"_isNextPageWindowButtonVisible()\" [disabled]=\"nbpDisablePaginationStatus.page\" class=\"table-page-btn\" type=\"button\" (click)=\"onGoToPage(_paginationActions.ON_WINDOW_NEXT_CLICK)\">...</button></ng-container><button *ngIf=\"!_isTotalRecordsProvided() && nbpShowPaginationStatus.page\" class=\"table-page-btn\" type=\"button\"><span class=\"table-page-number active\" [attr.tooltip]=\"_evaluateTooltipText(nbpPaginationStatus.pageNumber)\">{{nbpPaginationStatus.pageNumber}}</span></button> <button style=\"margin-left: 30px\" id=\"nextButton\" class=\"table-page-btn\" type=\"button\" (click)=\"onNext()\" *ngIf=\"nbpShowPaginationStatus.next\" [disabled]=\"nbpDisablePaginationStatus.next\"><span class=\"page-btn-arrow icomoon-Simboli_Risorsa-13\"></span></button></div><div class=\"col-md-5 col-sm-5 col-xs-5\"><button id=\"lastButton\" class=\"table-page-btn pull-right\" *ngIf=\"_isTotalRecordsProvided() && nbpShowPaginationStatus.last\" (click)=\"onLast()\" [disabled]=\"nbpDisablePaginationStatus.last\"><span class=\"page-btn-text\">ULTIMO</span> <span class=\"page-btn-arrow icomoon-Simboli_freccia_destra\"></span></button></div></div></div>",
        styles: [".truncate{display:inline-block;width:2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.pagination-container{margin-top:.625em}.pagination-container table{width:100%;table-layout:fixed}.pagination-container #windowPageButton{padding-left:0;padding-right:0}.pagination-container .table-page-btn{display:inline-block;color:#258900;cursor:pointer;margin-top:.313em;background-color:transparent;border:none}.pagination-container .table-page-btn.disabled{color:#6f6f6f;cursor:auto}.pagination-container .table-page-btn .page-btn-arrow{font-size:1.25em;vertical-align:middle}.pagination-container .table-page-btn .page-btn-text{padding:0 .625em 0 .625em;font-size:.813em;font-weight:700}.pagination-container .table-page-btn .table-page-number{padding-left:.5em;padding-right:.5em;display:inline-block;border:1px solid #258900;font-weight:700;color:#258900;background:#fff;text-align:center;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:2em;min-width:2em;height:2em;font-size:.938em;line-height:2em;margin:0 .125em 0 .125em}.pagination-container .table-page-btn .table-page-number.backward{margin-right:-.125em}.pagination-container .table-page-btn .table-page-number.forward{margin-left:-.125em}.pagination-container .table-page-btn .table-page-number.active{color:#fff;background:#258900;cursor:default}.pagination-container .pagination-container-center{text-align:center}.pagination-container .pagination-container-center .table-page-btn{margin-top:0}span.table-page-number[tooltip]:hover{position:relative}span.table-page-number[tooltip]:hover:after{content:attr(tooltip);padding:4px 8px;color:#258900;position:absolute;left:0;top:100%;white-space:nowrap;z-index:1000;border-radius:5px;background-image:transparent}:host-context(.contrasto-on) .pagination-container .table-page-btn{color:#000}:host-context(.contrasto-on) .pagination-container .table-page-btn.disabled{color:#6f6f6f}:host-context(.contrasto-on) .pagination-container .table-page-btn .table-page-number{border:1px solid #000;color:#000;background:#fff}:host-context(.contrasto-on) .pagination-container .table-page-btn .table-page-number.active{color:#fff;background:#000} /*# sourceMappingURL=nbp-pagination.component.css.map */ "]
    }),
    __metadata$61("design:paramtypes", [])
], exports.NbpPaginationComponent);

var __decorate$80 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$63 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var defaultId = 'nbp-loading-1';
exports.NbpLoadingService = (function () {
    /**
     * ReplaySubject -> manda a ogni subscriber anche se si registra dopo tutta la storia dello stream dall'inizio
     *
     * BehaviorSubject -> manda a ogni subscriver solo l'item pi recente presente nello stream
     */
    function NbpLoadingService() {
        this._loadingSpinnerRequestStream = new rxjs_BehaviorSubject.BehaviorSubject({ id: null, status: exports.NbpLoadingStatus.STOP });
        this.statusArray = new Array();
    }
    NbpLoadingService.prototype.handleMultipleActivationStatus = function (key) {
        var _this = this;
        return function (value) {
            // console.log(key);
            if (value.id === key) {
                if (value.status === exports.NbpLoadingStatus.START) {
                    _this.statusArray.push(value.id);
                    var statusForId = _this.statusArray.filter(function (elem) { return elem === value.id; });
                    if (statusForId.length === 1) {
                        return true;
                    }
                }
                else {
                    var statusIndex = _this.statusArray.indexOf(value.id);
                    if (statusIndex !== -1) {
                        _this.statusArray.splice(statusIndex, 1);
                    }
                    statusIndex = _this.statusArray.indexOf(value.id);
                    if (statusIndex === -1) {
                        return true;
                    }
                }
            }
            return false;
        };
    };
    /**
     * Permette di inviare le richieste di attivazione spegnimento del componente loadingSpinner
     */
    NbpLoadingService.prototype.notifyLoadingSpinnerRequest = function (showLoadingSpinner, id) {
        var key = defaultId;
        if (id) {
            key = id;
        }
        var loadingStatus = {
            id: key,
            status: showLoadingSpinner ? exports.NbpLoadingStatus.START : exports.NbpLoadingStatus.STOP
        };
        this._loadingSpinnerRequestStream.next(loadingStatus);
    };
    /**
     * Recupera lo stato aggregato (per id e multiple nexted activation) della visibilit del componente loadingSpinner
     */
    NbpLoadingService.prototype.getLoadingSpinnerStatusStream = function (id) {
        var key = defaultId;
        if (id) {
            key = id;
        }
        this._loadingSpinnerAggregatedRequestStream = this._loadingSpinnerRequestStream.asObservable().filter(this.handleMultipleActivationStatus(key));
        return this._loadingSpinnerAggregatedRequestStream;
        // requestToHandle.subscribe((request: INbpLoadingStatus) => {
        //   if (request.status) {
        //     this.pendingTaskService.startTask();
        //   } else {
        //     this.pendingTaskService.endTask();
        //   }
        // })
        // return this.pendingTaskService.getPendingStatusStream();
    };
    return NbpLoadingService;
}());
exports.NbpLoadingService = __decorate$80([
    _angular_core.Injectable(),
    __metadata$63("design:paramtypes", [])
], exports.NbpLoadingService);

var __decorate$81 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
exports.NbpPendingLoadingStatusService = (function () {
    function NbpPendingLoadingStatusService() {
        this.loadingStatusStartStream = new rxjs_Subject.Subject();
        this.loadingStatusEndStream = new rxjs_Subject.Subject();
    }
    NbpPendingLoadingStatusService.prototype.startLoading = function () {
        this.loadingStatusStartStream.next(exports.NbpLoadingStatus.START);
    };
    NbpPendingLoadingStatusService.prototype.stopLoading = function () {
        this.loadingStatusEndStream.next(exports.NbpLoadingStatus.STOP); // TaskEvents.END
    };
    NbpPendingLoadingStatusService.prototype.getPendingStatusStream = function () {
        return this.pendingStatusStream;
    };
    NbpPendingLoadingStatusService.prototype.initStreams = function (threshold) {
        var statusStartIfNotEndWithinThresholdStream = this.loadingStatusEndStream.bufferToggle(this.loadingStatusStartStream, function (value) { return rxjs_Observable.Observable.interval(threshold); }) //raccogli in un buffer array gli eventi di end tra un evento di start e threshold ms dopo
            .filter(function (startEvents) { return startEvents.length == 0; }) //fai passare solo i buffer vuoti (ovvero quelli in cui non ci sono stati end nel periodo)
            .map(function (k) { return true; }); //genera l'evento di start ritardato dall' array vuoto
        // eventualmente puoi aggiungere dei logging con  .do (events => console.log(events)) intermedi per capire come funziona
        var statusEndIfNotNewStartWithinThresholdFromPreviousEndStream = this.loadingStatusStartStream.bufferToggle(this.loadingStatusEndStream, //raccogli in un buffer array gli eventi di start tra un evento di end e threshold ms dopo
        function (value) { return rxjs_Observable.Observable.interval(threshold); })
            .filter(function (startEvents) { return startEvents.length == 0; }) //fai passare solo i buffer vuoti (ovvero quelli in cui non ci sono stati start nel periodo di threshold subito dopo l'end vero)
            .map(function (k) { return false; }); //genera l'evento di end ritardato solo se l'array delle start immediatamente successive all' end  vuoto 
        this.pendingStatusStream = statusStartIfNotEndWithinThresholdStream
            .merge(statusEndIfNotNewStartWithinThresholdFromPreviousEndStream);
    };
    return NbpPendingLoadingStatusService;
}());
exports.NbpPendingLoadingStatusService = __decorate$81([
    _angular_core.Injectable()
], exports.NbpPendingLoadingStatusService);

// @Injectable()
// export class NbpPendingLoadingStatusServiceOld {
//   startIfEndNotReachedWithinThresholdEventStream: Observable<NbpLoadingStatus>;
//   withinThresholdBufferStream: Observable<NbpLoadingStatus[]>;
//   thresholdExpiredEventStream: Observable<NbpLoadingStatus>;
//   threshold = 100;
//   private loadingStatusStartStream: Subject<NbpLoadingStatus> =   new Subject<NbpLoadingStatus>();
//   private loadingStatusEndStream: Subject<NbpLoadingStatus> =   new Subject<NbpLoadingStatus>();
//   private pendingStatusStream: Observable<boolean>;
//   private scheduler: Scheduler; 
//   constructor( ) {
//     // this.initStreams(configuration); 
//     // this.initStreams(null);
//   }
//   initStreams(threshold: number): any {
//     // this.taskEventStream = this.loadingStatusEndStream.merge(this.loadingStatusStartStream);
//     this.threshold = threshold;  
//     console.log(`threshold ${this.threshold}`);
//     this.thresholdExpiredEventStream = this.loadingStatusStartStream.delay(this.threshold);
//     // { provide: SEARCH_SCHEDULER, useFactory: getTestScheduler },
//     let thresholdExpiredOrTaskEndReachedEventStream = this.thresholdExpiredEventStream.merge(this.loadingStatusEndStream);
//     this.withinThresholdBufferStream = this.loadingStatusEndStream.bufferWhen(
//                                           () => thresholdExpiredOrTaskEndReachedEventStream);
//     this.startIfEndNotReachedWithinThresholdEventStream = this.withinThresholdBufferStream
//         .filter(
//           events => events.length == 0
//         ).map( event => NbpLoadingStatus.START);
//     let notFlashingTaskEventStream = this.startIfEndNotReachedWithinThresholdEventStream
//         .merge(this.loadingStatusEndStream);
//     this.pendingStatusStream = notFlashingTaskEventStream.map( (event: NbpLoadingStatus ) => {
//       let status = event == NbpLoadingStatus.START ? true : false; 
//       return status; 
//     });
//   }
//   startLoading() {
//     this.loadingStatusStartStream.next(NbpLoadingStatus.START);
//   }
//   endCounter = 1; 
//   stopLoading() {
//     this.loadingStatusEndStream.next(this.endCounter++); // TaskEvents.END
//   }
//   getPendingStatusStream() {
//     return this.pendingStatusStream;
//   }
// }

var __decorate$79 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$62 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/** intero autogenerato usato per id unici per nbpInput component */
var nextId$16 = 0;
exports.NbpLoadingComponent = (function () {
    function NbpLoadingComponent(loadingService, pendingTaskService) {
        this.loadingService = loadingService;
        this.pendingTaskService = pendingTaskService;
        this._animationModeAuto = false;
        /**
         * Evento lanciato allo stop del loading.
         */
        this.nbpOnStopAnimation = new _angular_core.EventEmitter();
        /**
         * Evento lanciato allo start del laoding.
         */
        this.nbpOnStartAnimation = new _angular_core.EventEmitter();
    }
    Object.defineProperty(NbpLoadingComponent.prototype, "nbpShowAnimation", {
        /**
         * Flag che definisce la visibilit dellanimazione di caricamento
         */
        get: function () { return this._showAnimation; },
        set: function (value) { this._showAnimation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpLoadingComponent.prototype, "nbpAnimationModeAuto", {
        /**
         * Flag che definisce la modalit automatica di visualizzazione dell'animazione
         * quando presente il componente ignora il parametro nbpShowAnimation e l'invocazione
         * dei metodi pubblici, ma si restistra al servizio NbpLoadingService
         */
        get: function () { return this._animationModeAuto; },
        set: function (value) {
            this._animationModeAuto = coerceBooleanProperty(value);
            if (this._showAnimation) {
                console.log('NbpLoadingComponent - Emitting event: nbpOnStartAnimation');
                this.nbpOnStartAnimation.emit();
            }
            else {
                console.log('NbpLoadingComponent - Emitting event: nbpOnStopAnimation');
                this.nbpOnStopAnimation.emit();
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpLoadingComponent.prototype, "nbpMessage", {
        /**
         * (Opzionale) Messaggio da visulizzare assieme all'immagine
         *
         */
        get: function () { return this._nbpMessage; },
        set: function (value) { if (value) {
            this._nbpMessage = value;
        } },
        enumerable: true,
        configurable: true
    });
    
    /**
     * 	metodo per far visualizzare il loading
     */
    NbpLoadingComponent.prototype.startAnimation = function () {
        this.nbpShowAnimation = true;
        this.nbpOnStartAnimation.emit();
    };
    /**
     * metodo per spegnere il loading
     */
    NbpLoadingComponent.prototype.stopAnimation = function () {
        this.nbpShowAnimation = false;
        this.nbpOnStopAnimation.emit();
    };
    NbpLoadingComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!this.id) {
            this.id = "nbp-loading-" + ++nextId$16;
        }
        if (!this.nbpDelayTime) {
            this.nbpDelayTime = 300;
        }
        this.pendingTaskService.initStreams(this.nbpDelayTime);
        if (this._animationModeAuto) {
            // registra al servizio
            this._loadingStatusStream = this.loadingService.getLoadingSpinnerStatusStream(this.id);
            this._loadingStatusStream.subscribe(function (request) {
                if (request.status === exports.NbpLoadingStatus.START) {
                    _this.pendingTaskService.startLoading();
                }
                else {
                    _this.pendingTaskService.stopLoading();
                }
            });
            this._loadingVisibleStream = this.pendingTaskService.getPendingStatusStream();
        }
    };
    NbpLoadingComponent.prototype.ngOnChanges = function (changes) {
        if (!this._animationModeAuto) {
            if (changes.nbpShowAnimation) {
                if (changes.nbpShowAnimation.currentValue) {
                    this.nbpOnStartAnimation.emit();
                }
                else {
                    this.nbpOnStopAnimation.emit();
                }
            }
        }
    };
    return NbpLoadingComponent;
}());
__decorate$79([
    _angular_core.Input(),
    __metadata$62("design:type", String)
], exports.NbpLoadingComponent.prototype, "name", void 0);
__decorate$79([
    _angular_core.Input(),
    __metadata$62("design:type", String)
], exports.NbpLoadingComponent.prototype, "id", void 0);
__decorate$79([
    _angular_core.Input(),
    __metadata$62("design:type", Boolean),
    __metadata$62("design:paramtypes", [Object])
], exports.NbpLoadingComponent.prototype, "nbpShowAnimation", null);
__decorate$79([
    _angular_core.Input(),
    __metadata$62("design:type", Boolean),
    __metadata$62("design:paramtypes", [Object])
], exports.NbpLoadingComponent.prototype, "nbpAnimationModeAuto", null);
__decorate$79([
    _angular_core.Input(),
    __metadata$62("design:type", String),
    __metadata$62("design:paramtypes", [Object])
], exports.NbpLoadingComponent.prototype, "nbpMessage", null);
__decorate$79([
    _angular_core.Input(),
    __metadata$62("design:type", Number)
], exports.NbpLoadingComponent.prototype, "nbpDelayTime", void 0);
__decorate$79([
    _angular_core.Output(),
    __metadata$62("design:type", _angular_core.EventEmitter)
], exports.NbpLoadingComponent.prototype, "nbpOnStopAnimation", void 0);
__decorate$79([
    _angular_core.Output(),
    __metadata$62("design:type", _angular_core.EventEmitter)
], exports.NbpLoadingComponent.prototype, "nbpOnStartAnimation", void 0);
exports.NbpLoadingComponent = __decorate$79([
    _angular_core.Component({
        selector: 'nbp-loading',template: "<div *ngIf=\"(!nbpAnimationModeAuto && nbpShowAnimation) || (nbpAnimationModeAuto &&  (_loadingVisibleStream | async))\" id=\"id\"><div class=\"nbp-spinner-overlay\"></div><div class=\"nbp-spinner-wrapper\"><div class=\"nbp-message\" *ngIf=\"nbpMessage\" [innerHTML]=\"nbpMessage\"></div><div class=\"nbp-spinner\"></div></div></div>",
        styles: [".nbp-spinner-wrapper{position:fixed;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:transparent;top:0;left:0;z-index:99999}.nbp-spinner-overlay{position:fixed;width:100%;height:100%;display:flex;align-items:center;top:0;left:0;background-color:rgba(255,255,255,.8);z-index:99998}.nbp-spinner{display:flex;width:90px;height:90px;background-image:url(/cjlib/assets/images/spinner.svg);margin:0 auto}.nbp-message{display:flex;margin:0 auto;font-size:1.5em;font-weight:500;white-space:pre-line;text-align:center;margin-bottom:40px}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.nbp-spinner{background-image:url(/cjlib/assets/images/ISP-loading-spinner.gif)!important}} /*# sourceMappingURL=nbp-loading.component.css.map */ "]
    }),
    __metadata$62("design:paramtypes", [exports.NbpLoadingService, exports.NbpPendingLoadingStatusService])
], exports.NbpLoadingComponent);

var __decorate$82 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$64 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpBreadcrumbComponent = (function () {
    function NbpBreadcrumbComponent() {
    }
    NbpBreadcrumbComponent.prototype.ngOnInit = function () {
    };
    return NbpBreadcrumbComponent;
}());
__decorate$82([
    _angular_core.Input(),
    __metadata$64("design:type", Array)
], exports.NbpBreadcrumbComponent.prototype, "nbpBreadcrumbStructure", void 0);
__decorate$82([
    _angular_core.Input(),
    __metadata$64("design:type", Object)
], exports.NbpBreadcrumbComponent.prototype, "nbpCurrentPosition", void 0);
exports.NbpBreadcrumbComponent = __decorate$82([
    _angular_core.Component({
        selector: 'nbp-breadcrumb',template: "<div class=\"breadcrumb-container\"><ul class=\"nbp-breadcrumb container\"><li *ngFor=\"let route of nbpBreadcrumbStructure; let last = last\"><a><span [ngClass]=\"{'nbp-breadcrumb-current': route === nbpCurrentPosition}\">{{route.name}} <span *ngIf=\"!last\" class=\"icon ico-comuni-freccia-dx\" [style.verticalAlign]=\"'middle'\"></span></span></a></li></ul></div>",
        styles: [".breadcrumb-container{background-color:#f2f2f2;border-bottom:1px solid #ccc}.breadcrumb-container .nbp-breadcrumb{padding:10px 16px;list-style:none;background-color:#f2f2f2;font-size:17px;margin-bottom:0!important}.breadcrumb-container .nbp-breadcrumb li{display:inline-block}.breadcrumb-container .nbp-breadcrumb li a{color:#5ca740;text-decoration:none}.breadcrumb-container .nbp-breadcrumb li a:hover{color:#258900;text-decoration:underline}.nbp-breadcrumb-current{font-weight:700} /*# sourceMappingURL=nbp-breadcrumb.component.css.map */ "]
    }),
    __metadata$64("design:paramtypes", [])
], exports.NbpBreadcrumbComponent);

var __decorate$83 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$65 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpTooltipComponent = (function () {
    function NbpTooltipComponent(element) {
        this.element = element;
        this._tooltipSize = exports.NbpSize;
        this._isVisible = false;
        /**
          * Strategia di apertura tooltip, 'click' o 'hover':
          * click -> comportamento popover con apertura e chiusura su click (pi pulsante x all'interno del tooltip)
          * hover -> comportamento tooltip classico apertura su hover , chiusura sulla perdita dell'hover
          * Valore di default: hover
         */
        this.nbpVisibilityStrategy = 'hover';
        /**
         * (Opzionale) Enum che definisce il la posizione del tooltip rispetto alloggetto al quale  ancorato:
         * Top | Right | Bottom | Left | Top-Left | Top-Right | Bottom-Left | Bottom-Right
         * Default: Top
         */
        this.nbpPosition = 'Top'; // enum;
        /**
         * (Opzionale) Enum che definisce il tipo di icona da visualizzare nel tooltip:
         * Warning | Help | Info
         * Default: nessuna icona
         * Funzionante solo se non presente nbpTemplate
         */
        // TODO NON VIENE MAI USATA QUESTA PROPERTY -- COMMENTATA PER EVITARE REFUSI
        /*@Input() nbpType: object; // enum; Non presente nelle nuove StyleGuide: nuovo componente icona (?)/(!)/(i) -> tooltip?*/
        /**
         * Propriet che definisce la grandezza del tooltip, tramite l'enum NbpSize
         * valore di default: NbpSize.SM
         */
        this.nbpSize = exports.NbpSize.SM;
        this._nbpHidden = false;
    }
    Object.defineProperty(NbpTooltipComponent.prototype, "hidden", {
        /**
         * Booleano che abilita/disabilita la visualizzazione del tooltip.
        * Attributo "hidden" standard di HTML5 element
         */
        get: function () { return this._nbpHidden; },
        set: function (value) { this._nbpHidden = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    //---modificaReply
    NbpTooltipComponent.prototype.onClick = function (target) {
        event.stopPropagation();
        if (!this.element.nativeElement.contains(target)) {
            this._closePopover(target);
        }
        if (!this._isVisibilityStrategyHover()) {
            this._closePopover(target);
        }
    };
    //---------------------
    NbpTooltipComponent.prototype._open = function () {
        var _this = this;
        setTimeout(function () {
            _this._isVisible = true;
        }, 0);
    };
    NbpTooltipComponent.prototype._close = function () {
        this._isVisible = false;
    };
    NbpTooltipComponent.prototype._closePopover = function (target) {
        var parentFound = false;
        while (target != null && !parentFound) {
            if (target === this.element.nativeElement) {
                parentFound = true;
            }
            target = target.parentElement;
        }
        if (!parentFound) {
            this._isVisible = false;
        }
    };
    NbpTooltipComponent.prototype._toggleVisibility = function () {
        if (this.nbpVisibilityStrategy === 'hover') {
            return;
        }
        if (this._isVisible) {
            this._close();
        }
        else {
            this._open();
        }
    };
    NbpTooltipComponent.prototype._isVisibilityStrategyHover = function () {
        return this.nbpVisibilityStrategy === 'hover';
    };
    return NbpTooltipComponent;
}());
__decorate$83([
    _angular_core.Input(),
    __metadata$65("design:type", String)
], exports.NbpTooltipComponent.prototype, "name", void 0);
__decorate$83([
    _angular_core.Input(),
    __metadata$65("design:type", String)
], exports.NbpTooltipComponent.prototype, "nbpVisibilityStrategy", void 0);
__decorate$83([
    _angular_core.Input(),
    __metadata$65("design:type", String)
], exports.NbpTooltipComponent.prototype, "nbpPosition", void 0);
__decorate$83([
    _angular_core.Input(),
    __metadata$65("design:type", Number)
], exports.NbpTooltipComponent.prototype, "nbpSize", void 0);
__decorate$83([
    _angular_core.Input(),
    __metadata$65("design:type", String)
], exports.NbpTooltipComponent.prototype, "nbpText", void 0);
__decorate$83([
    _angular_core.Input(),
    __metadata$65("design:type", _angular_core.TemplateRef)
], exports.NbpTooltipComponent.prototype, "nbpTemplate", void 0);
__decorate$83([
    _angular_core.Input(),
    __metadata$65("design:type", Object)
], exports.NbpTooltipComponent.prototype, "nbpTemplateData", void 0);
__decorate$83([
    _angular_core.Input(),
    __metadata$65("design:type", Boolean),
    __metadata$65("design:paramtypes", [Object])
], exports.NbpTooltipComponent.prototype, "hidden", null);
__decorate$83([
    _angular_core.HostListener('document: click', ['$event.target']),
    __metadata$65("design:type", Function),
    __metadata$65("design:paramtypes", [HTMLElement]),
    __metadata$65("design:returntype", void 0)
], exports.NbpTooltipComponent.prototype, "onClick", null);
exports.NbpTooltipComponent = __decorate$83([
    _angular_core.Component({
        selector: 'nbp-tooltip',template: "<span #div [ngClass]=\"{ 'nbp-tooltip': _isVisibilityStrategyHover(), 'nbp-popover': !_isVisibilityStrategyHover() }\"><span (click)=\"_toggleVisibility();\" [class.clickable]=\"!_isVisibilityStrategyHover()\"><ng-content></ng-content></span><span [hidden]=\"hidden\" [ngClass]=\"{ 'tooltip-content': _isVisibilityStrategyHover(), 'popover-content': !_isVisibilityStrategyHover(), 'top':nbpPosition=='Top', 'bottom':nbpPosition=='Bottom', 'right':nbpPosition=='Right', 'left':nbpPosition=='Left', 'top-left':nbpPosition=='Top-Left', 'top-right':nbpPosition=='Top-Right', 'bottom-left':nbpPosition=='Bottom-Left', 'bottom-right':nbpPosition=='Bottom-Right',  'sm':nbpSize === _tooltipSize.SM,  'md':nbpSize === _tooltipSize.MD,  'lg':nbpSize === _tooltipSize.LG,  'opened': !_isVisibilityStrategyHover() && _isVisible }\"><span *ngIf=\"!nbpTemplate; else nbpTemplateContainer\" [ngClass]=\"{ 'tooltip-text': _isVisibilityStrategyHover() ,  'popover-text': !_isVisibilityStrategyHover() }\"><div class=\"row\"><div class=\"col-md-24\" [ngClass]=\"{ 'text-padding-hover': _isVisibilityStrategyHover(), 'text-padding-click': !_isVisibilityStrategyHover() }\">{{nbpText}}</div></div></span><ng-template #nbpTemplateContainer [ngTemplateOutlet]=\"nbpTemplate\" [ngTemplateOutletContext]=\"nbpTemplateData\"></ng-template><div class=\"icon-position clickable\" *ngIf=\"!_isVisibilityStrategyHover()\"><span class=\"ico-azioni-elimina\" style=\"font-size: 19px\" (click)=\"_close(); $event.stopPropagation()\"></span></div></span></span>",
        styles: [".bottom .icon-position,.bottom-left .icon-position,.bottom-right .icon-position,.right .icon-position,.top .icon-position,.top-left .icon-position,.top-right .icon-position{position:absolute;top:1.3125em;right:1.3125em;color:#fa9600;font-weight:700}.text-padding-click{padding:20px 80px 20px 20px;text-align:left;font-size:14px;font-family:Arial}.text-padding-hover{padding:.5em 1em .5em 1em}.left .icon-position{position:absolute;top:.3125em;left:.3125em;color:#fa9600;font-weight:700}.nbp-popover,.nbp-tooltip{position:relative;display:inline-block;opacity:.9;z-index:1000}.clickable{cursor:pointer}.nbp-popover .popover-content,.nbp-tooltip .tooltip-content{visibility:hidden;background-color:#323232;color:#fff;padding:.3125em 0;position:absolute;z-index:1;display:inline-block!important}.nbp-popover .popover-content .tooltip-text,.nbp-tooltip .tooltip-content .tooltip-text{text-align:center;font-weight:400}.nbp-popover .popover-content .popover-text,.nbp-tooltip .tooltip-content .popover-text{text-align:center;font-weight:400}.nbp-popover .popover-content.md,.nbp-tooltip .tooltip-content.md{width:21.875em}.nbp-popover .popover-content.sm,.nbp-tooltip .tooltip-content.sm{width:14.5em}.nbp-popover .popover-content.lg,.nbp-tooltip .tooltip-content.lg{width:31.25em}.nbp-popover .popover-content.right,.nbp-tooltip .tooltip-content.right{top:50%!important;left:100%!important;margin-left:.625em;transform:translateY(-50%)}.nbp-popover .popover-content.right::after,.nbp-tooltip .tooltip-content.right::after{content:\"\";position:absolute;top:50%;right:100%;transform:translateY(-50%);border-top-width:.625em;border-right-width:.5625em;border-bottom-width:.625em;border-left-width:.5625em;border-style:solid;border-color:transparent #323232 transparent transparent}.nbp-popover .popover-content.left,.nbp-tooltip .tooltip-content.left{top:50%;right:100%;margin-right:.625em;transform:translateY(-50%)}.nbp-popover .popover-content.left::after,.nbp-tooltip .tooltip-content.left::after{content:\"\";position:absolute;top:50%;left:100%;transform:translateY(-50%);border-top-width:.625em;border-right-width:.5625em;border-bottom-width:.625em;border-left-width:.5625em;border-style:solid;border-color:transparent transparent transparent #323232}.nbp-popover .popover-content.top,.nbp-tooltip .tooltip-content.top{bottom:100%;left:62%;margin-bottom:.8125em;transform:translateX(-50%)}.nbp-popover .popover-content.top::after,.nbp-tooltip .tooltip-content.top::after{content:\"\";position:absolute;top:100%;left:50%;transform:translateX(-50%);border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:#323232 transparent transparent transparent}.nbp-popover .popover-content.bottom,.nbp-tooltip .tooltip-content.bottom{top:100%;left:50%;margin-top:.9375em;transform:translateX(-50%)}.nbp-popover .popover-content.bottom::after,.nbp-tooltip .tooltip-content.bottom::after{content:\"\";position:absolute;bottom:100%;left:50%;transform:translateX(-50%);border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:transparent transparent #323232 transparent}.nbp-popover .popover-content.top-left,.nbp-tooltip .tooltip-content.top-left{bottom:100%;left:-4px;margin-bottom:.9375em}.nbp-popover .popover-content.top-left::after,.nbp-tooltip .tooltip-content.top-left::after{content:\"\";position:absolute;top:100%;left:5%;border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:#323232 transparent transparent transparent}.nbp-popover .popover-content.top-right,.nbp-tooltip .tooltip-content.top-right{bottom:100%;right:-14px;margin-bottom:.9375em}.nbp-popover .popover-content.top-right::after,.nbp-tooltip .tooltip-content.top-right::after{content:\"\";position:absolute;top:100%;right:5%;border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:#323232 transparent transparent transparent}.nbp-popover .popover-content.bottom-left,.nbp-tooltip .tooltip-content.bottom-left{top:100%;left:-4px;margin-top:.9375em}.nbp-popover .popover-content.bottom-left::after,.nbp-tooltip .tooltip-content.bottom-left::after{content:\"\";position:absolute;bottom:100%;left:5%;border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:transparent transparent #323232 transparent}.nbp-popover .popover-content.bottom-right,.nbp-tooltip .tooltip-content.bottom-right{top:100%;right:-14px;margin-top:.9375em}.nbp-popover .popover-content.bottom-right::after,.nbp-tooltip .tooltip-content.bottom-right::after{content:\"\";position:absolute;bottom:100%;right:5%;border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:transparent transparent #323232 transparent}.nbp-popover .popover-content.opened,.nbp-tooltip:hover .tooltip-content{visibility:visible}:host-context(.contrasto-on) .bottom .icon-position,:host-context(.contrasto-on) .bottom-left .icon-position,:host-context(.contrasto-on) .bottom-right .icon-position,:host-context(.contrasto-on) .right .icon-position,:host-context(.contrasto-on) .top .icon-position,:host-context(.contrasto-on) .top-left .icon-position,:host-context(.contrasto-on) .top-right .icon-position{color:#fff}:host-context(.contrasto-on) .left .icon-position{color:#fff}:host-context(.contrasto-on) .nbp-popover .popover-content,:host-context(.contrasto-on) .nbp-tooltip .tooltip-content{background-color:#000}:host-context(.contrasto-on) .nbp-popover .popover-content.right::after,:host-context(.contrasto-on) .nbp-tooltip .tooltip-content.right::after{border-color:transparent #000 transparent transparent}:host-context(.contrasto-on) .nbp-popover .popover-content.left::after,:host-context(.contrasto-on) .nbp-tooltip .tooltip-content.left::after{border-color:transparent transparent transparent #000}:host-context(.contrasto-on) .nbp-popover .popover-content.top::after,:host-context(.contrasto-on) .nbp-tooltip .tooltip-content.top::after{border-color:#000 transparent transparent transparent}:host-context(.contrasto-on) .nbp-popover .popover-content.bottom::after,:host-context(.contrasto-on) .nbp-tooltip .tooltip-content.bottom::after{border-color:transparent transparent #000 transparent}:host-context(.contrasto-on) .nbp-popover .popover-content.top-left::after,:host-context(.contrasto-on) .nbp-tooltip .tooltip-content.top-left::after{border-color:#000 transparent transparent transparent}:host-context(.contrasto-on) .nbp-popover .popover-content.top-right::after,:host-context(.contrasto-on) .nbp-tooltip .tooltip-content.top-right::after{border-color:#000 transparent transparent transparent}:host-context(.contrasto-on) .nbp-popover .popover-content.bottom-left::after,:host-context(.contrasto-on) .nbp-tooltip .tooltip-content.bottom-left::after{border-color:transparent transparent #000 transparent}:host-context(.contrasto-on) .nbp-popover .popover-content.bottom-right::after,:host-context(.contrasto-on) .nbp-tooltip .tooltip-content.bottom-right::after{border-color:transparent transparent #000 transparent} /*# sourceMappingURL=nbp-tooltip.component.css.map */ "]
    }),
    __metadata$65("design:paramtypes", [_angular_core.ElementRef])
], exports.NbpTooltipComponent);

var __decorate$84 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$66 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpIconComponent = (function () {
    function NbpIconComponent() {
    }
    Object.defineProperty(NbpIconComponent.prototype, "buttonIcon", {
        get: function () { return this._buttonIcon; },
        set: function (value) { this._buttonIcon = value != null && "" + value !== 'false'; },
        enumerable: true,
        configurable: true
    });
    NbpIconComponent.prototype.ngOnInit = function () { };
    return NbpIconComponent;
}());
__decorate$84([
    _angular_core.Input(),
    __metadata$66("design:type", String)
], exports.NbpIconComponent.prototype, "nbpName", void 0);
__decorate$84([
    _angular_core.Input(),
    __metadata$66("design:type", Boolean),
    __metadata$66("design:paramtypes", [Object])
], exports.NbpIconComponent.prototype, "buttonIcon", null);
exports.NbpIconComponent = __decorate$84([
    _angular_core.Component({
        selector: 'nbp-icon',template: "<span class=\"icon\" [ngClass]=\"nbpName\" [class.button-icon]=\"buttonIcon\"></span>",
        styles: [" /*# sourceMappingURL=nbp-icon.component.css.map */ "]
    }),
    __metadata$66("design:paramtypes", [])
], exports.NbpIconComponent);

var __decorate$85 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$67 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpLoggedUserComponent = (function () {
    function NbpLoggedUserComponent() {
        /**
         * Evento emesso alla pressione del pulsante, se
         * nbpDisableLogout non  true
         */
        this.nbpLogout = new _angular_core.EventEmitter();
        this.imageLoaded = false;
        this.imageError = false;
        this.largeUserImage = false;
    }
    Object.defineProperty(NbpLoggedUserComponent.prototype, "nbpDisableLogout", {
        /**
         * Flag che abilita/disabilita la possibilit di eseguire il logout
         */
        get: function () { return this._nbpDisableLogout; },
        set: function (value) { this._nbpDisableLogout = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpLoggedUserComponent.prototype.ngOnInit = function () {
        // TODO: caricamento immagine
    };
    NbpLoggedUserComponent.prototype._onLogoutClick = function () {
        if (!this._nbpDisableLogout) {
            this.nbpLogout.emit();
        }
    };
    return NbpLoggedUserComponent;
}());
__decorate$85([
    _angular_core.Input(),
    __metadata$67("design:type", Object)
], exports.NbpLoggedUserComponent.prototype, "nbpUser", void 0);
__decorate$85([
    _angular_core.Input(),
    __metadata$67("design:type", Boolean),
    __metadata$67("design:paramtypes", [Object])
], exports.NbpLoggedUserComponent.prototype, "nbpDisableLogout", null);
__decorate$85([
    _angular_core.Input(),
    __metadata$67("design:type", String)
], exports.NbpLoggedUserComponent.prototype, "nbpSubtitleText", void 0);
__decorate$85([
    _angular_core.Output(),
    __metadata$67("design:type", _angular_core.EventEmitter)
], exports.NbpLoggedUserComponent.prototype, "nbpLogout", void 0);
exports.NbpLoggedUserComponent = __decorate$85([
    _angular_core.Component({
        selector: 'nbp-logged-user',template: "<div class=\"user-button-container\"><span class=\"user-button\"><a (click)=\"_onLogoutClick()\"><table *ngIf=\"!largeUserImage\"><tr><th class=\"user-image-container\"><div class=\"icon ico-navbar-gestore-01\" *ngIf=\"!imageLoaded\"></div></th><th class=\"user-info\"><span [innerText]=\"nbpUser.name + ' ' + nbpUser.surname\"></span><br><span class=\"user-info-subtitle\">{{nbpSubtitleText}}</span></th></tr></table></a></span></div>",
        styles: [".user-button-container{padding:0}[class*=\" ico-\"]:before{vertical-align:middle}.user-button{margin:0}.user-button a{color:#fa9600;display:table;padding:0 1.25em 0 1.25em;margin:1.25em 0 1.25em 0;text-decoration:none;cursor:pointer;width:19.375em;height:2.813em}.user-button a:active,.user-button a:focus,.user-button a:hover{background-color:#fa9600;color:#323232}.user-button a table{width:100%;display:table-cell;vertical-align:middle}.user-image-container div{vertical-align:middle;font-size:1.75em!important;margin:0!important}.user-image-container img{position:relative;border-radius:50%;width:100%}.user-info{padding-left:.625em;vertical-align:middle;line-height:1;font-weight:400}.user-info-subtitle{display:inline-block;font-size:.875em;font-weight:400}:host-context(.contrasto-on) .user-button a{color:#fff}:host-context(.contrasto-on) .user-button a:active,:host-context(.contrasto-on) .user-button a:focus,:host-context(.contrasto-on) .user-button a:hover{background-color:#fff;color:#000} /*# sourceMappingURL=nbp-logged-user.component.css.map */ "]
    }),
    __metadata$67("design:paramtypes", [])
], exports.NbpLoggedUserComponent);

var __decorate$86 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$68 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpPanelComponent = (function () {
    function NbpPanelComponent() {
        /**
        * Label visualizzata come titolo del panel. Se non  presente
        * non viene visualizzato l'header del panel.
        */
        this.nbpTitle = '';
    }
    NbpPanelComponent.prototype.ngOnInit = function () { };
    return NbpPanelComponent;
}());
__decorate$86([
    _angular_core.Input(),
    __metadata$68("design:type", String)
], exports.NbpPanelComponent.prototype, "nbpTitle", void 0);
exports.NbpPanelComponent = __decorate$86([
    _angular_core.Component({selector: 'nbp-panel',
        template: "<div class=\"panel panel-default\"><div class=\"panel-heading\" *ngIf=\"nbpTitle\">{{nbpTitle}}</div><div [ngClass]=\"{'panel-body-border': nbpTitle, 'panel-body': !nbpTitle}\"><ng-content></ng-content></div></div>",
        styles: [".panel-default{border:none!important}.panel-default>.panel-heading{color:#5ca740;text-decoration:none;background-color:transparent;border:none!important}.panel-default>.panel-body-border{padding:15px;border-top:2px solid #ccc;background-color:#f2f2f2}.panel-default>.panel-body{padding:15px;background-color:#f2f2f2} /*# sourceMappingURL=nbp-panel.component.css.map */ "]
    }),
    __metadata$68("design:paramtypes", [])
], exports.NbpPanelComponent);

var __decorate$87 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$69 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpCustomerNameComponent = (function () {
    function NbpCustomerNameComponent() {
    }
    return NbpCustomerNameComponent;
}());
__decorate$87([
    _angular_core.Input(),
    __metadata$69("design:type", String)
], exports.NbpCustomerNameComponent.prototype, "nbpCustomer", void 0);
exports.NbpCustomerNameComponent = __decorate$87([
    _angular_core.Component({
        selector: 'nbp-customer-name',template: "<div class=\"info-client-container\" *ngIf=\"nbpCustomer\"><div class=\"icon-client-container\"><span class=\"icon-client ico-navbar-gestore-01\"></span></div><div class=\"data-client-container\"><span class=\"nome-cliente\">{{nbpCustomer}}</span></div></div>",
        styles: [".info-client-container{display:table-row;height:50px;color:#fff}.data-client-container,.icon-client-container{display:table-cell;vertical-align:middle;padding-left:5px;padding-right:5px}.icon-client{display:inline-block;width:32px;height:32px;font-size:32px} /*# sourceMappingURL=nbp-customer-name.component.css.map */ "]
    }),
    __metadata$69("design:paramtypes", [])
], exports.NbpCustomerNameComponent);

(function (NbpFeedbackType) {
    NbpFeedbackType[NbpFeedbackType["SUCCESS"] = 0] = "SUCCESS";
    NbpFeedbackType[NbpFeedbackType["ERROR"] = 1] = "ERROR";
    NbpFeedbackType[NbpFeedbackType["WARNING"] = 2] = "WARNING";
})(exports.NbpFeedbackType || (exports.NbpFeedbackType = {}));

var __decorate$88 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$70 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpFeedbackComponent = (function () {
    function NbpFeedbackComponent() {
        this.nbpOnButtonClick = new _angular_core.EventEmitter();
    }
    Object.defineProperty(NbpFeedbackComponent.prototype, "nbpShowDebugInfo", {
        get: function () {
            return this._nbpShowDebugInfo;
        },
        set: function (value) {
            this._nbpShowDebugInfo = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    NbpFeedbackComponent.prototype.ngOnInit = function () {
        if (this.nbpButtons && this.nbpButtons.length) {
            this._evaluateShadowedButtons();
            this._populateButtonStyles();
        }
    };
    NbpFeedbackComponent.prototype._evaluateShadowedButtons = function () {
        this._shadowButtons = this.nbpButtons.length > 3 ? this.nbpButtons.slice(0, 3) : this.nbpButtons.slice();
    };
    NbpFeedbackComponent.prototype._populateButtonStyles = function () {
        switch (this._shadowButtons.length) {
            case 1:
                this._shadowButtons.map(function (button) {
                    button.layout = 'col-md-24';
                });
                break;
            case 2:
                this._shadowButtons.map(function (button, index) {
                    button.layout = 'col-md-12';
                });
                break;
            case 3:
                this._shadowButtons.map(function (button, index) {
                    button.layout = 'col-md-8';
                });
                break;
        }
    };
    NbpFeedbackComponent.prototype._isSuccess = function () {
        return this.nbpFeedbackType === exports.NbpFeedbackType.SUCCESS;
    };
    NbpFeedbackComponent.prototype._isWarning = function () {
        return this.nbpFeedbackType === exports.NbpFeedbackType.WARNING;
    };
    NbpFeedbackComponent.prototype._isError = function () {
        return this.nbpFeedbackType === exports.NbpFeedbackType.ERROR;
    };
    NbpFeedbackComponent.prototype._onFeedbackButtonClick = function (button) {
        this.nbpOnButtonClick.emit(button);
    };
    return NbpFeedbackComponent;
}());
__decorate$88([
    _angular_core.Input(),
    __metadata$70("design:type", String)
], exports.NbpFeedbackComponent.prototype, "nbpTitle", void 0);
__decorate$88([
    _angular_core.Input(),
    __metadata$70("design:type", String)
], exports.NbpFeedbackComponent.prototype, "nbpErrorCode", void 0);
__decorate$88([
    _angular_core.Input(),
    __metadata$70("design:type", String)
], exports.NbpFeedbackComponent.prototype, "nbpMainMessage", void 0);
__decorate$88([
    _angular_core.Input(),
    __metadata$70("design:type", String)
], exports.NbpFeedbackComponent.prototype, "nbpBoxMessage", void 0);
__decorate$88([
    _angular_core.Input(),
    __metadata$70("design:type", Array)
], exports.NbpFeedbackComponent.prototype, "nbpButtons", void 0);
__decorate$88([
    _angular_core.Input(),
    __metadata$70("design:type", Number)
], exports.NbpFeedbackComponent.prototype, "nbpFeedbackType", void 0);
__decorate$88([
    _angular_core.Input(),
    __metadata$70("design:type", Object),
    __metadata$70("design:paramtypes", [Boolean])
], exports.NbpFeedbackComponent.prototype, "nbpShowDebugInfo", null);
__decorate$88([
    _angular_core.Output(),
    __metadata$70("design:type", _angular_core.EventEmitter)
], exports.NbpFeedbackComponent.prototype, "nbpOnButtonClick", void 0);
exports.NbpFeedbackComponent = __decorate$88([
    _angular_core.Component({
        selector: 'nbp-feedback',template: "<div class=\"row col-md-24 padding-bottom\"><div class=\"text-center row col-md-offset-6 col-md-12\"><span id=\"icon\" class=\"icon-size\" [ngClass]=\"{ 'ico-comuni-esito-face-ok success' : _isSuccess() , 'ico-comuni-esito-face-ko error' : _isError() , 'ico-pfm-isp-font-cross-006-faceneutral warning' : _isWarning()  }\"></span></div><div class=\"row col-md-offset-6 col-md-12 padding-bottom\"><div id=\"title\" class=\"title\">{{nbpTitle}}</div></div><div *ngIf=\"nbpErrorCode && (_isWarning() || _isError())\" class=\"row col-md-offset-6 col-md-12 padding-bottom\"><div id=\"error-code\" class=\"code-warning\">Codice Errore: {{nbpErrorCode}}</div></div><div class=\"row col-md-offset-6 col-md-12 padding-bottom\" *ngIf=\"nbpMainMessage != null\"><div id=\"main-message\" class=\"message\">{{nbpMainMessage}}</div></div><div *ngIf=\"_nbpShowDebugInfo\" class=\"row col-md-24 padding-bottom\"><ng-content select=\"nbp-debug-info\"></ng-content></div><div *ngIf=\"_shadowButtons && _shadowButtons.length > 0\" class=\"col-md-24 box padding-bottom\"><div class=\"row col-md-offset-2 col-md-20 text-center button-row\"><div *ngFor=\"let button of _shadowButtons\" class=\"text-center\" [ngClass]=\"button.layout\"><nbp-button [nbpLabel]=\"button.label\" [nbpStyle]=\"button.style\" [nbpIcon]=\"button.icon\" [disabled]=\"button.disabled\" (nbpClick)=\"_onFeedbackButtonClick(button)\"></nbp-button></div></div><div id=\"box-message\" class=\"row col-md-offset-6 col-md-12 text-center message\">{{nbpBoxMessage}}</div></div></div>",
        styles: [".icon-size{font-size:6.25em}.title{font-size:1.5em;color:#000;text-align:center;word-wrap:break-word}.code-warning{font-family:\"Arial Bold\",Arial;font-weight:700;font-style:normal;font-size:16px;color:#6f6f6f;text-align:center;word-wrap:break-word}.message{font-weight:400;font-style:normal;color:#333;text-align:center;line-height:normal}.padding-bottom{padding-bottom:20px}.box{border-width:0;background:inherit;background-color:#f8f8f8;border:none;border-radius:0;box-shadow:none;padding:20px}.button-row{padding-bottom:20px}.feedback-face-size{font-size:12em}.success{color:#258900;font-size:12em}.warning{color:#fa9600;font-size:12em}.error{color:#c63200;font-size:12em} /*# sourceMappingURL=nbp-feedback.component.css.map */ "]
    }),
    __metadata$70("design:paramtypes", [])
], exports.NbpFeedbackComponent);

var __decorate$89 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$71 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpDataContainerComponent = (function () {
    function NbpDataContainerComponent(formatterService) {
        this.formatterService = formatterService;
    }
    NbpDataContainerComponent.prototype.ngOnInit = function () {
        this._nbpViewValue = this._getViewValue(this.nbpData);
    };
    NbpDataContainerComponent.prototype._getViewValue = function (item) {
        if (!item) {
            return null;
        }
        return this.formatterService.displayValueTransformation(item, this.nbpFilter, this.nbpFilterArg);
    };
    return NbpDataContainerComponent;
}());
__decorate$89([
    _angular_core.Input(),
    __metadata$71("design:type", String)
], exports.NbpDataContainerComponent.prototype, "nbpLabel", void 0);
__decorate$89([
    _angular_core.Input(),
    __metadata$71("design:type", Object)
], exports.NbpDataContainerComponent.prototype, "nbpData", void 0);
__decorate$89([
    _angular_core.Input(),
    __metadata$71("design:type", Number)
], exports.NbpDataContainerComponent.prototype, "nbpFilter", void 0);
__decorate$89([
    _angular_core.Input(),
    __metadata$71("design:type", Object)
], exports.NbpDataContainerComponent.prototype, "nbpFilterArg", void 0);
exports.NbpDataContainerComponent = __decorate$89([
    _angular_core.Component({
        selector: 'nbp-data-container',template: "<div class=\"data-title\"><label>{{nbpLabel}}</label></div><div><p class=\"data-content\">{{_nbpViewValue}}</p><div></div></div>",
        styles: [".data-title{display:block!important;font-size:15px;font-weight:700;padding:10px 0 0 0}.data-title>label{margin:0!important}.data-content{display:block!important;font-size:15px;padding:20px 0 20px 0} /*# sourceMappingURL=nbp-data-container.component.css.map */ "],
        viewProviders: [NbpFormatterService]
    }),
    __metadata$71("design:paramtypes", [NbpFormatterService])
], exports.NbpDataContainerComponent);

var SortingDirection$1;
(function (SortingDirection) {
    SortingDirection[SortingDirection["ASCENDING"] = 1] = "ASCENDING";
    SortingDirection[SortingDirection["DESCENDING"] = -1] = "DESCENDING";
})(SortingDirection$1 || (SortingDirection$1 = {}));
var CompareStatus$1;
(function (CompareStatus) {
    CompareStatus[CompareStatus["HIGHER"] = 1] = "HIGHER";
    CompareStatus[CompareStatus["EQUAL"] = 0] = "EQUAL";
    CompareStatus[CompareStatus["LOWER"] = -1] = "LOWER";
})(CompareStatus$1 || (CompareStatus$1 = {}));

var __extends$22 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var NbpDataSource = (function (_super) {
    __extends$22(NbpDataSource, _super);
    function NbpDataSource(arrayData, defaultPageSize) {
        var _this = _super.call(this) || this;
        _this.defaultPageSize = defaultPageSize;
        if (!arrayData) {
            console.log('Errore - Array passato: "Undefined"');
        }
        _this.arrayData = arrayData ? arrayData : [];
        return _this;
    }
    NbpDataSource.prototype.getSortingDirections = function (sortFields) {
        var sortingDirections = sortFields.map(function (element) {
            var sortingDirection;
            if (element.charAt(0) === '-') {
                sortingDirection = SortingDirection$1.DESCENDING;
            }
            else {
                sortingDirection = SortingDirection$1.ASCENDING;
            }
            return sortingDirection;
        });
        return sortingDirections;
    };
    NbpDataSource.prototype.dataSortComparator = function (sortDirection, sortField) {
        return function (a, b) {
            var result;
            var field = sortDirection === SortingDirection$1.DESCENDING ? sortField.substr(1) : sortField;
            var currentTmp = getPropertyValueByPath(a, field);
            var nextTmp = getPropertyValueByPath(b, field);
            var current = currentTmp instanceof Date ? currentTmp.getTime() : currentTmp;
            var next = nextTmp instanceof Date ? nextTmp.getTime() : nextTmp;
            if (current === null || current === undefined) {
                result = CompareStatus$1.LOWER;
            }
            else if (next === null || next === undefined) {
                result = CompareStatus$1.HIGHER;
            }
            else {
                result = (current < next) ? CompareStatus$1.LOWER : ((current > next) ? CompareStatus$1.HIGHER : CompareStatus$1.EQUAL);
            }
            return result * sortDirection;
        };
    };
    NbpDataSource.prototype.sortData = function (data, sortFields) {
        var sortingDirections = this.getSortingDirections(sortFields);
        var sortField = sortFields[0];
        var sortDirection = sortingDirections[0];
        var sortedData = data.sort(this.dataSortComparator(sortDirection, sortField));
        return sortedData;
    };
    NbpDataSource.prototype.getPage = function (pageNumber, sorting, pageSize) {
        var shadowData = this.arrayData.slice();
        var currentPageSize = pageSize ? pageSize : (this.defaultPageSize ? this.defaultPageSize : this.arrayData.length);
        var pageToreturn = pageNumber ? pageNumber : 1;
        var start = (pageToreturn - 1) * currentPageSize;
        var end = start + currentPageSize;
        if (sorting && sorting.length) {
            shadowData = this.sortData(this.arrayData.slice(), sorting);
        }
        var data = shadowData.slice(start, end);
        var dataPage = {
            data: data,
            status: {
                pageNumber: pageNumber,
                pageSize: currentPageSize,
                totalRecords: this.arrayData.length
            }
        };
        return rxjs_Observable.Observable.of(dataPage);
    };
    NbpDataSource.prototype.setData = function (newArrayData, pageNumber, sortFields, pageSize) {
        if (!newArrayData) {
            console.log('Errore - Array passato: "Undefined"');
        }
        this.arrayData = newArrayData ? newArrayData : [];
        this.sendDataEvent(pageNumber, sortFields, pageSize);
    };
    return NbpDataSource;
}(INbpArrayDataSource));

var __extends$24 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$91 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$73 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var I18N_VALUES$2 = {
    'it': {
        weekdays: ['Lu', 'Ma', 'Me', 'Gi', 'Ve', 'Sa', 'Do'],
        months: ['Gen', 'Feb', 'Mar', 'Apr', 'Mag', 'Giu', 'Lug', 'Ago', 'Set', 'Ott', 'Nov', 'Dic'],
        fullMonths: ['Gennaio', 'Febbraio', 'Marzo', 'Aprile', 'Maggio', 'Giugno',
            'Luglio', 'Agosto', 'Settembre', 'Ottobre', 'Novembre', 'Dicembre']
    }
    // other languages you would support
};
// Define a service holding the language. You probably already have one if your app is i18ned. Or you could also
// use the Angular LOCALE_ID value
var I18n$2 = (function () {
    function I18n() {
        this.language = 'it';
    }
    return I18n;
}());
I18n$2 = __decorate$91([
    _angular_core.Injectable()
], I18n$2);
// Define custom service providing the months and weekdays translations
var NbpDatepickerItI18n$2 = (function (_super) {
    __extends$24(NbpDatepickerItI18n, _super);
    function NbpDatepickerItI18n(_i18n) {
        var _this = _super.call(this) || this;
        _this._i18n = _i18n;
        return _this;
    }
    NbpDatepickerItI18n.prototype.getWeekdayShortName = function (weekday) {
        return I18N_VALUES$2[this._i18n.language].weekdays[weekday - 1];
    };
    NbpDatepickerItI18n.prototype.getMonthShortName = function (month) {
        return I18N_VALUES$2[this._i18n.language].months[month - 1];
    };
    NbpDatepickerItI18n.prototype.getMonthFullName = function (month) {
        return I18N_VALUES$2[this._i18n.language].fullMonths[month - 1];
    };
    return NbpDatepickerItI18n;
}(_ngBootstrap_ngBootstrap.NgbDatepickerI18n));
NbpDatepickerItI18n$2 = __decorate$91([
    _angular_core.Injectable(),
    __metadata$73("design:paramtypes", [I18n$2])
], NbpDatepickerItI18n$2);
var NbpDatepickerConfiguration$2 = (function () {
    function NbpDatepickerConfiguration() {
        this.separator = '.';
    }
    return NbpDatepickerConfiguration;
}());
NbpDatepickerConfiguration$2 = __decorate$91([
    _angular_core.Injectable()
], NbpDatepickerConfiguration$2);
var NbpItDateParserFormatter$2 = (function (_super) {
    __extends$24(NbpItDateParserFormatter, _super);
    function NbpItDateParserFormatter(configuration) {
        var _this = _super.call(this) || this;
        _this.configuration = configuration;
        return _this;
    }
    NbpItDateParserFormatter.prototype.padNumber = function (value) {
        if (this.isNumber(value)) {
            return ("0" + value).slice(-2);
        }
        else {
            return '';
        }
    };
    NbpItDateParserFormatter.prototype.isNumber = function (value) {
        return !isNaN(this.toInteger(value));
    };
    NbpItDateParserFormatter.prototype.toInteger = function (value) {
        return parseInt("" + value, 10);
    };
    NbpItDateParserFormatter.prototype.parse = function (value) {
        if (value) {
            var dateParts = value.trim().split('.');
            if (dateParts.length === 1 && this.isNumber(dateParts[0])) {
                return { day: this.toInteger(dateParts[0]), month: null, year: null };
            }
            else if (dateParts.length === 2 && this.isNumber(dateParts[0]) && this.isNumber(dateParts[1])) {
                return { day: this.toInteger(dateParts[0]), month: this.toInteger(dateParts[1]), year: null };
            }
            else if (dateParts.length === 3 && this.isNumber(dateParts[0]) && this.isNumber(dateParts[1]) && this.isNumber(dateParts[2])) {
                return { day: this.toInteger(dateParts[0]), month: this.toInteger(dateParts[1]), year: this.toInteger(dateParts[2]) };
            }
        }
        return null;
    };
    NbpItDateParserFormatter.prototype.format = function (date) {
        return date ?
            "" + (this.isNumber(date.day) ? this.padNumber(date.day) : '') + this.configuration.separator + (this.isNumber(date.month) ? this.padNumber(date.month) : '') + this.configuration.separator + date.year : '';
    };
    return NbpItDateParserFormatter;
}(_ngBootstrap_ngBootstrap.NgbDateParserFormatter));
NbpItDateParserFormatter$2 = __decorate$91([
    _angular_core.Injectable(),
    __metadata$73("design:paramtypes", [NbpDatepickerConfiguration$2])
], NbpItDateParserFormatter$2);

var __extends$23 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$90 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$72 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$16 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * Provider Expression that allows nbp-datepicker to register as a ControlValueAccessor.
 * This allows it to support [(ngModel)].
 * @docs-private
 */
var NBP_DATEPICKER_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpDatepickerComponent; }),
    multi: true
};
var NBP_INPUT_ELEMENT_BASE$3 = {
    provide: NbpInputElementBase,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpDatepickerComponent; }),
    multi: true
};
/** intero autogenerato usato per id unici per nbpCombo component */
var nextId$17 = 0;
exports.NbpDatepickerComponent = (function (_super) {
    __extends$23(NbpDatepickerComponent, _super);
    function NbpDatepickerComponent(validatori, asyncValidatori, parentFormContainer, element, inj) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        _this.parentFormContainer = parentFormContainer;
        _this.element = element;
        _this.inj = inj;
        /**
         * Identificativo univoco per il text field.
         * Se nessun id  fornito e' auto-generato.
         */
        _this.id = "nbp-datepicker-" + ++nextId$17;
        /**
         * testo del placeholder
         * Valore di Default: "dd.mm.yyyy"
         */
        _this.placeholder = 'dd.mm.yyyy';
        _this.ngbMaxDate = { day: 1, month: 1, year: 2050 };
        _this.nbpMaxDate = new Date(_this.ngbMaxDate.year, (_this.ngbMaxDate.month - 1), _this.ngbMaxDate.day);
        _this.ngbMinDate = { day: 1, month: 1, year: 1970 };
        _this.nbpMinDate = new Date(_this.ngbMinDate.year, (_this.ngbMinDate.month - 1), _this.ngbMinDate.day);
        _this.nbpOnNavigate = new _angular_core.EventEmitter();
        return _this;
    }
    Object.defineProperty(NbpDatepickerComponent.prototype, "nbpShowValidation", {
        /**
       * (Opzionale)
       * Booleano che consente di visualizzare i messaggi di feedback relativi alla validazione.
       * Valore di default false
       */
        get: function () {
            if (this.parentFormContainer) {
                this._nbpShowValidation = this.parentFormContainer.nbpShowValidation;
            }
            return this._nbpShowValidation;
        },
        set: function (value) { this._nbpShowValidation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpDatepickerComponent.prototype, "maxDate", {
        /**
         * La massima data accettata dal componente e visualizzata nel calendario
         * Valore di Default: 01.01.2050
         */
        get: function () {
            return this.nbpMaxDate;
        },
        set: function (maxDate) {
            this.nbpMaxDate = maxDate;
            this.ngbMaxDate = this.parseDateStructFromDate(maxDate);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpDatepickerComponent.prototype, "minDate", {
        /**
         * La minima data accettata dal componente e visualizzata nel calendario
         * Valore di Default: 01.01.1970
         */
        get: function () {
            return this.nbpMinDate;
        },
        set: function (minDate) {
            this.nbpMinDate = minDate;
            this.ngbMinDate = this.parseDateStructFromDate(minDate);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpDatepickerComponent.prototype, "disabled", {
        /**
         * Flag che abilita/disabilita le funzionalit associate al datepicker
         */
        get: function () {
            if (this.parentFormContainer && this.parentFormContainer.disabled) {
                this._nbpDisabled = true;
            }
            return this._nbpDisabled;
        },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpDatepickerComponent.prototype, "required", {
        /**
         * Flag che imposta come obbligatorio o meno il campo di input (disabilitato) associato al datepicker
         */
        get: function () { return this._nbpRequired; },
        set: function (value) { this._nbpRequired = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpDatepickerComponent.prototype.ngOnInit = function () {
        this.ngControl = this.inj.get(_angular_forms.NgControl);
    };
    NbpDatepickerComponent.prototype.toggleOpening = function () {
        if (this.ngbDatepicker.isOpen()) {
            this.ngbDatepicker.close();
        }
        else {
            this.ngbDatepicker.open();
            // EVENTUALE HOOK PER AGGIUNGERE I PULSANTI PER AVANTI\INDIETRO  ANNO
            // let buttons = document.querySelector('ngb-datepicker-navigation > button');
        }
    };
    NbpDatepickerComponent.prototype._ngbModelChanged = function (event) {
        this.value = this.parseDateFromDateStruct(event);
    };
    NbpDatepickerComponent.prototype.parseDateFromDateStruct = function (value) {
        return (value && value instanceof Date) ? new Date(value.year, value.month - 1, value.day) : value;
    };
    NbpDatepickerComponent.prototype.parseDateStructFromDate = function (value) {
        return (value && value instanceof Date)
            ? { day: value.getUTCDate(), month: (value.getUTCMonth() + 1), year: value.getUTCFullYear() }
            : value;
    };
    NbpDatepickerComponent.prototype.writeValue = function (value) {
        this._ngbModel = this.parseDateStructFromDate(value);
        this.value = value;
    };
    NbpDatepickerComponent.prototype._onNavigate = function (navigateEvent) {
        var _current = navigateEvent.current
            ? new Date(navigateEvent.current.year, (navigateEvent.current.month - 1), 1)
            : navigateEvent.current;
        var _next = navigateEvent.next.year
            ? new Date(navigateEvent.next.year, (navigateEvent.next.month - 1), 1)
            : navigateEvent.next.year;
        this.nbpOnNavigate.emit({ current: _current, next: _next });
    };
    return NbpDatepickerComponent;
}(NbpInputElementBase));
__decorate$90([
    _angular_core.Input(),
    __metadata$72("design:type", RegExp)
], exports.NbpDatepickerComponent.prototype, "pattern", void 0);
__decorate$90([
    _angular_core.Input(),
    __metadata$72("design:type", String)
], exports.NbpDatepickerComponent.prototype, "name", void 0);
__decorate$90([
    _angular_core.Input(),
    __metadata$72("design:type", String)
], exports.NbpDatepickerComponent.prototype, "id", void 0);
__decorate$90([
    _angular_core.HostBinding('class.nbp-show-validation'),
    _angular_core.Input(),
    __metadata$72("design:type", Boolean),
    __metadata$72("design:paramtypes", [Object])
], exports.NbpDatepickerComponent.prototype, "nbpShowValidation", null);
__decorate$90([
    _angular_core.Input(),
    __metadata$72("design:type", String)
], exports.NbpDatepickerComponent.prototype, "placeholder", void 0);
__decorate$90([
    _angular_core.Input(),
    __metadata$72("design:type", String)
], exports.NbpDatepickerComponent.prototype, "nbpErrorMessage", void 0);
__decorate$90([
    _angular_core.Input(),
    __metadata$72("design:type", Object),
    __metadata$72("design:paramtypes", [Date])
], exports.NbpDatepickerComponent.prototype, "maxDate", null);
__decorate$90([
    _angular_core.Input(),
    __metadata$72("design:type", Object),
    __metadata$72("design:paramtypes", [Date])
], exports.NbpDatepickerComponent.prototype, "minDate", null);
__decorate$90([
    _angular_core.Input(),
    __metadata$72("design:type", Boolean),
    __metadata$72("design:paramtypes", [Object])
], exports.NbpDatepickerComponent.prototype, "disabled", null);
__decorate$90([
    _angular_core.Input(),
    __metadata$72("design:type", Boolean),
    __metadata$72("design:paramtypes", [Object])
], exports.NbpDatepickerComponent.prototype, "required", null);
__decorate$90([
    _angular_core.Output(),
    __metadata$72("design:type", _angular_core.EventEmitter)
], exports.NbpDatepickerComponent.prototype, "nbpOnNavigate", void 0);
__decorate$90([
    _angular_core.ViewChild('ngbDatepicker'),
    __metadata$72("design:type", _ngBootstrap_ngBootstrap.NgbInputDatepicker)
], exports.NbpDatepickerComponent.prototype, "ngbDatepicker", void 0);
__decorate$90([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$72("design:type", _angular_forms.NgModel)
], exports.NbpDatepickerComponent.prototype, "model", void 0);
exports.NbpDatepickerComponent = __decorate$90([
    _angular_core.Component({
        selector: 'nbp-datepicker',
        template: "<div class=\"form-group\"><div class=\"input-group\"><input #ngbDatepicker=\"ngbDatepicker\" ngbDatepicker [id]=\"id\" [name]=\"name\" [ngModel]=\"_ngbModel\" (ngModelChange)=\"_ngbModelChanged($event)\" [required]=\"required\" [disabled]=\"disabled\" [maxDate]=\"ngbMaxDate\" [minDate]=\"ngbMinDate\" (navigate)=\"_onNavigate($event)\" navigation=\"arrows\" class=\"form-control\" [pattern]=\"pattern\" placeholder=\"dd.mm.yyyy\"> <i class=\"icon-calendar button-icon\" [ngClass]=\"{'disabled': disabled}\" (click)=\"toggleOpening()\"></i></div></div>",
        styles: [".form-control::-ms-clear{display:none;width:0;height:0}.day{border-radius:0!important;box-sizing:border-box;text-align:center;width:inherit!important;height:inherit!important;line-height:2.6em!important;vertical-align:middle;color:#258900;border-left:#d3d3d3 solid 1px;border-right:#d3d3d3 solid 1px;border-bottom:#d3d3d3 solid 1px;border-collapse:separate;border-spacing:0}.icon{width:2rem;height:2rem}.day.greyed{color:#d3d3d3}.day:hover{color:#fff;background-color:#258900;cursor:pointer}:host::ng-deep .form-inline{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:1em}:host::ng-deep .form-inline .form-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-flow:row wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:0}:host::ng-deep .input-group{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}:host::ng-deep .input-group .form-control,:host::ng-deep .input-group-addon,:host::ng-deep .input-group-btn{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}:host::ng-deep .form-control{display:block;width:100%;height:3.125em;color:#464a4c;background-color:#fff;background-image:none;background-clip:padding-box;border-radius:.15em!important;transition:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;border:1px solid #323232!important}:host::ng-deep .form-control:active:not([disabled]),:host::ng-deep .form-control:focus:not([disabled]){border:1px solid #258900!important}:host::ng-deep .form-control[disabled]{border:1px solid #ccc!important;color:#ccc;user-select:none}:host(.ng-touched.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.ng-touched.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host(.ng-dirty.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.ng-dirty.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]){border:2px solid #c63200!important}:host(.nbp-show-validation.ng-invalid)::ng-deep .form-control:not([disabled]):focus{border:2px solid #c63200}:host::ng-deep .input-group-addon{padding:.5em .75em;margin-bottom:0;font-size:1em;font-weight:400;line-height:1.25;color:#258900;text-align:center;background-color:#fff!important;border-top-color:rgba(0,0,0,.15);border-top-style:solid;border-top-width:1px;border-right-color:rgba(0,0,0,.15);border-right-style:solid;border-right-width:1px;border-bottom-color:rgba(0,0,0,.15);border-bottom-style:solid;border-bottom-width:1px;border-left-style:none!important;border-left-width:0!important;border-left-color:none!important}:host::ng-deep .input-group-addon img{width:1.2em;height:1em;cursor:pointer}:host::ng-deep .form-control+.input-group-addon:not(:first-child){border-left:0}:host::ng-deep .button-calendar{background-color:#fff;border-bottom:1px solid #d3d3d3;border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:none;color:#258900;right:21px;position:relative;margin-right:-21px}:host::ng-deep .dropdown-menu{position:absolute;top:100%;left:0;display:none;float:left;min-width:10em;padding:.5em 0;margin:.125em 0 0;font-size:1em;color:#1d1d1d;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;padding:0;top:24px;left:0;border-radius:0!important;border:none!important}:host::ng-deep .d-inline-block{display:inline-block!important}:host::ng-deep .rounded{border-radius:.25em}:host::ng-deep .ngb-dp-header{height:4em!important;margin-bottom:-1.5em!important;border-bottom:none!important}:host::ng-deep .pt-1{padding-top:0!important;height:4.25em;margin-bottom:-2em}:host::ng-deep .rounded-top{border-top-right-radius:.25em;border-top-left-radius:.25em;border-radius:0!important}:host::ng-deep .bg-faded{background-color:#fff!important}:host::ng-deep ngb-datepicker-navigation{height:2em;line-height:1.85em}:host::ng-deep .justify-content-between{-webkit-box-pack:justify!important;-ms-flex-pack:justify!important;justify-content:space-between!important}:host::ng-deep .d-flex{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important}:host::ng-deep .btn-link{cursor:pointer;outline:#d3d3d3 solid 1px!important}:host::ng-deep .btn-link,:host::ng-deep .btn-link:active,:host::ng-deep .btn-link:focus{border-color:transparent}:host::ng-deep .btn-link,:host::ng-deep .btn-link.active,:host::ng-deep .btn-link:active,:host::ng-deep .btn-link:disabled{background-color:transparent}:host::ng-deep .btn-link{font-weight:400;color:#258900;border-radius:0}:host::ng-deep button,:host::ng-deep input,:host::ng-deep select,:host::ng-deep textarea{line-height:inherit}:host::ng-deep [role=button],:host::ng-deep a,:host::ng-deep area,:host::ng-deep button,:host::ng-deep input,:host::ng-deep label,:host::ng-deep select,:host::ng-deep summary,:host::ng-deep textarea{-ms-touch-action:manipulation;touch-action:manipulation}:host::ng-deep button{-webkit-appearance:button}:host::ng-deep button,:host::ng-deep select{text-transform:none}:host::ng-deep button,:host::ng-deep input{overflow:visible}:host::ng-deep button,:host::ng-deep input,:host::ng-deep optgroup,:host::ng-deep select,:host::ng-deep textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}:host::ng-deep .ngb-dp-navigation-chevron::before{border-style:solid;border-width:.1em .1em 0 0!important;content:'';display:inline-block;height:.75em!important;transform:rotate(-135deg);-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);width:.75em!important;margin:0 0 0 .5em!important;color:grey}:host::ng-deep .ngb-dp-navigation-chevron.right:before{-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);margin:0 .5em 0 0!important}:host::ng-deep .d-block{display:block!important}:host::ng-deep ngb-datepicker-navigation-select.d-block{width:9em!important}:host::ng-deep select{padding:.25em .5em;font-size:.875em;line-height:1.25;height:inherit;width:50%}:host::ng-deep .d-inline-block{display:inline-block!important}:host::ng-deep select.custom-select.d-inline-block{padding:.25em .5rem!important;font-size:.875em!important;line-height:1.25;height:inherit;width:50%}:host::ng-deep .custom-select{display:inline-block;max-width:100%;height:calc(4.25em);padding:.375em 1.75em .375em .75em;line-height:1.25;color:#464a4c;vertical-align:middle;border:1px solid rgba(0,0,0,.15);border-radius:.25em;-moz-appearance:none;-webkit-appearance:none}:host::ng-deep .px-1{padding-left:0!important;padding-right:0!important}:host::ng-deep .pb-1{padding-bottom:.25em!important}:host::ng-deep .ngb-dp-month:first-child{margin-left:0!important}:host::ng-deep .ngb-dp-month{pointer-events:none}:host::ng-deep .ml-3{margin-left:1em!important}:host::ng-deep .ngb-dp-day{width:45px!important;height:45px!important}:host::ng-deep .ngb-dp-week-number,:host::ng-deep .ngb-dp-weekday{width:45px!important;height:35px!important}:host::ng-deep .ngb-dp-day{position:relative;box-sizing:border-box}:host::ng-deep .ngb-dp-week.d-flex:not(:first-child){border-top:.5px solid #d3d3d3;border-bottom:.5px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-week.d-flex:first-child{border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-bottom:.5px solid #d3d3d3;border-left:1px solid #d3d3d3}:host::ng-deep ngb-datepicker-navigation.d-flex{height:2.5em!important;line-height:1.8em!important;border-top:1px solid #d3d3d3;border-right:1px solid #d3d3d3;border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-week-number,:host::ng-deep .ngb-dp-weekday{line-height:35px!important}:host::ng-deep .text-info{color:#5bc0de!important}:host::ng-deep .font-italic{font-style:italic}:host::ng-deep .outside{opacity:.5}:host::ng-deep ngb-dp-day>div{text-align:center;width:45px;height:45px;line-height:45px;border-radius:0!important}:host::ng-deep div[ngbdatepickerdayview]{border-radius:0!important;box-sizing:border-box;text-align:center;width:45px!important;height:45px!important;line-height:45px!important;vertical-align:middle!important}:host::ng-deep .text-muted{color:#636c72!important}:host::ng-deep .btn-secondary{color:#258900;background-color:#fff;border-color:#ccc;font-weight:700;font-size:.8em}:host::ng-deep .text-white{color:#fff!important}:host::ng-deep .bg-primary{background-color:#258900!important}:host::ng-deep .bg-primary::before{border-bottom:8px solid #fff;border-left:8px solid transparent;border-right:8px solid transparent;position:absolute;top:0;right:-8px;content:'';display:inline-block;width:0;height:0;margin:0;padding:0;transform:rotate(45deg);transform-origin:top}:host::ng-deep .text-center{text-align:center!important}:host::ng-deep .small,:host::ng-deep small{font-size:80%;font-weight:400}:host::ng-deep .ngb-dp-months.pb-1{padding:0!important}:host::ng-deep .input-group>input.form-control{padding-left:.625em;padding-right:2.5em}:host::ng-deep .ngb-dp-day:not(:first-child)>.btn-secondary{border-left:1px solid #d3d3d3}:host::ng-deep .ngb-dp-weekday.font-italic{font-family:'Arial Bold',Arial;font-weight:700;font-style:normal!important;font-size:.75em;color:#6f6f6f!important;text-align:center;text-transform:uppercase}:host::ng-deep button.btn-link{color:#258900!important}:host::ng-deep .collapsed{margin-bottom:-2em!important}:host::ng-deep .ngb-dp-month-name{font-size:.8em!important;padding-top:1em!important;font-weight:700;text-transform:uppercase;color:#258900;position:absolute;text-align:center!important;top:0;height:3.2em!important;width:11.4em;line-height:1.42857143em!important;word-wrap:break-word;word-break:break-word;left:0;right:0;margin-left:auto;margin-right:auto}.button-icon{cursor:pointer;position:relative;top:.001em;right:1.6em;z-index:2;color:#258900;font-size:1.625em;line-height:2.083em}.button-icon.disabled{cursor:not-allowed;pointer-events:none;color:#ccc}:host-context(.contrasto-on) .button-icon{color:#000} /*# sourceMappingURL=nbp-datepicker.component.css.map */ "],
        providers: [
            I18n$2,
            NbpDatepickerConfiguration$2,
            { provide: _ngBootstrap_ngBootstrap.NgbDatepickerI18n, useClass: NbpDatepickerItI18n$2 },
            { provide: _ngBootstrap_ngBootstrap.NgbDateParserFormatter, useClass: NbpItDateParserFormatter$2 },
            NBP_DATEPICKER_CONTROL_VALUE_ACCESSOR,
            NBP_INPUT_ELEMENT_BASE$3
        ]
    }),
    __param$16(0, _angular_core.Optional()), __param$16(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$16(1, _angular_core.Optional()), __param$16(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __param$16(2, _angular_core.Optional()),
    __metadata$72("design:paramtypes", [Array, Array, exports.NbpFormContainerComponent,
        _angular_core.ElementRef,
        _angular_core.Injector])
], exports.NbpDatepickerComponent);

var __decorate$92 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$74 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpSequenzialeGenericComponent = (function () {
    function NbpSequenzialeGenericComponent() {
        /**
         * Array di Json degli step.
         *
         * esempio formato:
         * [
         *   { active: true, fillPercent: 25, label: 'step 1', stepDimension: NbpStepDimension.GRANDE },
         *   { active: false, fillPercent: 0, label: 'step 2', stepDimension: NbpStepDimension.GRANDE },
         *   { active: false, fillPercent: 0, label: 'step 3', stepDimension: NbpStepDimension.GRANDE },
         *   { active: false, fillPercent: 0, label: 'step 4', stepDimension: NbpStepDimension.GRANDE }
         * ];
         *
         */
        this.steps = [];
        /**
         * Evento generato al cambio step.
         * Fornisce in output json costituito da :
         * {
         *  step: valore step corrente
         *  disablePrev: stato pulsante Prev
         *  disableNext: stato pulsante Next
         * }
         */
        this.stepEvent = new _angular_core.EventEmitter();
        //dati di output da fornire su event 
        this.pagingSteps = [];
        this.currentStep = 0;
        this.currentPagingStep = 0;
        //variabili locali da non fare nulla
        this.lg = exports.NbpSize.LG;
        this.disablePrev = true;
        this.disableNext = false;
    }
    Object.defineProperty(NbpSequenzialeGenericComponent.prototype, "navigateOperation", {
        /**
         * Operazione di navigazione richiesta.
         *
         * valori ammessi: "NEXT, PREV"
         *
         */
        set: function (value) {
            if (!value)
                return;
            value = value.toUpperCase();
            if (value.indexOf("NEXT") != -1)
                this.Next();
            if (value.indexOf("PREV") != -1)
                this.Prev();
        },
        enumerable: true,
        configurable: true
    });
    NbpSequenzialeGenericComponent.prototype.ngOnInit = function () {
        this.stepperUpdate();
    };
    NbpSequenzialeGenericComponent.prototype.Prev = function () {
        if (this.currentStep <= 0 && this.currentPagingStep <= 0) {
            return;
        }
        var allPagingSteps = this.getAllPagingSteps(this.currentStep);
        if (allPagingSteps.length > 0 && this.currentPagingStep > 0) {
            this.currentPagingStep--;
            this.steps[this.currentStep].fillPercent = this.getFillPercent(this.currentPagingStep, allPagingSteps.length);
        }
        else {
            this.changeStep(this.currentStep, this.currentStep - 1);
        }
        this.manageButtons();
    };
    NbpSequenzialeGenericComponent.prototype.Next = function () {
        var allPagingSteps = this.getAllPagingSteps(this.currentStep);
        if (this.currentStep >= this.steps.length - 1 && this.currentPagingStep >= allPagingSteps.length) {
            this.steps[this.currentStep].fillPercent = 100;
            // this.currentStep++;
            // this.manageButtons();
            this.manageButtons();
            return;
        }
        if (allPagingSteps.length > 0 && this.currentPagingStep < allPagingSteps.length) {
            this.currentPagingStep++;
            this.steps[this.currentStep].fillPercent = this.getFillPercent(this.currentPagingStep, allPagingSteps.length);
            if (this.currentPagingStep == allPagingSteps.length) {
                this.changeStep(this.currentStep, this.currentStep + 1);
            }
        }
        else {
            this.changeStep(this.currentStep, this.currentStep + 1);
        }
        this.manageButtons();
    };
    NbpSequenzialeGenericComponent.prototype.getAllPagingSteps = function (stepIndex) {
        if (this.pagingSteps[stepIndex] && this.pagingSteps[stepIndex].pages) {
            return this.pagingSteps[stepIndex].pages;
        }
        else {
            return [];
        }
    };
    NbpSequenzialeGenericComponent.prototype.getFillPercent = function (pageIndex, pagesLength) {
        return (100 * (pageIndex + 1) / pagesLength);
    };
    NbpSequenzialeGenericComponent.prototype.changeStep = function (oldStep, newStep) {
        if (newStep >= this.steps.length) {
            return;
        }
        this.steps[oldStep].fillPercent = oldStep < newStep ? 100 : 0;
        this.steps[oldStep].active = false;
        this.currentStep = newStep;
        this.steps[newStep].active = true;
        var allPagingStepsNew = this.getAllPagingSteps(newStep);
        if (allPagingStepsNew.length > 0) {
            this.currentPagingStep = 0;
            this.steps[newStep].fillPercent = this.getFillPercent(this.currentPagingStep, allPagingStepsNew.length);
        }
        else {
            this.currentPagingStep = 0;
            this.steps[newStep].fillPercent = 100;
        }
    };
    NbpSequenzialeGenericComponent.prototype.manageButtons = function () {
        var allPagingSteps = this.getAllPagingSteps(this.currentStep);
        // if(this.currentStep >= this.steps.length - 1 && this.currentPagingStep >= allPagingSteps.length - 1) {
        if (this.currentStep >= this.steps.length - 1 && this.steps[this.currentStep].fillPercent == 100) {
            this.disableNext = true;
        }
        else {
            this.disableNext = false;
        }
        if (this.currentStep <= 0 && this.currentPagingStep <= 0) {
            this.disablePrev = true;
        }
        else {
            this.disablePrev = false;
        }
        this.stepperUpdate();
    };
    NbpSequenzialeGenericComponent.prototype.stepperUpdate = function () {
        var result = {
            step: this.currentStep,
            disablePrev: this.disablePrev,
            disableNext: this.disableNext
        };
        this.stepEvent.emit(result);
    };
    return NbpSequenzialeGenericComponent;
}());
__decorate$92([
    _angular_core.Input(),
    __metadata$74("design:type", Array)
], exports.NbpSequenzialeGenericComponent.prototype, "steps", void 0);
__decorate$92([
    _angular_core.Input(),
    __metadata$74("design:type", String),
    __metadata$74("design:paramtypes", [String])
], exports.NbpSequenzialeGenericComponent.prototype, "navigateOperation", null);
__decorate$92([
    _angular_core.Output(),
    __metadata$74("design:type", Object)
], exports.NbpSequenzialeGenericComponent.prototype, "stepEvent", void 0);
exports.NbpSequenzialeGenericComponent = __decorate$92([
    _angular_core.Component({
        selector: 'nbp-sequenziale-generic',template: "<div style=\"margin-top: -0.8em;\"><nbp-progress [nbpConfiguration]=\"steps\"></nbp-progress></div><div class=\"container main-container\" style=\"margin-top: 1.250em; min-height: 100%\"><div class=\"page-steps-container col-md-24 border-top-white\" *ngIf=\"pagingSteps[currentStep] && pagingSteps[currentStep].pages && pagingSteps[currentStep].pages.length > 0\"><div class=\"container pad-t-12 pad-b-12 pad-l-10 pad-r-10\"><ul class=\"page-steps pull-left\"><ng-container *ngFor=\"let page of pagingSteps[currentStep].pages; let pageIndex= index\"><li class=\"page-step\" *ngIf=\"pageIndex <= currentPagingStep\"><div class=\"col\"><span class=\"page-steps-number\" [ngClass]=\"{'active': pageIndex === currentPagingStep, 'done': pageIndex < currentPagingStep}\">{{pageIndex + 1}}</span><div class=\"row\"><label class=\"page-step-label\" *ngIf=\"pageIndex === currentPagingStep\">{{pagingSteps[currentStep].currentParentLabel}}</label><br><label class=\"page-steps-label\" *ngIf=\"pageIndex === currentPagingStep\">{{page.label}}</label></div></div></li></ng-container></ul><ul class=\"page-steps pull-right\"><ng-container *ngFor=\"let page of pagingSteps[currentStep].pages; let pageIndex = index\"><li class=\"page-step\" *ngIf=\"pageIndex > currentPagingStep\"><span class=\"page-steps-number\">{{pageIndex + 1}}</span></li></ng-container></ul></div></div></div>",
        styles: [".page-steps{list-style:none;padding:0;margin:0;height:2em}.page-steps li{display:inline-block;height:2em;line-height:2em}.page-steps li .row{line-height:0}.page-steps .page-step .col{display:inline-table}.page-steps .page-step .row{display:table-cell}.page-steps .page-steps-number{display:inline-block;border:1px solid #6f6f6f;font-weight:700;color:#6f6f6f;text-align:center;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:2em;height:2em;font-size:.785em;line-height:2em;margin:0 .125em 0 .125em}.page-steps .page-steps-number.active{color:#258900;border:1px solid #258900}.page-steps .page-steps-number.done{color:#fff;background-color:#258900;border-color:#258900}.page-steps .page-step-label{font-weight:400;color:#258900;font-size:.6875em!important;line-height:.5em;text-transform:uppercase;margin-left:.5em;margin-top:.4em}.page-steps .page-steps-label{font-weight:700;color:#258900;font-size:.785em!important;line-height:1em;text-transform:uppercase;margin-left:.5em;margin-top:.1em!important}.page-steps-container{background-color:#fff}@media (min-width:768px){.page-steps .page-steps-label{font-size:.938em}.page-steps .page-steps-number{font-size:.938em}}@-moz-document url-prefix(){.page-steps .page-step .col{display:inline-flex}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.page-steps .page-step .col .row{top:-10px}}:host-context(.contrasto-on) .page-steps .page-steps-number{color:#000}:host-context(.contrasto-on) .page-steps .page-steps-number.active{color:#000;border-color:#000}:host-context(.contrasto-on) .page-steps .page-steps-number.done{color:#fff;background-color:#000;border-color:#000}:host-context(.contrasto-on) .page-steps .page-step-label{color:#000}:host-context(.contrasto-on) .page-steps .page-steps-label{color:#000}:host-context(.contrasto-on) .page-steps-container{background-color:#fff} /*# sourceMappingURL=nbp-sequenziale-generic.component.css.map */ "]
    }),
    __metadata$74("design:paramtypes", [])
], exports.NbpSequenzialeGenericComponent);

var __decorate$93 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$75 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpSequenzialeSottostepGenericComponent = (function () {
    function NbpSequenzialeSottostepGenericComponent() {
        /**
         * Array di Json degli step.
         *
         * esempio formato:
         * [
         *   { active: true, fillPercent: 25, label: 'step 1', stepDimension: NbpStepDimension.GRANDE },
         *   { active: false, fillPercent: 0, label: 'step 2', stepDimension: NbpStepDimension.GRANDE },
         *   { active: false, fillPercent: 0, label: 'step 3', stepDimension: NbpStepDimension.GRANDE },
         *   { active: false, fillPercent: 0, label: 'step 4', stepDimension: NbpStepDimension.GRANDE }
         * ];
         *
         */
        this.steps = [];
        /**
         * Array di Json dei sottostep di ciascun step.
         *
         * esempio formato:
         *
         * [{
         *   currentParentLabel: 'Step 1',
         *   pages: [{label: 'Sottostep 1'},
         *           {label: 'Sottostep 2'},
         *           {label: 'Sottostep 3'},
         *           {label: 'Sottostep 4'},
         *           {label: 'Sottostep 5'}]
         *  },
         *
         *  ........................
         *  ........................
         *
         * }]
         *
         */
        this.pagingSteps = [];
        /**
         * Evento generato al cambio step.
         * Fornisce in output json costituito da :
         * {
         *  step: valore step corrente
         *  sottoStep: valore sottoStep corrente
         *  disablePrev: stato pulsante Prev
         *  disableNext: stato pulsante Next
         * }
         */
        this.stepEvent = new _angular_core.EventEmitter();
        //dati uso interno
        this.disablePrev = true;
        this.disableNext = false;
        //dati da fornire in output su event emitter
        this.currentStep = 0;
        this.currentPagingStep = 0;
        //variabili locali da non toccare
        this.lg = exports.NbpSize.LG;
        this.sticky = false;
    }
    NbpSequenzialeSottostepGenericComponent.prototype.ngOnInit = function () {
        this.stepperUpdate();
    };
    Object.defineProperty(NbpSequenzialeSottostepGenericComponent.prototype, "navigateOperation", {
        /**
         * Operazione di navigazione richiesta.
         *
         * valori ammessi: "NEXT, PREV"
         *
         */
        set: function (value) {
            if (!value)
                return;
            value = value.toUpperCase();
            if (value.indexOf("NEXT") != -1)
                this.Next();
            if (value.indexOf("PREV") != -1)
                this.Prev();
        },
        enumerable: true,
        configurable: true
    });
    NbpSequenzialeSottostepGenericComponent.prototype.Prev = function () {
        if (this.currentStep <= 0 && this.currentPagingStep <= 0) {
            return;
        }
        var allPagingSteps = this.getAllPagingSteps(this.currentStep);
        if (allPagingSteps.length > 0 && this.currentPagingStep > 0) {
            this.currentPagingStep--;
            this.steps[this.currentStep].fillPercent = this.getFillPercent(this.currentPagingStep, allPagingSteps.length);
        }
        else {
            this.changeStep(this.currentStep, this.currentStep - 1);
        }
        this.manageButtons();
    };
    NbpSequenzialeSottostepGenericComponent.prototype.Next = function () {
        var allPagingSteps = this.getAllPagingSteps(this.currentStep);
        if (this.currentStep >= this.steps.length - 1 && this.currentPagingStep >= allPagingSteps.length) {
            this.steps[this.currentStep].fillPercent = 100;
            // this.currentStep++;
            // this.manageButtons();
            this.manageButtons();
            return;
        }
        if (allPagingSteps.length > 0 && this.currentPagingStep < allPagingSteps.length) {
            this.currentPagingStep++;
            this.steps[this.currentStep].fillPercent = this.getFillPercent(this.currentPagingStep, allPagingSteps.length);
            if (this.currentPagingStep == allPagingSteps.length) {
                this.changeStep(this.currentStep, this.currentStep + 1);
            }
        }
        else {
            this.changeStep(this.currentStep, this.currentStep + 1);
        }
        this.manageButtons();
    };
    NbpSequenzialeSottostepGenericComponent.prototype.getAllPagingSteps = function (stepIndex) {
        if (this.pagingSteps[stepIndex] && this.pagingSteps[stepIndex].pages) {
            return this.pagingSteps[stepIndex].pages;
        }
        else {
            return [];
        }
    };
    NbpSequenzialeSottostepGenericComponent.prototype.getFillPercent = function (pageIndex, pagesLength) {
        return (100 * (pageIndex + 1) / pagesLength);
    };
    NbpSequenzialeSottostepGenericComponent.prototype.changeStep = function (oldStep, newStep) {
        if (newStep >= this.steps.length) {
            return;
        }
        this.steps[oldStep].fillPercent = oldStep < newStep ? 100 : 0;
        this.steps[oldStep].active = false;
        this.currentStep = newStep;
        this.steps[newStep].active = true;
        var allPagingStepsNew = this.getAllPagingSteps(newStep);
        if (allPagingStepsNew.length > 0) {
            if (oldStep > newStep) {
                this.currentPagingStep = allPagingStepsNew.length - 1;
            }
            else {
                this.currentPagingStep = 0;
            }
            this.steps[newStep].fillPercent = this.getFillPercent(this.currentPagingStep, allPagingStepsNew.length);
        }
        else {
            this.currentPagingStep = 0;
            this.steps[newStep].fillPercent = 100;
        }
    };
    NbpSequenzialeSottostepGenericComponent.prototype.manageButtons = function () {
        var allPagingSteps = this.getAllPagingSteps(this.currentStep);
        // if(this.currentStep >= this.steps.length - 1 && this.currentPagingStep >= allPagingSteps.length - 1) {
        if (this.currentStep >= this.steps.length - 1 && this.steps[this.currentStep].fillPercent == 100) {
            this.disableNext = true;
        }
        else {
            this.disableNext = false;
        }
        if (this.currentStep <= 0 && this.currentPagingStep <= 0) {
            this.disablePrev = true;
        }
        else {
            this.disablePrev = false;
        }
        this.stepperUpdate();
    };
    NbpSequenzialeSottostepGenericComponent.prototype.stepperUpdate = function () {
        var result = {
            step: this.currentStep,
            sottoStep: this.currentPagingStep,
            disablePrev: this.disablePrev,
            disableNext: this.disableNext
        };
        this.stepEvent.emit(result);
    };
    NbpSequenzialeSottostepGenericComponent.prototype.onWindowScroll = function () {
        var number = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        if (number > 70) {
            this.sticky = true;
        }
        else {
            this.sticky = false;
        }
    };
    return NbpSequenzialeSottostepGenericComponent;
}());
__decorate$93([
    _angular_core.Input(),
    __metadata$75("design:type", Array)
], exports.NbpSequenzialeSottostepGenericComponent.prototype, "steps", void 0);
__decorate$93([
    _angular_core.Input(),
    __metadata$75("design:type", Object)
], exports.NbpSequenzialeSottostepGenericComponent.prototype, "pagingSteps", void 0);
__decorate$93([
    _angular_core.Input(),
    __metadata$75("design:type", String),
    __metadata$75("design:paramtypes", [String])
], exports.NbpSequenzialeSottostepGenericComponent.prototype, "navigateOperation", null);
__decorate$93([
    _angular_core.Output(),
    __metadata$75("design:type", Object)
], exports.NbpSequenzialeSottostepGenericComponent.prototype, "stepEvent", void 0);
__decorate$93([
    _angular_core.HostListener("window:scroll", []),
    __metadata$75("design:type", Function),
    __metadata$75("design:paramtypes", []),
    __metadata$75("design:returntype", void 0)
], exports.NbpSequenzialeSottostepGenericComponent.prototype, "onWindowScroll", null);
exports.NbpSequenzialeSottostepGenericComponent = __decorate$93([
    _angular_core.Component({
        selector: 'nbp-sequenziale-sottostep-generic',template: "<div style=\"margin-top: -0.8em;\"><nbp-progress [nbpConfiguration]=\"steps\"></nbp-progress></div><div class=\"line-separator\" [ngClass]=\"{'sticky-line' : sticky}\"></div><div class=\"container main-container\" style=\"min-height: 100%\"><div class=\"page-steps-container col-md-24 border-top-white\" [ngClass]=\"{'sticky' : sticky}\" *ngIf=\"pagingSteps[currentStep] && pagingSteps[currentStep].pages && pagingSteps[currentStep].pages.length > 0\"><div class=\"container pad-t-12 pad-b-12 pad-l-10 pad-r-10\"><ul class=\"page-steps pull-left\"><ng-container *ngFor=\"let page of pagingSteps[currentStep].pages; let pageIndex= index\"><li class=\"page-step\" *ngIf=\"pageIndex <= currentPagingStep\"><div class=\"col\"><span class=\"page-steps-number\" [ngClass]=\"{'active': pageIndex === currentPagingStep, 'done': pageIndex < currentPagingStep}\">{{pageIndex + 1}}</span><div class=\"row\"><label class=\"page-step-label\" *ngIf=\"pageIndex === currentPagingStep\">{{pagingSteps[currentStep].currentParentLabel}}</label><br><label class=\"page-steps-label\" *ngIf=\"pageIndex === currentPagingStep\">{{page.label}}</label></div></div></li></ng-container></ul><ul class=\"page-steps pull-right\"><ng-container *ngFor=\"let page of pagingSteps[currentStep].pages; let pageIndex = index\"><li class=\"page-step\" *ngIf=\"pageIndex > currentPagingStep\"><span class=\"page-steps-number\">{{pageIndex + 1}}</span></li></ng-container></ul></div></div></div>",
        styles: [".sticky{position:fixed;background-color:#fff;z-index:9040;left:10px;top:93px;width:100%;-moz-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out}.line-separator{z-index:9030;position:absolute;width:100%;height:3.75em;border-bottom:1px solid rgba(204,204,204,.5)}.line-separator.sticky-line{position:fixed!important;background-color:#fff;left:0;top:93px;-moz-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out}.page-steps{list-style:none;padding:0;margin:0;height:2em}.page-steps li{display:inline-block;height:2em;line-height:2em}.page-steps li .row{line-height:0}.page-steps .page-step .col{display:inline-table}.page-steps .page-step .row{display:table-cell}.page-steps .page-steps-number{display:inline-block;border:1px solid #6f6f6f;font-weight:700;color:#6f6f6f;text-align:center;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:2em;height:2em;font-size:.785em;line-height:2em;margin:0 .125em 0 .125em}.page-steps .page-steps-number.active{color:#258900;border:1px solid #258900}.page-steps .page-steps-number.done{color:#fff;background-color:#258900;border-color:#258900}.page-steps .page-step-label{font-weight:400;color:#258900;font-size:.6875em!important;line-height:.5em;text-transform:uppercase;margin-left:.5em;margin-top:.4em}.page-steps .page-steps-label{font-weight:700;color:#258900;font-size:.785em!important;line-height:1em;text-transform:uppercase;margin-left:.5em;margin-top:.1em!important}.page-steps-container{background-color:#fff}@media (min-width:768px){.page-steps .page-steps-label{font-size:.938em}.page-steps .page-steps-number{font-size:.938em}}@-moz-document url-prefix(){.page-steps .page-step .col{display:inline-flex}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.page-steps .page-step .col .row{top:-10px}}:host-context(.contrasto-on) .page-steps .page-steps-number{color:#000}:host-context(.contrasto-on) .page-steps .page-steps-number.active{color:#000;border-color:#000}:host-context(.contrasto-on) .page-steps .page-steps-number.done{color:#fff;background-color:#000;border-color:#000}:host-context(.contrasto-on) .page-steps .page-step-label{color:#000}:host-context(.contrasto-on) .page-steps .page-steps-label{color:#000}:host-context(.contrasto-on) .page-steps-container{background-color:#fff} /*# sourceMappingURL=nbp-sequenziale-sottostep-generic.component.css.map */ "]
    }),
    __metadata$75("design:paramtypes", [])
], exports.NbpSequenzialeSottostepGenericComponent);

var __decorate$94 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$76 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$18 = 0;
/**
 * @export
 * @class NbpDividingLineComponent
 * @implements {OnInit}
 * Visualizza una linea di separazione, con un pulsante opzionale e un titolo opzionale
 */
exports.NbpDividingLineComponent = (function () {
    function NbpDividingLineComponent() {
        /**
         * Identificativo univoco per il componente.
         * Se nessun id  fornito e' auto-generato.
         */
        this.id = "nbp-dividing-line-" + ++nextId$18;
        this._nbpShowButton = false;
        /**
         * (Opzionale) Indica quanto spazio deve occupare il braccio sinistro affinch si accentri l'icona o la label in caso di presenza del pulsante laterale.
         */
        this.marginLeft = "99999";
        /**
         * (Opzionale) Stile della linea di separazione, di default  grigia.
         * Se impostata su NbpStyle.PRIMARY  di colore verde
         */
        this.nbpLineStyle = exports.NbpStyle.DEFAULT;
        this._lineStyle = exports.NbpStyle;
        /**
         * (Opzionale) Evento emesso al click sul pulsante.
         * @param {EventEmitter<any>} nbpClick
         */
        this.nbpClick = new _angular_core.EventEmitter();
        this.center = false;
    }
    Object.defineProperty(NbpDividingLineComponent.prototype, "nbpShowButton", {
        /**
         * (Opzionale) Booleano che mostra/nasconde il pulsante. Default: false
         */
        get: function () { return this._nbpShowButton; },
        set: function (value) { this._nbpShowButton = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpDividingLineComponent.prototype._onClick = function () {
        if (this.nbpClick) {
            this.nbpClick.emit();
        }
    };
    NbpDividingLineComponent.prototype.ngOnInit = function () {
        this.marginLeft = this.marginLeft.trim() + "";
        if (this.marginLeft == "99999")
            this.center = false;
        else
            this.center = true;
        // if(this.nbpLineStyle === undefined) {
        //   this.nbpLineStyle = NbpStyle.DEFAULT;
        // }
    };
    return NbpDividingLineComponent;
}());
__decorate$94([
    _angular_core.Input(),
    __metadata$76("design:type", Object)
], exports.NbpDividingLineComponent.prototype, "id", void 0);
__decorate$94([
    _angular_core.Input(),
    __metadata$76("design:type", String)
], exports.NbpDividingLineComponent.prototype, "nbpTitle", void 0);
__decorate$94([
    _angular_core.Input(),
    __metadata$76("design:type", String)
], exports.NbpDividingLineComponent.prototype, "nbpTitleIcon", void 0);
__decorate$94([
    _angular_core.Input(),
    __metadata$76("design:type", Boolean),
    __metadata$76("design:paramtypes", [Object])
], exports.NbpDividingLineComponent.prototype, "nbpShowButton", null);
__decorate$94([
    _angular_core.Input(),
    __metadata$76("design:type", String)
], exports.NbpDividingLineComponent.prototype, "nbpButtonLabel", void 0);
__decorate$94([
    _angular_core.Input(),
    __metadata$76("design:type", String)
], exports.NbpDividingLineComponent.prototype, "nbpButtonIcon", void 0);
__decorate$94([
    _angular_core.Input(),
    __metadata$76("design:type", String)
], exports.NbpDividingLineComponent.prototype, "nbpButtonIconHover", void 0);
__decorate$94([
    _angular_core.Input(),
    __metadata$76("design:type", String)
], exports.NbpDividingLineComponent.prototype, "marginLeft", void 0);
__decorate$94([
    _angular_core.Input(),
    __metadata$76("design:type", Number)
], exports.NbpDividingLineComponent.prototype, "nbpLineStyle", void 0);
__decorate$94([
    _angular_core.Output(),
    __metadata$76("design:type", _angular_core.EventEmitter)
], exports.NbpDividingLineComponent.prototype, "nbpClick", void 0);
exports.NbpDividingLineComponent = __decorate$94([
    _angular_core.Component({
        selector: 'nbp-dividing-line',template: "<div class=\"dividing-line-container\"><ng-container *ngIf=\"center; else falseTemplate\"><div [ngClass]=\"(nbpTitleIcon || nbpTitle) ? 'dividing-line-left' : 'dividing-line-left-continuous'\" [ngStyle]=\"{'max-width.%': marginLeft, 'min-width.%': marginLeft, 'width.%': marginLeft}\"><hr [ngClass]=\"{'line-green': nbpLineStyle === _lineStyle.PRIMARY, 'line-gray': nbpLineStyle === _lineStyle.DEFAULT}\"></div></ng-container><ng-template #falseTemplate><div [ngClass]=\"(nbpTitleIcon || nbpTitle) ? 'dividing-line-left' : 'dividing-line-left-continuous'\"><hr [ngClass]=\"{'line-green': nbpLineStyle === _lineStyle.PRIMARY, 'line-gray': nbpLineStyle === _lineStyle.DEFAULT}\"></div></ng-template><div class=\"dividing-line-center\"><span *ngIf=\"nbpTitleIcon\" class=\"dividing-line-title-icon\" [ngClass]=\"nbpTitleIcon\"></span> <span *ngIf=\"nbpTitle\" class=\"dividing-line-title\">{{nbpTitle}}</span></div><div [ngClass]=\"(nbpTitleIcon || nbpTitle) ? 'dividing-line-right' : 'dividing-line-right-continuous'\"><hr [ngClass]=\"{'line-green': nbpLineStyle === _lineStyle.PRIMARY, 'line-gray': nbpLineStyle === _lineStyle.DEFAULT}\"></div><div *ngIf=\"nbpShowButton\" class=\"dividing-line-button\"><i class=\"dividing-line-button-icon\" (click)=\"_onClick()\" [ngClass]=\"nbpButtonIcon\"></i> <i class=\"dividing-line-button-icon hover-icon\" (click)=\"_onClick()\" [ngClass]=\"nbpButtonIconHover\"></i> <span *ngIf=\"nbpButtonLabel\" class=\"dividing-line-button-label\">{{nbpButtonLabel}}</span></div></div>",
        styles: [".dividing-line-container{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;background-color:transparent}.dividing-line-left-continuous{flex-grow:1;align-self:flex-start;padding-left:20px}.dividing-line-left{flex-grow:1;align-self:flex-start;padding-left:20px;padding-right:20px}.dividing-line-right-continuous{flex-grow:1;align-self:flex-start;padding-right:20px}.dividing-line-right{flex-grow:1;align-self:flex-start;padding-right:20px;padding-left:20px}hr.line-green{border:.5px solid #258900}hr.line-gray{border:.5px solid #ccc}.dividing-line-content{align-self:center}.dividing-line-title-icon{font-size:2em;color:#6f6f6f;vertical-align:middle;margin-right:10px}.dividing-line-title{font-size:1.125em;color:#323232;vertical-align:middle}.dividing-line-button{align-self:center;padding-right:20px}.dividing-line-button .dividing-line-button-icon{vertical-align:middle;font-size:1.875em;cursor:pointer;color:#258900}.dividing-line-button .dividing-line-button-icon.hover-icon{display:none}.dividing-line-button .dividing-line-button-label{vertical-align:middle;color:#258900;font-size:.75em;font-weight:700;text-transform:uppercase}.dividing-line-button:hover .dividing-line-button-icon{display:none}.dividing-line-button:hover .hover-icon{display:inline!important}.show-button{height:40px}:host-context(.contrasto-on) .dividing-line-title-icon{color:#000}:host-context(.contrasto-on) .dividing-line-title{color:#000}:host-context(.contrasto-on) .dividing-line-button .dividing-line-button-icon{color:#000!important}:host-context(.contrasto-on) .dividing-line-button .dividing-line-button-label{color:#000!important}:host-context(.contrasto-on) hr.line-gray,:host-context(.contrasto-on) hr.line-green{border:.5px solid #000} /*# sourceMappingURL=nbp-dividing-line.component.css.map */ "]
    }),
    __metadata$76("design:paramtypes", [])
], exports.NbpDividingLineComponent);

var __decorate$95 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$77 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$19 = 0;
exports.NbpTitledPanelComponent = (function () {
    function NbpTitledPanelComponent() {
        this.id = "nbp-titled-panel-" + ++nextId$19;
    }
    NbpTitledPanelComponent.prototype.ngOnInit = function () {
    };
    return NbpTitledPanelComponent;
}());
__decorate$95([
    _angular_core.Input(),
    __metadata$77("design:type", String)
], exports.NbpTitledPanelComponent.prototype, "id", void 0);
__decorate$95([
    _angular_core.Input(),
    __metadata$77("design:type", String)
], exports.NbpTitledPanelComponent.prototype, "nbpTitle", void 0);
exports.NbpTitledPanelComponent = __decorate$95([
    _angular_core.Component({
        selector: 'nbp-titled-panel',template: "<div class=\"titled-panel-container\"><div class=\"titled-panel-title\">{{nbpTitle}}</div><ng-content></ng-content></div>",
        styles: [".titled-panel-container{margin:15px;padding:15px 10px;border:1px solid #258900}.titled-panel-title{padding:0 10px;margin-top:-32px;margin-bottom:4px;background-color:#fff;margin-left:auto;margin-right:auto;width:fit-content;font-size:22px} /*# sourceMappingURL=nbp-titled-panel.component.css.map */ "]
    }),
    __metadata$77("design:paramtypes", [])
], exports.NbpTitledPanelComponent);

var __decorate$96 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$78 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$20 = 0;
exports.NbpSelectionPanelComponent = (function () {
    function NbpSelectionPanelComponent() {
        this.buttonStyle = exports.NbpStyle;
        this.buttonType = exports.NbpButtonType;
        this.id = "pos-selection-panel-" + ++nextId$20;
        this._selected = false;
        this._disabled = false;
        /**
         * (Opzionale) Evento emesso al click sul pulsante.
         * @param {EventEmitter<any>}  nbpClick
         */
        this.nbpClick = new _angular_core.EventEmitter();
    }
    Object.defineProperty(NbpSelectionPanelComponent.prototype, "selected", {
        get: function () {
            return this._selected;
        },
        set: function (value) {
            this._selected = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpSelectionPanelComponent.prototype, "disabled", {
        get: function () {
            return this._disabled;
        },
        set: function (value) {
            this._disabled = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    
    NbpSelectionPanelComponent.prototype._onClick = function () {
        if (this.nbpClick) {
            this.selected = !this.selected;
            this.nbpClick.emit();
        }
    };
    NbpSelectionPanelComponent.prototype.ngOnInit = function () {
    };
    return NbpSelectionPanelComponent;
}());
__decorate$96([
    _angular_core.Input(),
    __metadata$78("design:type", String)
], exports.NbpSelectionPanelComponent.prototype, "id", void 0);
__decorate$96([
    _angular_core.Input(),
    __metadata$78("design:type", String)
], exports.NbpSelectionPanelComponent.prototype, "nbpTitle", void 0);
__decorate$96([
    _angular_core.Input(),
    __metadata$78("design:type", String)
], exports.NbpSelectionPanelComponent.prototype, "imageUrl", void 0);
__decorate$96([
    _angular_core.Input(),
    __metadata$78("design:type", Object),
    __metadata$78("design:paramtypes", [Boolean])
], exports.NbpSelectionPanelComponent.prototype, "selected", null);
__decorate$96([
    _angular_core.Input(),
    __metadata$78("design:type", Object),
    __metadata$78("design:paramtypes", [Boolean])
], exports.NbpSelectionPanelComponent.prototype, "disabled", null);
__decorate$96([
    _angular_core.Input(),
    __metadata$78("design:type", String)
], exports.NbpSelectionPanelComponent.prototype, "nbpButtonLabel", void 0);
__decorate$96([
    _angular_core.Input(),
    __metadata$78("design:type", String)
], exports.NbpSelectionPanelComponent.prototype, "nbpSelectedButtonLabel", void 0);
__decorate$96([
    _angular_core.Output(),
    __metadata$78("design:type", _angular_core.EventEmitter)
], exports.NbpSelectionPanelComponent.prototype, "nbpClick", void 0);
exports.NbpSelectionPanelComponent = __decorate$96([
    _angular_core.Component({
        selector: 'nbp-selection-panel',template: "<div class=\"selection-panel-container\" [class.selected]=\"selected\"><img class=\"selection-panel-image\" [src]=\"imageUrl\" *ngIf=\"imageUrl != null\"> <span class=\"selection-panel-title\">{{nbpTitle}}</span><nbp-button [nbpLabel]=\"selected == true ? nbpSelectedButtonLabel : nbpButtonLabel\" [nbpChecked]=\"selected\" [nbpStyle]=\"buttonStyle.SECONDARY\" [nbpType]=\"buttonType.SELECT\" (nbpClick)=\"_onClick()\" [disabled]=\"disabled\"></nbp-button></div>",
        styles: [".selection-panel-container{position:relative;padding:10px;height:350px;margin-bottom:25px;background-color:#fff;text-align:center;border-radius:0 0 5px 5px;border-right:1px solid rgba(50,50,50,.2);border-left:1px solid rgba(50,50,50,.2);border-bottom:1px solid rgba(50,50,50,.2);border-top:0 transparent;-webkit-box-shadow:0 30px 70px -9px rgba(50,50,50,.2);-moz-box-shadow:0 30px 70px -9px rgba(50,50,50,.2);box-shadow:0 30px 70px -9px rgba(50,50,50,.2)}.selection-panel-container .selection-panel-image{width:140px;height:140px;margin:10px}.selection-panel-container .selection-panel-title{display:block;font-weight:700;text-transform:uppercase}.selection-panel-container ::ng-deep nbp-button{position:absolute;bottom:20px;left:0;right:0}.selection-panel-container ::ng-deep nbp-button .btn.button.secondary.select{color:#258900;border-color:#258900!important}.selection-panel-container ::ng-deep nbp-button .btn.button.secondary.select:disabled{opacity:1!important;background-color:#fff!important;color:#ccc;border-color:#6f6f6f!important}.selection-panel-container.selected{height:375px;margin-bottom:0;border-right:1px solid rgba(50,50,50,.1);border-left:1px solid rgba(50,50,50,.1);border-bottom:1px solid rgba(50,50,50,.1);border-top:0 transparent;-webkit-box-shadow:0 30px 60px -30px rgba(127,201,31,.7);-moz-box-shadow:0 30px 60px -30px rgba(127,201,31,.7);box-shadow:0 30px 60px -30px rgba(127,201,31,.7)}.selection-panel-container.selected /deep/ nbp-button{bottom:45px} /*# sourceMappingURL=nbp-selection-panel.component.css.map */ "]
    }),
    __metadata$78("design:paramtypes", [])
], exports.NbpSelectionPanelComponent);

var __decorate$97 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$79 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpShadowedPanelComponent = (function () {
    function NbpShadowedPanelComponent() {
    }
    NbpShadowedPanelComponent.prototype.ngOnInit = function () {
    };
    return NbpShadowedPanelComponent;
}());
exports.NbpShadowedPanelComponent = __decorate$97([
    _angular_core.Component({
        selector: 'nbp-shadowed-panel',template: "<div class=\"shadowed-panel-outer-container\"><div class=\"shadowed-panel-container\"><ng-content></ng-content></div></div>",
        styles: [".shadowed-panel-outer-container{width:100%}.shadowed-panel-outer-container .shadowed-panel-container{margin:10px;padding:10px;background-color:#fff;text-align:center;border-radius:5px;-webkit-box-shadow:0 30px 70px -9px rgba(50,50,50,.2);-moz-box-shadow:0 30px 70px -9px rgba(50,50,50,.2);box-shadow:0 30px 70px -9px rgba(50,50,50,.2)} /*# sourceMappingURL=nbp-shadowed-panel.component.css.map */ "]
    }),
    __metadata$79("design:paramtypes", [])
], exports.NbpShadowedPanelComponent);

var __extends$25 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$98 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$80 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$17 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var NBP_SPINNER_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpSpinnerComponent; }),
    multi: true
};
var NBP_INPUT_ELEMENT_BASE$4 = {
    provide: NbpInputElementBase,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpSpinnerComponent; }),
    multi: true
};
/** intero autogenerato usato per id unici */
var nextId$21 = 0;
exports.NbpSpinnerComponent = (function (_super) {
    __extends$25(NbpSpinnerComponent, _super);
    function NbpSpinnerComponent(validatori, asyncValidatori, parentFormContainer, inj) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        _this.parentFormContainer = parentFormContainer;
        _this.inj = inj;
        /**
         * Identificativo univoco per il componente NbpSpinner. Se non viene passato un valore, l'id viene autogenerato.
         */
        _this.id = "nbp-spinner-" + ++nextId$21;
        _this._nbpDisabled = false;
        _this._nbpRequired = false;
        _this._nbpShowValidation = false;
        _this._nbpNegoziazione = false;
        /**
         * testo del placeholder
         */
        _this.placeholder = '';
        /**
         * Evento sollevato quando il valore del componente cambia
         */
        _this.nbpValueChange = new _angular_core.EventEmitter();
        /**
         * (Opzionale) Funzione custom di validazione del campo
         */
        _this.nbpValidation = new _angular_core.EventEmitter();
        return _this;
    }
    Object.defineProperty(NbpSpinnerComponent.prototype, "disabled", {
        /**
         * (Opzionale)
         * Flag che abilita/disabilita il componente.
         * Valore di default false
         */
        get: function () {
            if (this.parentFormContainer && this.parentFormContainer.disabled) {
                this._nbpDisabled = true;
            }
            return this._nbpDisabled;
        },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpSpinnerComponent.prototype, "required", {
        /**
         * (Opzionale)
         * Flag che abilita/disabilita il required sul componente.
         * Valore di default false
         */
        get: function () { return this._nbpRequired; },
        set: function (value) { this._nbpRequired = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpSpinnerComponent.prototype, "nbpShowValidation", {
        /**
         * (Opzionale)
         * Booleano che consente di visualizzare i messaggi di feedback relativi alla validazione.
         * Valore di default false
         */
        get: function () {
            if (this.parentFormContainer) {
                this._nbpShowValidation = this.parentFormContainer.nbpShowValidation;
            }
            return this._nbpShowValidation;
        },
        set: function (value) { this._nbpShowValidation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(NbpSpinnerComponent.prototype, "nbpNegoziazione", {
        /**
         * (Opzionale)
         * Se impostato, modifica l'aspetto dello spinner. Di default 
         */
        get: function () {
            return this._nbpNegoziazione;
        },
        set: function (value) {
            this._nbpNegoziazione = value;
        },
        enumerable: true,
        configurable: true
    });
    NbpSpinnerComponent.prototype._onSubtractClick = function (event) {
        if (this.value !== undefined && this.value > this.min) {
            this.value--;
            this._emitChangeEvent(event);
        }
        else {
            this.value = this.min;
        }
    };
    NbpSpinnerComponent.prototype._onAddClick = function (event) {
        if (this.value !== undefined && this.value < this.max) {
            this.value++;
            this._emitChangeEvent(event);
        }
        else {
            this.value = this.min;
        }
    };
    NbpSpinnerComponent.prototype._onTouchedEvent = function (event) {
        this.touch();
    };
    NbpSpinnerComponent.prototype._emitChangeEvent = function (event) {
        this.nbpValueChange.emit(this.value);
        this.nbpValidation.emit(this.model);
    };
    NbpSpinnerComponent.prototype.ngOnInit = function () {
        this.ngControl = this.inj.get(_angular_forms.NgControl);
        /*if (!this.nbpShowValidation) {
          this.nbpShowValidation = false;
        }*/
        if (this.min === undefined) {
            this.min = 0;
        }
        if (this.max === undefined) {
            this.max = 99;
        }
    };
    return NbpSpinnerComponent;
}(NbpInputElementBase));
__decorate$98([
    _angular_core.Input(),
    __metadata$80("design:type", Object)
], exports.NbpSpinnerComponent.prototype, "id", void 0);
__decorate$98([
    _angular_core.Input(),
    __metadata$80("design:type", String)
], exports.NbpSpinnerComponent.prototype, "name", void 0);
__decorate$98([
    _angular_core.Input(),
    __metadata$80("design:type", Number)
], exports.NbpSpinnerComponent.prototype, "min", void 0);
__decorate$98([
    _angular_core.Input(),
    __metadata$80("design:type", Number)
], exports.NbpSpinnerComponent.prototype, "max", void 0);
__decorate$98([
    _angular_core.Input(),
    __metadata$80("design:type", Boolean),
    __metadata$80("design:paramtypes", [Object])
], exports.NbpSpinnerComponent.prototype, "disabled", null);
__decorate$98([
    _angular_core.Input(),
    __metadata$80("design:type", Boolean),
    __metadata$80("design:paramtypes", [Object])
], exports.NbpSpinnerComponent.prototype, "required", null);
__decorate$98([
    _angular_core.HostBinding('class.nbp-show-validation'),
    _angular_core.Input(),
    __metadata$80("design:type", Boolean),
    __metadata$80("design:paramtypes", [Object])
], exports.NbpSpinnerComponent.prototype, "nbpShowValidation", null);
__decorate$98([
    _angular_core.HostBinding('class.negotiation'),
    _angular_core.Input(),
    __metadata$80("design:type", Boolean),
    __metadata$80("design:paramtypes", [Object])
], exports.NbpSpinnerComponent.prototype, "nbpNegoziazione", null);
__decorate$98([
    _angular_core.Input(),
    __metadata$80("design:type", Object)
], exports.NbpSpinnerComponent.prototype, "placeholder", void 0);
__decorate$98([
    _angular_core.Input(),
    __metadata$80("design:type", String)
], exports.NbpSpinnerComponent.prototype, "nbpErrorMessage", void 0);
__decorate$98([
    _angular_core.Output(),
    __metadata$80("design:type", _angular_core.EventEmitter)
], exports.NbpSpinnerComponent.prototype, "nbpValueChange", void 0);
__decorate$98([
    _angular_core.Output(),
    __metadata$80("design:type", _angular_core.EventEmitter)
], exports.NbpSpinnerComponent.prototype, "nbpValidation", void 0);
__decorate$98([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$80("design:type", _angular_forms.NgModel)
], exports.NbpSpinnerComponent.prototype, "model", void 0);
exports.NbpSpinnerComponent = __decorate$98([
    _angular_core.Component({
        selector: 'nbp-spinner',
        template: "<div class=\"spinner-container\"><div class=\"left\"><button class=\"spinner-button\" (click)=\"_onSubtractClick($event)\" [disabled]=\"value <= min || disabled\" (blur)=\"_onTouchedEvent($event)\"><span>-</span></button></div><div class=\"spinner-input-container\"><input type=\"number\" class=\"spinner-input\" name=\"spinnerValue\" [placeholder]=\"placeholder\" [(ngModel)]=\"value\" [min]=\"min\" [max]=\"max\" (blur)=\"_onTouchedEvent($event)\"></div><div class=\"right\"><button class=\"spinner-button\" (click)=\"_onAddClick($event)\" [disabled]=\"value >= max || disabled\" (blur)=\"_onTouchedEvent($event)\"><span>+</span></button></div></div>",
        styles: [":host(.ng-touched.ng-invalid,.nbp-show-validation.ng-invalid) .spinner-container{background-color:#fff;border:2px solid #c63200;border-radius:2px}:host(.negotiation) .spinner-input{font-size:14px!important;font-weight:400!important;color:#6f6f6f!important}:host(.negotiation) .spinner-button{width:30px!important;height:40px!important;background-color:#258900!important}.spinner-container{background-color:#fff;border:2px solid #323232;border-radius:2px;padding:4px;height:auto;overflow:auto;display:table;table-layout:fixed;width:100%}.spinner-container:disabled{background-color:#ccc}.spinner-container .left{width:30px;text-align:left;display:table-cell;vertical-align:middle}.spinner-container .left span{vertical-align:3px}.spinner-container .right{width:30px;text-align:right;display:table-cell;vertical-align:middle}.spinner-container .spinner-button{width:30px;height:32px;background-color:#258900;font-size:24px;line-height:24px;color:#fff;border:none;border-radius:2px}.spinner-container .spinner-button:disabled{background-color:#ccc}.spinner-container .spinner-input{border:none;height:32px;text-align:center;font-size:16px;color:#323232;width:100%}.spinner-container input[type=number]::-webkit-input-placeholder{text-overflow:ellipsis!important}.spinner-container input[type=number]:placeholder-shown{text-overflow:ellipsis!important}.spinner-container input:-ms-input-placeholder{-ms-text-overflow:ellipsis;text-overflow:ellipsis!important}.spinner-container input[type=number]::-moz-placeholder{text-overflow:ellipsis!important}.spinner-container input[type=number]::placeholder{text-overflow:ellipsis!important}.spinner-container .spinner-input-container{display:table-cell;vertical-align:middle}.spinner-container input[type=number]::-webkit-inner-spin-button,.spinner-container input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none}.spinner-container input[type=number]{-moz-appearance:textfield}.spinner-container input[type=number]::-ms-clear{display:none} /*# sourceMappingURL=nbp-spinner.component.css.map */ "],providers: [NBP_SPINNER_CONTROL_VALUE_ACCESSOR, NBP_INPUT_ELEMENT_BASE$4]
    }),
    __param$17(0, _angular_core.Optional()), __param$17(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$17(1, _angular_core.Optional()), __param$17(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __param$17(2, _angular_core.Optional()),
    __metadata$80("design:paramtypes", [Array, Array, exports.NbpFormContainerComponent,
        _angular_core.Injector])
], exports.NbpSpinnerComponent);

var __decorate$99 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$81 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente che visualizza una barra per la selezione
 * di schede
 */
exports.NbpTabBarComponent = (function () {
    function NbpTabBarComponent() {
        this._selectedTabIndex = 0;
        /**
         * Evento emesso dopo la selezione di una scheda
         */
        this.nbpSelectedIndexChange = new _angular_core.EventEmitter();
    }
    Object.defineProperty(NbpTabBarComponent.prototype, "nbpItems", {
        get: function () {
            return this._tabItems;
        },
        /**
         * Array di oggetti ITabItem che descrivono
         * le schede
         */
        set: function (value) {
            setTimeout(function () {
                this._tabItems = value;
                // if (this._tabItems && this._tabItems.length > 0) {
                //   this.nbpSelectedIndex = 0;
                // }
            }.bind(this), 0);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpTabBarComponent.prototype, "nbpSelectedIndex", {
        get: function () {
            return this._selectedTabIndex;
        },
        /**
         * Indice della scheda selezionata
         */
        set: function (value) {
            this._selectedTabIndex = value;
            this.nbpSelectedIndexChange.emit(this._selectedTabIndex);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Metodo per selezionare una scheda
     */
    NbpTabBarComponent.prototype.selectTab = function (index) {
        if (this._selectedTabIndex !== index) {
            this.nbpSelectedIndex = index;
        }
    };
    return NbpTabBarComponent;
}());
__decorate$99([
    _angular_core.Input(),
    __metadata$81("design:type", Array),
    __metadata$81("design:paramtypes", [Array])
], exports.NbpTabBarComponent.prototype, "nbpItems", null);
__decorate$99([
    _angular_core.Input(),
    __metadata$81("design:type", Number),
    __metadata$81("design:paramtypes", [Number])
], exports.NbpTabBarComponent.prototype, "nbpSelectedIndex", null);
__decorate$99([
    _angular_core.Output(),
    __metadata$81("design:type", Object)
], exports.NbpTabBarComponent.prototype, "nbpSelectedIndexChange", void 0);
exports.NbpTabBarComponent = __decorate$99([
    _angular_core.Component({
        selector: 'nbp-tab-bar',template: "<div class=\"tabs-container\"><div *ngFor=\"let tabItem of nbpItems; let i = index\" class=\"tab-container\" [ngClass]=\"tabItem.disabled ? 'disabledTab' : 'enabledTab'\" [class.selected]=\"nbpSelectedIndex == i\" (click)=\"selectTab(i)\"><i [ngClass]=\"tabItem.icon\"></i> <span class=\"tab-title\">{{tabItem.title}}</span></div></div>",
        styles: [".tabs-container{display:flex}.tabs-container .disabledTab{pointer-events:none;cursor:not-allowed;opacity:.5;background-color:#d6d6d6}.tabs-container .enabledTab{pointer-events:auto;background-color:#f8f8f8;cursor:pointer;opacity:1}.tabs-container .tab-container{height:5.4375em;border-right:.0625em solid #ccc;text-align:center;flex-grow:1;flex-basis:0;padding:.625em}.tabs-container .tab-container:last-of-type{border:0}.tabs-container .tab-container.selected{background-color:#fff;height:5.375em}.tabs-container .tab-container.selected i{color:#258900}.tabs-container .tab-container.selected .tab-title{color:#258900}.tabs-container .tab-container i{display:block;font-size:1.5em;color:#6f6f6f}.tabs-container .tab-container .tab-title{text-transform:uppercase;color:#6f6f6f;font-size:.75em;display:inline-block;line-height:1;font-weight:600;margin-top:.625em;margin-bottom:.625em}:host-context(.contrasto-on) .tabs-container .disabledTab{background-color:#d6d6d6!important}:host-context(.contrasto-on) .tabs-container .enabledTab{background-color:#fff!important}:host-context(.contrasto-on) .tabs-container .tab-container{border:.0625em solid #000!important}:host-context(.contrasto-on) .tabs-container .tab-container.selected{background-color:#000!important;height:5.4375em}:host-context(.contrasto-on) .tabs-container .tab-container.selected i{color:#fff!important}:host-context(.contrasto-on) .tabs-container .tab-container.selected .tab-title{color:#fff!important}:host-context(.contrasto-on) .tabs-container .tab-container i{color:#000!important}:host-context(.contrasto-on) .tabs-container .tab-container .tab-title{color:#000!important} /*# sourceMappingURL=nbp-tab-bar.component.css.map */ "]
    }),
    __metadata$81("design:paramtypes", [])
], exports.NbpTabBarComponent);

var __decorate$100 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$82 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$18 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.GlobalLoadingIdentificationService = (function () {
    function GlobalLoadingIdentificationService() {
    }
    return GlobalLoadingIdentificationService;
}());
exports.GlobalLoadingIdentificationService = __decorate$100([
    _angular_core.Injectable()
], exports.GlobalLoadingIdentificationService);
exports.NbpLoadingInterceptor = (function () {
    function NbpLoadingInterceptor(loadingService, globalLoadingIdentifier) {
        this.loadingService = loadingService;
        this.loadingId = globalLoadingIdentifier.identifier ? globalLoadingIdentifier.identifier : null;
    }
    NbpLoadingInterceptor.prototype.intercept = function (req, next) {
        var _this = this;
        var disableLoading = false;
        if (req && req.params.has('disableLoading')) {
            disableLoading = true;
        }
        return next
            .handle(req)
            .do(function (event) {
            if (disableLoading) {
                return;
            }
            if (event instanceof _angular_common_http.HttpResponse) {
                console.log("Http Interceptor stop loading spinner (id: " + _this.loadingId + ") ...");
                _this.loadingService.notifyLoadingSpinnerRequest(false, _this.loadingId);
            }
            else {
                console.log('Http Interceptor start loading spinner (id: ${this.loadingId}) ...');
                _this.loadingService.notifyLoadingSpinnerRequest(true, _this.loadingId);
            }
        })
            .catch(function (response) {
            if (!disableLoading && response instanceof _angular_common_http.HttpErrorResponse) {
                console.log('Http Interceptor stop loading spinner...');
                _this.loadingService.notifyLoadingSpinnerRequest(false, _this.loadingId);
            }
            return rxjs_Observable.Observable.throw(response);
        });
    };
    return NbpLoadingInterceptor;
}());
exports.NbpLoadingInterceptor = __decorate$100([
    _angular_core.Injectable(),
    __param$18(1, _angular_core.Optional()),
    __metadata$82("design:paramtypes", [exports.NbpLoadingService,
        exports.GlobalLoadingIdentificationService])
], exports.NbpLoadingInterceptor);

var __decorate$101 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$83 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpDebugInfoComponent = (function () {
    function NbpDebugInfoComponent() {
        this._primary = exports.NbpStyle.PRIMARY;
        this._copyMessage = null;
        this._isErrorCopied = false;
    }
    NbpDebugInfoComponent.prototype.ngOnChanges = function (changes) {
        if (changes.nbpError) {
            this._copyMessage = null;
            this._isErrorCopied = true;
        }
    };
    NbpDebugInfoComponent.prototype.copyText = function (event) {
        var _this = this;
        var a = document.getElementById('error-infobox');
        try {
            a.select();
            document.execCommand('copy');
            if (document.selection) {
                document.selection.empty();
            }
            else if (window.getSelection) {
                window.getSelection().removeAllRanges();
            }
            this._copyMessage = 'Errore copiato correttamente nella clipboard.';
            this._isErrorCopied = true;
        }
        catch (err) {
            this._copyMessage = 'Problemi durante la copia del testo. Ritentare.';
            this._isErrorCopied = false;
        }
        setTimeout(function () {
            _this._copyMessage = null;
            _this._isErrorCopied = null;
        }, 5000);
    };
    return NbpDebugInfoComponent;
}());
__decorate$101([
    _angular_core.Input(),
    __metadata$83("design:type", Object)
], exports.NbpDebugInfoComponent.prototype, "nbpError", void 0);
exports.NbpDebugInfoComponent = __decorate$101([
    _angular_core.Component({
        selector: 'nbp-debug-info',template: "<textarea class=\"info-box\" id=\"error-infobox\" readonly=\"readonly\">{{nbpError | json}}</textarea><div class=\"row\"><div class=\"col-xs-4 col-xs-offset-10 text-center mrg-t-15\"><nbp-button nbpLabel=\"Copia Errore\" [nbpStyle]=\"_primary\" (nbpClick)=\"copyText($event)\"></nbp-button></div><div class=\"col-md-24 text-center mrg-t-15\"><div class=\"row mrg-t-15\"><div *ngIf=\"!!_copyMessage\" class=\"col-md-24\"><span class=\"copy-error-message\" [ngClass]=\"{'success':_isErrorCopied , 'unsuccess':!_isErrorCopied}\">{{ _copyMessage }}</span></div></div></div></div>",
        styles: [".info-box{width:100%;height:200px;padding:12px 20px;box-sizing:border-box;border:2px solid #ccc;border-radius:4px;background-color:#f8f8f8;resize:none}.copy-error-message{font-size:20px;font-weight:700}.copy-error-message.success{color:#258900}.copy-error-message.unsuccess{color:#c63200} /*# sourceMappingURL=nbp-debug-info.component.css.map */ "]
    }),
    __metadata$83("design:paramtypes", [])
], exports.NbpDebugInfoComponent);

var __decorate$102 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$84 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpErrorAdviceComponent = (function () {
    function NbpErrorAdviceComponent() {
        this._nbpButtonStyle = exports.NbpStyle.PRIMARY;
        this.onError = new _angular_core.EventEmitter();
    }
    NbpErrorAdviceComponent.prototype.ngOnInit = function () {
        if (!this.nbpAdvice) {
            this.nbpAdvice = 'Attenzione, c\' stato un errore durante la procedura, si prega di annullare e riprovare pi tardi.';
        }
        if (!this.nbpActionLabel) {
            this.nbpActionLabel = 'Annulla';
        }
    };
    NbpErrorAdviceComponent.prototype._onActionButtonClick = function () {
        this.onError.emit();
    };
    return NbpErrorAdviceComponent;
}());
__decorate$102([
    _angular_core.Input(),
    __metadata$84("design:type", String)
], exports.NbpErrorAdviceComponent.prototype, "nbpAdvice", void 0);
__decorate$102([
    _angular_core.Input(),
    __metadata$84("design:type", String)
], exports.NbpErrorAdviceComponent.prototype, "nbpActionLabel", void 0);
__decorate$102([
    _angular_core.Output(),
    __metadata$84("design:type", _angular_core.EventEmitter)
], exports.NbpErrorAdviceComponent.prototype, "onError", void 0);
exports.NbpErrorAdviceComponent = __decorate$102([
    _angular_core.Component({
        selector: 'nbp-error-advice',template: "<div class=\"content\"><p class=\"advice-container alert alert-danger\">{{nbpAdvice}}</p><div class=\"button-container\"><nbp-button [nbpLabel]=\"nbpActionLabel\" [nbpStyle]=\"_nbpButtonStyle\" (nbpClick)=\"_onActionButtonClick()\"></nbp-button></div></div>",
        styles: [".content{margin-top:10px;margin-right:auto;margin-bottom:10px;margin-left:auto}.button-container{text-align:center;padding-top:10px;padding-left:10px;padding-bottom:10px;padding-right:10px}.advice-container{text-align:center;padding-top:10px;padding-left:10px;padding-bottom:10px;padding-right:10px} /*# sourceMappingURL=nbp-error-advice.component.css.map */ "]
    }),
    __metadata$84("design:paramtypes", [])
], exports.NbpErrorAdviceComponent);

var __decorate$103 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$85 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpSignTypeSelectComponent = (function () {
    function NbpSignTypeSelectComponent() {
        /**
         * Evento emesso al click sui radio button di scelta del primo Step
         * @param {EventEmitter<ISignTypeData>}  nbpOnFirstStepSelect
         */
        this.nbpOnFirstStepSelect = new _angular_core.EventEmitter();
        /**
         * Evento emesso al click sui radio button di scelta del secondo step
         * @param {EventEmitter<ISignTypeData>}  nbpOnSecondStepSelect
         */
        this.nbpOnSecondStepSelect = new _angular_core.EventEmitter();
    }
    NbpSignTypeSelectComponent.prototype.ngOnInit = function () {
        if (!this.nbpData) {
            this.nbpData = {
                firstStepValue: '',
                secondStepValue: ''
            };
        }
    };
    NbpSignTypeSelectComponent.prototype._onFirstStepSelect = function (event) {
        this.nbpData.firstStepValue = event;
        console.log('NbpSignTypeSelectComponent - Emitting nbpOnFirstStepSelect');
        console.dir(this.nbpData);
        this.nbpOnFirstStepSelect.emit(this.nbpData);
    };
    NbpSignTypeSelectComponent.prototype._onSecondStepSelect = function (event) {
        this.nbpData.secondStepValue = event;
        console.log('NbpSignTypeSelectComponent - Emitting nbpOnSecondStepSelect');
        console.dir(this.nbpData);
        this.nbpOnSecondStepSelect.emit(this.nbpData);
    };
    return NbpSignTypeSelectComponent;
}());
__decorate$103([
    _angular_core.Input(),
    __metadata$85("design:type", Object)
], exports.NbpSignTypeSelectComponent.prototype, "nbpCustomer", void 0);
__decorate$103([
    _angular_core.Input(),
    __metadata$85("design:type", Array)
], exports.NbpSignTypeSelectComponent.prototype, "nbpFirstStepValues", void 0);
__decorate$103([
    _angular_core.Input(),
    __metadata$85("design:type", Array)
], exports.NbpSignTypeSelectComponent.prototype, "nbpSecondStepValues", void 0);
__decorate$103([
    _angular_core.Input(),
    __metadata$85("design:type", Object)
], exports.NbpSignTypeSelectComponent.prototype, "nbpData", void 0);
__decorate$103([
    _angular_core.Output(),
    __metadata$85("design:type", _angular_core.EventEmitter)
], exports.NbpSignTypeSelectComponent.prototype, "nbpOnFirstStepSelect", void 0);
__decorate$103([
    _angular_core.Output(),
    __metadata$85("design:type", _angular_core.EventEmitter)
], exports.NbpSignTypeSelectComponent.prototype, "nbpOnSecondStepSelect", void 0);
exports.NbpSignTypeSelectComponent = __decorate$103([
    _angular_core.Component({
        selector: 'nbp-sign-type-select ',template: "<div class=\"row sign-container\"><div class=\"col-xs-24 col-sm-8 col-md-8 sign-customer-section\"><div class=\"row\"><div class=\"col-xs-offset-2 col-sm-offset-3 col-md-offset-3\"><div class=\"customer-circle-info\">{{nbpCustomer.circleInfo}}</div><div class=\"customer-section-title\">Cliente:</div><div class=\"customer-section-info\">{{nbpCustomer.info}}</div></div></div></div><div class=\"col-xs-24 col-sm-7 col-md-7 sign-place-section\"><nbp-radio-selection [nbpRadioList]=\"nbpFirstStepValues\" [nbpData]=\"nbpData.firstStepValue\" (nbpOnSelection)=\"_onFirstStepSelect($event)\"></nbp-radio-selection></div><div class=\"col-xs-24 col-sm-9 col-md-9 sign-type-section\"><nbp-radio-selection [nbpRadioList]=\"nbpSecondStepValues\" [nbpData]=\"nbpData.secondStepValue\" (nbpOnSelection)=\"_onSecondStepSelect($event)\"></nbp-radio-selection></div></div>",
        styles: [".sign-container{padding-top:20px;padding-bottom:20px}.sign-customer-section{background-color:#fff;min-height:145px;border:1px solid #ccc}.customer-section-title{font-size:1em;font-weight:700;padding-top:24px}.customer-section-info{font-size:1em;padding-top:6px}.customer-circle-info{width:40px;height:40px;border:1px solid #ccc;border-radius:40px;background:#fff;position:absolute;top:-20px;text-align:center;font-weight:700;padding-top:8px;color:#89bc72}.sign-place-section{background-color:#f2f2f2;min-height:145px;border-top:1px solid #ccc;border-bottom:1px solid #ccc;border-right:1px solid #ccc;border-left:0 solid transparent;padding-top:10px}.sign-place-section:before{content:'';display:block;width:20px;height:20px;background-color:#f2f2f2;border-top:1px solid #ccc;border-left:1px solid #ccc;position:absolute;transform-origin:top left;transform:rotate(-45deg) translateX(-20px);top:34px;left:0}.sign-type-section{background-color:#e3e3e3;min-height:145px;border-top:1px solid #ccc;border-bottom:1px solid #ccc;border-right:1px solid #ccc;border-left:0 solid transparent;padding-top:10px}.sign-type-section:before{content:'';display:block;width:20px;height:20px;background-color:#e3e3e3;border-top:1px solid #ccc;border-left:1px solid #ccc;position:absolute;transform-origin:top left;transform:rotate(-45deg) translateX(-20px);top:34px;left:0}::ng-deep nbp-radio .radio-label{font-weight:300!important;font-size:1em!important;padding-top:10px}@media screen and (max-width:767px){.sign-place-section{border-top:0 solid transparent;border-left:1px solid #ccc!important}.sign-place-section:before{border-top:1px solid #ccc;border-right:1px solid #ccc;border-left:0 solid transparent;top:-15px;left:34px}.sign-type-section{border-top:0 solid transparent;border-left:1px solid #ccc!important}.sign-type-section:before{border-top:1px solid #ccc;border-right:1px solid #ccc;border-left:0 solid transparent;top:-15px;left:34px}} /*# sourceMappingURL=nbp-sign-type-select.component.css.map */ "]
    }),
    __metadata$85("design:paramtypes", [])
], exports.NbpSignTypeSelectComponent);

/**
 * Elenco Sign Description censite
 */

(function (SignDescription) {
    SignDescription[SignDescription["ALTRO"] = 0] = "ALTRO";
    SignDescription[SignDescription["ALTRO_REMOTA"] = 1] = "ALTRO_REMOTA";
    SignDescription[SignDescription["CARTACEA"] = 2] = "CARTACEA";
    SignDescription[SignDescription["DIGITALE_REMOTA"] = 3] = "DIGITALE_REMOTA";
    SignDescription[SignDescription["GRAFOMETRICA"] = 4] = "GRAFOMETRICA";
})(exports.SignDescription || (exports.SignDescription = {}));
/**
 * Elenco Sign Type censiti
 */

(function (SignType) {
    SignType[SignType["CARTA"] = 2] = "CARTA";
    SignType[SignType["FEA"] = 1] = "FEA";
    SignType[SignType["FDR"] = 0] = "FDR";
    SignType[SignType["FEA_RIATTIVAZIONE"] = 3] = "FEA_RIATTIVAZIONE";
    // FIRMA_ELETTRONICA_AVANZATA = 'FEA',
    // FIRMA_DIGITALE_REMOTA = 'FDR',
    // RIATTIVAZIONE_FEA = 'RIATTIVAZIONE_FIRMA_FEA',
    // FIRMA_CARTACEA = 'FIRMA_CARTACEA'
})(exports.SignType || (exports.SignType = {}));

var __decorate$104 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$86 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpSignInfoHeaderComponent = (function () {
    function NbpSignInfoHeaderComponent() {
    }
    NbpSignInfoHeaderComponent.prototype.ngOnInit = function () {
        this._signDescriptionInfo = this._getSignInfo();
    };
    // TODO DA CAMBIARE TESTO E ICONE
    NbpSignInfoHeaderComponent.prototype._getSignInfo = function () {
        var signInfo;
        switch (this.nbpSignDescription) {
            case exports.SignDescription.ALTRO:
                signInfo = { text: 'Firma Altro', icon: 'icomoon-Firma_3' };
                break;
            case exports.SignDescription.ALTRO_REMOTA:
                signInfo = { text: 'Firma altro remota', icon: 'icomoon-Firma_2' };
                break;
            case exports.SignDescription.CARTACEA:
                signInfo = { text: 'Firma Cartacea', icon: 'icomoon-Firma_4' };
                break;
            case exports.SignDescription.GRAFOMETRICA:
                signInfo = { text: 'Firma Grafometrica', icon: 'icomoon-Firma_3' };
                break;
            default:
                signInfo = { text: 'Firma digitale remota', icon: 'icomoon-Firma_2' };
                break;
        }
        return signInfo;
    };
    return NbpSignInfoHeaderComponent;
}());
__decorate$104([
    _angular_core.Input(),
    __metadata$86("design:type", Number)
], exports.NbpSignInfoHeaderComponent.prototype, "nbpSignDescription", void 0);
__decorate$104([
    _angular_core.Input(),
    __metadata$86("design:type", Object)
], exports.NbpSignInfoHeaderComponent.prototype, "nbpCustomerInfo", void 0);
exports.NbpSignInfoHeaderComponent = __decorate$104([
    _angular_core.Component({selector: 'nbp-sign-info-header',
        template: "<div class=\"row sign-info-header-container\"><div class=\"col-xs-12 col-sm-12 col-md-12 sign-type-section\"><div class=\"sign-info-icon\"><span [class]=\"_signDescriptionInfo.icon\"></span></div><div class=\"sign-info-text\">{{_signDescriptionInfo.text}}</div></div><div class=\"col-xs-12 col-sm-12 col-md-12 sign-customer-info-section\"><div class=\"customer-info-container\"><div class=\"customer-info-label\">Cliente:</div><div class=\"customer-info-text\">{{nbpCustomerInfo?.info}}</div></div></div></div>",
        styles: [".sign-info-header-container{padding-top:20px;padding-bottom:20px}.base-section{min-height:120px;position:relative}.sign-type-section{min-height:120px;position:relative;background-color:#fff;border:1px solid #ccc}.sign-customer-info-section{min-height:120px;position:relative;background-color:#e3e3e3;border-top:1px solid #ccc;border-bottom:1px solid #ccc;border-right:1px solid #ccc;border-left:0 solid transparent;padding-top:10px}.sign-customer-info-section:before{content:'';display:block;width:20px;height:20px;background-color:#e3e3e3;border-top:1px solid #ccc;border-left:1px solid #ccc;position:absolute;transform-origin:top left;transform:rotate(-45deg) translateX(-12px) translateY(-50%);top:50%;left:0}@media screen and (max-width:767px){.sign-customer-info-section{border-top:0 solid transparent;border-left:1px solid #ccc!important}.sign-customer-info-section:before{border-top:1px solid #ccc;border-right:1px solid #ccc;border-left:0 solid transparent;top:-15px;left:34px}}.sign-info-text{padding:0 0 0 100px;font-size:25px;top:50%;transform:translateY(-50%);position:absolute;color:#258900}.sign-info-icon{position:absolute;font-size:60px;top:-37px;left:50px;background-color:inherit;padding:0 10px 0 10px}.customer-info-container{padding-left:50px;position:absolute;top:50%;transform:translateY(-50%)}.customer-info-label{font-weight:700}.customer-info-text{padding-top:6px} /*# sourceMappingURL=nbp-sign-info-header.component.css.map */ "]
    }),
    __metadata$86("design:paramtypes", [])
], exports.NbpSignInfoHeaderComponent);

var __decorate$105 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$87 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpRadioSelectionComponent = (function () {
    function NbpRadioSelectionComponent() {
        /**
         * Evento emesso al click sui radio button
         * @param {EventEmitter<any>}  nbpOnSelection
         */
        this.nbpOnSelection = new _angular_core.EventEmitter();
    }
    NbpRadioSelectionComponent.prototype.ngOnInit = function () { };
    NbpRadioSelectionComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        if (changes.nbpRadioList) {
            this._radioList = this.nbpRadioList.length > 3 ? this.nbpRadioList.slice(0, 3) : this.nbpRadioList.slice();
            this._radioList.filter(function (radioElement) { return radioElement.value === _this.nbpData; });
            if (!this._isNbpDataValid()) {
                this.nbpData = null;
            }
        }
    };
    NbpRadioSelectionComponent.prototype._onSelection = function (value) {
        console.log('nbpRadioSelectionComponent - Emiting: nbpOnSelection', value);
        this.nbpOnSelection.emit(value);
    };
    NbpRadioSelectionComponent.prototype._isNbpDataValid = function () {
        var _this = this;
        return this._radioList.filter(function (radioElement) { return radioElement && radioElement.value === _this.nbpData; }).length > 0;
    };
    return NbpRadioSelectionComponent;
}());
__decorate$105([
    _angular_core.Input(),
    __metadata$87("design:type", Array)
], exports.NbpRadioSelectionComponent.prototype, "nbpRadioList", void 0);
__decorate$105([
    _angular_core.Input(),
    __metadata$87("design:type", String)
], exports.NbpRadioSelectionComponent.prototype, "nbpData", void 0);
__decorate$105([
    _angular_core.Output(),
    __metadata$87("design:type", _angular_core.EventEmitter)
], exports.NbpRadioSelectionComponent.prototype, "nbpOnSelection", void 0);
exports.NbpRadioSelectionComponent = __decorate$105([
    _angular_core.Component({
        selector: 'nbp-radio-selection',template: "<div class=\"row\"><div *ngFor=\"let elementList of _radioList\" class=\"col-xs-offset-2 col-sm-offset-2 col-md-offset-2\"><div class=\"row\" [hidden]=\"elementList?.hide\"><span *ngIf=\"!!elementList?.icon\" class=\"col-xs-4 col-sm-4 col-md-4 sign-icon\" [ngClass]=\"elementList?.icon\"></span><nbp-radio name=\"offerta\" nbpSelectionSign=\"spunta\" nbpDisplayInline [disabled]=\"elementList?.disabled\" [nbpLabel]=\"elementList?.label\" [value]=\"elementList?.value\" [(ngModel)]=\"nbpData\" (change)=\"_onSelection(elementList.value)\"></nbp-radio></div></div></div>",
        styles: [".sign-icon{font-size:1.9em} /*# sourceMappingURL=nbp-radio-selection.component.css.map */ "]
    }),
    __metadata$87("design:paramtypes", [])
], exports.NbpRadioSelectionComponent);

var __decorate$108 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$90 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// TODO cercare di no usare <any> 
// interface AvailableActiveXControls {
//   splayer: any, //ctiveXObject o meglio SplayerType
//   tube: any
// }
// interface Window {
//   [keyof AvailableActiveXControls]:any
// }
var NbpSpilayerUtilityService = (function () {
    function NbpSpilayerUtilityService() {
        this.linkActiveXReference();
    }
    Object.defineProperty(NbpSpilayerUtilityService.prototype, "activeXId", {
        get: function () {
            return this._activeXId;
        },
        set: function (id) {
            this._activeXId = id;
        },
        enumerable: true,
        configurable: true
    });
    NbpSpilayerUtilityService.prototype.linkActiveXReference = function () {
        console.log('Linking ActiveX Reference for id ' + this._activeXId);
        if (this._activeXId) {
            this._activeX = window[this._activeXId];
        }
        console.log('Linking ActiveX Reference found ' + this._activeX);
        if (this._activeX) {
            console.log('Linking ActiveX Reference method ' + this._activeX.IsISPADContrattiEnabled);
        }
    };
    NbpSpilayerUtilityService.prototype.isActiveXInstantiated = function () {
        var activeXinstantiated = !!this._activeX;
        if (activeXinstantiated && !this._activeX.IsISPADContrattiEnabled) {
            console.warn("ActiveX present but method not recognized");
            activeXinstantiated = false;
        }
        return activeXinstantiated;
    };
    NbpSpilayerUtilityService.prototype.isISPADContrattiEnabled = function () {
        var operationResut = false;
        if (this.isActiveXInstantiated()) {
            operationResut = this._activeX.IsISPADContrattiEnabled();
            console.log('ISPAD Contratti attivo: ' + operationResut);
        }
        return operationResut;
    };
    NbpSpilayerUtilityService.prototype.printContract = function (xml) {
        if (this.isActiveXInstantiated()) {
            return this._activeX.PrintContract(xml);
        }
        return false;
    };
    NbpSpilayerUtilityService.prototype.setLeanBankingEndPoint = function (endPoint, port) {
        if (this.isActiveXInstantiated()) {
            this._activeX.SetLeanBankingEndPoint(endPoint, port);
        }
        else {
            console.log("Impossibile modificare LeanBankingEndPoint");
        }
    };
    NbpSpilayerUtilityService.prototype.printDatiXml = function (xml, sincrono, descrizione) {
        if (this.isActiveXInstantiated()) {
            return this._activeX.PrintDatiXml(xml, sincrono, descrizione);
        }
        return false;
    };
    NbpSpilayerUtilityService.prototype.openBrowser = function (xml) {
        if (this.isActiveXInstantiated()) {
            return this._activeX.OpenBrowser(xml);
        }
        return false;
    };
    NbpSpilayerUtilityService.prototype.isPadPresent = function () {
        if (this.isActiveXInstantiated()) {
            return this._activeX.IsPadPresent();
        }
        return false;
    };
    NbpSpilayerUtilityService.prototype.isTabletPresent = function () {
        if (this.isActiveXInstantiated()) {
            return this._activeX.IsTabletPresent();
        }
        return false;
    };
    NbpSpilayerUtilityService.prototype.closeBrowser = function (caption, message, type) {
        if (this.isActiveXInstantiated()) {
            this._activeX.CloseBrowser(caption, message, type);
        }
    };
    NbpSpilayerUtilityService.prototype.showISPADContratti = function () {
        if (this.isActiveXInstantiated()) {
            this._activeX.ShowISPADContratti();
        }
    };
    return NbpSpilayerUtilityService;
}());
NbpSpilayerUtilityService = __decorate$108([
    _angular_core.Injectable(),
    __metadata$90("design:paramtypes", [])
], NbpSpilayerUtilityService);

var __decorate$109 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$91 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Servizio Mock di collegamento con ActiveX SPILayerMulticanale
 */
var SpilayerMockUtilityService = (function () {
    function SpilayerMockUtilityService() {
        this._activeXId = 'MockActveX';
        // Per ora non usati, forse per usarli dovremmo ritornare degli observavle<boolean> al posto
        // di boolean
        this._spilayerEventStream = new rxjs_BehaviorSubject.BehaviorSubject('');
        this._spilayerSignResultStream = new rxjs_BehaviorSubject.BehaviorSubject({ event: '', result: false });
    }
    Object.defineProperty(SpilayerMockUtilityService.prototype, "activeXId", {
        // ADD EVENT_STREAM (implementato)
        // in firmdebug, ancora da implementare --> add SIGN_RESULT_STREAM
        get: function () {
            return this._activeXId;
        },
        set: function (id) {
            this._activeXId = id;
        },
        enumerable: true,
        configurable: true
    });
    SpilayerMockUtilityService.prototype.linkActiveXReference = function () {
        console.log('Mock linkActiveXReference()');
    };
    SpilayerMockUtilityService.prototype.isActiveXInstantiated = function () {
        return true;
    };
    SpilayerMockUtilityService.prototype.isISPADContrattiEnabled = function () {
        this._spilayerEventStream.next('isISPADContrattiEnabled');
        var result = confirm("Operazione isISPADContrattiEnabled (mock) selezionare valore di ritorno.\n \n                         Ok     -> response true \n \n                         Cancel -> response false");
        console.log("Risultato dell'operazione isISPADContrattiEnabled " + result);
        return result;
    };
    SpilayerMockUtilityService.prototype.printContract = function (xml) {
        this._spilayerEventStream.next('printContract');
        var result = confirm("Firma FEA - Operazione PrintContract (mock) selezionare valore di ritorno.\n \n                         Ok     -> response true \n \n                         Cancel -> response false");
        console.log("Risultato dell'operazione PrintContract " + result);
        return result;
    };
    SpilayerMockUtilityService.prototype.setLeanBankingEndPoint = function (endPoint, port) {
        this._spilayerEventStream.next('setLeanBankingEndPoint');
        console.log("SpilayerMockUtilityService - setLeanBankingEndPoint");
        alert("Invocazione Operazione setLeanBankingEndPoint (mock).");
    };
    SpilayerMockUtilityService.prototype.printDatiXml = function (xml, sincrono, descrizione) {
        this._spilayerEventStream.next('printDatiXml');
        var result = confirm("Firma FEA - Operazione printDatiXml (mock) selezionare valore di ritorno.\n \n                         Ok     -> response true \n \n                         Cancel -> response false");
        console.log("Risultato dell'operazione printDatiXml " + result);
        return result;
    };
    SpilayerMockUtilityService.prototype.openBrowser = function (xml) {
        this._spilayerEventStream.next('openBrowser');
        var result = confirm("Firma FDR - Operazione openBrowser (mock) selezionare valore di ritorno.\n \n                         Ok -> response true \n \n                         Cancel -> response false");
        console.log("Risultato dell'operazione openBrowser " + result);
        return result;
    };
    SpilayerMockUtilityService.prototype.isPadPresent = function () {
        this._spilayerEventStream.next('isPadPresent');
        var result = confirm("Firma FEA - Operazione isPadPresent (mock) selezionare valore di ritorno.\n \n                         Ok     -> response true \n \n                         Cancel -> response false");
        console.log("Risultato dell'operazione isPadPresent " + result);
        return result;
    };
    SpilayerMockUtilityService.prototype.isTabletPresent = function () {
        this._spilayerEventStream.next('isTabletPresent');
        var result = confirm("Firma FEA - Operazione isTabletPresent (mock) selezionare valore di ritorno.\n \n                         Ok     -> response true \n \n                         Cancel -> response false");
        console.log("Risultato dell'operazione isTabletPresent " + result);
        return result;
    };
    SpilayerMockUtilityService.prototype.closeBrowser = function (caption, message, type) {
        this._spilayerEventStream.next('closeBrowser');
        console.log("SpilayerMockUtilityService - closeBrowser");
        alert("Invocazione Operazione closeBrowser (mock).");
    };
    SpilayerMockUtilityService.prototype.showISPADContratti = function () {
        this._spilayerEventStream.next('showISPADContratti');
        console.log("SpilayerMockUtilityService - showISPADContratti");
        alert("Invocazione Operazione showISPADContratti (mock).");
    };
    return SpilayerMockUtilityService;
}());
SpilayerMockUtilityService = __decorate$109([
    _angular_core.Injectable(),
    __metadata$91("design:paramtypes", [])
], SpilayerMockUtilityService);

var __decorate$107 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$89 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$19 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var NbpSpilayerService = (function () {
    function NbpSpilayerService(appConfig, spilayerUtility, mockSpilayerUtility) {
        var _this = this;
        this.appConfig = appConfig;
        this.spilayerUtility = spilayerUtility;
        this.mockSpilayerUtility = mockSpilayerUtility;
        // TODOREVIEW caricamento dell' ambiente in APP_INITIALIZER
        if (this.appConfig && this.appConfig.getApplicationInfo) {
            this.appConfig.getApplicationInfo().subscribe(function (appInfo) {
                _this._environment = appInfo.environment;
            });
        }
        if (spilayerUtility.isActiveXInstantiated()) {
            this.activeXUtility = spilayerUtility;
            console.log('SPILayerMulticanale ActiveX istanziato nel costruttore');
        }
    }
    /** refresh dell' ActiveX dopo che il tag  stato istanziato nella pagina */
    NbpSpilayerService.prototype.updateActiveXReference = function (objectId) {
        console.log('updateActiveXReference ' + objectId);
        if (this.spilayerUtility) {
            this.spilayerUtility.activeXId = objectId;
            this.spilayerUtility.linkActiveXReference();
        }
        if (this.mockSpilayerUtility) {
            this.mockSpilayerUtility.activeXId = objectId;
            // TODO REVIEW this.mockSpilayerUtility.linkActiveXReference();
        }
        this.selectSpilayerIfActiveXAvailable();
    };
    NbpSpilayerService.prototype.selectSpilayerIfActiveXAvailable = function () {
        console.log('SPILayerMulticanale selectActiveXOrMock()');
        if (this.spilayerUtility.isActiveXInstantiated()) {
            this.activeXUtility = this.spilayerUtility;
            console.log('SPILayerMulticanale ActiveX istanziato');
        }
        else {
            if (this._environment && this._environment === 'PRODUZIONE') {
                console.warn('SPILayerMulticanale non istanziato!');
                //TODO verificare se visualizzare modale errore
            }
            else {
                this.activeXUtility = this.mockSpilayerUtility;
                console.log('SPILayerMulticanale Mock istanziato in selectSpilayerIfActiveXAvailable');
            }
        }
    };
    // WARNING se ISPAD non attivo
    NbpSpilayerService.prototype.isISPADContrattiEnabled = function () {
        if (!this.activeXUtility) {
            console.warn('SPILayerMulticanale not istantiated!');
            return false;
        }
        var operationResult = this.activeXUtility.isISPADContrattiEnabled();
        console.log('ISPAD Contratti attivo: ' + operationResult);
        return operationResult;
    };
    NbpSpilayerService.prototype.printContract = function (xml) {
        if (!this.activeXUtility) {
            console.warn('SPILayerMulticanale not istantiated!');
            return false;
        }
        var operationResult = this.activeXUtility.isISPADContrattiEnabled();
        if (operationResult) {
            operationResult = this.activeXUtility.printContract(xml);
            console.log('SPILayerMulticanale ha lanciato correttamente la stampa: ' + operationResult);
        }
        return operationResult;
    };
    NbpSpilayerService.prototype.openBrowser = function (xml) {
        if (!this.activeXUtility) {
            console.warn('SPILayerMulticanale not istantiated!');
            return false;
        }
        var operationResult = this.activeXUtility.isISPADContrattiEnabled();
        if (operationResult) {
            operationResult = this.activeXUtility.openBrowser(xml);
            console.log("SPILayerMulticanale ha lanciato correttamente l'apertura del browser: " + operationResult);
        }
        return operationResult;
    };
    NbpSpilayerService.prototype.closeBrowser = function (caption, message, type) {
        if (!this.activeXUtility) {
            console.warn('SPILayerMulticanale not istantiated!');
            return false;
        }
        var operationResult = this.activeXUtility.isISPADContrattiEnabled();
        if (operationResult) {
            this.activeXUtility.closeBrowser();
            console.log("SPILayerMulticanale chiamata CloseBrowser: " + operationResult);
        }
    };
    NbpSpilayerService.prototype.showISPADContratti = function () {
        this.activeXUtility.showISPADContratti();
        console.log('SPILayerMulticanale chiamata ShowISPADContratti');
    };
    return NbpSpilayerService;
}());
NbpSpilayerService = __decorate$107([
    _angular_core.Injectable(),
    __param$19(0, _angular_core.Inject(APP_CONFIG)),
    __metadata$89("design:paramtypes", [Object, NbpSpilayerUtilityService,
        SpilayerMockUtilityService])
], NbpSpilayerService);

var __decorate$106 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$88 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpSignSpilayerComponent = (function () {
    function NbpSignSpilayerComponent(spilayerService) {
        this.spilayerService = spilayerService;
        /**
         * Identificativo del tag Object contenente lo SpiLayerMulticanale.
         * Da utilizzare per l'invocazione dei metodi di firma del ActiveX.
         */
        this.nbpObjectId = 'spilayerMulticanale';
        // TODO per test
        // this.nbpObjectId = 'spilayerMulticanale'; 
    }
    NbpSignSpilayerComponent.prototype.ngOnInit = function () {
        if (!this.nbpObjectId) {
            console.warn("NbpSignSpilayerComponent - attributo nbpObjectId mancante");
        }
    };
    NbpSignSpilayerComponent.prototype.ngAfterViewInit = function () {
        if (this.nbpObjectId) {
            // used to debug on chrome, must be disabled for release
            //     let emulator = new LowLevelSpilayerEmulator(); 
            //     (window as any)[this.nbpObjectId] = emulator; 
            this.spilayerService.updateActiveXReference(this.nbpObjectId);
        }
    };
    NbpSignSpilayerComponent.prototype.ngOnDestroy = function () {
        this.spilayerService.updateActiveXReference(null);
    };
    return NbpSignSpilayerComponent;
}());
__decorate$106([
    _angular_core.Input(),
    __metadata$88("design:type", String)
], exports.NbpSignSpilayerComponent.prototype, "nbpObjectId", void 0);
exports.NbpSignSpilayerComponent = __decorate$106([
    _angular_core.Component({selector: 'nbp-sign-spilayer',
        template: "<object [id]=\"nbpObjectId\" classid=\"clsid:D74DF0CB-94F9-4F14-9A98-B8552608A76F\" height=\"0px\" width=\"0px\"></object>"
    }),
    __metadata$88("design:paramtypes", [NbpSpilayerService])
], exports.NbpSignSpilayerComponent);

var __decorate$110 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$92 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpPaperlessSignComponent = (function () {
    function NbpPaperlessSignComponent() {
        this.secondary = exports.NbpStyle.SECONDARY;
        /**
         * Evento sulla pressione del tasto di riavvio tablet
         */
        this.onReEnableTablet = new _angular_core.EventEmitter();
    }
    NbpPaperlessSignComponent.prototype._onReEnableTablet = function () {
        this.onReEnableTablet.emit();
    };
    return NbpPaperlessSignComponent;
}());
__decorate$110([
    _angular_core.Output(),
    __metadata$92("design:type", _angular_core.EventEmitter)
], exports.NbpPaperlessSignComponent.prototype, "onReEnableTablet", void 0);
exports.NbpPaperlessSignComponent = __decorate$110([
    _angular_core.Component({selector: 'nbp-paperless-sign',
        template: "<div class=\"tablet-sign-container row\"><div class=\"col-md-24\"><div class=\"row\"><div class=\"col-md-9 tablet-image-container pad-r-10\"><span class=\"tablet-image orizontal-container vertical-alignment text-center\"></span></div><div class=\"col-md-15 tablet-text-container\"><div class=\"vertical-alignment\"><h1>Il cliente sta firmando la documentazione sul tablet</h1><p class=\"pad-b-12\">Quando avr terminato, clicca sul pulsante CONTINUA per proseguire.<br>In caso di problemi tecnici con il tablet, clicca sul pulsante RIAVVIA TABLET.</p><div class=\"button-container\"><nbp-button [nbpLabel]=\"'Riavvia Tablet'\" [nbpStyle]=\"secondary\" (nbpClick)=\"_onReEnableTablet()\"></nbp-button></div></div></div></div></div></div>",
        styles: [".tablet-sign-container{background-color:#f2f2f2}.tablet-image-container,.tablet-sign-container,.tablet-text-container{height:240px}.tablet-image{display:inline-block;height:140px;width:217px;background-image:url(/cjlib/assets/images/immagine_tablet.png);background-repeat:no-repeat}.vertical-alignment{transform:translateY(-50%);top:50%;position:absolute}.vertical-alignment.orizontal-container{transform:translate(-50%,-50%);left:50%;position:absolute}h1{font-size:25px;margin:0;padding-bottom:15px;color:#000}p{font-size:16px;color:#6f6f6f;margin-bottom:30px}.button-container{width:25%} /*# sourceMappingURL=nbp-paperless-sign.component.css.map */ "]
    }),
    __metadata$92("design:paramtypes", [])
], exports.NbpPaperlessSignComponent);

var __decorate$112 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$94 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSignService = (function () {
    function NbpSignService(spilayerService) {
        this.spilayerService = spilayerService;
    }
    NbpSignService.prototype.signFDR = function (xml) {
        var printResult = this.spilayerService.openBrowser(xml);
        return (printResult);
    };
    NbpSignService.prototype.signFEA = function (xml, secondActivation) {
        var printResult = true;
        if (!secondActivation) {
            printResult = this.spilayerService.printContract(xml);
        }
        if (printResult) {
            this.spilayerService.showISPADContratti();
        }
        return (printResult);
    };
    NbpSignService.prototype.signCartacea = function (xml) {
        return this.spilayerService.printContract(xml);
    };
    return NbpSignService;
}());
NbpSignService = __decorate$112([
    _angular_core.Injectable(),
    __metadata$94("design:paramtypes", [NbpSpilayerService])
], NbpSignService);

var __decorate$111 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$93 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpSignComponent = (function () {
    function NbpSignComponent(signService) {
        this.signService = signService;
        this._secondActivation = false;
        /**
         * Evento emesso dopo l'invocazione della procedura di firma sullo
         * SPILayerMulticanale
         * @param {EventEmitter<any>} nbpOnSignStarted
         */
        this.nbpOnSignStarted = new _angular_core.EventEmitter();
        /**
         * Evento emesso al click del pulsante per il riavvio del Tablet
         * @param {EventEmitter<any>} nbpOnRiavviaTablet
         */
        this.nbpOnRiavviaTablet = new _angular_core.EventEmitter();
        /**
         * Evento emesso in caso di click del pulsante di ErrorAdvice
         * @param {EventEmitter<any>} nbpOnErrorAdvise
         */
        this.nbpOnErrorAdvise = new _angular_core.EventEmitter();
        /**
         * Evento emesso in caso di firma cartacea e click del pulsante 'Firma Completata'
         * @param {EventEmitter<any>} nbpOnPaperSignCompleted
         */
        this.nbpOnPaperSignConfirmed = new _angular_core.EventEmitter();
        this._signResult = true;
        this._errorAdvice = 'Attenzione, c\' stato un errore durante la procedura.';
        this._actionLabel = 'Riprova';
    }
    Object.defineProperty(NbpSignComponent.prototype, "nbpSecondActivation", {
        /**
         * Comunica al componente che  la seconda attivazione del processo di firma
         * per l'XMLToSign.
         * NOTA: cos non sar chiamato il metodo PrintContract dello SPILayerMulticanale
         */
        get: function () { return this._secondActivation; },
        set: function (value) { this._secondActivation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    NbpSignComponent.prototype.ngOnInit = function () {
        // Avvio del Tablet per la firma con invocazione metodi SPILayerMulticanale
        // metodo - PrintContract per firma FEA  
        // metodo - OpenBrowser per firma FDR
        // TODO: cosa dobbiamo fare per la firma CARTACEA ???
        if (!this.nbpSignType || !this.nbpXmlToSign
            || (this.nbpSignType.type !== exports.SignType.FEA
                && this.nbpSignType.type !== exports.SignType.FDR
                && this.nbpSignType.type !== exports.SignType.CARTA)) {
            console.error('NbpSignComponent parametri obbligatori non presenti');
        }
        else {
            this._checkPaperPaperlessProcess(); // TODOREVIEW
        }
    };
    NbpSignComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        if (!this.nbpSignType || !this.nbpXmlToSign
            || (this.nbpSignType.type !== exports.SignType.FEA
                && this.nbpSignType.type !== exports.SignType.FDR
                && this.nbpSignType.type !== exports.SignType.CARTA)) {
            console.error('NbpSignComponent parametri obbligatori non presenti');
        }
        else {
            setTimeout(function () {
                _this._startSignProcess();
            });
        }
    };
    /**
     * Invoca il corretto metodo di firma sull'ActiveX SPILayerMulticanale
     */
    NbpSignComponent.prototype._startSignProcess = function () {
        switch (this.nbpSignType.type) {
            case exports.SignType.FEA:
                this._signResult = this.signService.signFEA(this.nbpXmlToSign, this._secondActivation);
                this._secondActivation = true;
                console.log('NbpSignComponent - emitting nbpOnSignStarted');
                this.nbpOnSignStarted.emit(this._signResult);
                break;
            case exports.SignType.FDR:
                this._signResult = this.signService.signFDR(this.nbpXmlToSign);
                console.log('NbpSignComponent - emitting nbpOnSignStarted');
                this.nbpOnSignStarted.emit(this._signResult);
                break;
            case exports.SignType.CARTA:
                this._signResult = this.signService.signCartacea(this.nbpXmlToSign);
                break;
        }
    };
    /**
     * Controlla se la firma  paperless o cartacea
     */
    NbpSignComponent.prototype._checkPaperPaperlessProcess = function () {
        this._isPaperless = this.nbpSignType.type !== exports.SignType.CARTA;
    };
    NbpSignComponent.prototype._onRiavviaTablet = function () {
        console.log('NbpSignComponent - emitting nbpOnRiavviaTablet');
        this.nbpOnRiavviaTablet.emit();
        this._startSignProcess();
    };
    NbpSignComponent.prototype._onSignatureConfirm = function () {
        console.log('NbpSignComponent - emitting nbpOnPaperSignConfirmed');
        // this.nbpOnPaperSignCompleted.emit();
        this.nbpOnPaperSignConfirmed.emit();
    };
    NbpSignComponent.prototype._onErrorAdvise = function () {
        console.log('NbpSignComponent - emitting nbpOnErrorAdvise');
        this._startSignProcess();
        this.nbpOnErrorAdvise.emit();
    };
    return NbpSignComponent;
}());
__decorate$111([
    _angular_core.Input(),
    __metadata$93("design:type", Object)
], exports.NbpSignComponent.prototype, "nbpSignType", void 0);
__decorate$111([
    _angular_core.Input(),
    __metadata$93("design:type", Object)
], exports.NbpSignComponent.prototype, "nbpCustomerInfo", void 0);
__decorate$111([
    _angular_core.Input(),
    __metadata$93("design:type", String)
], exports.NbpSignComponent.prototype, "nbpXmlToSign", void 0);
__decorate$111([
    _angular_core.Input(),
    __metadata$93("design:type", Boolean),
    __metadata$93("design:paramtypes", [Object])
], exports.NbpSignComponent.prototype, "nbpSecondActivation", null);
__decorate$111([
    _angular_core.Output(),
    __metadata$93("design:type", _angular_core.EventEmitter)
], exports.NbpSignComponent.prototype, "nbpOnSignStarted", void 0);
__decorate$111([
    _angular_core.Output(),
    __metadata$93("design:type", _angular_core.EventEmitter)
], exports.NbpSignComponent.prototype, "nbpOnRiavviaTablet", void 0);
__decorate$111([
    _angular_core.Output(),
    __metadata$93("design:type", _angular_core.EventEmitter)
], exports.NbpSignComponent.prototype, "nbpOnErrorAdvise", void 0);
__decorate$111([
    _angular_core.Output(),
    __metadata$93("design:type", _angular_core.EventEmitter)
], exports.NbpSignComponent.prototype, "nbpOnPaperSignConfirmed", void 0);
exports.NbpSignComponent = __decorate$111([
    _angular_core.Component({selector: 'nbp-sign',
        template: "<div><nbp-sign-info-header [nbpSignDescription]=\"nbpSignType?.description\" [nbpCustomerInfo]=\"nbpCustomerInfo\"></nbp-sign-info-header><div *ngIf=\"(_signResult && _isPaperless)\"><nbp-paperless-sign (onReEnableTablet)=\"_onRiavviaTablet()\"></nbp-paperless-sign></div><div *ngIf=\"(_signResult && !_isPaperless)\"><nbp-paper-sign (onSignatureConfirm)=\"_onSignatureConfirm()\"></nbp-paper-sign></div><nbp-sign-spilayer nbpObjectId=\"spilayerMulticanale\"></nbp-sign-spilayer></div><nbp-error-advice *ngIf=\"!_signResult\" [nbpAdvice]=\"_errorAdvice\" [nbpActionLabel]=\"_actionLabel\" (onError)=\"_onErrorAdvise()\"></nbp-error-advice>"
    }),
    __metadata$93("design:paramtypes", [NbpSignService])
], exports.NbpSignComponent);

var __extends$26 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var NbpAutocompleteDatasource = (function (_super) {
    __extends$26(NbpAutocompleteDatasource, _super);
    function NbpAutocompleteDatasource(arrayData, defaultPageSize) {
        var _this = _super.call(this) || this;
        _this.defaultPageSize = defaultPageSize;
        _this.arrayData = arrayData ? arrayData : [];
        return _this;
    }
    NbpAutocompleteDatasource.prototype.getPage = function (filterFields, filterString) {
        var shadowData = this.arrayData.slice();
        /*let currentPageSize = pageSize ? pageSize : (this.defaultPageSize ? this.defaultPageSize : this.arrayData.length);
        let pageToreturn = pageNumber ? pageNumber : 1;
        let start = (pageToreturn - 1) * currentPageSize;
        let end = start + currentPageSize;
    
        let data = shadowData.slice(start, end);*/
        var data = shadowData.filter(function (element) {
            var result = false;
            var propertyData = getPropertyValueByPath(element, filterFields);
            if (!!propertyData) {
                result = propertyData.toLowerCase().startsWith(filterString.toLowerCase());
            }
            return result;
        });
        var dataPage = {
            data: data
        };
        return rxjs_Observable.Observable.of(dataPage);
    };
    return NbpAutocompleteDatasource;
}(INbpAutocompleteDataSource));

var __decorate$113 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$95 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$20 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.NbpStepNavigabiliComponent = (function () {
    // Avanti() { }
    // Indietro() { }
    function NbpStepNavigabiliComponent(document) {
        this.document = document;
        this.stickyActive = false;
        /**
         * Booleano opzionale che indica se si voglia gestire o meno il comportamento sticky allo scroll.
         * Se false, il componente verr nascosto allo scroll, altrimenti gli verr assegnata una posizione fissa.
         */
        this.sticky = true;
        /**
         * Evento emesso all'avanzamento. Include indice (index) e step selezionato (data).
         */
        this.nbpOnStepClick = new _angular_core.EventEmitter();
    }
    NbpStepNavigabiliComponent.prototype.selectStep = function (index) {
        console.log("Select Step: " + JSON.stringify(this.nbpSteps[index]));
        var selectedStep = this.nbpSteps[index];
        if (!selectedStep.disabled && !selectedStep['disableClick']) {
            var navigationStepEvent = {
                index: index,
                data: this.nbpSteps[index]
            };
            this.nbpOnStepClick.emit(navigationStepEvent);
        }
    };
    
    NbpStepNavigabiliComponent.prototype.onWindowScroll = function () {
        if (this.sticky == false) {
            return;
        }
        var number = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        if (number > 70) {
            this.stickyActive = true; //versione reply
            //this.sticky = true //versione nuova
        }
        else {
            this.stickyActive = false; //versione reply
            //this.sticky = false //versione nuova
        }
    };
    NbpStepNavigabiliComponent.prototype.ngOnInit = function () {
        // this.nbpSteps[0].active = 'active';
    };
    return NbpStepNavigabiliComponent;
}());
__decorate$113([
    _angular_core.Input(),
    __metadata$95("design:type", Boolean)
], exports.NbpStepNavigabiliComponent.prototype, "sticky", void 0);
__decorate$113([
    _angular_core.Input(),
    __metadata$95("design:type", Array)
], exports.NbpStepNavigabiliComponent.prototype, "nbpSteps", void 0);
__decorate$113([
    _angular_core.Output(),
    __metadata$95("design:type", _angular_core.EventEmitter)
], exports.NbpStepNavigabiliComponent.prototype, "nbpOnStepClick", void 0);
__decorate$113([
    _angular_core.HostListener("window:scroll", []),
    __metadata$95("design:type", Function),
    __metadata$95("design:paramtypes", []),
    __metadata$95("design:returntype", void 0)
], exports.NbpStepNavigabiliComponent.prototype, "onWindowScroll", null);
exports.NbpStepNavigabiliComponent = __decorate$113([
    _angular_core.Component({
        selector: 'nbp-step-navigabili',
        template: "<div class=\"step-container\" style=\"margin-top: -0.8em;\" [ngClass]=\"{'sticky':stickyActive}\"><div class=\"cont-step-header container\"><table class=\"step-header-table\"><tr class=\"step-header-row\"><td *ngFor=\"let step of nbpSteps; let i = index\" class=\"completed-step\" [ngClass]=\"{'step-corrente': step.selected, 'disabled-step': step.disabled,'step-completare':step.activated && !step.selected && !step.disabled,'step-completato' : !step.selected && !step.disabled && !step.activated}\"><div class=\"step-cerchio\" [ngClass]=\"{'completed' : !step.selected && !step.disabled}\" (click)=\"selectStep(i)\"><i class=\"icomoon-ToDo_Stepper\"></i> <i class=\"icomoon-ToDo_Stepper2\"></i> <i class=\"icomoon-Freccia_Stepper\"></i> <i class=\"icomoon-Spunta_Stepper\"></i> <i class=\"icomoon-Spunta_Stepper2\"></i></div><span class=\"tabName\" (click)=\"selectStep(i)\">{{step.name}}</span></td></tr></table></div></div><div *ngIf=\"stickyActive\" style=\"height:5.375em\"></div>",
        styles: [".step-container{background-color:#f8f8f8;border-bottom:.0625em solid #ccc;margin-top:-.125em}.sticky{position:fixed;right:0;left:0;z-index:1030;top:3.375em}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.sticky .step-header-table{top:0}.step-header-table{top:-7px;position:relative}}.icomoon-ToDo_Stepper{display:none;color:#258900;font-size:1.084em;color:#ccc;position:relative;top:-3px;left:-2px}.icomoon-ToDo_Stepper2{display:none!important;color:#258900;font-size:1.084em;position:relative;top:-3px;left:-2px}.icomoon-Freccia_Stepper{display:none;font-size:1.834em;color:#258900;position:relative;top:-3px;left:-2px}.icomoon-Spunta_Stepper{display:none;font-size:1.834em;color:#258900;position:relative;top:-3px;left:-2px}.icomoon-Spunta_Stepper2{display:none;font-size:1.834em;color:#258900;position:relative;top:-3px;left:-2px}.cont-step-header{padding:0!important;height:3.25em!important}.step-header-table{table-layout:fixed;width:100%;margin-top:-.75em}.step-header-row{text-align:center;color:#6f6f6f;height:3.125em;text-transform:uppercase;font-size:.75em;font-weight:700}.step-header-row .tabName{font-size:.75em}.step-header-row td{padding-top:.375em;vertical-align:top;position:relative}.step-header-row td:last-child::after{display:none}.step-header-row td::after{content:\"\";display:block;position:absolute;top:1.8125em;width:100%;height:.125em;left:50%;border-top:0 solid;border-bottom:.167em;margin-left:15%;width:69%;background-color:#89bc72}.step-header-row .step-cerchio{position:relative;z-index:1;margin:1em auto .5em auto;display:block;width:1.5625em;height:1.5625em;border-radius:100%;background-color:#f8f8f8;cursor:pointer}.step-header-row .step-cerchio.completed:hover{background-color:#fff}.step-header-row .step-cerchio.completed:hover .icomoon-Spunta_Stepper{display:none!important}.step-header-row .step-cerchio.completed:hover .icomoon-Spunta_Stepper2{display:inline!important}.step-header-row .step-cerchio.completed:hover .icomoon-ToDo_Stepper{display:none!important}.step-header-row .step-cerchio.completed .icomoon-Spunta_Stepper{display:inline!important}.step-header-row .step-cerchio.completed .icomoon-ToDo_Stepper{display:none!important}.step-header-row .step-corrente{color:#258900}.step-header-row .step-corrente .step-cerchio{margin-top:.75em;width:1.5625em;height:1.6825em;background-color:#f8f8f8}.step-header-row .step-corrente .icomoon-Freccia_Stepper{display:inline!important}.step-header-row .step-corrente span{cursor:pointer;color:#258900}.step-header-row .disabled-step{color:#258900}.step-header-row .disabled-step .step-cerchio{cursor:default;width:1.004em;height:1.004em;margin-bottom:.71em;margin-top:1.2em}.step-header-row .disabled-step .tabName{opacity:.5;cursor:default}.step-header-row .disabled-step .icomoon-ToDo_Stepper{display:inline!important;opacity:.5;color:#258900}.step-header-row .step-completare{color:#258900}.step-header-row .step-completare .step-cerchio{width:1.004em;height:1.004em;margin-bottom:.71em;margin-top:1.2em}.step-header-row .step-completare .step-cerchio:hover{background-color:#fff}.step-header-row .step-completare .step-cerchio:hover .icomoon-ToDo_Stepper2{display:inline!important}.step-header-row .step-completare .step-cerchio:hover .icomoon-Spunta_Stepper{display:none!important}.step-header-row .step-completare .step-cerchio:hover .icomoon-ToDo_Stepper{display:none!important;color:#258900}.step-header-row .step-completare .step-cerchio .icomoon-ToDo_Stepper{display:inline!important;color:#258900}.step-header-row .step-completare .step-cerchio .icomoon-Spunta_Stepper{display:none!important}.step-header-row .step-completare .step-cerchio .icomoon-Spunta_Stepper2{display:none!important}.step-header-row .step-completare span{cursor:pointer}.step-header-row .completed-step{color:#258900}.step-header-row .completed-step::after{background-image:none;background-color:#258900;border-style:solid}.step-header-row .completed-step span{cursor:pointer}.step-header-row .step-completato{color:#258900}.step-header-row .step-completato .step-cerchio{margin-top:.75em;margin-bottom:.6em}.step-header-row .step-completato span{cursor:pointer}.step-content{padding:1.25em;text-align:left}:host-context(.contrasto-on) .step-container{background-color:#fff;border-bottom:.0625em solid #000}:host-context(.contrasto-on) .icomoon-ToDo_Stepper{color:#000}:host-context(.contrasto-on) .icomoon-ToDo_Stepper2{color:#000}:host-context(.contrasto-on) .icomoon-Freccia_Stepper{color:#000}:host-context(.contrasto-on) .icomoon-Spunta_Stepper{color:#000}:host-context(.contrasto-on) .icomoon-Spunta_Stepper2{color:#000}:host-context(.contrasto-on) .step-header-row{color:#fff}:host-context(.contrasto-on) .step-header-row td::after{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-cerchio{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-cerchio.completed:hover{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-corrente{color:#000}:host-context(.contrasto-on) .step-header-row .step-corrente .step-cerchio{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-corrente span{color:#000}:host-context(.contrasto-on) .step-header-row .disabled-step{color:#000}:host-context(.contrasto-on) .step-header-row .disabled-step .icomoon-ToDo_Stepper{color:#000}:host-context(.contrasto-on) .step-header-row .step-completare{color:#000}:host-context(.contrasto-on) .step-header-row .step-completare .step-cerchio:hover{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-completare .step-cerchio:hover .icomoon-ToDo_Stepper{color:#000}:host-context(.contrasto-on) .step-header-row .step-completare .step-cerchio .icomoon-ToDo_Stepper{color:#000}:host-context(.contrasto-on) .step-header-row .completed-step{color:#000}:host-context(.contrasto-on) .step-header-row .completed-step::after{background-color:#000}:host-context(.contrasto-on) .step-header-row .step-completato{color:#000} /*# sourceMappingURL=nbp-step-navigabili.component.css.map */ "]
    }),
    __param$20(0, _angular_core.Inject(_angular_common.DOCUMENT)),
    __metadata$95("design:paramtypes", [Object])
], exports.NbpStepNavigabiliComponent);

var __extends$27 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$114 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$96 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$21 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
* Provider Expression that allows nbp-combo to register as a ControlValueAccessor.
* This allows it to support [(ngModel)].
* @docs-private
*/
var NBP_COMBO_CONTROL_VALUE_ACCESSOR$1 = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpComboFilterComponent; }),
    multi: true
};
var NBP_INPUT_ELEMENT_BASE$5 = {
    provide: NbpInputElementBase,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpComboFilterComponent; }),
    multi: true
};
/** intero autogenerato usato per id unici per nbpCombo component */
var nextId$22 = 0;
/**
* Componente per la implementazione della combobox, supporta tutti gli attributi standard html per il tag input.
* Personalizzabile per la gestione di currency grazie all'applicaizone di opportuni pipes
* definiti dalla libreria.
*/
exports.NbpComboFilterComponent = (function (_super) {
    __extends$27(NbpComboFilterComponent, _super);
    function NbpComboFilterComponent(validatori, asyncValidatori, formatterService, element, inj) {
        var _this = _super.call(this, validatori, asyncValidatori) || this;
        _this.validatori = validatori;
        _this.asyncValidatori = asyncValidatori;
        _this.formatterService = formatterService;
        _this.element = element;
        _this.inj = inj;
        /**
        * Identificativo univoco per il text field.
        * Se nessun id  fornito e' auto-generato.
        */
        _this.id = "nbp-combo-filter-" + ++nextId$22;
        //modificaReply
        /**
        * Elementi del DropBox:visualizza tutti o solo quelli filtrati
        */
        _this.showAllItems = false;
        /**
        * (Opzionale)
        * Booleano che consente di visualizzare i messaggi di feedback relativi alla validazione.
        * Valore di default false
        */
        _this.nbpShowValidation = false;
        _this.showErrorLabel = false;
        /**
        * Il testo del placeholder.
        */
        _this.placeholder = '';
        /**
        * Evento emesso quando  selezionato un elemento della combobox.
        */
        _this.select = new _angular_core.EventEmitter();
        /**
        * Evento emesso quando la dropdown viene chiuda
        */
        _this.dropdownClosed = new _angular_core.EventEmitter();
        /**
        * Evento emesso quando la dropdown viene aperta
        */
        _this.dropdownOpened = new _angular_core.EventEmitter();
        /**
        * (Opzionale) Funzione custom di validazione del campo
        */
        _this.nbpValidation = new _angular_core.EventEmitter();
        /**
         * (Opzionale) Paramentro che indica l'ordine di spostamento da un campo all'altro attraverso il tab.
         */
        _this.tabindex = 0;
        _this._dropdownVisible = false;
        _this._arrowClicked = false;
        _this._nbpPipe = exports.NbpPipe;
        return _this;
    }
    Object.defineProperty(NbpComboFilterComponent.prototype, "disabled", {
        /**
        * Flag che abilita/disabilita le funzionalit associate alla combobox
        */
        get: function () { return this._nbpDisabled; },
        set: function (value) { this._nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpComboFilterComponent.prototype, "required", {
        /**
        * Flag che imposta come obbligatorio o meno il campo di input (disabilitato) associato alla combobox
        */
        get: function () { return this._nbpRequired; },
        set: function (value) { this._nbpRequired = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpComboFilterComponent.prototype, "nbpShowEmptyValue", {
        /**
        * Flag che imposta come obbligatorio o meno il campo di input (disabilitato) associato alla combobox
        */
        get: function () { return this._nbpShowEmptyValue; },
        set: function (value) { this._nbpShowEmptyValue = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpComboFilterComponent.prototype, "nbpHighlightedDefault", {
        /**
        * (opzionale ) Booleano che gestisce lattributo  bordo giallo della combobox.
        * Al primo click/focus torner alla versione di default.
        * valore default false
        */
        get: function () { return this._nbpHighlightedDefault; },
        set: function (value) { this._nbpHighlightedDefault = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    Object.defineProperty(NbpComboFilterComponent.prototype, "nbpBindingToKeyField", {
        /**
        * Definisce quando il binding del ngModel deve essere fatto sull'attributo nbpKeyField
        *
        */
        get: function () { return this._nbpBindingToKeyField; },
        set: function (value) { this._nbpBindingToKeyField = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    NbpComboFilterComponent.prototype._getDropdownState = function () {
        return this._dropdownVisible ? 'expanded' : 'collapsed';
    };
    NbpComboFilterComponent.prototype._getModelValue = function (item) {
        if (!item || item && item.emptyValue) {
            return;
        }
        return (this._nbpBindingToKeyField && this.nbpKeyField) ? getPropertyValueByPath(item, this.nbpKeyField) : item;
    };
    NbpComboFilterComponent.prototype._evaluateCurrentSelectionIndex = function () {
        var _this = this;
        var currentSelection;
        if (this.value) {
            if (this.nbpKeyField && this.nbpBindingToKeyField) {
                currentSelection = this._nbpShadowData.findIndex(function (item) { return getPropertyValueByPath(item, _this.nbpKeyField) === _this.value; });
            }
            else {
                currentSelection = this._nbpShadowData.findIndex(function (item) { return item === _this.value; });
            }
            return currentSelection;
        }
        return 0;
    };
    NbpComboFilterComponent.prototype._onPreSelectEvent = function (item) {
        this._nbpViewValue = this._getViewModelElement(item);
        this.value = this._getModelValue(item);
        this.nbpValidation.emit(this.model);
        // TODO validazione anche su set programmatica del value
        event.stopPropagation();
        this.select.emit(item);
    };
    NbpComboFilterComponent.prototype._manageDropdownState = function (event) {
        switch (event.key.toLowerCase()) {
            case 'enter':
                event.preventDefault();
                if (this._dropdownVisible) {
                    if (!!this._preSelectedElementIndex || this._preSelectedElementIndex === 0) {
                        this._onPreSelectEvent(this._nbpShadowData[this._preSelectedElementIndex]);
                    }
                }
                this._dropdownVisible = !this._dropdownVisible;
                break;
            case 'tab':
                if (this._dropdownVisible) {
                    event.preventDefault();
                    if (!!this._preSelectedElementIndex || this._preSelectedElementIndex === 0) {
                        this._onPreSelectEvent(this._nbpShadowData[this._preSelectedElementIndex]);
                    }
                }
                this._dropdownVisible = false;
                break;
            default:
                this._dropdownVisible = false;
                break;
        }
        if (this._evaluateCurrentSelectionIndex() >= 0) {
            this.scrollToSelectedIndex(this._evaluateCurrentSelectionIndex());
        }
        else {
            this._preSelectedElementIndex = null;
        }
    };
    NbpComboFilterComponent.prototype._isAlphaNumericCharacter = function (keyCode) {
        return (keyCode >= 48 && keyCode <= 57) || (keyCode >= 65 && keyCode <= 90) || (keyCode >= 95 && keyCode <= 122);
    };
    NbpComboFilterComponent.prototype._isOptionPreselected = function (item) {
        var currentPreSelection = this._nbpShadowData.findIndex(function (element) { return element === item; });
        return currentPreSelection === this._preSelectedElementIndex;
    };
    NbpComboFilterComponent.prototype.scrollToSelectedIndex = function (elementIndex) {
        if (this._dropdownVisible) {
            setTimeout(function () {
                document.getElementById('combo-filter-element_' + elementIndex).scrollIntoViewIfNeeded();
            });
        }
    };
    NbpComboFilterComponent.prototype._moveNext = function (event) {
        if (this._nbpDisabled) {
            return;
        }
        event.preventDefault();
        var currentSelection = this._preSelectedElementIndex !== null && this._preSelectedElementIndex !== undefined ?
            this._preSelectedElementIndex : (this.nbpShowEmptyValue) ? 0 : -1;
        var nextSelection = currentSelection + 1;
        if (nextSelection >= this._nbpShadowData.length) {
            nextSelection = currentSelection;
        }
        this.scrollToSelectedIndex(nextSelection);
        // this._onPreSelectEvent(this._nbpShadowData[nextSelection]);
        this._preSelectedElementIndex = nextSelection;
    };
    NbpComboFilterComponent.prototype._movePrev = function (event) {
        if (this._nbpDisabled) {
            return;
        }
        event.preventDefault();
        var currentSelection = this._preSelectedElementIndex !== null && this._preSelectedElementIndex !== undefined ?
            this._preSelectedElementIndex : 0;
        var nextSelection = currentSelection < 0 ? 0 : currentSelection - 1;
        if (nextSelection < 0) {
            nextSelection = currentSelection;
        }
        this.scrollToSelectedIndex(nextSelection);
        // this._onPreSelectEvent(this._nbpShadowData[nextSelection]);
        this._preSelectedElementIndex = nextSelection;
    };
    NbpComboFilterComponent.prototype.ngOnInit = function () {
        this.ngControl = this.inj.get(_angular_forms.NgControl);
        this._prepareDataSource();
        //modificareply
        if (this.firstFocus) {
            this.elementRef.nativeElement.focus();
            this.elementRef.nativeElement.click();
        }
    };
    NbpComboFilterComponent.prototype._prepareDataSource = function () {
        var _this = this;
        if (this.nbpDataSource) {
            var currentPageStream = this.nbpDataSource.getPage();
            this.datasourceSubscription = currentPageStream.subscribe(function (value) {
                if (value.data && value.data.length) {
                    _this._nbpShadowData = value.data.slice();
                    if (_this.nbpShowEmptyValue) {
                        if (_this.nbpViewField) {
                            var emptyObject = { emptyValue: true };
                            emptyObject = generateObjectFromStringPath(emptyObject, _this.nbpViewField);
                            if (_this.nbpKeyField) {
                                emptyObject = generateObjectFromStringPath(emptyObject, _this.nbpKeyField);
                            }
                            _this._nbpShadowData.unshift(emptyObject);
                        }
                        else {
                            _this._nbpShadowData.unshift(null);
                        }
                    }
                    // console.log('Resolve Subscribe');
                }
                else {
                    _this._nbpShadowData = new Array();
                }
                
                _this._nbpShadowDataFull = _this._nbpShadowData.slice();
            }, function (error) {
                console.log(JSON.stringify(error));
            });
        }
    };
    NbpComboFilterComponent.prototype._manageDropdown = function (event) {
        if (!this._dropdownVisible && this.containsFilterValue !== "") {
            this._dropdownVisible = true;
        }
    };
    NbpComboFilterComponent.prototype._getViewValue = function (item) {
        if (!item) {
            return null;
        }
        return this.formatterService.displayValueTransformation(this._getViewModelElement(item), this.nbpFilter, this.nbpFilterArg);
    };
    NbpComboFilterComponent.prototype._getValue = function (item) {
        return (this._nbpBindingToKeyField && this.nbpKeyField) ? getPropertyValueByPath(item, this.nbpKeyField) : item;
    };
    NbpComboFilterComponent.prototype._getDropDownLabel = function (item) {
        return this.formatterService.displayValueTransformation((this.nbpViewField ? getPropertyValueByPath(item, this.nbpViewField) : item), this.nbpFilter, this.nbpFilterArg);
    };
    NbpComboFilterComponent.prototype._onSelectEvent = function (item) {
        if (item) {
            // Alla selezione, il filtro contains viene settato uguale all'item
            this.containsFilterValue = this._getDropDownLabel(item);
            this.onContainsFilterChange();
            this._nbpViewValue = this._getViewModelElement(item);
            this.value = this._getValue(item);
            this.nbpValidation.emit(this.model);
            this._dropdownVisible = !this._dropdownVisible;
            // TODO validazione anche su set programmatica del value
            event.stopPropagation();
            this.select.emit(item);
        }
    };
    NbpComboFilterComponent.prototype._getViewModelElement = function (item) {
        if (this._nbpBindingToKeyField) {
            return this.nbpKeyField ? this._getSelectedElement(item) : item;
        }
        return this.nbpViewField ? getPropertyValueByPath(item, this.nbpViewField) : item;
    };
    NbpComboFilterComponent.prototype._getSelectedElement = function (item) {
        var _this = this;
        var elems = this._nbpShadowData.filter(function (elem) {
            return getPropertyValueByPath(elem, _this.nbpKeyField) === item;
        });
        if (elems.length > 0) {
            var selectedElem = elems[0];
            return this.nbpViewField ? getPropertyValueByPath(selectedElem, this.nbpViewField) : item;
        }
        else {
            return item;
        }
    };
    NbpComboFilterComponent.prototype._isOptionSelected = function (item) {
        if (!item || !this.value) {
            return false;
        }
        if (this.nbpKeyField && item && getPropertyValueByPath(item, this.nbpKeyField)) {
            var currentValue = this.value;
            if (this._nbpBindingToKeyField) {
                return getPropertyValueByPath(item, this.nbpKeyField) === currentValue;
            }
            else {
                return getPropertyValueByPath(item, this.nbpKeyField) === getPropertyValueByPath(currentValue, this.nbpKeyField);
            }
        }
        if (item) {
            return item === this.value;
        }
        return false;
    };
    NbpComboFilterComponent.prototype._onInputFocus = function (event) {
        if (!this._nbpDisabled
            && this._nbpShadowData
            && this._nbpShadowData.length > 0 && !this._arrowClicked) {
            this._dropdownVisible = !this._dropdownVisible;
            this._dropdownVisible ? this.dropdownOpened.emit() : this.dropdownClosed.emit();
        }
    };
    NbpComboFilterComponent.prototype._onInputClick = function (event) {
        //modificaReply
        if (this.showAllItems) {
            this._nbpShadowData = this._nbpShadowDataFull.slice();
        }
        //--------------------
        if (!this._nbpDisabled
            && this._nbpShadowData
            && this._nbpShadowData.length > 0) {
            this._dropdownVisible = !this._dropdownVisible;
            this._arrowClicked = !this._arrowClicked;
        }
    };
    NbpComboFilterComponent.prototype._onTouchedEvent = function (event) {
        this.touch();
        this.showErrorLabel = true;
    };
    NbpComboFilterComponent.prototype._closeDropDown = function (target) {
        if (!this._dropdownVisible) {
            return;
        }
        var parentFound = false;
        while (target != null && !parentFound) {
            if (target === this.element.nativeElement) {
                parentFound = true;
            }
            target = target.parentElement;
        }
        if (!parentFound) {
            this._dropdownVisible = false;
            this._arrowClicked = false;
            this.dropdownClosed.emit();
        }
    };
    NbpComboFilterComponent.prototype.onFocusout = function (target) {
        this._closeDropDown(target);
    };
    NbpComboFilterComponent.prototype.onClick = function (target) {
        this._closeDropDown(target);
    };
    /**
    * Listener per cambio del filtro "contains" -> si occupa di filtrare le opzioni in base a quanto inserito
    */
    NbpComboFilterComponent.prototype.onContainsFilterChange = function () {
        var _this = this;
        if (this.containsFilterValue) {
            var checkString_1 = this.containsFilterValue.toLowerCase();
            var startingIndex_1 = this.nbpShowEmptyValue ? 1 : 0;
            this._nbpShadowData = this._nbpShadowDataFull.filter(function (elem, index) {
                if (index >= startingIndex_1) {
                    var elemLabel = _this._getDropDownLabel(elem);
                    return elemLabel && elemLabel.toLowerCase().includes(checkString_1);
                }
                else {
                    return true;
                }
            });
        }
        else {
            this._nbpShadowData = this._nbpShadowDataFull.slice();
        }
    };
    return NbpComboFilterComponent;
}(NbpInputElementBase));
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", String)
], exports.NbpComboFilterComponent.prototype, "name", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Object)
], exports.NbpComboFilterComponent.prototype, "id", void 0);
__decorate$114([
    _angular_core.Input("showallitems"),
    __metadata$96("design:type", Boolean)
], exports.NbpComboFilterComponent.prototype, "showAllItems", void 0);
__decorate$114([
    _angular_core.HostBinding('class.nbp-show-validation'),
    _angular_core.Input(),
    __metadata$96("design:type", Boolean)
], exports.NbpComboFilterComponent.prototype, "nbpShowValidation", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", String)
], exports.NbpComboFilterComponent.prototype, "nbpErrorMessage", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Boolean)
], exports.NbpComboFilterComponent.prototype, "showErrorLabel", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Boolean),
    __metadata$96("design:paramtypes", [Object])
], exports.NbpComboFilterComponent.prototype, "disabled", null);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Boolean),
    __metadata$96("design:paramtypes", [Object])
], exports.NbpComboFilterComponent.prototype, "required", null);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", String)
], exports.NbpComboFilterComponent.prototype, "placeholder", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Boolean),
    __metadata$96("design:paramtypes", [Object])
], exports.NbpComboFilterComponent.prototype, "nbpShowEmptyValue", null);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", INbpDataSource)
], exports.NbpComboFilterComponent.prototype, "nbpDataSource", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", String)
], exports.NbpComboFilterComponent.prototype, "nbpViewField", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", String)
], exports.NbpComboFilterComponent.prototype, "nbpKeyField", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Boolean),
    __metadata$96("design:paramtypes", [Object])
], exports.NbpComboFilterComponent.prototype, "nbpHighlightedDefault", null);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Number)
], exports.NbpComboFilterComponent.prototype, "nbpFilter", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Object)
], exports.NbpComboFilterComponent.prototype, "nbpFilterArg", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Boolean),
    __metadata$96("design:paramtypes", [Object])
], exports.NbpComboFilterComponent.prototype, "nbpBindingToKeyField", null);
__decorate$114([
    _angular_core.Output(),
    __metadata$96("design:type", _angular_core.EventEmitter)
], exports.NbpComboFilterComponent.prototype, "select", void 0);
__decorate$114([
    _angular_core.Output(),
    __metadata$96("design:type", Object)
], exports.NbpComboFilterComponent.prototype, "dropdownClosed", void 0);
__decorate$114([
    _angular_core.Output(),
    __metadata$96("design:type", Object)
], exports.NbpComboFilterComponent.prototype, "dropdownOpened", void 0);
__decorate$114([
    _angular_core.Output(),
    __metadata$96("design:type", _angular_core.EventEmitter)
], exports.NbpComboFilterComponent.prototype, "nbpValidation", void 0);
__decorate$114([
    _angular_core.ViewChild(_angular_forms.NgModel),
    __metadata$96("design:type", _angular_forms.NgModel)
], exports.NbpComboFilterComponent.prototype, "model", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Boolean)
], exports.NbpComboFilterComponent.prototype, "firstFocus", void 0);
__decorate$114([
    _angular_core.Input(),
    __metadata$96("design:type", Number)
], exports.NbpComboFilterComponent.prototype, "tabindex", void 0);
__decorate$114([
    _angular_core.ViewChild('autoFocusComboFilter'),
    __metadata$96("design:type", _angular_core.ElementRef)
], exports.NbpComboFilterComponent.prototype, "elementRef", void 0);
__decorate$114([
    _angular_core.HostListener('document: focusout', ['$event.target']),
    __metadata$96("design:type", Function),
    __metadata$96("design:paramtypes", [HTMLElement]),
    __metadata$96("design:returntype", void 0)
], exports.NbpComboFilterComponent.prototype, "onFocusout", null);
__decorate$114([
    _angular_core.HostListener('document: click', ['$event.target']),
    __metadata$96("design:type", Function),
    __metadata$96("design:paramtypes", [HTMLElement]),
    __metadata$96("design:returntype", void 0)
], exports.NbpComboFilterComponent.prototype, "onClick", null);
exports.NbpComboFilterComponent = __decorate$114([
    _angular_core.Component({
        selector: 'nbp-combo-filter',template: "<div class=\"dropdown-container\"><input type=\"hidden\" [(ngModel)]=\"value\"><div class=\"dropdown-inner-container\" (keydown.arrowdown)=\"_moveNext($event)\" (keydown.arrowup)=\"_movePrev($event)\" (keydown.enter)=\"_manageDropdownState($event)\" (keydown.esc)=\"_manageDropdownState($event)\" (keydown.tab)=\"_manageDropdownState($event)\" (keyup.tab)=\"_manageDropdownState($event)\" (keydown.shift.tab)=\"_manageDropdownState($event)\" (keyup.shift.tab)=\"_manageDropdownState($event)\" (focusout)=\"_onTouchedEvent($event)\"><input type=\"text\" [id]=\"id\" [name]=\"name\" [placeholder]=\"placeholder\" class=\"dropdown-input-box form-control\" [ngClass]=\"{ 'dropdown-input-box-green': _dropdownVisible || _focusActive, 'highlight-default':nbpHighlightedDefault, 'input-box-disabled': disabled }\" (input)=\"_manageDropdown($event)\" [value]=\"_getViewValue(value)\" [required]=\"required\" [(ngModel)]=\"containsFilterValue\" (ngModelChange)=\"onContainsFilterChange()\" autocomplete=\"off\" (focus)=\"_focusActive = true;\" (focusout)=\"_focusActive = false;\" [tabindex]=\"tabindex\" #autoFocusComboFilter> <button class=\"dropdown-button\" (click)=\"_onInputClick($event)\" [ngClass]=\"{'collapse-disabled' : disabled}\" tabindex=\"-1\"><span class=\"dropdown-button-border\"></span> <span [ngClass]=\"{'triangolo-bottom' : !_dropdownVisible, 'triangolo-top' : _dropdownVisible}\"></span></button></div><ul [@dropdownAnimationState]=\"_getDropdownState()\" [style.visibility]=\"_dropdownVisible ? 'visible' : 'hidden'\"><li *ngFor=\"let item of _nbpShadowData; let i = index\" (click)=\"_onSelectEvent(item)\" [ngClass]=\"{'active': _isOptionSelected(item), 'preselected':_isOptionPreselected(item), 'last': i === _nbpShadowData.length - 1  }\" [id]=\"'combo-filter-element_'+i\"><span>{{_getDropDownLabel(item) }}</span></li></ul></div>",
        styles: [":host{position:relative;display:block}:host(.ng-invalid.nbp-show-validation) .dropdown-input-box{border:2px solid #c63200!important;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}:host(.ng-invalid.nbp-show-validation) .dropdown-input-box:focus{border:2px solid #c63200!important}.highlight-default{border:2px solid #fce07f!important;outline:0;box-shadow:none!important}.dropdown-container{display:inline-block;position:relative;width:100%}.dropdown-container ul{opacity:1;background:#fff;border-top-width:0;border-right-color:#323232;border-right-style:solid;border-right-width:1px;border-bottom-color:#323232;border-bottom-style:solid;border-bottom-width:1px;border-left-color:#323232;border-left-style:solid;border-left-width:1px;border-radius:0 0 2px 2px;list-style:none;margin:0 0 .625em 0;padding:0;position:absolute;width:100%;z-index:1000;overflow-y:auto}.dropdown-container ul>li{cursor:pointer;min-height:3.125em;padding:17px 12px;border-bottom:1px solid #f2f2f2;text-align:left}.dropdown-container ul>li:hover{background:#c4dbbc}.dropdown-container ul>li.preselected{background:#c4dbbc}.dropdown-container ul>li.preselected.active{box-shadow:inset 0 0 1em #258900}.dropdown-container ul>li.active{background:#89bc72}.dropdown-container ul>li.last{border-bottom:none}.dropdown-container ul.ng-hide-add{transition:all ease-out .25s}.dropdown-container ul.ng-hide-remove{transition:all ease-out .25s}.dropdown-container ul.ng-hide{opacity:0;max-height:0}.dropdown-inner-container{position:relative;z-index:999}.dropdown-label{color:#6f6f6f;font-size:1em;margin:0 0 0 .75em!important}.dropdown-input-box{margin:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:.375em 2.3em .375em 1em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#323232;border:1px solid #323232;border-radius:2px;font-size:1em!important;height:3.125em}.dropdown-input-box:focus{border:2px solid #89bc72;outline:0;box-shadow:none!important}.dropdown-input-box::-ms-clear{display:none}.dropdown-input-box:disabled{background-color:#fff!important;cursor:default;box-shadow:none!important}.dropdown-input-box.input-box-disabled{background-color:#fff!important;border:1px solid #6f6f6f;opacity:.5!important;cursor:not-allowed}::placeholder{color:#6f6f6f;opacity:1}:-ms-input-placeholder{color:#6f6f6f}::-ms-input-placeholder{color:#6f6f6f}.dropdown-input-box-green{border:2px solid #89bc72;outline:0;box-shadow:none!important}.dropdown-input-box-disabled{background-color:#fff!important;opacity:.5!important}.dropdown-button{position:absolute;top:0;right:0;width:2.5em;height:3.125em;text-align:center;color:#ccc;border-color:transparent;background-color:transparent!important}.dropdown-button[role=\"\"]{cursor:default;opacity:.5}.dropdown-button.collapse-disabled{pointer-events:none}.dropdown-button.collapse-disabled .dropdown-button-border{border-left:1px solid #6f6f6f!important}.dropdown-button.collapse-disabled .triangolo-bottom{border-style:solid;border-width:8px 6.5px 0 6.5px;border-color:#6f6f6f transparent transparent transparent}.dropdown-button.collapse-disabled .triangolo-top{border-style:solid;border-width:0 6.5px 8px 6.5px;border-color:transparent transparent #6f6f6f transparent}.dropdown-button-border{position:absolute;display:inline-block;height:60%;top:20%;left:0;border-left:1px solid #323232}.has-error .dropdown-input-box{border:2px solid #c63200;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .dropdown-input-box:focus{border:2px solid #c63200}.dropdown-error-message{color:#c63200;font-size:1em;margin-top:.625em;margin-bottom:.625em;opacity:1}.dropdown-error-message.ng-hide-add{transition:all ease-out .25s}.dropdown-error-message.ng-hide-remove{transition:all ease-out .25s}.dropdown-error-message.ng-hide{opacity:0;margin-top:-.625em}.triangolo-top{width:0;height:0;border-style:solid;border-width:0 .625em .625em .625em;border-color:transparent transparent #258900 transparent;display:inline-block!important}.triangolo-bottom{width:0;height:0;border-style:solid;border-width:.625em .625em 0 .625em;border-color:#258900 transparent transparent transparent;display:inline-block!important}.yellow-border{border:2px solid #fce07f}:host-context(.contrasto-on) :host(.ng-invalid.nbp-show-validation) .dropdown-input-box{border-color:#000!important}:host-context(.contrasto-on) :host(.ng-invalid.nbp-show-validation) .dropdown-input-box:focus{border-color:#000!important}:host-context(.contrasto-on) .highlight-default{border-color:#000!important}:host-context(.contrasto-on) .dropdown-container ul{background:#fff;border-right-color:#000;border-bottom-color:#000;border-left-color:#000}:host-context(.contrasto-on) .dropdown-container ul>li{border-bottom-color:#fff}:host-context(.contrasto-on) .dropdown-container ul>li:hover{background:#000;color:#fff}:host-context(.contrasto-on) .dropdown-container ul>li.active{background:#000;color:#fff}:host-context(.contrasto-on) .dropdown-label{color:#000}:host-context(.contrasto-on) .dropdown-input-box{color:#000;border-color:#000}:host-context(.contrasto-on) .dropdown-input-box:focus{border-color:#000}:host-context(.contrasto-on) .dropdown-input-box:disabled{background-color:#fff!important}:host-context(.contrasto-on) .dropdown-input-box.input-box-disabled{background-color:#fff!important;border-color:#000}:host-context(.contrasto-on) .dropdown-input-box-green{border-color:#000}:host-context(.contrasto-on) .dropdown-input-box-disabled{background-color:#fff!important}:host-context(.contrasto-on) .dropdown-button{color:#000}:host-context(.contrasto-on) .dropdown-button.collapse-disabled .dropdown-button-border{border-left-color:#000!important}:host-context(.contrasto-on) .dropdown-button.collapse-disabled .triangolo-bottom{border-top-color:#000}:host-context(.contrasto-on) .dropdown-button.collapse-disabled .triangolo-top{border-bottom-color:#000}:host-context(.contrasto-on) .dropdown-button-border{border-left-color:#000}:host-context(.contrasto-on) .has-error .dropdown-input-box{border-color:#000}:host-context(.contrasto-on) .has-error .dropdown-input-box:focus{border-color:#000}:host-context(.contrasto-on) .dropdown-error-message{color:#000}:host-context(.contrasto-on) .triangolo-top{border-bottom-color:#000}:host-context(.contrasto-on) .triangolo-bottom{border-top-color:#000}:host-context(.contrasto-on) .yellow-border{border-color:#fff} /*# sourceMappingURL=nbp-combo-filter.component.css.map */ "],
        viewProviders: [NbpFormatterService],
        providers: [NBP_COMBO_CONTROL_VALUE_ACCESSOR$1, NBP_INPUT_ELEMENT_BASE$5],
        animations: [
            _angular_animations.trigger('dropdownAnimationState', [
                _angular_animations.state('expanded', _angular_animations.style({ opacity: 1, visibility: 'visible' })),
                _angular_animations.state('collapsed, void', _angular_animations.style({ opacity: 0, visibility: 'hidden' })),
                _angular_animations.transition('expanded => collapsed', _angular_animations.animate('100ms ease-in')),
                _angular_animations.transition('collapsed => expanded', _angular_animations.animate('100ms ease-out'))
            ])
        ]
    }),
    __param$21(0, _angular_core.Optional()), __param$21(0, _angular_core.Inject(_angular_forms.NG_VALIDATORS)),
    __param$21(1, _angular_core.Optional()), __param$21(1, _angular_core.Inject(_angular_forms.NG_ASYNC_VALIDATORS)),
    __metadata$96("design:paramtypes", [Array, Array, NbpFormatterService,
        _angular_core.ElementRef, _angular_core.Injector])
], exports.NbpComboFilterComponent);

var __decorate$116 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$98 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpToggleTabComponent = (function () {
    function NbpToggleTabComponent() {
        /**
         * Titolo del tab
         */
        this.title = '';
        /**
         * Booleano che indica se il tab  selezionato inizialmente
         */
        this.active = false;
        /**
         * Booleano che indica se il tab  disabilitato
         */
        this.disabled = false;
    }
    return NbpToggleTabComponent;
}());
__decorate$116([
    _angular_core.Input(),
    __metadata$98("design:type", Object)
], exports.NbpToggleTabComponent.prototype, "title", void 0);
__decorate$116([
    _angular_core.Input(),
    __metadata$98("design:type", Object)
], exports.NbpToggleTabComponent.prototype, "active", void 0);
__decorate$116([
    _angular_core.Input(),
    __metadata$98("design:type", Object)
], exports.NbpToggleTabComponent.prototype, "disabled", void 0);
exports.NbpToggleTabComponent = __decorate$116([
    _angular_core.Component({selector: 'nbp-toggle-tab',
        template: "\n    <ng-content *ngIf=\"active\"></ng-content>\n  ",
        styles: [".centre{display:table;margin-left:auto;margin-right:auto}.tabs-container{border-collapse:collapse}.tabs-container .tab-container{display:table-cell;height:3.125em;width:12.5em;text-align:center;background-color:#fff;border:1px solid #ccc;padding:5px;cursor:pointer}.tabs-container .tab-container.active{background-color:#258900;box-shadow:inset 0 2px 3px 0 rgba(0,0,0,.2)}.tabs-container .tab-container.active a{color:#fff}.tabs-container .tab-container.active i{color:#258900}.tabs-container .tab-container.active .tab-title{color:#fff}.tabs-container .tab-container.disabled{pointer-events:none;cursor:not-allowed;opacity:.5}.tabs-container .tab-container i{display:block;font-size:24px;color:#6f6f6f}.tabs-container .tab-container .tab-title{text-transform:uppercase;color:#6f6f6f;display:table-cell;height:2.5em;width:11.875em;font-weight:600;margin:auto;vertical-align:middle}:host-context(.contrasto-on) .tabs-container{display:table;border-collapse:collapse}:host-context(.contrasto-on) .tabs-container .tab-container{border-color:#000;background-color:#fff}:host-context(.contrasto-on) .tabs-container .tab-container.active{background-color:#000;box-shadow:none}:host-context(.contrasto-on) .tabs-container .tab-container.active i{color:#fff}:host-context(.contrasto-on) .tabs-container .tab-container.active .tab-title{color:#fff}:host-context(.contrasto-on) .tabs-container .tab-container i{color:#000}:host-context(.contrasto-on) .tabs-container .tab-container .tab-title{color:#000} /*# sourceMappingURL=nbp-tab-toggle.component.css.map */ "]
    })
], exports.NbpToggleTabComponent);

var __decorate$115 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$97 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpToggleTabsetComponent = (function () {
    function NbpToggleTabsetComponent() {
        // @Input() vertical ;
        this.onSelect = new _angular_core.EventEmitter();
    }
    NbpToggleTabsetComponent.prototype.ngAfterContentInit = function () {
        var actives = this.tabs.filter(function (t) { return t.active; });
        if (actives.length > 1) {
            console.error("Multiple active tabs set 'active'");
        }
        else if (!actives.length && this.tabs.length) {
            this.tabs.first.active = true;
        }
    };
    NbpToggleTabsetComponent.prototype.tabClicked = function (tab) {
        this.tabs.forEach(function (element) { return element.active = false; });
        tab.active = true;
        this.onSelect.emit(tab);
    };
    return NbpToggleTabsetComponent;
}());
__decorate$115([
    _angular_core.Output(),
    __metadata$97("design:type", Object)
], exports.NbpToggleTabsetComponent.prototype, "onSelect", void 0);
__decorate$115([
    _angular_core.ContentChildren(exports.NbpToggleTabComponent),
    __metadata$97("design:type", _angular_core.QueryList)
], exports.NbpToggleTabsetComponent.prototype, "tabs", void 0);
exports.NbpToggleTabsetComponent = __decorate$115([
    _angular_core.Component({selector: 'nbp-toggle-tabset',
        template: "<div class=\"centre\"><div class=\"tabs-container\"><div *ngFor=\"let tab of tabs; let i = index\" class=\"tab-container\" [class.disabled]=\"tab.disabled\" [class.active]=\"tab.active\" (click)=\"tabClicked(tab)\"><div (click)=\"tabClicked(tab)\" class=\"tab-title\"><span style=\"font-size: 0.750em; font-family: Arial\">{{tab.title}}</span></div></div></div></div><div><ng-content></ng-content></div>",
        styles: [".centre{display:table;margin-left:auto;margin-right:auto}.tabs-container{border-collapse:collapse}.tabs-container .tab-container{display:table-cell;height:3.125em;width:12.5em;text-align:center;background-color:#fff;border:1px solid #ccc;padding:5px;cursor:pointer}.tabs-container .tab-container.active{background-color:#258900;box-shadow:inset 0 2px 3px 0 rgba(0,0,0,.2)}.tabs-container .tab-container.active a{color:#fff}.tabs-container .tab-container.active i{color:#258900}.tabs-container .tab-container.active .tab-title{color:#fff}.tabs-container .tab-container.disabled{pointer-events:none;cursor:not-allowed;opacity:.5}.tabs-container .tab-container i{display:block;font-size:24px;color:#6f6f6f}.tabs-container .tab-container .tab-title{text-transform:uppercase;color:#6f6f6f;display:table-cell;height:2.5em;width:11.875em;font-weight:600;margin:auto;vertical-align:middle}:host-context(.contrasto-on) .tabs-container{display:table;border-collapse:collapse}:host-context(.contrasto-on) .tabs-container .tab-container{border-color:#000;background-color:#fff}:host-context(.contrasto-on) .tabs-container .tab-container.active{background-color:#000;box-shadow:none}:host-context(.contrasto-on) .tabs-container .tab-container.active i{color:#fff}:host-context(.contrasto-on) .tabs-container .tab-container.active .tab-title{color:#fff}:host-context(.contrasto-on) .tabs-container .tab-container i{color:#000}:host-context(.contrasto-on) .tabs-container .tab-container .tab-title{color:#000} /*# sourceMappingURL=nbp-tab-toggle.component.css.map */ "]
    })
], exports.NbpToggleTabsetComponent);

var __decorate$117 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$99 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpSwitchBinaryComponent = (function () {
    function NbpSwitchBinaryComponent() {
        /**
         * Evento emesso al click del componente.
         * Emette i seguenti valori:
         * ON - OFF
         */
        this.nbpOnClick = new _angular_core.EventEmitter();
        this._onToggle = function () {
            if (!this.nbpDisabled) {
                this.nbpActive = !this.nbpActive;
                this._emitOnClickEvent();
            }
        };
        this._emitOnClickEvent = function () {
            var output = this.nbpActive ? 'ON' : 'OFF';
            this.nbpOnClick.emit(output);
        };
    }
    Object.defineProperty(NbpSwitchBinaryComponent.prototype, "disabled", {
        /**
         *Booleano che abilita/disabilita il componente
         */
        get: function () { return this.nbpDisabled; },
        set: function (value) { this.nbpDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpSwitchBinaryComponent.prototype, "nbpActive", {
        /**
         * Booleano che permette di selezionare ON/OFF del componente
         * se nbpActive presente o uguale a TRUE --> binary-switch = ON
         * binary-switch = OFF altrimentin
         */
        get: function () { return this._nbpActive; },
        set: function (value) { this._nbpActive = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpSwitchBinaryComponent.prototype.ngOnInit = function () {
        // controlliamo se l'array nbpLabels  di due elementi
        if (!this.nbpLabels) {
            // console.log('Componente nbpSwitchBinary utilizzato con lables di default: On/Off');
            this.nbpLabels = ['On', 'Off'];
        }
        else if (this.nbpLabels.length > 2) {
            this.nbpLabels.splice(2);
            console.log('Componente nbpSwitchBinary utilizzato con lables custom: ' + this.nbpLabels.join('/'));
        }
    };
    return NbpSwitchBinaryComponent;
}());
__decorate$117([
    _angular_core.Input(),
    __metadata$99("design:type", Array)
], exports.NbpSwitchBinaryComponent.prototype, "nbpLabels", void 0);
__decorate$117([
    _angular_core.Input(),
    __metadata$99("design:type", Boolean),
    __metadata$99("design:paramtypes", [Object])
], exports.NbpSwitchBinaryComponent.prototype, "disabled", null);
__decorate$117([
    _angular_core.Input(),
    __metadata$99("design:type", Boolean),
    __metadata$99("design:paramtypes", [Object])
], exports.NbpSwitchBinaryComponent.prototype, "nbpActive", null);
__decorate$117([
    _angular_core.Output(),
    __metadata$99("design:type", _angular_core.EventEmitter)
], exports.NbpSwitchBinaryComponent.prototype, "nbpOnClick", void 0);
exports.NbpSwitchBinaryComponent = __decorate$117([
    _angular_core.Component({
        selector: 'nbp-switch-binary',template: "<div class=\"switch-container btn-group\" [ngClass]=\"{'switch-binary-disabled': disabled}\"><label id=\"switchBinaryLabel\" class=\"switch-binary\" [ngClass]=\"{'switch-binary-true': nbpActive}\" (click)=\"_onToggle()\"><div id=\"switchBinarySliderBox\" class=\"slider-box\"></div><span class=\"switch-label-icon-on\">{{nbpLabels[0]}}</span> <span class=\"switch-label-icon-off\">{{nbpLabels[1]}}</span></label></div>",
        styles: [".switch-binary-disabled #switchBinaryLabel{cursor:not-allowed;pointer-events:none!important;opacity:.5}.switch-binary-disabled #switchBinarySliderBox{cursor:not-allowed;pointer-events:none!important}.switch-binary{position:relative;display:inline-block;width:100px;height:50px;cursor:pointer;background-color:#ccc;-webkit-transition:0s;transition:0s}.switch-binary .switch-label-icon-on{font-weight:700;text-align:center;font-size:.75em;color:#fff;width:50px;display:table-cell;line-height:50px;box-shadow:inset .25em .25em .25em 0 rgba(0,0,0,.2)}.switch-binary .switch-label-icon-off{font-weight:700;text-align:center;font-size:.75em;color:#6f6f6f;width:50px;display:table-cell;line-height:50px;box-shadow:inset .25em .25em .25em 0 rgba(0,0,0,.2)}.slider-box{position:absolute;content:\"\";cursor:pointer;height:50px;width:50px;left:0;bottom:0;background-color:#fff;-webkit-transition:0s;transition:0s;border:1px solid #ccc}.switch-binary-true{background-color:#258900}.switch-binary-true-disabled{background-color:#5ca740}.switch-binary-true .slider-box{-webkit-transform:translateX(50px);-ms-transform:translateX(50px);transform:translateX(50px)}:host-context(.contrasto-on) .slider-box{background-color:#fff;border-color:#000}:host-context(.contrasto-on) .switch-binary .switch-label-icon-on{color:#fff}:host-context(.contrasto-on) .switch-binary .switch-label-icon-off{color:#fff}:host-context(.contrasto-on) .switch-binary-true{background-color:#000} /*# sourceMappingURL=nbp-switch-binary.component.css.map */ "]
    }),
    __metadata$99("design:paramtypes", [])
], exports.NbpSwitchBinaryComponent);

var __decorate$118 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$100 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$23 = 0;
exports.NbpAccordionLightComponent = (function () {
    function NbpAccordionLightComponent() {
        // TODO NIS questo componente sarebbe da unire al nbp-accordion-showmore aggiungendo uno style magari!!
        this.id = "nbp-accordion-button-" + ++nextId$23;
        this._isShowMore = false;
        this._disabled = false;
        /**
         * (Opzionale) Booleano che pilota la visualizzazione iniziale dellaccordion collassato o espanso.
         *Default accordion collassato.
         */
        this.nbpCollapsed = true;
        /**
         * Evento emesso sul toggle del componente.
         * @param {EventEmitter<NbpAccordionEvent>}  nbpOnToggle
         */
        this.nbpOnToggle = new _angular_core.EventEmitter();
    }
    Object.defineProperty(NbpAccordionLightComponent.prototype, "nbpShowMore", {
        /**
         * Identifica il tipo di nbp-accordion-light
         */
        get: function () {
            return this._isShowMore;
        },
        set: function (value) { this._isShowMore = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NbpAccordionLightComponent.prototype, "disabled", {
        /**
         * disabilita il pulsante
         */
        get: function () {
            return this._disabled;
        },
        set: function (value) { this._disabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    //     Methods
    /**
     * metodo utilizzabile per lapertura programmatica
     */
    NbpAccordionLightComponent.prototype.open = function () {
        this.nbpCollapsed = false;
    };
    /**
     * metodo utilizzabile per la chiusura programmatica
     */
    NbpAccordionLightComponent.prototype.close = function () {
        this.nbpCollapsed = true;
    };
    /**
     * metodo utilizzabile per verificare se il componente  collassato
     */
    NbpAccordionLightComponent.prototype.isCollapsed = function () {
        return this.nbpCollapsed;
    };
    NbpAccordionLightComponent.prototype.ngOnInit = function () {
    };
    NbpAccordionLightComponent.prototype._toggleCollapse = function () {
        if (!this._disabled) {
            this.nbpCollapsed = !this.nbpCollapsed;
            this._onToggle();
        }
    };
    NbpAccordionLightComponent.prototype._onToggle = function () {
        var acordionEvent = new NbpAccordionEvent();
        acordionEvent.source = this;
        acordionEvent.isCollapsed = this.nbpCollapsed;
        this.nbpOnToggle.emit(acordionEvent);
    };
    return NbpAccordionLightComponent;
}());
__decorate$118([
    _angular_core.Input(),
    __metadata$100("design:type", String)
], exports.NbpAccordionLightComponent.prototype, "id", void 0);
__decorate$118([
    _angular_core.Input(),
    __metadata$100("design:type", Boolean),
    __metadata$100("design:paramtypes", [Object])
], exports.NbpAccordionLightComponent.prototype, "nbpShowMore", null);
__decorate$118([
    _angular_core.Input(),
    __metadata$100("design:type", Boolean),
    __metadata$100("design:paramtypes", [Object])
], exports.NbpAccordionLightComponent.prototype, "disabled", null);
__decorate$118([
    _angular_core.Input(),
    __metadata$100("design:type", String)
], exports.NbpAccordionLightComponent.prototype, "nbpTitle", void 0);
__decorate$118([
    _angular_core.Input(),
    __metadata$100("design:type", Boolean)
], exports.NbpAccordionLightComponent.prototype, "nbpCollapsed", void 0);
__decorate$118([
    _angular_core.Input(),
    __metadata$100("design:type", String)
], exports.NbpAccordionLightComponent.prototype, "nbpIcon", void 0);
__decorate$118([
    _angular_core.Output(),
    __metadata$100("design:type", _angular_core.EventEmitter)
], exports.NbpAccordionLightComponent.prototype, "nbpOnToggle", void 0);
exports.NbpAccordionLightComponent = __decorate$118([
    _angular_core.Component({selector: 'nbp-accordion-light',
        template: "<div class=\"panel\" [ngClass]=\"{'nbp-panel-showmore': _isShowMore, 'nbp-panel-button': !_isShowMore, 'nbp-panel-disabled':_disabled }\"><div class=\"panel-heading\" role=\"button\" [ngClass]=\"{'panel-heading-round': !isCollapsed()}\" role=\"tab\" [id]=\"id\" (click)=\"_toggleCollapse()\"><h4 class=\"panel-title\"><span class=\"icon accordion-icon\" [ngClass]=\"nbpIcon\" *ngIf=\"!!nbpIcon\"></span> <span class=\"title\" [ngClass]=\"{'accordion-title-icon':!!nbpIcon}\">{{nbpTitle}}</span><div *ngIf=\"!_isShowMore\"><span [ngClass]=\"{'triangolo-bottom-accordion': isCollapsed(), 'triangolo-top-accordion': !isCollapsed()}\"></span></div><a role=\"button\" class=\"collapsed pull-right\" *ngIf=\"_isShowMore\"><span class=\"icon\" [ngClass]=\"{'ico-comuni-freccia-accordion-apri':isCollapsed() , 'ico-comuni-freccia-accordion-chiudi':!isCollapsed()}\"></span></a></h4></div><div class=\"panel-collapse\" [ngClass]=\"{'in panel-open':!isCollapsed()}\"><div class=\"panel-body\"><ng-content></ng-content></div></div></div>",
        styles: [".panel{box-shadow:none;background-color:transparent}.panel.nbp-panel-disabled{opacity:.5}.panel.nbp-panel-disabled .panel-heading:hover,.panel.nbp-panel-disabled [role=button]:hover{cursor:not-allowed!important}.panel .panel-open{background-color:#f8f8f8!important;border:1px!important;border-color:#6f6f6f}.panel .panel-heading{padding:1em 1.25em 1em 1.25em!important;height:50px;width:300px;box-shadow:none}.panel .panel-heading:hover{cursor:pointer}.panel .panel-heading .title{display:inline-block;max-width:90%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.panel .panel-collapse{max-height:0;transition:max-height .15s ease-out;overflow:hidden}.panel .panel-collapse .panel-body{border:1px!important;box-shadow:none;background-color:#f8f8f8!important}.panel .panel-collapse.in{max-height:1000em;transition:max-height .25s ease-in}:host-context(.contrasto-on) .panel-body{background-color:#fff!important;border-top:none!important;color:#000}.panel.nbp-panel-showmore{border:0!important;border-color:#fff}.panel.nbp-panel-showmore .panel-heading{border:1px!important;color:#258900;border-color:#6f6f6f;background-color:transparent}.panel.nbp-panel-showmore .panel-heading .panel-title{color:green;font-weight:700;font-size:.75em!important;text-transform:uppercase}.panel.nbp-panel-showmore .panel-heading .accordion-arrow{color:#000;position:relative;font-size:26px!important;margin-top:1.156em}.panel.nbp-panel-showmore .panel-heading .stringa{color:#fff;font-size:.75em!important;margin-right:1.875em;font-weight:700;font-family:arial}.panel.nbp-panel-showmore .panel-heading h4{margin:0;font-size:1em}.panel.nbp-panel-showmore .panel-body{border-radius:0 0 2px 2px!important}.panel.nbp-panel-showmore .panelTitle{font-size:.875em;font-weight:700}.panel.nbp-panel-showmore .accordionIcon{font-size:32px;position:absolute;top:9px}.panel.nbp-panel-showmore a{text-decoration:none!important;margin-top:-5px}.panel.nbp-panel-showmore a .icon:before{font-size:26px}.panel.nbp-panel-showmore>.panel-heading{background-color:transparent!important;position:relative}.panel.nbp-panel-showmore>.panel-heading .accordion-icon{font-size:32px;position:absolute;top:9px}.panel.nbp-panel-showmore>.panel-heading>.panel-title{font-size:.875em;font-weight:700}.panel.nbp-panel-showmore>.panel-heading>.panel-title>.title{padding:2px 2px 2px 0}.panel.nbp-panel-showmore>.panel-heading>.panel-title .accordion-title-icon{padding:2px 2px 2px 42px!important;margin-bottom:-4px}.panel.nbp-panel-showmore>.panel-heading>.panel-open{background-color:#5ca740!important}:host-context(.contrasto-on) .panel.nbp-panel-showmore .panel-open{background-color:#fff!important;color:#000}:host-context(.contrasto-on) .panel.nbp-panel-showmore .panel-open .panel-title{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-showmore .panel-open .stringa{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-showmore .panel-open .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-showmore .panel-heading{background-color:#fff!important}:host-context(.contrasto-on) .panel.nbp-panel-showmore .panel-heading .panel-title{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-showmore .panel-heading .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-showmore .panel-heading .stringa{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-showmore .accordion-green-header>.panel-heading{background-color:#000!important}:host-context(.contrasto-on) .panel.nbp-panel-showmore .accordion-green-header>.panel-heading:hover{background-color:#fff!important;color:#000;border:1px solid #000}:host-context(.contrasto-on) .panel.nbp-panel-showmore .accordion-green-header>.panel-open{background-color:#fff!important;color:#000;border:1px solid #000!important}.panel.nbp-panel-button .panel-heading{text-align:center;border:1px solid #258900!important;background-color:transparent;border-radius:25px}.panel.nbp-panel-button .panel-heading:hover{background-color:#258900!important}.panel.nbp-panel-button .panel-heading:hover .panel-title{color:#fff}.panel.nbp-panel-button .panel-heading:hover .triangolo-top-accordion{border-color:transparent transparent #fff transparent}.panel.nbp-panel-button .panel-heading:hover .triangolo-bottom-accordion{border-color:#fff transparent transparent transparent}.panel.nbp-panel-button .panel-heading.panel-heading-round{background-color:#258900!important}.panel.nbp-panel-button .panel-heading.panel-heading-round .panel-title{color:#fff}.panel.nbp-panel-button .panel-heading.panel-heading-round .triangolo-top-accordion{border-color:transparent transparent #fff transparent}.panel.nbp-panel-button .panel-heading.panel-heading-round .triangolo-bottom-accordion{border-color:#fff transparent transparent transparent}.panel.nbp-panel-button .panel-heading .panel-title{color:#258900;font-weight:700;font-size:.75em!important;text-transform:uppercase}.panel.nbp-panel-button .panel-heading .accordion-arrow{color:#000;position:relative;font-size:26px!important;margin-top:1.156em}.panel.nbp-panel-button .panel-heading .triangolo-top-accordion{border-style:solid;border-width:0 7px 7px 7px;border-color:transparent transparent #258900 transparent;display:inline-block!important}.panel.nbp-panel-button .panel-heading .triangolo-bottom-accordion{border-style:solid;border-width:7px 7px 0 7px;border-color:#258900 transparent transparent transparent;display:inline-block!important}.panel.nbp-panel-button .panel-heading .stringa{color:#fff;font-size:.75em!important;margin-right:1.875em;font-weight:700;font-family:arial}.panel.nbp-panel-button .panel-heading h4{margin:0;font-size:1em}.panel.nbp-panel-button .panelTitle{font-size:.875em;font-weight:700;text-transform:uppercse}.panel.nbp-panel-button .accordionIcon{font-size:32px;position:absolute;top:9px}.panel.nbp-panel-button.nbp-panel-button>.panel-heading{background-color:transparent;position:relative}.panel.nbp-panel-button.nbp-panel-button>.panel-heading .accordion-icon{font-size:32px;position:absolute;top:9px}.panel.nbp-panel-button.nbp-panel-button>.panel-heading>.panel-title{font-size:.875em;font-weight:700;text-transform:uppercse}.panel.nbp-panel-button.nbp-panel-button>.panel-heading>.panel-title>.title{padding:2px 2px 2px 0}.panel.nbp-panel-button.nbp-panel-button>.panel-heading>.panel-title .accordion-title-icon{padding:2px 2px 2px 42px!important;margin-bottom:-4px}.panel.nbp-panel-button.nbp-panel-button>.panel-heading>.panel-open{background-color:#5ca740!important}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-open{background-color:#fff!important;color:#000}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-open .panel-title{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-open .stringa{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-open .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading{background-color:#000!important;border:1px solid #000!important}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading:hover{background-color:#fff!important;color:#000}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading:hover .panel-title{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading:hover .stringa{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading:hover .accordion-arrow{color:#000}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading:hover .triangolo-top-accordion{border-color:transparent transparent #000 transparent}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading:hover .triangolo-bottom-accordion{border-color:#000 transparent transparent transparent}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading .panel-title{color:#fff}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading .accordion-arrow{color:#fff}:host-context(.contrasto-on) .panel.nbp-panel-button .panel-heading .stringa{color:#fff}:host-context(.contrasto-on) .panel.nbp-panel-button .accordion-green-header>.panel-heading{background-color:#000!important}:host-context(.contrasto-on) .panel.nbp-panel-button .accordion-green-header>.panel-heading:hover{background-color:#fff!important;color:#000;border:1px solid #000}:host-context(.contrasto-on) .panel.nbp-panel-button .accordion-green-header>.panel-open{background-color:#fff!important;color:#000;border:1px solid #000!important}:host-context(.contrasto-on) .panel.nbp-panel-button .triangolo-top-accordion{border-color:transparent transparent #fff transparent}:host-context(.contrasto-on) .panel.nbp-panel-button .triangolo-bottom-accordion{border-color:#fff transparent transparent transparent} /*# sourceMappingURL=nbp-accordion-light.component.css.map */ "]
    }),
    __metadata$100("design:paramtypes", [])
], exports.NbpAccordionLightComponent);

var __decorate$119 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$101 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$24 = 0;
exports.NbpAlertBoxComponent = (function () {
    function NbpAlertBoxComponent() {
        /**
         * (Opzionale) Id del componente, se non viene fornito
         *  autogenerato
         */
        this.id = "nbp-alert-box-" + ++nextId$24;
        this._alertType = exports.NbpAlertType;
        /**
         * Evento emesso alla chiusura della AlertBox
         */
        this.nbpClose = new _angular_core.EventEmitter();
    }
    NbpAlertBoxComponent.prototype.closeIconClick = function () {
        this.nbpClose.emit();
    };
    return NbpAlertBoxComponent;
}());
__decorate$119([
    _angular_core.Input(),
    __metadata$101("design:type", Object)
], exports.NbpAlertBoxComponent.prototype, "id", void 0);
__decorate$119([
    _angular_core.Input(),
    __metadata$101("design:type", Number)
], exports.NbpAlertBoxComponent.prototype, "nbpAlertType", void 0);
__decorate$119([
    _angular_core.Output(),
    __metadata$101("design:type", _angular_core.EventEmitter)
], exports.NbpAlertBoxComponent.prototype, "nbpClose", void 0);
exports.NbpAlertBoxComponent = __decorate$119([
    _angular_core.Component({
        selector: 'nbp-alert-box',template: "<div class=\"nbpAlertContainer\" [ngClass]=\"{ 'informativa': nbpAlertType === _alertType.INFORMATIVA, 'informativa-positiva': nbpAlertType === _alertType.INFORMATIVA_POSITIVA, 'informativa-promozionale': nbpAlertType === _alertType.INFORMATIVA_PROMOZIONALE, 'warning': nbpAlertType === _alertType.WARNING, 'warning-bloccante': nbpAlertType === _alertType.WARNING_BLOCCANTE }\"><div class=\"nbpAlertIconContainer\"><span class=\"icon\" [ngClass]=\"{ 'icomoon-Simboli_Risorsa-4': nbpAlertType === _alertType.INFORMATIVA, 'icomoon-Simboli_Risorsa-19': nbpAlertType === _alertType.INFORMATIVA_POSITIVA, 'icomoon-Soldi_Risorsa-35': nbpAlertType === _alertType.INFORMATIVA_PROMOZIONALE, 'icomoon-Simboli_Risorsa-5': nbpAlertType === _alertType.WARNING, 'icomoon-Simboli_Risorsa-22': nbpAlertType === _alertType.WARNING_BLOCCANTE }\"></span></div><div class=\"nbpAlertMessageContainer\"><div class=\"nbpAlertClosingIcon\"><span class=\"icon icon-times\" (click)=\"closeIconClick()\"></span></div><div><ng-content></ng-content></div></div></div>",
        styles: [":host{display:inline-block;width:inherit}.nbpAlertContainer{width:550px;min-height:72px;display:table;table-layout:fixed;-webkit-box-shadow:0 0 17px 0 rgba(0,0,0,.18);-moz-box-shadow:0 0 17px 0 rgba(0,0,0,.18);box-shadow:0 0 17px 0 rgba(0,0,0,.18)}.nbpAlertContainer .nbpAlertIconContainer{display:table-cell;vertical-align:middle;text-align:center;padding:14px 18px;font-size:36px;width:72px;line-height:1}.nbpAlertContainer .nbpAlertIconContainer .icon:before{vertical-align:middle}.nbpAlertContainer .nbpAlertMessageContainer{display:table-cell;vertical-align:middle;text-align:justify;position:relative;font-size:16px;color:#323232;padding:14px 50px 14px 18px}.nbpAlertContainer .nbpAlertMessageContainer .nbpAlertClosingIcon{position:absolute;top:14px;right:18px;font-size:20px;cursor:pointer}.nbpAlertContainer .nbpAlertMessageContainer .nbpAlertClosingIcon .icon:before{vertical-align:initial}.nbpAlertContainer .nbpAlertMessageContainer div{vertical-align:middle}.nbpAlertContainer.informativa{border:2px solid #1e8a00}.nbpAlertContainer.informativa .nbpAlertIconContainer{color:#c4dbbc;background-color:#1e8a00}.nbpAlertContainer.informativa-positiva{border:2px solid #1e8a00}.nbpAlertContainer.informativa-positiva .nbpAlertIconContainer{color:#c4dbbc;background-color:#1e8a00}.nbpAlertContainer.informativa-promozionale{border:2px solid #0095ca}.nbpAlertContainer.informativa-promozionale .nbpAlertIconContainer{color:#bce5f4;background-color:#0095ca}.nbpAlertContainer.warning{border:2px solid #fe9800}.nbpAlertContainer.warning .nbpAlertIconContainer{color:#ffe7bb;background-color:#fe9800}.nbpAlertContainer.warning-bloccante{border:2px solid #f55854}.nbpAlertContainer.warning-bloccante .nbpAlertIconContainer{color:#fad2d2;background-color:#f55854}:host-context(.contrasto-on) .nbpAlertContainer{border:2px solid #000}:host-context(.contrasto-on) .nbpAlertContainer .nbpAlertIconContainer{font-weight:700;color:#fff;background-color:#000}:host-context(.contrasto-on) .nbpAlertContainer .nbpAlertMessageContainer{color:#000} /*# sourceMappingURL=nbp-alert-box.component.css.map */ "]
    })
], exports.NbpAlertBoxComponent);

var __extends$28 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$120 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
exports.NbpSliceAndEllipsisPipe = (function (_super) {
    __extends$28(NbpSliceAndEllipsisPipe, _super);
    function NbpSliceAndEllipsisPipe() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    NbpSliceAndEllipsisPipe.prototype.transform = function (stringToFilter, maxChar) {
        if (maxChar >= 0 && stringToFilter.length >= maxChar) {
            return (_super.prototype.transform.call(this, stringToFilter, 0, maxChar) + '...');
        }
        else {
            return stringToFilter;
        }
    };
    return NbpSliceAndEllipsisPipe;
}(_angular_common.SlicePipe));
exports.NbpSliceAndEllipsisPipe = __decorate$120([
    _angular_core.Pipe({
        name: 'nbpSliceAndEllipsis'
    })
], exports.NbpSliceAndEllipsisPipe);

var __decorate$121 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$102 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpEllipsisDirective = (function () {
    function NbpEllipsisDirective(elRef) {
        this.elRef = elRef;
    }
    NbpEllipsisDirective.prototype.ngAfterViewChecked = function () {
        this.ellipsizeTextBox();
    };
    NbpEllipsisDirective.prototype.hasOverflow = function () {
        var el = this.elRef.nativeElement;
        return el.scrollHeight > el.offsetHeight;
    };
    NbpEllipsisDirective.prototype.ellipsizeTextBox = function () {
        // rifattorizzare funzione xke troppo pesante  
        // idea contare il numero di righe e passare un quantitativo di caratteri leggermente maggiore del max possibile nel box
        var el = this.elRef.nativeElement;
        this.paragraph = el.innerHTML;
        this.wordArray = this.paragraph.split(' ');
        while (this.hasOverflow()) {
            this.wordArray.pop();
            el.innerHTML = this.wordArray.join(' ') + '...';
        }
    };
    return NbpEllipsisDirective;
}());
exports.NbpEllipsisDirective = __decorate$121([
    _angular_core.Directive({
        selector: '[nbpEllipsis]'
    }),
    __metadata$102("design:paramtypes", [_angular_core.ElementRef])
], exports.NbpEllipsisDirective);

var __decorate$122 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$103 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpPaperSignComponent = (function () {
    function NbpPaperSignComponent() {
        this.secondary = exports.NbpStyle.SECONDARY;
        /**
        * Evento sulla pressione del tasto di firma completata
        */
        this.onSignatureConfirm = new _angular_core.EventEmitter();
    }
    NbpPaperSignComponent.prototype._onSignatureConfirm = function () {
        console.log('NbpPaperSignComponent - emitting event onSignatureConfirm');
        this.onSignatureConfirm.emit();
    };
    return NbpPaperSignComponent;
}());
__decorate$122([
    _angular_core.Output(),
    __metadata$103("design:type", _angular_core.EventEmitter)
], exports.NbpPaperSignComponent.prototype, "onSignatureConfirm", void 0);
exports.NbpPaperSignComponent = __decorate$122([
    _angular_core.Component({selector: 'nbp-paper-sign',
        template: "<div class=\"paper-sign-container row\"><div class=\"col-md-24\"><div class=\"row\"><div class=\"col-md-9 paper-image-container pad-r-10\"><span class=\"paper-image icomoon-Firma_3 orizontal-container vertical-alignment text-center\"></span></div><div class=\"col-md-15 paper-text-container\"><div class=\"vertical-alignment\"><h1>Il cliente sta firmando la documentazione cartacea</h1><p class=\"pad-b-12\">Quando avr terminato, clicca sul pulsante Conferma Firma e CONTINUA per proseguire.</p><div class=\"button-container\"><nbp-button [nbpLabel]=\"'Conferma Firma'\" [nbpStyle]=\"secondary\" (nbpClick)=\"_onSignatureConfirm()\"></nbp-button></div></div></div></div></div></div>",
        styles: [".paper-sign-container{background-color:#f2f2f2;height:240px}.paper-image-container,.paper-sign-container,.paper-text-container{height:240px}.paper-image{font-size:140px;color:#6c6c6c;display:inline-block;background-repeat:no-repeat}.vertical-alignment{transform:translateY(-50%);top:50%;position:absolute}.vertical-alignment.orizontal-container{transform:translate(-50%,-50%);left:50%;position:absolute}h1{font-size:25px;margin:0;padding-bottom:15px;color:#000}p{font-size:16px;color:#6f6f6f;margin-bottom:30px}.button-container{width:25%} /*# sourceMappingURL=nbp-paper-sign.component.css.map */ "]
    }),
    __metadata$103("design:paramtypes", [])
], exports.NbpPaperSignComponent);

var __decorate$123 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
/**
 * Service used to trigger downloads of files.
 * @example
 * downloadService.download(`data:text/plain;base64,ZXhhbXBsZQ==`, '1.txt')
 *                .subscribe();
 * @example
 * httpClient.get('https://loremflickr.com/320/240', { responseType: 'blob' })
 *           .mergeMap(res => downloadService.download(res, '1.jpg'))
 *           .subscribe();
 */
exports.DownloadService = (function () {
    function DownloadService() {
    }
    /**
     * Download an ArrayBuffer, a Blob, or a data URL.
     * @param toDownload The object to download.
     * @param filename   An optional default filename.
     * @param mime       An optional mime type hint.
     * @returns An Observable which completes when the download is triggered.
     */
    DownloadService.prototype.download = function (toDownload, filename, mime) {
        var _this = this;
        var needsBlob = typeof toDownload !== 'string' || window.navigator.msSaveOrOpenBlob;
        // If we have a data URL and we are not on IE, we can already start the download.
        if (!needsBlob && typeof toDownload === 'string') {
            return this.downloadDataURL(toDownload, filename);
        }
        var blob = this.createBlob(toDownload, mime);
        // On IE, use its propietary API.
        if (window.navigator.msSaveOrOpenBlob) {
            window.navigator.msSaveOrOpenBlob(blob, filename);
            return rxjs_Observable.Observable.of(null);
        }
        return this.createDataURLFromBlob(blob)
            .mergeMap(function (dataURL) { return _this.downloadDataURL(dataURL, filename); });
    };
    /**
     * Create a blob from an ArrayBuffer, a Blob, or a data URL.
     * @param arg      The object to convert to a blob.
     * @param mimeType An optional mime type hint.
     */
    DownloadService.prototype.createBlob = function (arg, mimeType) {
        if (arg instanceof ArrayBuffer) {
            return new Blob([arg], { type: mimeType });
        }
        else if (arg instanceof Blob) {
            return arg;
        }
        // We assume the string is a data URL.
        var _a = this.decodeDataURL(arg), buffer = _a.buffer, mime = _a.mime;
        return this.createBlob(buffer, mime);
    };
    /**
     * Create a Blob, given a data URL.
     * This function is called only on IE.
     * @param dataURL The data URL to process.
     */
    DownloadService.prototype.decodeDataURL = function (dataURL) {
        var byteString = atob(dataURL.split(',')[1]), mime = dataURL.split(',')[0].split(':')[1].split(';')[0], buffer = new ArrayBuffer(byteString.length), byteArray = new Uint8Array(buffer);
        for (var i = 0; i < byteString.length; i++) {
            byteArray[i] = byteString.charCodeAt(i);
        }
        return { buffer: buffer, mime: mime };
    };
    /**
     * Create a data URL from a Blob.
     * The FileReader API is supported by all major browsers.
     * https://caniuse.com/#feat=filereader
     * @param blob The Blob to be data-URL-encoded.
     */
    DownloadService.prototype.createDataURLFromBlob = function (blob) {
        var reader = new FileReader();
        return new rxjs_Observable.Observable(function (observer) {
            reader.onerror = function (err) {
                observer.error(err);
            };
            reader.onload = function () {
                observer.next(reader.result);
                observer.complete();
            };
            reader.readAsDataURL(blob);
        });
    };
    /**
     * Trigger the download of a data URL.
     * This method is usable only on Firefox / Chrome
     * @param dataURL  The data URL to download.
     * @param filename An optional filename hint.
     */
    DownloadService.prototype.downloadDataURL = function (dataURL, filename) {
        var anchor = document.createElement('a');
        anchor.href = dataURL;
        anchor.download = filename || 'download';
        document.documentElement.appendChild(anchor);
        anchor.click();
        document.documentElement.removeChild(anchor);
        // For consistency with the other methods.
        return rxjs_Observable.Observable.of(dataURL);
    };
    return DownloadService;
}());
exports.DownloadService = __decorate$123([
    _angular_core.Injectable()
], exports.DownloadService);

var __decorate$125 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$105 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpBurgerMenuGenericComponent = (function () {
    function NbpBurgerMenuGenericComponent(router, activatedRoute, translate) {
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.translate = translate;
        /**
         * Permette di disabilitare la traduzzione delle voci di menu
         */
        this.nbpTranslate = true;
        /**
         * (Opzionale) booleano per disabilitare la possibilit di fare logout.
         * Valore default false
         */
        this.nbpDisableLogout = false;
        /**
         * Evento emesso sulla pressione del logout.
         * @param {EventEmitter<INbpUser>}  nbpOnLogout
         */
        this.nbpOnLogout = new _angular_core.EventEmitter();
        /**
         * Evento emesso sulla pressione di ogni voce di menu'.
         * @param {EventEmitter<INbpItemMenu>}  nbpOnItemClick
         */
        this.nbpOnItemClick = new _angular_core.EventEmitter();
        /**
         * Evento emesso all'apertura del burgerMenu.
         * @param {EventEmitter<any>}  nbpOnOpen
         */
        this.nbpOnOpen = new _angular_core.EventEmitter();
        /**
         * Evento emesso alla chiusure del burgerMenu.
         * @param {EventEmitter<any>}  nbpOnOpen
         */
        this.nbpOnClose = new _angular_core.EventEmitter();
        this._isOpen = false; // true in test phase
        this._showSecondLevelMenu = false; // false in test phase
        this.maxItemsSections = 0;
        this.reverse = "";
    }
    
    NbpBurgerMenuGenericComponent.prototype._translate = function (label) {
        if (!this.nbpTranslate) {
            return label;
        }
        return this.translate.instant(label);
    };
    NbpBurgerMenuGenericComponent.prototype._changeRoute = function (routeValue) {
        if (routeValue.external) {
            if (routeValue.link.search('http://') > -1) {
                window.location.href = routeValue.link;
            }
            else {
                window.location.href = 'http://' + routeValue.link;
            }
        }
        else {
            this.router.navigate([routeValue.link]);
        }
    };
    NbpBurgerMenuGenericComponent.prototype._onClick = function (item) {
        var _this = this;
        // console.log('click item menu: ' + JSON.stringify(item));
        this.reverse = "";
        this.nbpOnItemClick.emit(item);
        if (!item.secondLevelMenu) {
            this.toggle();
        }
        if (item.secondLevelMenu && item.secondLevelMenu.sections && item.secondLevelMenu.sections.length > 0) {
            this._selectedItem = item;
            this._showSecondLevelMenu = true;
            setTimeout(function () {
                var height = document.getElementsByClassName('second-level-menu')[0].clientHeight + 20;
                _this.height = height;
            }, 100);
        }
    };
    NbpBurgerMenuGenericComponent.prototype._goBack = function () {
        var _this = this;
        this.reverse = "R";
        this._selectedItem.secondLevelMenu.sections.forEach(function (section) {
            if (section.items.length > _this.maxItemsSections)
                _this.maxItemsSections = section.items.length;
        });
        setTimeout(function () {
            _this._showSecondLevelMenu = false;
            _this._selectedItem = null;
            var height = document.getElementsByClassName('first-level-menu')[0].clientHeight + 20;
            _this.height = height;
        }, this.maxItemsSections * 500);
    };
    // Metodi Pubblici del componente
    /**
     * Permette apertura programmatica del BurgerMenu
     */
    NbpBurgerMenuGenericComponent.prototype.open = function () {
        var _this = this;
        this._isOpen = true;
        this.nbpOnOpen.emit();
        setTimeout(function () {
            if (!_this._showSecondLevelMenu) {
                var height = document.getElementsByClassName('first-level-menu')[0].clientHeight + 20;
            }
            else {
                var height = document.getElementsByClassName('second-level-menu')[0].clientHeight + 20;
            }
            _this.height = height;
        }, 100);
    };
    /**
     * Permette la chiusura programmatica del BurgerMenu
     */
    NbpBurgerMenuGenericComponent.prototype.close = function () {
        var _this = this;
        this._isOpen = false;
        this.nbpOnClose.emit();
        setTimeout(function () {
            _this.height = 0;
        }, 100);
    };
    NbpBurgerMenuGenericComponent.prototype.setMove = function (i, _showSecondLevelMenu) {
        if (_showSecondLevelMenu) {
            return 'moveIn' + i;
        }
        else {
            return 'moveInR' + i;
        }
    };
    NbpBurgerMenuGenericComponent.prototype.setMoveTitle = function (_showSecondLevelMenu) {
        if (_showSecondLevelMenu)
            return 'moveInTitle';
        else
            return 'moveInTitleR';
    };
    NbpBurgerMenuGenericComponent.prototype.setMoveFirstLevel = function () {
        if (this._isOpen) {
            // alert("open");
            return 'first-level-menu-open';
        }
        else {
            // alert("close");
            return 'first-level-menu-close';
        }
    };
    NbpBurgerMenuGenericComponent.prototype.setMoveSecondLevel = function () {
        if (this._isOpen) {
            // alert("open");
            return 'second-level-menu-open';
        }
        else {
            // alert("close");
            return 'second-level-menu-close';
        }
    };
    /**
     * Permette di eseguire il toggle del BurgerMenu
     */
    NbpBurgerMenuGenericComponent.prototype.toggle = function () {
        this._isOpen ? this.close() : this.open();
    };
    NbpBurgerMenuGenericComponent.prototype.onLogout = function () {
        alert('logOut');
    };
    NbpBurgerMenuGenericComponent.prototype.ngOnInit = function () {
    };
    return NbpBurgerMenuGenericComponent;
}());
__decorate$125([
    _angular_core.Input(),
    __metadata$105("design:type", Object)
], exports.NbpBurgerMenuGenericComponent.prototype, "nbpMenu", void 0);
__decorate$125([
    _angular_core.Input(),
    __metadata$105("design:type", Boolean)
], exports.NbpBurgerMenuGenericComponent.prototype, "nbpTranslate", void 0);
__decorate$125([
    _angular_core.Input(),
    __metadata$105("design:type", Object)
], exports.NbpBurgerMenuGenericComponent.prototype, "nbpUser", void 0);
__decorate$125([
    _angular_core.Input(),
    __metadata$105("design:type", Boolean)
], exports.NbpBurgerMenuGenericComponent.prototype, "nbpDisableLogout", void 0);
__decorate$125([
    _angular_core.Output(),
    __metadata$105("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuGenericComponent.prototype, "nbpOnLogout", void 0);
__decorate$125([
    _angular_core.Output(),
    __metadata$105("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuGenericComponent.prototype, "nbpOnItemClick", void 0);
__decorate$125([
    _angular_core.Output(),
    __metadata$105("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuGenericComponent.prototype, "nbpOnOpen", void 0);
__decorate$125([
    _angular_core.Output(),
    __metadata$105("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuGenericComponent.prototype, "nbpOnClose", void 0);
exports.NbpBurgerMenuGenericComponent = __decorate$125([
    _angular_core.Component({
        selector: 'nbp-burger-menu-generic',template: "<div class=\"menu\" [ngClass]=\"{'closed': !_isOpen, 'open': _isOpen}\" [style.height.px]=\"height\"><div class=\"container first-level-menu\" [ngClass]=\"{'open': !_showSecondLevelMenu}\"><div class=\"row\"><div class=\"col-sm-16\"><div><div class=\"col-sm-12 section-menu p-0\" *ngFor=\"let section of nbpMenu.sections; let i = index\"><ul class=\"main-menu\"><li><a *ngFor=\"let item of section.items\" (click)=\"_onClick(item);_changeRoute(item)\"><span *ngIf=\"item.icon\" class=\"icon {{item.icon}}\" style=\"padding-top:0.25em\"></span> <span>{{_translate(item.label)}}</span></a></li></ul></div></div></div><div class=\"col-sm-8\"><ng-content selector=\"app-logged-user\"></ng-content></div></div></div><ng-container *ngIf=\"_showSecondLevelMenu\"><div class=\"container second-level-menu\" [ngClass]=\"setMoveSecondLevel()\"><div class=\"row upper-bar\"><div class=\"menu-principale pull-left\"><span class=\"glyphicon icon icon-arrow-left\" (click)=\"_goBack();\"></span> <span class=\"menu-principale-title\" (click)=\"_goBack();\">Menu principale</span></div></div><div class=\"row second-level-buttons\"><div [ngClass]=\"'moveInTitle' + reverse\" class=\"selected-first-level-menu\"><span class=\"icon {{_selectedItem.icon}}\"></span> <span class=\"selected-first-level-label\">{{_translate(_selectedItem.label)}}</span></div><div class=\"col-sm-8 p-0\" *ngFor=\"let section of _selectedItem.secondLevelMenu.sections;\" [ngClass]=\"{'main-menu-container-pad-l': i > 0, 'main-menu-container-pad-r': i !== _selectedItem.secondLevelMenu.sections.length - 1}\"><ul class=\"main-menu\"><li><ng-container *ngFor=\"let item of section.items;  let i = index\"><a [ngClass]=\"'moveIn' + reverse + (i + 1)\" (click)=\"_onClick(item);_changeRoute(item)\"><span *ngIf=\"item.icon\" class=\"icon {{item.icon}}\"></span> <span>{{_translate(item.label)}}</span></a></ng-container></li></ul></div></div></div></ng-container></div>",
        styles: [".menu{position:relative;width:100%;height:0;overflow-x:hidden;overflow-y:hidden;background-color:#323232;-moz-transition:height .25s ease-out;-o-transition:height .25s ease-out;transition:height .25s ease-out}.menu .icon{margin-right:.313em;font-size:1.563em;vertical-align:middle}.menu.closed{height:0}.main-menu-container{padding:0}.section-menu:nth-child(2n+3){clear:left}.p-0{padding:0!important}.main-menu{list-style:none;padding:0 .313em 0 .313em;margin:0}.main-menu a{color:#ccc;display:table;width:100%;padding:0 1.25em 0 1.25em;margin:.62em 0 .62em 0;text-decoration:none;cursor:pointer;height:2.813em}.main-menu a:active,.main-menu a:focus,.main-menu a:hover{background-color:#258900;color:#fff}.main-menu a span{display:table-cell;vertical-align:middle;text-align:left}.main-menu a span:nth-child(1){width:1.563em}.main-menu .select{background-color:#258900;color:#fff;border:.0625em solid #258900}.upper-bar{border-bottom:.0625em solid #6f6f6f}.menu-principale{color:#ccc;font-size:1em;padding:1em .625em .625em .625em;cursor:pointer}.menu-principale .icon{font-size:.875em}.menu-principale-title{vertical-align:top}.selected-first-level-menu{color:#ccc;padding:1.875em 1.875em 1.875em 1.875em}.selected-first-level-menu .selected-first-level-label{font-size:1.125em}.first-level-menu{position:absolute;left:0;visibility:hidden;right:0;opacity:0;left:-6.25em;-moz-transition:all .35s ease-out;-o-transition:all .35s ease-out;transition:all .35s ease-out}.first-level-menu.open{opacity:1;left:0;visibility:visible;margin-top:.625em;-moz-transition:all .35s ease-out;-o-transition:all .35s ease-out;transition:all .35s ease-out}.second-level-menu{position:absolute;left:0;visibility:hidden;right:0;opacity:0;left:6.25em}.second-level-menu-open{opacity:1;visibility:visible;left:0}.second-level-menu-close{opacity:1;visibility:hidden;left:0;animation-name:example2;animation-duration:1s;animation-fill-mode:forwards;animation-delay:3s}@keyframes example2{from{opacity:1}to{opacity:0}}@media (max-width:992px){.main-menu a{width:14.375em}}:host-context(.contrasto-on) .menu{background-color:#000}:host-context(.contrasto-on) .menu.open{border-color:#fff}:host-context(.contrasto-on) .main-menu a{color:#fff;border-color:#fff}:host-context(.contrasto-on) .main-menu a:active,:host-context(.contrasto-on) .main-menu a:focus,:host-context(.contrasto-on) .main-menu a:hover{background-color:#fff;color:#000;border-color:#fff}:host-context(.contrasto-on) .main-menu .select{background-color:#fff;color:#000;border-color:#fff}:host-context(.contrasto-on) .upper-bar{border-color:#fff}:host-context(.contrasto-on) .menu-principale{color:#fff}:host-context(.contrasto-on) .selected-first-level-menu{color:#fff}.moveInTitle{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:0s}.moveIn1{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.25s}.moveIn2{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.5s}.moveIn3{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.75s}.moveIn4{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1s}.moveIn5{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.25s}.moveIn6{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.5s}.moveIn7{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.75s}.moveIn8{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:2s}.moveIn9{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:2.25s}.moveInTitleR{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:0s}.moveInR1{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.25s}.moveInR2{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.5s}.moveInR3{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.75s}.moveInR4{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1s}.moveInR5{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.25s}.moveInR6{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.5s}.moveInR7{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.75s}.moveInR8{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:2s}.moveInR9{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:2.25s}@keyframes example{from{opacity:0;margin-left:600px}to{opacity:1;margin-left:0}}@keyframes exampleR{from{opacity:1;margin-left:0}to{opacity:0;margin-left:600px}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){[class*=' icon-']::before{font-size:1.375em!important}} /*# sourceMappingURL=nbp-burger-menu-generic.component.css.map */ "]
    }),
    __metadata$105("design:paramtypes", [_angular_router.Router,
        _angular_router.ActivatedRoute,
        _ngxTranslate_core.TranslateService])
], exports.NbpBurgerMenuGenericComponent);

var __decorate$127 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$107 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpMenuOperationComponent = (function () {
    function NbpMenuOperationComponent(router, activatedRoute, translate) {
        this.router = router;
        this.activatedRoute = activatedRoute;
        this.translate = translate;
        /**
         * Permette di disabilitare la traduzzione delle voci di menu
         */
        this.nbpTranslate = true;
        /**
         * Evento emesso sulla pressione di ogni voce di menu'.
         * @param {EventEmitter<INbpItemMenu>}  nbpOnItemClick
         */
        this.nbpOnItemClick = new _angular_core.EventEmitter();
        /**
         * Evento emesso all'apertura del menu operazioni.
         * @param {EventEmitter<any>}  nbpOnOpen
         */
        this.nbpOnOpen = new _angular_core.EventEmitter();
        /**
         * Evento emesso alla chiusure del menu operazioni.
         * @param {EventEmitter<any>}  nbpOnOpen
         */
        this.nbpOnClose = new _angular_core.EventEmitter();
        this._isOpen = false;
        this.maxItemsSections = 0;
        this.reverse = "";
    }
    NbpMenuOperationComponent.prototype._translate = function (label) {
        if (!this.nbpTranslate) {
            return label;
        }
        return this.translate.instant(label);
    };
    NbpMenuOperationComponent.prototype._changeRoute = function (routeValue) {
        if (routeValue.external) {
            if (routeValue.link.search('http://') > -1) {
                window.location.href = routeValue.link;
            }
            else {
                window.location.href = 'http://' + routeValue.link;
            }
        }
        else {
            this.router.navigate([routeValue.link]);
        }
    };
    NbpMenuOperationComponent.prototype._onClick = function (item) {
        // console.log('click item menu: ' + JSON.stringify(item));
        this.reverse = "";
        this.nbpOnItemClick.emit(item);
        this.toggle();
    };
    /**
     * Permette apertura programmatica del BurgerMenu
     */
    NbpMenuOperationComponent.prototype.open = function () {
        var _this = this;
        this._isOpen = true;
        this.nbpOnOpen.emit();
        setTimeout(function () {
            var height = document.getElementsByClassName('first-level-menu-operation')[0].clientHeight + 20;
            _this.height = height;
        }, 100);
    };
    /**
     * Permette la chiusura programmatica del BurgerMenu
     */
    NbpMenuOperationComponent.prototype.close = function () {
        var _this = this;
        this._isOpen = false;
        this.nbpOnClose.emit();
        setTimeout(function () {
            _this.height = 0;
        }, 100);
    };
    NbpMenuOperationComponent.prototype.setMoveFirstLevel = function () {
        if (this._isOpen) {
            return 'first-level-menu-operation-open';
        }
        else {
            return 'first-level-menu-operation-close';
        }
    };
    /**
     * Permette di eseguire il toggle del BurgerMenu
     */
    NbpMenuOperationComponent.prototype.toggle = function () {
        this._isOpen ? this.close() : this.open();
    };
    NbpMenuOperationComponent.prototype.ngOnInit = function () {
        this.title = (this.nbpMenu) ? this.nbpMenu.title : "Operazione e pagamenti";
    };
    return NbpMenuOperationComponent;
}());
__decorate$127([
    _angular_core.Input(),
    __metadata$107("design:type", Object)
], exports.NbpMenuOperationComponent.prototype, "nbpMenu", void 0);
__decorate$127([
    _angular_core.Input(),
    __metadata$107("design:type", Boolean)
], exports.NbpMenuOperationComponent.prototype, "nbpTranslate", void 0);
__decorate$127([
    _angular_core.Output(),
    __metadata$107("design:type", _angular_core.EventEmitter)
], exports.NbpMenuOperationComponent.prototype, "nbpOnItemClick", void 0);
__decorate$127([
    _angular_core.Output(),
    __metadata$107("design:type", _angular_core.EventEmitter)
], exports.NbpMenuOperationComponent.prototype, "nbpOnOpen", void 0);
__decorate$127([
    _angular_core.Output(),
    __metadata$107("design:type", _angular_core.EventEmitter)
], exports.NbpMenuOperationComponent.prototype, "nbpOnClose", void 0);
exports.NbpMenuOperationComponent = __decorate$127([
    _angular_core.Component({
        selector: 'nbp-menu-operation',template: "<div class=\"menu\" [ngClass]=\"{'closed': !_isOpen, 'open': _isOpen}\" [style.height.px]=\"height\"><div class=\"container first-level-menu-operation open\"><div class=\"row text-center\"><span class=\"title-operation\" style=\"color: #ffffff;\">{{_translate(title)}}</span></div><div class=\"row\"><div class=\"col-sm-24\"><div *ngIf=\"nbpMenu\"><div class=\"col-sm-8 section-menu p-0\" *ngFor=\"let section of nbpMenu.sections; let i = index\"><ul class=\"main-menu\"><li><a *ngFor=\"let item of section.items\" (click)=\"_onClick(item);_changeRoute(item)\"><span *ngIf=\"item.icon\" class=\"icon {{item.icon}}\" style=\"padding-top:0.25em\"></span> <span>{{_translate(item.label)}}</span></a></li></ul></div></div></div></div></div></div>",
        styles: [".menu{position:relative;width:100%;height:0;overflow-x:hidden;overflow-y:hidden;background-color:#323232;-moz-transition:height .25s ease-out;-o-transition:height .25s ease-out;transition:height .25s ease-out}.menu .icon{margin-right:.313em;font-size:1.422em!important;vertical-align:middle}.title-operation{color:#fff;font-size:1.85em}.menu.closed{height:0}.main-menu-container{padding:0}.section-menu:nth-child(2n+3) a{color:#fa9600;border:1px solid #fa9600;border-radius:4px}.section-menu:nth-child(2n+3) a:hover{background-color:#fa9600;color:#323232;border-color:#323233}.p-0{padding:0!important}.main-menu{list-style:none;padding:0 2.187em 0 2.187em;margin:0}.main-menu a{color:#ccc;display:table;width:100%;padding:0 1.25em 0 1.25em;margin:.62em 0 .62em 0;text-decoration:none;font-weight:700;cursor:pointer;height:2.813em;border:1px solid #6f6f6f;border-radius:4px}.main-menu a:active,.main-menu a:focus,.main-menu a:hover{background-color:#258900;color:#fff;border:1px solid #258900}.main-menu a span{display:table-cell;vertical-align:middle;text-align:center;text-transform:uppercase;font-size:.75em}.main-menu a span:nth-child(1){width:1.563em}.main-menu .select{background-color:#258900;color:#fff;border:.0625em solid #258900}.upper-bar{border-bottom:.0625em solid #6f6f6f}.menu-principale{color:#ccc;font-size:1em;padding:1em .625em .625em .625em;cursor:pointer}.menu-principale .icon{font-size:.875em}.first-level-menu-operation{position:absolute;left:0;visibility:hidden;right:0;opacity:0;left:-6.25em;-moz-transition:all .35s ease-out;-o-transition:all .35s ease-out;transition:all .35s ease-out}.first-level-menu-operation.open{opacity:1;left:0;visibility:visible;margin-top:.625em;-moz-transition:all .35s ease-out;-o-transition:all .35s ease-out;transition:all .35s ease-out}@keyframes example2{from{opacity:1}to{opacity:0}}@media (max-width:992px){.main-menu a{width:10.375em}}:host-context(.contrasto-on) .menu{background-color:#000}:host-context(.contrasto-on) .menu.open{border-color:#fff}:host-context(.contrasto-on) .main-menu a{color:#fff;border-color:#fff}:host-context(.contrasto-on) .main-menu a:active,:host-context(.contrasto-on) .main-menu a:focus,:host-context(.contrasto-on) .main-menu a:hover{background-color:#fff;color:#000;border-color:#fff}:host-context(.contrasto-on) .main-menu .select{background-color:#fff;color:#000;border-color:#fff}:host-context(.contrasto-on) .upper-bar{border-color:#fff}:host-context(.contrasto-on) .menu-principale{color:#fff}:host-context(.contrasto-on) .selected-first-level-menu-operation{color:#fff}.moveInTitle{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:0s}.moveIn1{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.25s}.moveIn2{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.5s}.moveIn3{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.75s}.moveIn4{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1s}.moveIn5{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.25s}.moveIn6{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.5s}.moveIn7{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.75s}.moveIn8{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:2s}.moveIn9{opacity:0;margin-left:300px;animation-name:example;animation-duration:1s;animation-fill-mode:forwards;animation-delay:2.25s}.moveInTitleR{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:0s}.moveInR1{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.25s}.moveInR2{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.5s}.moveInR3{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:.75s}.moveInR4{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1s}.moveInR5{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.25s}.moveInR6{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.5s}.moveInR7{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:1.75s}.moveInR8{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:2s}.moveInR9{opacity:1;margin-left:0;animation-name:exampleR;animation-duration:1s;animation-fill-mode:forwards;animation-delay:2.25s}@keyframes example{from{opacity:0;margin-left:600px}to{opacity:1;margin-left:0}}@keyframes exampleR{from{opacity:1;margin-left:0}to{opacity:0;margin-left:600px}}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){[class*=' icon-']::before{font-size:1.375em!important}} /*# sourceMappingURL=nbp-menu-operation.component.css.map */ "]
    }),
    __metadata$107("design:paramtypes", [_angular_router.Router,
        _angular_router.ActivatedRoute,
        _ngxTranslate_core.TranslateService])
], exports.NbpMenuOperationComponent);

var __decorate$126 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$106 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpCustomerInfoGenericComponent = (function () {
    function NbpCustomerInfoGenericComponent() {
        /**
         * Titolo del pannello.
         */
        this.clientTitle = "INFORMAZIONI UTENTE";
        /**
         * Booleano che indica se mostrare o meno la freccia che apre il customer-info.
         * Default  true.
         */
        this.showArrow = true;
        /**
         * Booleano che indica se allineare o meno a destra il contenuto del customer-info.
         * Default  false.
         */
        this.alignRight = false;
        /**
         * Booleano che pilota la visualizzazione iniziale dellaccordion collassato o espanso.
         */
        this._isCollapsed = true;
        this._key = [];
        this._clientInfoKey = [];
        this._clientInfoValue = [];
        this._clientInfoHtml = [];
        this.selectedClient = 0;
    }
    NbpCustomerInfoGenericComponent.prototype._toggleCollapse = function () {
        this._isCollapsed = !this._isCollapsed;
        this.burger.close();
        if (!!this.operation) {
            this.operation.close();
        }
    };
    NbpCustomerInfoGenericComponent.prototype.closeCustomer = function () {
        this._isCollapsed = true;
    };
    NbpCustomerInfoGenericComponent.prototype.ngOnInit = function () {
        // for (var i = 0; i < Object.keys(this.clientsInfo).length; i++) {
        for (var i = 0; i < this.clientsInfo.length; i++) {
            // bisogna ricordare indici del json per usarli in view
            //this.indexClientsInfo.push(i);
            this._clientInfoKey[i] = [];
            this._clientInfoValue[i] = [];
            for (var key in this.clientsInfo[i]) {
                this._clientInfoKey[i].push(key);
                this._clientInfoValue[i].push(this.clientsInfo[i][key]);
            }
        }
    };
    NbpCustomerInfoGenericComponent.prototype.selectClient = function (indexClient) {
        this.selectedClient = indexClient;
    };
    return NbpCustomerInfoGenericComponent;
}());
__decorate$126([
    _angular_core.Input(),
    __metadata$106("design:type", exports.NbpBurgerMenuGenericComponent)
], exports.NbpCustomerInfoGenericComponent.prototype, "burger", void 0);
__decorate$126([
    _angular_core.Input(),
    __metadata$106("design:type", exports.NbpMenuOperationComponent)
], exports.NbpCustomerInfoGenericComponent.prototype, "operation", void 0);
__decorate$126([
    _angular_core.Input("clientsInfo"),
    __metadata$106("design:type", Object)
], exports.NbpCustomerInfoGenericComponent.prototype, "clientsInfo", void 0);
__decorate$126([
    _angular_core.Input(),
    __metadata$106("design:type", String)
], exports.NbpCustomerInfoGenericComponent.prototype, "clientTitle", void 0);
__decorate$126([
    _angular_core.Input(),
    __metadata$106("design:type", Boolean)
], exports.NbpCustomerInfoGenericComponent.prototype, "showArrow", void 0);
__decorate$126([
    _angular_core.Input(),
    __metadata$106("design:type", Boolean)
], exports.NbpCustomerInfoGenericComponent.prototype, "alignRight", void 0);
exports.NbpCustomerInfoGenericComponent = __decorate$126([
    _angular_core.Component({
        selector: 'nbp-customer-info-generic',template: "<div [ngClass]=\"{'align-right': alignRight, 'full-width': !showArrow}\" class=\"container-ident-cliente\" nowrap=\"nowrap\"><span class=\"voce-ident-cliente\">{{_clientInfoKey[selectedClient][0] | uppercase}}</span> <span class=\"testo-ident-cliente\">{{_clientInfoValue[selectedClient][0]}}</span><br><span class=\"voce-ident-cliente\">{{_clientInfoKey[selectedClient][1] | uppercase}}</span> <span class=\"testo-ident-cliente\">{{_clientInfoValue[selectedClient][1]}}</span><br><span class=\"voce-ident-cliente\">{{_clientInfoKey[selectedClient][2] | uppercase}}</span> <span class=\"testo-ident-cliente\">{{_clientInfoValue[selectedClient][2]}}</span></div><div *ngIf=\"showArrow\" class=\"container-arrow\" style=\"margin-top: 6px;\"><span class=\"accordion-arrow\" [ngClass]=\"{'icon ico-comuni-freccia-accordion-apri':_isCollapsed , 'icon ico-comuni-freccia-accordion-chiudi':!_isCollapsed}\" (click)=\"_toggleCollapse()\"></span></div><div class=\"container-row\" style=\"margin-top: -4px;\"><div [ngClass]=\"{'triangolo':!_isCollapsed,'triangolo-hide':_isCollapsed}\"></div><div [ngClass]=\"{'triangolo-border':!_isCollapsed,'triangolo-hide':_isCollapsed}\"></div><div class=\"info-cliente-open\" [hidden]=\"_isCollapsed\" [ngClass]=\"{'border-pannel':!_isCollapsed}\"><div class=\"row info-cliente-title collapse\" [ngClass]=\"{'in':!_isCollapsed}\">{{clientTitle}}</div><div class=\"container-row\" style=\"width:100%!important\"><div class=\"collapse\" [ngClass]=\"{'in':!_isCollapsed}\" style=\"width:100%!important\"><div *ngFor=\"let item of clientsInfo; let i = index\" style=\"width:100%!important\"><div *ngIf=\"item.html\" [innerHTML]=\"item.html\"></div><div *ngIf=\"!item.html\" class=\"panel-body\" (click)=\"selectClient(i)\" [ngClass]=\"{'selected-client': i === selectedClient}\"><span>{{_clientInfoKey[i][1] | uppercase}}</span> <span>{{_clientInfoValue[i][1]}}</span><br><span>{{_clientInfoValue[i][0]}}</span><ng-container *ngIf=\"i === selectedClient\"><span class=\"icomoon-Simboli_Risorsa-182 icon-select\"></span></ng-container></div></div></div></div></div></div>",
        styles: [".accordion-arrow{cursor:pointer;font-size:1.6em}.align-right{text-align:right}.container-row{display:table-row;float:left!important}.container-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:78%;font-weight:400;float:left;padding-top:6px;padding-left:7px;padding-right:7px;padding-bottom:7px;margin-left:-3.3px}.full-width{width:100%}.voce-ident-cliente{margin-top:0;margin-bottom:0;font-size:1em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:400}.border-pannel{border:1px solid #797979!important}.testo-ident-cliente{margin-top:0;margin-bottom:0;font-size:1em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:700}.panel-body{font-family:Arial;font-weight:400;font-style:normal;font-size:.81em;width:100%;border-top:1px solid gray;vertical-align:middle;z-index:90;cursor:pointer;text-align:left;color:#ccc}.panel-body:hover{background-color:gray;color:#fff}.info-cliente-title{font-family:Arial;font-style:normal;font-size:14px;color:#ccc;padding:10px 0 10px 0;border-bottom:0 solid gray;margin-left:auto;margin-right:auto}.info-cliente-open{position:relative;background-color:#323232;z-index:90;border:0;border-radius:0;text-align:center;margin-top:.5625em;display:table;color:#fff;width:22.25em;margin-left:-6px}.container-arrow{float:right;padding-top:.9em;padding-right:1.375em}.triangolo{width:0;height:0;z-index:91;border-left:.563em solid transparent;border-right:.563em solid transparent;border-bottom:.563em solid #323232;float:right;margin-right:1.96em;position:relative;top:1px}.triangolo-border{width:0;height:0;z-index:90;border-left:.625em solid transparent;border-right:.625em solid transparent;border-bottom:.625em solid #797979;float:right;margin-right:0;position:relative;top:0;left:19px;margin-bottom:-1px}.triangolo-hide{width:0;height:0;z-index:90;border-left:.563em solid transparent;border-right:.563em solid transparent;border-bottom:.563em solid transparent;float:right;margin-right:1.75em;position:relative;top:1px}.icon-select{color:#1ed31e;display:block;float:right;position:relative;top:-.56em}.selected-client{background-color:#444;color:#fff;font-weight:700}:host-context(.contrasto-on) .border-pannel{border:1px solid #fff!important}:host-context(.contrasto-on) .panel-body{border-top:1px solid #fff;color:#fff}:host-context(.contrasto-on) .panel-body:hover{background-color:#fff;color:#000;border-color:#000}:host-context(.contrasto-on) .info-cliente-title{color:#fff;border-bottom:0 solid #fff}:host-context(.contrasto-on) .info-cliente-open{background-color:#000}:host-context(.contrasto-on) .triangolo{border-bottom-color:#000}:host-context(.contrasto-on) .triangolo-border{border-bottom:.625em solid #fff}:host-context(.contrasto-on) .icon-select{color:#000}:host-context(.contrasto-on) .selected-client{background-color:#fff;color:#000;font-weight:700}:host-context(.contrasto-on) .selected-client.panel-body{border-color:#000} /*# sourceMappingURL=nbp-customer-info-generic.component.css.map */ "]
    }),
    __metadata$106("design:paramtypes", [])
], exports.NbpCustomerInfoGenericComponent);

var __decorate$124 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$104 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpHeaderGenericComponent = (function () {
    function NbpHeaderGenericComponent(http, router) {
        var _this = this;
        this.http = http;
        this.router = router;
        /**
         * Stringa da visualizzare come titolo del customer-info. Viene passato al componente nbp-customer-info-generic.
         */
        this.clientTitle = "INFORMAZIONI UTENTE";
        /**
         * Propriet che indica il nome della funzione da eseguire al click su logged-user
         */
        this.userClick = function () { };
        /**
         * Propriet che indica il nome della funzione da eseguire al click sull'icona Intesa dell'header.
         * Di default  la navigazione alla home.
         */
        this.iconClick = function () { _this.router.navigate(['home']); };
        /**
         * Propriet tipo string indicante l'url di un file json usato per settare un icona alternativa a quella di default.
         * Il programmatore ha la possibilit di definire la nomenclatura di suo gradimento con la condizione che termini in .json.
         * Il file prescelto dovr essere raggiungibile da una chiamata HTTP di tipo GET che provveder alla lettura.
         *
         * Esempi:
         *
         * 1) assets/logo.json
         * 2) assets/_logo.json
         * 3) assets/_logoCustom.json
         * 4) xxxxxx/yyyyyy.json
         * 4) .......................
         *
         * Il file json di configurazione immagine conterr i campi
         *  1) urlImage,
         *  2) width,
         *  3) height.
         *
         * Se il file viene trovato verra inserita l'icona definita in urlImage sopra all'icona Intesa San Paolo.
         * In caso contrario verr visualizzata la label passata nella propriet [name] del componente header.
         *
         * esempio:
         *
         *  denominazione File di Configurazione Logo : assets/logo.json
         *  {
         *  "urlImage": "assets/images/logoProva.png",
         *  "width": "30px",
         *  "height": "30px"
         *   }
         *
         *
         */
        this.urlCustomLogo = "";
        /**
        * tradurre le voci di menu
        */
        this.nbpTranslate = true;
        /**
         * Funzione custom lanciata al click sul tasto di uscita del burger menu.
         */
        this.exitClick = function () { };
        /**
         * Booleano che indica se mostrare o meno il tasto di uscita del burger menu.
         * Default  false.
         */
        this.showExit = false;
        /**
         * Booleano che indica se mostrare o meno la freccia che apre il customer-info.
         * Default  true.
         */
        this.showClientArrow = true;
        /**
         * Booleano che indica se allineare o meno a destra il contenuto del customer-info.
         * Default  false.
         */
        this.alignClientRight = false;
        /**
         * File Configurazione Alternativa Logo : assets/logo.json.
         * Il file dovr definire i campi urlImage, width e height.
         *
         * Se il file viene trovato verra inserita l'icona definita sopra all'icona Intesa San Paolo.
         * In caso contrario verr visualizzata la label passata nella propriet [name] del componente header.
         *
         * esempio:
         *
         *  denominazione File di Configurazione Logo : assets/logo.json
         *  {
         *  "urlImage": "assets/images/logoProva.png",
         *  "width": "30px",
         *  "height": "30px"
         *   }
         *
         *
         */
        this.logoJson = null;
    }
    NbpHeaderGenericComponent.prototype.openTab = function () {
        if (!!this.ChildMO) {
            this.ChildMO.close();
        }
        if (!!this.ChildBM) {
            this.ChildBM.toggle();
        }
        if (!!this.ChildCC) {
            this.ChildCC.closeCustomer();
        }
    };
    NbpHeaderGenericComponent.prototype.openOperation = function () {
        if (!!this.ChildBM) {
            this.ChildBM.close();
        }
        if (!!this.ChildMO) {
            this.ChildMO.toggle();
        }
        if (!!this.ChildCC) {
            this.ChildCC.closeCustomer();
        }
    };
    NbpHeaderGenericComponent.prototype.isMenuOpen = function () {
        return this.ChildBM ? this.ChildBM._isOpen : false;
    };
    NbpHeaderGenericComponent.prototype.isMenuOperationOpen = function () {
        if (!!this.ChildMO) {
            return this.ChildMO._isOpen;
        }
        else {
            return false;
        }
    };
    NbpHeaderGenericComponent.prototype.onLogout = function () {
    };
    NbpHeaderGenericComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.urlCustomLogo)
            this.http.get(this.urlCustomLogo)
                .subscribe(function (res) {
                _this.logoJson = res.json();
            });
    };
    NbpHeaderGenericComponent.prototype.customClickAndClose = function () {
        this.userClick();
        if (!!this.ChildBM) {
            this.ChildBM.close();
        }
        if (!!this.ChildMO) {
            this.ChildMO.close();
        }
    };
    return NbpHeaderGenericComponent;
}());
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Object)
], exports.NbpHeaderGenericComponent.prototype, "burger", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Object)
], exports.NbpHeaderGenericComponent.prototype, "operation", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Object)
], exports.NbpHeaderGenericComponent.prototype, "user", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Object)
], exports.NbpHeaderGenericComponent.prototype, "name", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Object)
], exports.NbpHeaderGenericComponent.prototype, "clients", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", String)
], exports.NbpHeaderGenericComponent.prototype, "clientTitle", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Object)
], exports.NbpHeaderGenericComponent.prototype, "userClick", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Object)
], exports.NbpHeaderGenericComponent.prototype, "iconClick", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Object)
], exports.NbpHeaderGenericComponent.prototype, "urlCustomLogo", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Boolean)
], exports.NbpHeaderGenericComponent.prototype, "nbpTranslate", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Object)
], exports.NbpHeaderGenericComponent.prototype, "exitClick", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Boolean)
], exports.NbpHeaderGenericComponent.prototype, "showExit", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Boolean)
], exports.NbpHeaderGenericComponent.prototype, "showClientArrow", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", Boolean)
], exports.NbpHeaderGenericComponent.prototype, "alignClientRight", void 0);
__decorate$124([
    _angular_core.Input(),
    __metadata$104("design:type", String)
], exports.NbpHeaderGenericComponent.prototype, "nbpLogo", void 0);
__decorate$124([
    _angular_core.ViewChild(exports.NbpCustomerInfoGenericComponent),
    __metadata$104("design:type", exports.NbpCustomerInfoGenericComponent)
], exports.NbpHeaderGenericComponent.prototype, "ChildCC", void 0);
__decorate$124([
    _angular_core.ViewChild('ChildBM'),
    __metadata$104("design:type", exports.NbpBurgerMenuGenericComponent)
], exports.NbpHeaderGenericComponent.prototype, "ChildBM", void 0);
__decorate$124([
    _angular_core.ViewChild('ChildMO'),
    __metadata$104("design:type", exports.NbpMenuOperationComponent)
], exports.NbpHeaderGenericComponent.prototype, "ChildMO", void 0);
exports.NbpHeaderGenericComponent = __decorate$124([
    _angular_core.Component({
        selector: 'nbp-header-generic',template: "<div class=\"header\"><div class=\"navbar\" id=\"header-navbar\"><div class=\"container\" style=\"display: table;\"><div *ngIf=\"logoJson; then logoAlternativo else logoTradizionale\"></div><ng-template #logoTradizionale><div class=\"navbar-logo pull-left col-md-14 col-sm-4 col-xs-4\" style=\"top: 8px;\"><label class=\"nome-applicativo\">{{name}}</label> <a *ngIf=\"!nbpLogo\" class=\"navbar-logo-brand-small\" (click)=\"iconClick()\"><span class=\"sr-only\">Intesa San Paolo</span> </a><img *ngIf=\"nbpLogo\" src=\"{{nbpLogo}}\" class=\"navbar-logo-brand-small-custom\" (click)=\"iconClick()\"></div></ng-template><ng-template #logoAlternativo><div class=\"navbar-logo pull-left col-md-14 col-sm-4 col-xs-4\" style=\"top: 8px; left:-14px\"><img src=\"{{logoJson.urlImage}}\" [ngStyle]=\"{ 'height': logoJson.height, 'width': logoJson.width}\"> <a *ngIf=\"!nbpLogo\" class=\"navbar-logo-brand-small\" (click)=\"iconClick()\"><span class=\"sr-only\">Intesa San Paolo</span> </a><img *ngIf=\"nbpLogo\" src=\"{{nbpLogo}}\" class=\"navbar-logo-brand-small-custom\" (click)=\"iconClick()\"></div></ng-template><div class=\"navbar-toggle pull-right col-md-4 col-sm-8 col-xs-8\" (click)=\"openTab()\" [ngClass]=\"{'navbar-toggle-open': isMenuOpen()}\"><button type=\"button\"><span class=\"icon {{isMenuOpen() ? 'ico-comuni-chiudi' : 'ico-navbar-menu'}}\"></span><div [ngClass]=\"{'menuMargin': !isMenuOpen()}\"><label style=\"color: #f8f8f8 !important; margin: 0 0 0 0.0em !important; cursor: pointer; font-size: 0.75em !important; padding-top:10px\">Menu</label></div></button></div><div *ngIf=\"operation\" class=\"navbar-toggle pull-right col-md-4 col-sm-8 col-xs-8\" (click)=\"openOperation()\" [ngClass]=\"{'navbar-toggle-open': isMenuOperationOpen()}\"><button type=\"button\"><span class=\"icon {{isMenuOperationOpen() ? 'ico-comuni-chiudi' : 'icomoon-Soldi_Risorsa-45'}}\"></span><div [ngClass]=\"{'operationMargin': !isMenuOperationOpen(), 'menuMargin': isMenuOperationOpen()}\"><label style=\"color: #f8f8f8 !important; margin: 0 0 0 0.0em !important; cursor: pointer; font-size: 0.75em !important; padding-top:10px\">Operazioni</label></div></button></div><div *ngIf=\"clients\" class=\"navbar-info-cliente col-md-6 col-sm-10 col-xs-10 pull-right\"><div><nbp-customer-info-generic [showArrow]=\"showClientArrow\" [alignRight]=\"alignClientRight\" [burger]=\"ChildBM\" [operation]=\"ChildMO\" [clientsInfo]=\"clients\" [clientTitle]=\"clientTitle\"></nbp-customer-info-generic></div></div><ng-content></ng-content></div><nbp-burger-menu-generic #ChildBM [nbpMenu]=\"burger\" [nbpTranslate]=\"nbpTranslate\"><nbp-logged-user-generic [nbpUser]=\"user\" (nbpLogout)=\"onLogout()\" (click)=\"customClickAndClose()\" disableLogout></nbp-logged-user-generic><div *ngIf=\"showExit\" class=\"exit-button-container\"><span class=\"exit-button\"><a (click)=\"exitClick()\"><table><tr><th class=\"exit-image-container\"><div class=\"icon icomoon-Sicurezza_Risorsa-19\"></div></th><th class=\"exit-info\"><span>Esci</span></th></tr></table></a></span></div></nbp-burger-menu-generic><nbp-menu-operation #ChildMO [nbpMenu]=\"operation\" [nbpTranslate]=\"nbpTranslate\"></nbp-menu-operation></div></div>",
        styles: [".header{width:100%;background-color:#f2f2f2;box-shadow:0 0 1.25em -.625em rgba(0,0,0,.8)}.header .navbar{position:relative;border:0!important;border-radius:0!important;margin:0!important;left:0;right:0;width:100%;background-color:#258900}.header .navbar .container{display:table;position:relative;padding-right:0;background-color:#258900;height:3em}.header .navbar .container-slim{height:3.125em!important}.header .row{margin:0}.header-overlay{position:relative;top:0;left:0;width:100%;height:100%;background:#f2f2f2}.navbar .container .navbar-logo{display:table-cell;vertical-align:middle;width:17em}.navbar .container .navbar-toggle{display:table-cell;vertical-align:middle;width:5em;height:4.375em;background-color:transparent;border:0;border-radius:0;margin:0;padding:0;text-align:center;cursor:pointer}.navbar .container .navbar-toggle:hover{background:#323232}.navbar .container .navbar-toggle:focus{background:#323232}.navbar .container .navbar-toggle:active{background:#323232}.navbar .container .navbar-info-cliente{display:table-cell;vertical-align:middle;width:22.25em;height:4.375em;background-color:transparent;border-left:1px solid #fff;border-right:1px solid #fff;text-align:left;color:#fff;line-height:1em;padding-top:4px}.navbar .container .navbar-info-cliente .container-arrow{float:right;padding-top:1.25em;padding-right:1.5625em}.navbar .container .navbar-info-cliente .accordion-arrow{cursor:pointer;font-size:1.6em}.navbar .container .navbar-info-cliente .info-cliente-open{position:absolute;background-color:#323232;z-index:1000;width:22.25em;height:9.8125em;border:0;border-radius:0;text-align:center;margin-top:.5625em;display:table}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-title{vertical-align:middle;height:2.3125em;display:table-cell}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente{vertical-align:middle;height:3.75em;border-top:1px solid #6f6f6f;display:table-cell;cursor:pointer;text-align:left}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente-select{vertical-align:middle;height:3.75em;border-top:1px solid #6f6f6f;display:table-cell;cursor:pointer;text-align:left;background-color:#3f3f3f;font-weight:700}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente-select .icon{float:right;color:#258900;padding-right:10px}.navbar .container .navbar-info-cliente .info-cliente-open .title-nsg-label{color:#ccc;text-transform:uppercase}.navbar .container .navbar-info-cliente .info-cliente-open .nsg-cliente{margin-left:1em;color:#ccc}.navbar .container .navbar-info-cliente .info-cliente-open .nsg-cliente-selected{margin-left:1em;color:#fff}.navbar .container .navbar-hole{display:table-cell;vertical-align:middle;margin-top:5px;margin-bottom:5px}.navbar-logo-brand{display:block;width:8.9375em;height:1.563em;background-image:url(/cjlib/assets/images/sprite2.png);background-repeat:no-repeat}.navbar-logo-brand-small{cursor:pointer;display:block;background-image:url(/cjlib/assets/images/sprite.png);background-repeat:no-repeat;width:8.9375em;height:1.563em;background-size:8.9375em;margin-top:3px}.navbar-logo-brand-small-custom{display:block;height:25px;background-repeat:no-repeat}.navbar-toggle button{position:relative;top:52%;transform:translateY(-50%);border:none;background:0 0;outline:0;padding-bottom:3px}.navbar-toggle .icon-bar{width:1.875em;height:.125em;margin:.313em auto;background-color:#fff!important}.navbar-toggle .ico-navbar-menu{color:#fff;width:32px;height:28px;font-size:1.65em!important}.navbar-toggle .ico-navbar-menu:before{font-size:32px}.navbar-toggle .icomoon-Soldi_Risorsa-45{color:#fff;height:28px;font-size:1.65em!important}.navbar-toggle .icomoon-Soldi_Risorsa-45:before{font-size:32px}.navbar-toggle .ico-comuni-chiudi{color:#fff;font-size:1.65em!important}.navbar-toggle .menuMargin{margin-top:-.2em}.navbar-toggle .operationMargin{margin-top:-.69em}.navbar-toggle-operation button{position:relative;top:50%;transform:translateY(-50%);border:none;background:0 0;outline:0}.navbar-toggle-operation .icon-bar{width:1.875em;height:.125em;margin:.313em auto;background-color:#fff!important}.navbar-toggle-operation .icomoon-Modifica_matita{color:#fff;font-size:1.5em;margin:.313em auto}.navbar-toggle-operation span.labelOperazioni{color:#fff;font-size:.75em}.navbar-toggle-open{background:#323232!important}.nome-applicativo{position:relative;font-size:1.5em;margin-bottom:-.417em;color:#fff;font-weight:400}.header-paging-container,.header-progress-container{border-bottom:1px solid #ccc}@media (max-width:768px){.navbar .container{width:100%}}@media (-webkit-min-device-pixel-ratio:2){.navbar-logo-brand{background-image:url(/cjlib/assets/images/sprite.png)}}@media (min-resolution:192dpi){.navbar-logo-brand{background-image:url(/cjlib/assets/images/sprite.png)}}.triangolo{width:0;height:0;z-index:100;border-left:.625em solid transparent;border-right:.625em solid transparent;border-bottom:.625em solid #323232;float:right;margin-right:1.75em}.triangolo-hide{width:0;height:0;z-index:100;border-left:.625em solid transparent;border-right:.625em solid transparent;border-bottom:.625em solid transparent;float:right}.container-row{display:table-row}.container-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:78%;padding-left:.625em;font-weight:400;float:left}.voce-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:400}.testo-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:700}@media (max-width:992px){.nome-applicativo{font-size:1.2em}.navbar .container .navbar-logo{width:13em}}.exit-button-container{padding:0}[class*=\" ico-\"]:before{vertical-align:middle}.exit-button{margin:0}.exit-button a{color:#fa9600;display:table;padding:0 1.25em 0 1.25em;margin:.5em 0 .5em 0;text-decoration:none;cursor:pointer;width:100%!important;height:2.813em;width:19.375em}.exit-button a:active,.exit-button a:focus,.exit-button a:hover{background-color:#fa9600;color:#323232}.exit-button a table{width:100%;display:table-cell;vertical-align:middle}.exit-image-container div{vertical-align:middle;font-size:1.563em!important;margin:0!important}.exit-image-container img{position:relative;border-radius:50%;width:100%}.exit-info{padding-left:.625em;vertical-align:middle;line-height:1;font-weight:400}:host-context(.contrasto-on) .header{background-color:#fff}:host-context(.contrasto-on) .header .navbar{background-color:#000}:host-context(.contrasto-on) .header .navbar .container{background-color:#000}:host-context(.contrasto-on) .header .navbar-tape{background-color:#000}:host-context(.contrasto-on) .header-overlay{background:#fff}:host-context(.contrasto-on) .exit-button a{color:#fff}:host-context(.contrasto-on) .exit-button a:active,:host-context(.contrasto-on) .exit-button a:focus,:host-context(.contrasto-on) .exit-button a:hover{background-color:#fff;color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle{background-color:transparent}:host-context(.contrasto-on) .navbar .container .navbar-toggle:hover{background:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle:focus{background:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle:active{background:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation{background-color:transparent}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:hover{background:#fff;color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:hover .icomoon-Modifica_matita{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:hover span{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:focus{background:#fff;color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:focus .icomoon-Modifica_matita{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:focus span{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:active{background:#fff;color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:active .icomoon-Modifica_matita{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:active span{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation.navbar-toggle-open{background:#fff!important;color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation.navbar-toggle-open .icomoon-Modifica_matita{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation.navbar-toggle-open span{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-info-cliente{background-color:transparent;border-color:#fff;color:#fff}:host-context(.contrasto-on) .navbar-toggle .icon-bar{background-color:#fff!important}:host-context(.contrasto-on) .navbar-toggle .ico-comuni-chiudi,:host-context(.contrasto-on) .navbar-toggle .ico-navbar-menu,:host-context(.contrasto-on) .navbar-toggle .icomoon-Modifica_matita,:host-context(.contrasto-on) .navbar-toggle .icomoon-Soldi_Risorsa-45{color:#fff}:host-context(.contrasto-on) .navbar-toggle-open{background:#000!important}:host-context(.contrasto-on) .prev-page-btn-container .prev-page-btn{color:#000}:host-context(.contrasto-on) .page-title-container{border-color:#fff}:host-context(.contrasto-on) .nome-applicativo{color:#fff}:host-context(.contrasto-on) .header-paging-container,:host-context(.contrasto-on) .header-progress-container{border-color:#fff}:host-context(.contrasto-on) .triangolo{border-color:#fff;background:#000}:host-context(.contrasto-on) .container-ident-cliente{color:inherit}:host-context(.contrasto-on) .voce-ident-cliente{color:inherit}:host-context(.contrasto-on) .testo-ident-cliente{color:inherit} /*# sourceMappingURL=nbp-header-generic.component.css.map */ "]
    }),
    __metadata$104("design:paramtypes", [_angular_http.Http, _angular_router.Router])
], exports.NbpHeaderGenericComponent);

var __decorate$128 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$108 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// import { TooltipComponent } from '../tooltip/tooltip.component';
exports.NbpFloaterComponent = (function () {
    function NbpFloaterComponent() {
        /**
         * Box Principale Floater.
         *
         * Tipo: IBoxFloater  costituito da un array di oggetti Json.
         *
         * Ciascun oggetto Json permette di implementare  un pulsante del paginatore ed  cosi definito:
         *
         * { icon: l'icona visualizzata nel pulsante del Floater,
         *   iconText: testo visualizzato immediatamente sotto l'icona,
         *   tooltip: tooltip pulsante,
         *   scrollTo: Id del codice Html a cui il Floater si muover alla digitazione del pulsante,
         *   callbackBefore: funzione chiamata prima del movimento verso l'Id,
         *   callbackAfter: funzione chiamata dopo il movimento verso l'Id
         * };
         *
         * E' il box principale visualizzato dal Floater. Nella visualizzazione si alterna in modalit toggle
         * con il Box Secondario. O appare l'uno o l'altro. Lo switching avviene attraverso la digitazione del
         * pulsante di help oppure le freccie di espansione
         *
         */
        this.boxPrincipaleContents = [];
        /**
         * Icona apertura Box Principale
         *
         * Tipo: String.
         *
         * Rappesenta l'icona visualizzata quando il Box Principale  Chiuso
         *
         */
        this.iconBoxPrincipale = "icomoon-FloaterMenu";
        /**
         * Icona apertura Box Secondario
         *
         * Tipo: String.
         *
         * Rappesenta l'icona visualizzata quando il Box Principale  Chiuso
         *
         */
        this.iconBoxSecondario = "icomoon-Messagi_messagio3";
        /**
         * Box secondario Floater
         *
         * Tipo: IBoxFloater  costituito da un array di oggetti Json.
         *
         * Ciascun oggetto Json permette di implementare  un pulsante del paginatore ed  cosi definito:
         *
         * { icon: l'icona visualizzata nel pulsante del Floater,
         *   iconText: testo visualizzato immediatamente sotto l'icona,
         *   tooltip: tooltip pulsante,
         *   scrollTo: Id del codice Html a cui il Floater si muover alla digitazione del pulsante,
         *   callbackBefore: funzione chiamata prima del movimento verso l'Id,
         *   callbackAfter: funzione chiamata dopo il movimento verso l'Id
         * };
         *
         * E' il box secondario visualizzato dal Floater in alternativa al Box Principale.
         *
         */
        this.boxSecondarioContents = [];
        this.helpTooltipMessage = "";
        this.helpTooltip = false;
        this.sizeTooltip = exports.NbpSize.MD;
        this.toggleOperazioni = true;
        this.toggleAssistenza = false;
        this.activeTooltip = -1;
    }
    /**
     * setActiveToolTip
     *
     *  Funzione di selezione del tooltip attivo.
     *  I tooltip sono numerizzati da un ciclo for di visualizzazione
     *  sulla base della posizione nell'array del loro pulsante di attivazione.
     *  Questa funzione riceve in input il numero del tooltip e lo setta come attivo
     */
    NbpFloaterComponent.prototype.setActiveTooltip = function (numberTooltip) {
        this.activeTooltip = numberTooltip;
    };
    /**
     * selectTooltipClassMouseOver
     *
     * ritorna valore boolean connesso al mouse over del tooltip
     *
     */
    NbpFloaterComponent.prototype.selectTooltipClassMouseOver = function (p) {
        if (this.activeTooltip == p)
            return true;
        return false;
    };
    return NbpFloaterComponent;
}());
__decorate$128([
    _angular_core.Input(),
    __metadata$108("design:type", Array)
], exports.NbpFloaterComponent.prototype, "boxPrincipaleContents", void 0);
__decorate$128([
    _angular_core.Input(),
    __metadata$108("design:type", String)
], exports.NbpFloaterComponent.prototype, "iconBoxPrincipale", void 0);
__decorate$128([
    _angular_core.Input(),
    __metadata$108("design:type", String)
], exports.NbpFloaterComponent.prototype, "iconBoxSecondario", void 0);
__decorate$128([
    _angular_core.Input(),
    __metadata$108("design:type", Array)
], exports.NbpFloaterComponent.prototype, "boxSecondarioContents", void 0);
__decorate$128([
    _angular_core.Input("helpTooltip"),
    __metadata$108("design:type", String)
], exports.NbpFloaterComponent.prototype, "helpTooltipMessage", void 0);
exports.NbpFloaterComponent = __decorate$128([
    _angular_core.Component({
        selector: 'nbp-floater',
        template: "<div fxLayout=\"column\" fxLayoutAlign=\"center start\"><div class=\"posizioneFissaFloater\"><div *ngIf=\"toggleOperazioni\"><div class=\"boxFrecciaOperazioni\" style=\"margin-bottom:-1px\" (mouseenter)=\"helpTooltip=false; activeTooltip = -1\" (click)=\"toggleOperazioni=!toggleOperazioni;toggleAssistenza=false;helpTooltip=false\"><div class=\"icomoon-Simboli_Risorsa-10 iconFreccia\"></div></div><div class=\"box-operazioni\" *ngFor=\"let item of boxPrincipaleContents; let p = index\"><div fxLayout=\"row\" fxLayoutAlign=\"start stretch\"><div (mouseenter)=\"helpTooltip=false; activeTooltip = p\" (mouseleave)=\"helpTooltip = false; activeTooltip = -1\" (click)=\"item.function()\" [scrollTo]=\"item.scrollTo\" [callbackBefore]=\"item.callbackBefore\" [callbackAfter]=\"item.callbackAfter\" class=\"boxPrincipale floater-container\" fxLayout=\"column\" fxLayoutAlign=\"space-evenly center\" fxLayoutGap=\"-4px\"><div class=\"{{item.icon}} iconParlaConNoi iconMargin\"></div></div><div *ngIf=\"activeTooltip == p && item.tooltip\" [ngClass]=\"item.tooltip ? 'floaterTooltip' : 'floaterTooltipEmpty'\" class=\"floaterTooltip floater-tooltip\" fxLayout=\"column\" fxLayoutAlign=\"space-evenly center\">{{item.tooltip}}</div></div></div></div><div *ngIf=\"!toggleOperazioni\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\"><div style=\"border-bottom: 0px solid #258900\" (mouseenter)=\"helpTooltip=false; activeTooltip = -1\" class=\"boxPrincipale\" fxLayout=\"column\" fxLayoutAlign=\"space-evenly center\" (click)=\"toggleOperazioni=!toggleOperazioni;toggleAssistenza=false;activeTooltip = -1\" [ngClass]=\"!toggleOperazioni ? 'boxPrimarioGreen' : 'boxPrimarioGreen'\"><div class=\"icomoon-FloaterMenu iconHelp iconMargin\"></div></div></div><div *ngIf=\"!toggleAssistenza\" fxLayout=\"row\" fxLayoutAlign=\"start stretch\"><div style=\"border-bottom: 0px solid #333333\" (mouseenter)=\"helpTooltip = true\" (mouseleave)=\"helpTooltip = false\" fxLayout=\"column\" fxLayoutAlign=\"space-evenly center\" (click)=\"toggleAssistenza=!toggleAssistenza;toggleOperazioni=false\" [ngClass]=\"helpTooltip ? 'boxSecondarioGray' : 'boxSecondarioBlack'\"><div class=\"iconHelp iconMargin\" [ngClass]=\"iconBoxSecondario\"></div></div><div *ngIf=\"helpTooltip\" class=\"floaterTooltip\" fxLayout=\"column\" fxLayoutAlign=\"space-evenly\">{{helpTooltipMessage}}</div></div><div *ngIf=\"toggleAssistenza\"><div *ngFor=\"let item of boxSecondarioContents; let p = index\"><div fxLayout=\"row\" fxLayoutAlign=\"start stretch\"><div (mouseenter)=\"activeTooltip = 100 + p\" (mouseleave)=\"activeTooltip = -1\" (click)=\"item.function()\" [scrollTo]=\"item.scrollTo\" [callbackBefore]=\"item.callbackBefore\" [callbackAfter]=\"item.callbackAfter\" [ngClass]=\"activeTooltip == 100 + p ? 'boxSecondarioBlack' : 'boxSecondarioGray'\" fxLayout=\"column\" fxLayoutAlign=\"space-evenly center\" fxLayoutGap=\"-4px\"><div class=\"{{item.icon}} iconAssistenza iconMarginAssistenza\"></div><div class=\"textIcon\">{{item.iconText}}</div></div><div *ngIf=\"activeTooltip == 100 + p\" (click)=\"item.function()\" class=\"floaterTooltip\" fxLayout=\"column\" fxLayoutAlign=\"space-evenly\">{{item.tooltip}}</div></div></div></div><div (click)=\"toggleAssistenza=!toggleAssistenza;toggleOperazioni=false;helpTooltip=false\"><div *ngIf=\"toggleAssistenza\" class=\"boxFrecciaAssistenzaGray\"><div class=\"icomoon-Simboli_Risorsa-11 iconFreccia\" style=\"margin-top:-1px\"></div></div></div></div></div>",
        styles: [".floaterTooltip{min-height:100%;background-color:#333;color:#fff;font-size:.813em;font-family:Arial;padding:1em;cursor:pointer;width:12.14em}.floater-container:hover{background-color:#5aa942!important}.floater-tooltip{background-color:#5aa942!important;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:.875em}.iconMargin{margin-top:7.5px;margin-left:-1px!important}.iconMarginAssistenza{margin-top:3.5px;margin-left:-1px!important}.floaterTooltipEmpty{height:0%;width:0%;padding:0}.boxPrincipale{margin-top:-1px;font-weight:400;font-family:Arial;font-size:13px;background-color:#258900;padding:0;width:50px;height:50px;text-align:center;cursor:pointer;border-bottom:0 solid #258900}.boxPrimarioGreen{margin-top:-1px;font-weight:400;font-family:Arial;font-size:13px;background-color:#258900;padding:0;width:50px;height:50px;text-align:center;cursor:pointer;border-bottom:0 solid #258900}.boxSecondarioBlack{margin-top:-1px;font-weight:400;font-family:Arial;font-size:13px;background-color:#333;padding:0;width:50px;height:50px;text-align:center;cursor:pointer;border-bottom:0 solid #333}.boxSecondarioGray{margin-top:-1px;font-weight:400;font-family:Arial;font-size:13px;background-color:#333;border:0;padding:0;width:50px;height:50px;text-align:center;cursor:pointer;border-bottom:0 solid #333}.boxSecondarioBlack1{font-weight:400;font-family:Arial;font-size:13px;background-color:#333;padding:0;width:50px;height:45px;text-align:center;cursor:pointer;border-bottom:0 solid #333}.boxSecondarioGray1{font-weight:400;font-family:Arial;font-size:13px;background-color:#333;border:0;padding:0;width:50px;height:50px;text-align:center;cursor:pointer;border-bottom:0 solid #333}.boxFrecciaOperazioni{background-color:#258900;width:50px;height:20px;text-align:center;cursor:pointer;border-top:0 solid #258900;border-bottom:1px solid #258900}.boxFrecciaAssistenzaBlack{background-color:#333;width:50px;height:20px;text-align:center;cursor:pointer;border-top:0 solid #333;border-bottom:0 solid #333}.boxFrecciaAssistenzaGray{background-color:#333;width:50px;height:20px;text-align:center;cursor:pointer;border-top:0 solid #333}.iconParlaConNoi{font-size:30px;color:#fff;font-weight:600}.iconAssistenza{font-size:30px;color:#fff;font-weight:400}.iconHelp{font-size:30px;color:#fff;font-weight:400}.iconFreccia{font-size:20px;color:#fff;font-weight:600}.textIcon{font-weight:400;font-family:Arial;font-size:13px;font-size:10px;color:#fff}.posizioneFissaFloater{position:fixed;top:50%;transform:translatey(-50%)}:host-context(.contrasto-on) .floater-container:hover{background-color:#fff!important}:host-context(.contrasto-on) .floater-tooltip{background-color:#fff!important;color:#000!important;border:1px solid #000;border-left:none}:host-context(.contrasto-on) .floaterTooltip{background-color:#000;color:#fff}:host-context(.contrasto-on) .boxPrincipale{background-color:#fff}:host-context(.contrasto-on) .boxPrimarioGreen{background-color:#fff;border-right:1px solid #000;border-top:1px solid #000}:host-context(.contrasto-on) .boxPrimarioGreen .iconHelp{color:#000}:host-context(.contrasto-on) .box-operazioni .boxPrincipale{border-right:1px solid #000}:host-context(.contrasto-on) .box-operazioni .boxPrincipale.floater-container:hover{border-right:none}:host-context(.contrasto-on) .boxSecondarioBlack{background-color:#000}:host-context(.contrasto-on) .boxSecondarioGray{background-color:#000}:host-context(.contrasto-on) .boxSecondarioBlack1{background-color:#000}:host-context(.contrasto-on) .boxSecondarioGray1{background-color:#000}:host-context(.contrasto-on) .boxFrecciaOperazioni{background-color:#fff;border-bottom:1px solid #000}:host-context(.contrasto-on) .boxFrecciaOperazioni .iconFreccia{color:#000;border-right:1px solid #000;border-top:1px solid #000}:host-context(.contrasto-on) .boxFrecciaAssistenzaBlack{background-color:#000}:host-context(.contrasto-on) .boxFrecciaAssistenzaGray{background-color:#000}:host-context(.contrasto-on) .iconParlaConNoi{color:#000}:host-context(.contrasto-on) .iconAssistenza{color:#fff}:host-context(.contrasto-on) .iconHelp{color:#fff}:host-context(.contrasto-on) .textIcon{color:#fff} /*# sourceMappingURL=nbp-floater.component.css.map */ "]
    }),
    __metadata$108("design:paramtypes", [])
], exports.NbpFloaterComponent);

var __decorate$129 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$109 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.SmoothScrollToDirective = (function () {
    function SmoothScrollToDirective() {
    }
    SmoothScrollToDirective.prototype.onClick = function () {
        this.targetElement = document.getElementById(this.scrollTo);
        if (!this.targetElement)
            return;
        var self = this;
        var _callbackBefore = this.callbackBefore;
        var callbackBefore = function (element) {
            if (_callbackBefore)
                _callbackBefore(self.scrollTo);
        };
        var _callbackAfter = this.callbackAfter;
        var callbackAfter = function (element) {
            if (_callbackAfter)
                _callbackAfter(self.scrollTo);
        };
        new SmoothScroll(this.targetElement, {
            duration: this.duration,
            offset: this.offset,
            easing: this.easing,
            callbackBefore: callbackBefore,
            callbackAfter: callbackAfter,
            containerId: this.containerId
        });
    };
    
    return SmoothScrollToDirective;
}());
__decorate$129([
    _angular_core.Input(),
    __metadata$109("design:type", Object)
], exports.SmoothScrollToDirective.prototype, "scrollTo", void 0);
__decorate$129([
    _angular_core.Input(),
    __metadata$109("design:type", Number)
], exports.SmoothScrollToDirective.prototype, "duration", void 0);
__decorate$129([
    _angular_core.Input(),
    __metadata$109("design:type", Number)
], exports.SmoothScrollToDirective.prototype, "offset", void 0);
__decorate$129([
    _angular_core.Input(),
    __metadata$109("design:type", String)
], exports.SmoothScrollToDirective.prototype, "easing", void 0);
__decorate$129([
    _angular_core.Input(),
    __metadata$109("design:type", Object)
], exports.SmoothScrollToDirective.prototype, "callbackBefore", void 0);
__decorate$129([
    _angular_core.Input(),
    __metadata$109("design:type", Object)
], exports.SmoothScrollToDirective.prototype, "callbackAfter", void 0);
__decorate$129([
    _angular_core.Input(),
    __metadata$109("design:type", String)
], exports.SmoothScrollToDirective.prototype, "containerId", void 0);
__decorate$129([
    _angular_core.HostListener('click'),
    __metadata$109("design:type", Function),
    __metadata$109("design:paramtypes", []),
    __metadata$109("design:returntype", void 0)
], exports.SmoothScrollToDirective.prototype, "onClick", null);
exports.SmoothScrollToDirective = __decorate$129([
    _angular_core.Directive({
        selector: '[scrollTo]'
    })
    /**
    * SmoothScrollToDirective
    * Direttiva di controllo del movimento della pagina.
    * I suoi parametri sono:
    *	scrollTo: definisce l'Id html da raggiungere
    *	duration: durata dello scrolling;
    *	offset: offset dello spostamento;
    *	easing: tipo di movimento desiderato;
    *	callbackBefore: funzione da chiamare prima;
    *	callbackAfter: funzione da chiamare dopo;
    *
    */
    ,
    __metadata$109("design:paramtypes", [])
], exports.SmoothScrollToDirective);
var SmoothScroll = (function () {
    function SmoothScroll(element, options) {
        this.smoothScroll(element, options);
    }
    SmoothScroll.prototype.smoothScroll = function (element, options) {
        options = options || {};
        // Options
        var duration = options.duration || 800, offset = options.offset || 0, easing = options.easing || 'easeInOutQuart', callbackBefore = options.callbackBefore || function () { }, callbackAfter = options.callbackAfter || function () { }, container = document.getElementById(options.containerId) || null, containerPresent = (container != undefined && container != null);
        /**
         * Legge la posizione corrente
         */
        var getScrollLocation = function () {
            if (containerPresent) {
                return container.scrollTop;
            }
            else {
                if (window.pageYOffset) {
                    return window.pageYOffset;
                }
                else {
                    return document.documentElement.scrollTop;
                }
            }
        };
        /**
         * easing pattern:
         *
         * @see http://archive.oreilly.com/pub/a/server-administration/excerpts/even-faster-websites/writing-efficient-javascript.html
         */
        var getEasingPattern = function (type, time) {
            switch (type) {
                case 'easeInQuad': return time * time; // accelerating from zero velocity
                case 'easeOutQuad': return time * (2 - time); // decelerating to zero velocity
                case 'easeInOutQuad': return time < 0.5 ? 2 * time * time : -1 + (4 - 2 * time) * time; // acceleration until halfway, then deceleration
                case 'easeInCubic': return time * time * time; // accelerating from zero velocity
                case 'easeOutCubic': return (--time) * time * time + 1; // decelerating to zero velocity
                case 'easeInOutCubic': return time < 0.5 ? 4 * time * time * time : (time - 1) * (2 * time - 2) * (2 * time - 2) + 1; // acceleration until halfway, then deceleration
                case 'easeInQuart': return time * time * time * time; // accelerating from zero velocity
                case 'easeOutQuart': return 1 - (--time) * time * time * time; // decelerating to zero velocity
                case 'easeInOutQuart': return time < 0.5 ? 8 * time * time * time * time : 1 - 8 * (--time) * time * time * time; // acceleration until halfway, then deceleration
                case 'easeInQuint': return time * time * time * time * time; // accelerating from zero velocity
                case 'easeOutQuint': return 1 + (--time) * time * time * time * time; // decelerating to zero velocity
                case 'easeInOutQuint': return time < 0.5 ? 16 * time * time * time * time * time : 1 + 16 * (--time) * time * time * time * time; // acceleration until halfway, then deceleration
                default: return time;
            }
        };
        /**
         * Calcola la distanza dello scrolling
         */
        var getEndLocation = function (element) {
            var location = 0;
            if (element.offsetParent) {
                do {
                    location += element.offsetTop;
                    element = element.offsetParent;
                } while (element);
            }
            location = Math.max(location - offset, 0);
            return location;
        };
        // Initializzazione
        setTimeout(function () {
            var currentLocation = null, startLocation = getScrollLocation(), endLocation = getEndLocation(element), timeLapsed = 0, distance = endLocation - startLocation, percentage, position, scrollHeight, internalHeight;
            /**
             * Stop l'animazione dello scrolling animation quando l'ancora  raggiunta (o  il top/bottom della pagina)
             */
            var stopAnimation = function () {
                currentLocation = getScrollLocation();
                if (containerPresent) {
                    scrollHeight = container.scrollHeight;
                    internalHeight = container.clientHeight + currentLocation;
                }
                else {
                    scrollHeight = document.body.scrollHeight;
                    internalHeight = window.innerHeight + currentLocation;
                }
                if ((position == endLocation) ||
                    (currentLocation == endLocation) ||
                    (internalHeight >= scrollHeight)) {
                    clearInterval(runAnimation);
                    callbackAfter(element);
                }
            };
            /**
             * Scroll la pagina di un incremento e controlla se  il caso di fermarsi
             */
            var animateScroll = function () {
                timeLapsed += 16;
                percentage = (timeLapsed / duration);
                percentage = (percentage > 1) ? 1 : percentage;
                position = startLocation + (distance * getEasingPattern(easing, percentage));
                if (containerPresent) {
                    container.scrollTop = position;
                }
                else {
                    window.scrollTo(0, position);
                }
                stopAnimation();
            };
            callbackBefore(element);
            var runAnimation = setInterval(animateScroll, 16);
        }, 0);
    };
    return SmoothScroll;
}());

var __decorate$130 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$110 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$25 = 0;
exports.NbpFilterComponent = (function () {
    function NbpFilterComponent() {
        /**
        * colore componente selettore
        * Valori possibili: check, default, outline, primary, profile, secondary
        */
        this.backgroundgray = exports.NbpStyle.BACKGROUNDGRAY;
        this.backgroundgreen = exports.NbpStyle.BACKGROUNDGREEN;
        this.check = exports.NbpStyle.CHECK;
        this.default = exports.NbpStyle.DEFAULT;
        this.outline = exports.NbpStyle.OUTLINE;
        this.primary = exports.NbpStyle.PRIMARY;
        this.profile = exports.NbpStyle.PROFILE;
        this.secondary = exports.NbpStyle.SECONDARY;
        this.opened = false;
        /**
        * id univoco che identifica il selettore
        * Se nessun id  fornito e' auto-generato: select-1,select-2,select-3,.....
        */
        this.id = "select-" + ++nextId$25;
        this.message = "Eventuale sezione";
        /**
         * Evento generato dal tasto conferma
         */
        this.searchEvent = new _angular_core.EventEmitter();
        /**
         * Evento generato dal tasto annulla
         */
        this.deleteEvent = new _angular_core.EventEmitter();
        this.labelVirgola = "";
        this.valoriFiltriSettati = "";
    }
    NbpFilterComponent.prototype.ngOnInit = function () {
        this.clearFields();
    };
    NbpFilterComponent.prototype.toggle = function () {
        this.opened = !this.opened;
    };
    NbpFilterComponent.prototype.searchFields = function () {
        var _this = this;
        this.opened = false;
        this.valoriFiltriSettati = "";
        this.results = [];
        this.selectedItems.forEach(function (element) {
            if (element.value)
                if (_this.valoriFiltriSettati) {
                    if (_this.labelVirgola)
                        _this.valoriFiltriSettati = _this.valoriFiltriSettati + ", " + _this.labelVirgola;
                    _this.labelVirgola = element.label;
                }
                else
                    _this.valoriFiltriSettati = element.label;
            if (element.type == "combo")
                _this.results.push({
                    type: "combo",
                    value: element.value
                });
            if (element.type == "input")
                _this.results.push({
                    type: "input",
                    value: element.value
                });
        });
        this.searchEvent.emit(this.results);
    };
    NbpFilterComponent.prototype.clearFields = function () {
        var _this = this;
        this.valoriFiltriSettati = "";
        this.searchEvent.emit([]);
        this.itemsDataSource = new Array();
        this.selectedItems = new Array();
        this.itemsView.forEach(function (element) {
            _this.itemsDataSource.push(new NbpDataSource(element.data));
            if (element.type == "combo")
                _this.selectedItems.push({
                    type: "combo",
                    label: element.label,
                    value: null
                });
            if (element.type == "input")
                _this.selectedItems.push({
                    type: "input",
                    label: element.label,
                    value: null
                });
        });
    };
    NbpFilterComponent.prototype.annulla = function () {
        this.valoriFiltriSettati = "";
        this.searchEvent.emit([]);
        this.deleteEvent.emit();
    };
    return NbpFilterComponent;
}());
__decorate$130([
    _angular_core.Input(),
    __metadata$110("design:type", String)
], exports.NbpFilterComponent.prototype, "id", void 0);
__decorate$130([
    _angular_core.Input(),
    __metadata$110("design:type", Array)
], exports.NbpFilterComponent.prototype, "itemsView", void 0);
__decorate$130([
    _angular_core.Input(),
    __metadata$110("design:type", String)
], exports.NbpFilterComponent.prototype, "message", void 0);
__decorate$130([
    _angular_core.Output(),
    __metadata$110("design:type", Object)
], exports.NbpFilterComponent.prototype, "searchEvent", void 0);
__decorate$130([
    _angular_core.Output(),
    __metadata$110("design:type", Object)
], exports.NbpFilterComponent.prototype, "deleteEvent", void 0);
exports.NbpFilterComponent = __decorate$130([
    _angular_core.Component({
        selector: 'nbp-filter',
        template: "<div class=\"pull-right hover\" style=\"margin-right:40px\"><div style=\"display:inline-block\" [ngClass]=\"opened ? 'success-container-open' : 'success-container-close'\"><span (click)=\"toggle()\" class=\"success-icon\" [ngClass]=\"{'icomoon-FiltroInLista2': !opened, 'icomoon-FiltroInLista22': opened}\"></span> <span (click)=\"toggle()\" class=\"success-icon on-hover icomoon-FiltroInLista22\" *ngIf=\"!opened\"></span></div><div style=\"display:inline-block;\" class=\"centraCercaFiltra\"><div (click)=\"toggle()\" class=\"cercaFiltra1\">CERCA</div><div (click)=\"toggle()\" class=\"cercaFiltra2\">E FILTRA</div></div></div><div class=\"row\" *ngIf=\"valoriFiltriSettati\" style=\"margin-top:20px\"><div class=\"hoverCancellaFiltri\" style=\"display:table; margin-left:9px\"><div style=\"display:table-cell;  vertical-align: middle;\">Ricerca effettuata per <span style=\"font-weight: bold;\">{{valoriFiltriSettati}}</span> <span *ngIf=\"labelVirgola\">e </span><span style=\"font-weight: bold;\">{{labelVirgola}}</span></div><div style=\"display:table-cell;width:35px\"></div><div style=\"display:table-cell; vertical-align: middle;\" class=\"icon-valori-filtri-settati\"><span (click)=\"clearFields()\" class=\"icomoon-Modifica_gomma success-icon-gomma\"></span></div><div style=\"display:table-cell;width:12px\"></div><div style=\"display:table-cell; vertical-align: middle;\" (click)=\"clearFields()\" class=\"cancella-filtri hoverCancellaFiltri\">CANCELLA FILTRI</div></div></div><div class=\"col-md-24 col-sm-24 col-xs-24\" style=\"margin-top:-4px\"><div *ngIf=\"opened\" style=\"text-align:right\"><div class=\"row arrow-filter\" style=\"margin-bottom:-7px; z-index: 1;\"></div><div class=\"row filter-panel\" style=\"z-index: 0;\"><div class=\"row text-center mrg-t-20 info-filter mrg-b--10\"><span>Eventuale <strong>guida</strong> o su come utilizzare i <strong>filtri e la ricerca</strong></span><br><span>o introduzione all'argomento trattato.</span></div><nbp-dividing-line class=\"row\" nbpTitle=\"{{message}}\"></nbp-dividing-line><div class=\"row\" style=\"color:rgb(50, 50, 50); text-align:center;\"><ng-container *ngFor=\"let item of itemsView; index as idx;\"><div *ngIf=\"idx % 3 == 0\" class=\"col col-md-1 col-sm-1 col-xs-1\"></div><div *ngIf=\"item.type=='combo'\" class=\"col col-md-6 col-sm-6 col-xs-6\"><nbp-input-container [nbpLabel]=\"item.label\"><nbp-combo [name]=\"item.id\" [nbpDataSource]=\"itemsDataSource[idx]\" [placeholder]=\"item.placeholder\" [nbpViewField]=\"item.viewField\" [required]=\"item.required\" [(ngModel)]=\"selectedItems[idx].value\"></nbp-combo></nbp-input-container></div><div *ngIf=\"item.type=='input'\" class=\"col col-md-6 col-sm-6 col-xs-6\"><nbp-input-container [nbpLabel]=\"item.label\" style=\"font-family:Arial\"><nbp-input-text [name]=\"item.id\" [placeholder]=\"item.placeholder\" [required]=\"required\" [(ngModel)]=\"selectedItems[idx].value\"></nbp-input-text></nbp-input-container></div><div class=\"col col-md-2 col-sm-2 col-xs-2\"></div></ng-container></div><div class=\"row button-group-filter\"><div class=\"col-md-1 col-sm-1 col-xs-1\"></div><div class=\"col-md-3 col-sm-3 col-xs-3\" style=\"text-align:left\"><nbp-button [nbpLabel]=\"'Annulla'\" [nbpStyle]=\"backgroundgreen\" (nbpClick)=\"annulla()\"></nbp-button></div><div class=\"col-md-4 col-sm-4 col-xs-4\" style=\"cursor: pointer; text-align:left\" (click)=\"clearFields()\"><div style=\"min-width: 150px;\"><span (click)=\"clearFields()\" class=\"gomma icomoon-Modifica_gomma\" style=\"margin-left:.3em;\"></span><div (click)=\"clearFields()\" style=\"display:inline-block;color:black;margin-left:.65em;\"><div class=\"gomma_txt\">CANCELLA</div><div class=\"gomma_txt\" style=\"margin-top: -5px;\">TUTTI I CAMPI</div></div></div></div><div class=\"col-md-12 col-sm-11 col-xs-11\"></div><div class=\"col-md-3 col-sm-3 col-xs-3\"><nbp-button [nbpLabel]=\"'Cerca'\" [nbpStyle]=\"primary\" (nbpClick)=\"searchFields()\"></nbp-button></div></div></div></div></div>",
        styles: [".navbar-default{background:0 0;border:none}#main-header{margin:0;position:relative}.main-header-container{padding:0;width:100%!important}.main-content{min-height:100%;animation:fadein 1s;padding-top:1.25em}.footer{background-color:#323232;padding-top:.625em;padding-bottom:.625em;margin-top:1.875em;color:#fff;border-bottom:.375em solid #000;position:relative;width:100%;z-index:2}@media (min-width:768px){.main-page{padding-bottom:6.625em}.footer{min-height:.625em;margin-bottom:0;margin-right:2.5em}}@media (min-width:992px){.footer{margin-top:1.25em;margin-right:12.5em}}:host-context(.contrasto-on) .footer{background-color:#000}.success-container-open{width:35px;height:35px;cursor:pointer;position:absolute;margin-left:-40px;margin-top:-2px;background-color:#fff;color:#258900}.hover:hover .success-container-close .success-icon.on-hover{display:inline}.hover:hover .success-container-close .success-icon{display:none}.mrg-t-20{margin-top:20px}.mrg-b--10{margin-bottom:-10px}.info-filter{color:#323232}.success-container-close{width:35px;height:35px;cursor:pointer;position:absolute;margin-left:-40px;margin-top:-2px;background-color:#fff;color:#258900}.success-container-close:hover .success-icon.on-hover{display:inline}.success-container-close:hover .success-icon{display:none}.success-container-close .success-icon.on-hover{display:none}.icon-valori-filtri-settati{width:35px;height:35px;cursor:pointer;border-radius:25px;position:relative;background-color:#fff;color:#258900;border:1px solid #258900}.icon-valori-filtri-settati:hover{background-color:#258900;color:#fff}.container-filtrisettati{width:35px;height:35px;cursor:pointer;border-radius:25px;position:absolute;background-color:#fff;color:#258900;border:1px solid #258900}.container-filtrisettati:hover{background-color:#258900;color:#fff}.arrow-filter{display:inline-block;position:relative;width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:12px solid #ccc;margin-right:122px}.arrow-filter::before{content:'';position:absolute;top:2px;width:0;height:0;border-left:11px solid transparent;border-right:11px solid transparent;border-bottom:11px solid #f2f2f2;left:-10.5px}.success-icon{width:35px;height:35px;font-size:35px;cursor:pointer;position:absolute;top:-15%;left:-1%}.success-icon-gomma{width:20px;height:20px;font-size:20px;cursor:pointer;position:absolute;top:12%;left:20%}.cancella-filtri{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;text-align:left;font-size:11px;cursor:pointer;padding:0;border:0;margin:0}.centraCercaFiltra{margin-top:-1px}.cercaFiltra1{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;width:70px;text-align:left;cursor:pointer;padding:0;border:0;margin:0;margin-left:6px}.cercaFiltra2{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;width:70px;text-align:left;cursor:pointer;padding:0;border:0;margin:0;margin-top:-2px;margin-left:6px}.ricercaEffettuata{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;width:800px;text-align:left;font-size:11px;cursor:pointer;padding:0;border:0;margin:0}.hoverCancellaFiltri:hover>.icon-valori-filtri-settati{background-color:#258900;color:#fff}.filter-panel{background-color:#f2f2f2;color:#fff;width:100%;border:.5px solid #ccc}.button-group-filter{margin-top:20px;margin-bottom:20px}.gomma{font-size:2.5em;vertical-align:middle;color:green;background-color:transparent}.gomma_txt{margin-top:.75em;margin:0;padding:0;text-align:left;vertical-align:middle;color:#258900;font-size:.75em;font-weight:700;text-transform:uppercase}:host-context(.contrasto-on) .success-container-open{background-color:#fff;color:#000}:host-context(.contrasto-on) .success-container-close{background-color:#fff;color:#000}:host-context(.contrasto-on) .success-container-close:hover{background-color:#fff;color:#000}:host-context(.contrasto-on) .icon-valori-filtri-settati{background-color:#fff;color:#000;border:1px solid #000}:host-context(.contrasto-on) .icon-valori-filtri-settati:hover{background-color:#000;color:#fff}:host-context(.contrasto-on) .container-filtrisettati{background-color:#fff;color:#000;border:1px solid #000}:host-context(.contrasto-on) .container-filtrisettati:hover{background-color:#000;color:#fff}:host-context(.contrasto-on) .arrow-filter{border-bottom:12px solid #000}:host-context(.contrasto-on) .arrow-filter::before{border-bottom:11px solid #fff}:host-context(.contrasto-on) .cancella-filtri{color:#000}:host-context(.contrasto-on) .cercaFiltra1{color:#000}:host-context(.contrasto-on) .cercaFiltra2{color:#000}:host-context(.contrasto-on) .ricercaEffettuata{color:#000}:host-context(.contrasto-on) .hoverCancellaFiltri:hover>.icon-valori-filtri-settati{background-color:#000;color:#fff}:host-context(.contrasto-on) .filter-panel{background-color:#fff;color:#000;border:.5px solid #000}:host-context(.contrasto-on) .gomma{color:#000;background-color:transparent}:host-context(.contrasto-on) .gomma_txt{color:#000} /*# sourceMappingURL=nbp-filter.component.css.map */ "]
    }),
    __metadata$110("design:paramtypes", [])
], exports.NbpFilterComponent);

var __decorate$131 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$111 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// import { TooltipComponent } from '../tooltip/tooltip.component';
exports.NbpSpinnerGenericComponent = (function () {
    function NbpSpinnerGenericComponent() {
        this.minValue = 0;
        this.maxValue = 0;
        this.spinnerValue = 0;
        this.stepValue = 0;
        /**
       * Booleano che indica se mostrare icona e tooltip nell'intestazione del componente
       */
        this.showHelpTooltip = false;
        /**
         * (Opzionale) Enum che definisce il la posizione del tooltip rispetto alloggetto al quale  ancorato:
         * Top | Right | Bottom | Left | Top-Left | Top-Right | Bottom-Left | Bottom-Right
         * Default: Top
         */
        this.tooltipHelpPosition = 'Top';
        /**
         * Propriet che definisce la grandezza del tooltip, tramite l'enum NbpSize
         * valore di default: NbpSize.SM
         */
        this.tooltipHelpSize = exports.NbpSize.MD;
        /**
         * Stringa che definisce la classe dell'icona da mostrare
         */
        this.tooltipHelpIcon = 'icomoon-Simboli_Risorsa-1';
        /**
         * Propriet che definisce la grandezza del tooltip, tramite l'enum NbpSize
         * valore di default: NbpSize.SM
         */
        this.tooltipLeftSize = exports.NbpSize.MD;
        /**
         * Propriet che definisce la grandezza del tooltip, tramite l'enum NbpSize
         * valore di default: NbpSize.SM
         */
        this.tooltipRightSize = exports.NbpSize.MD;
        this.toggleValidationMessage = false;
        this.errorMessage = 'Testo custom di errore';
        this.required = true;
        this.disabled = false;
    }
    NbpSpinnerGenericComponent.prototype._onSubtractClick = function (num) {
        if (this.spinnerValue == null || this.spinnerValue == undefined || String(this.spinnerValue).trim() == "") {
            this.spinnerValue = 0;
        }
        if (Number(this.spinnerValue) == NaN)
            return;
        this.spinnerValue = Number(this.spinnerValue);
        this.spinnerValue = this.spinnerValue - this.stepValue;
        if (this.spinnerValue <= this.minValue) {
            this.spinnerValue = this.minValue;
            this.tooltipLeft._open();
        }
    };
    NbpSpinnerGenericComponent.prototype._onAddClick = function (num) {
        if (this.spinnerValue == null || this.spinnerValue == undefined || String(this.spinnerValue).trim() == "") {
            this.spinnerValue = 0;
        }
        if (Number(this.spinnerValue) == NaN)
            return;
        this.spinnerValue = Number(this.spinnerValue);
        this.spinnerValue = this.spinnerValue + this.stepValue;
        if (this.spinnerValue >= this.maxValue) {
            this.spinnerValue = this.maxValue;
            this.tooltipRight._open();
        }
    };
    NbpSpinnerGenericComponent.prototype.checkSpinnerValue = function () {
        var _this = this;
        setTimeout(function () {
            if (_this.spinnerValue > _this.maxValue) {
                _this.spinnerValue = _this.maxValue;
                _this.tooltipRight._open();
            }
            else if (_this.spinnerValue < _this.minValue) {
                _this.spinnerValue = _this.minValue;
                _this.tooltipLeft._open();
            }
        }, 0);
    };
    NbpSpinnerGenericComponent.prototype.ngOnInit = function () {
        this.runIE = this.detectIE();
        //this.tooltipHelpPosition = "Bottom-Left"
    };
    NbpSpinnerGenericComponent.prototype.detectIE = function () {
        var ua = window.navigator.userAgent;
        var msie = ua.indexOf('MSIE ');
        if (msie > 0) {
            return true;
        }
        var trident = ua.indexOf('Trident/');
        if (trident > 0) {
            return true;
        }
        return false;
    };
    return NbpSpinnerGenericComponent;
}());
__decorate$131([
    _angular_core.ViewChild('tooltipLeft'),
    __metadata$111("design:type", exports.NbpTooltipComponent)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipLeft", void 0);
__decorate$131([
    _angular_core.ViewChild('tooltipRight'),
    __metadata$111("design:type", exports.NbpTooltipComponent)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipRight", void 0);
__decorate$131([
    _angular_core.Input('label'),
    __metadata$111("design:type", String)
], exports.NbpSpinnerGenericComponent.prototype, "labelSpinner", void 0);
__decorate$131([
    _angular_core.Input('min'),
    __metadata$111("design:type", Number)
], exports.NbpSpinnerGenericComponent.prototype, "minValue", void 0);
__decorate$131([
    _angular_core.Input('max'),
    __metadata$111("design:type", Number)
], exports.NbpSpinnerGenericComponent.prototype, "maxValue", void 0);
__decorate$131([
    _angular_core.Input('value'),
    __metadata$111("design:type", Object)
], exports.NbpSpinnerGenericComponent.prototype, "spinnerValue", void 0);
__decorate$131([
    _angular_core.Input('step'),
    __metadata$111("design:type", Number)
], exports.NbpSpinnerGenericComponent.prototype, "stepValue", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", Boolean)
], exports.NbpSpinnerGenericComponent.prototype, "showHelpTooltip", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", String)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipHelpPosition", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", String)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipHelpVisibility", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", String)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipHelpText", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", Object)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipHelpSize", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", String)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipHelpIcon", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", String)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipLeftText", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", Object)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipLeftSize", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", String)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipRightText", void 0);
__decorate$131([
    _angular_core.Input(),
    __metadata$111("design:type", Object)
], exports.NbpSpinnerGenericComponent.prototype, "tooltipRightSize", void 0);
exports.NbpSpinnerGenericComponent = __decorate$131([
    _angular_core.Component({
        selector: 'nbp-spinner-generic',
        template: "<nbp-input-container nbpLabel=\"{{labelSpinner}}\"><div style=\"display: inline-flex;\"><div class=\"spinner-container\" [ngStyle]=\"{'width': showHelpTooltip ? '80%' : '100%' }\"><button class=\"spinner-button left\" (click)=\"_onSubtractClick($event)\" [disabled]=\"spinnerValue <= minValue || disabled\"><span class=\"icomoon-Simboli_Risorsa-27 icon-spinner\"></span></button> <span class=\"spinner-tooltip-left\"><nbp-tooltip #tooltipLeft [nbpVisibilityStrategy]=\"'click'\" [nbpSize]=\"tooltipLeftSize\" [nbpText]=\"tooltipLeftText\"></nbp-tooltip></span><input (ngModelChange)=\"checkSpinnerValue()\" name=\"spinnerValue\" class=\"spinner-input\" [(ngModel)]=\"spinnerValue\" [min]=\"minValue\" [max]=\"maxValue\" autocomplete=\"off\"> <span class=\"spinner-tooltip-right\"><nbp-tooltip #tooltipRight [nbpVisibilityStrategy]=\"'click'\" [nbpSize]=\"tooltipRightSize\" [nbpText]=\"tooltipRightText\"></nbp-tooltip></span><button class=\"spinner-button right\" (click)=\"_onAddClick($event)\" [disabled]=\"spinnerValue >= maxValue || disabled\"><span class=\"icomoon-Simboli_Risorsa-23 icon-spinner\"></span></button></div><div><nbp-tooltip style=\"display:inline-block; margin-top: 0.4em\" *ngIf=\"showHelpTooltip\" [nbpSize]=\"tooltipHelpSize\" [nbpPosition]=\"tooltipHelpPosition\" [nbpVisibilityStrategy]=\"tooltipHelpVisibility\" [nbpText]=\"tooltipHelpText\"><span class=\"{{tooltipHelpIcon}}\" style=\"font-size:30px; margin-left:10px;\" [ngStyle]=\"{'vertical-align': !runIE ? 'middle' : '' }\"></span></nbp-tooltip></div></div></nbp-input-container>",
        styles: [":host(.ng-dirty.ng-invalid.nbp-show-validation) .spinner-container{background-color:#fff;border:2px solid #c63200;border-radius:2px}.spinner-tooltip-left{position:relative;left:-12px;top:-30px}.spinner-tooltip-right{position:relative;right:-12px;top:-30px}.spinner-container{display:inline-flex;background-color:#fff;border:1px solid #323232;border-radius:2px;padding:4px;height:50px}.spinner-container:disabled{background-color:#ccc}.spinner-container .spinner-button{width:30px;height:40px;background-color:#258900;color:#fff;border:none;border-radius:2px;padding:0;padding-bottom:2px}.spinner-container .spinner-button:disabled{opacity:.5}.spinner-container .spinner-button.left{float:left}.spinner-container .spinner-button.right{float:right}.spinner-container .spinner-input{width:calc(100% - 60px);border:none;height:40px;text-align:center;font-size:1em;color:#323232}.spinner-container .spinner-input ::-ms-clear{display:none}.spinner-container .spinner-input ::-webkit-inner-spin-button,.spinner-container .spinner-input ::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.icon-spinner{vertical-align:middle}:host-context(.contrasto-on) :host(.ng-dirty.ng-invalid.nbp-show-validation) .spinner-container{background-color:#fff;border-color:#000}:host-context(.contrasto-on) .spinner-container{background-color:#fff;border-color:#000}:host-context(.contrasto-on) .spinner-container:disabled{background-color:#000;color:#fff}:host-context(.contrasto-on) .spinner-container .spinner-button{background-color:#000;color:#fff;padding-bottom:2px}:host-context(.contrasto-on) .spinner-container .spinner-button:disabled{background-color:#fff;color:#000}:host-context(.contrasto-on) .spinner-container .spinner-input{color:#000} /*# sourceMappingURL=nbp-spinner-generic.component.css.map */ "],
    }),
    __metadata$111("design:paramtypes", [])
], exports.NbpSpinnerGenericComponent);

var __decorate$132 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$112 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpStickyTabGenericComponent = (function () {
    function NbpStickyTabGenericComponent() {
        // items: ITabItem<any>[];
        //index: number;
        /**
         * headerTab: array degli elementi da visualizzare nei Tab.
         */
        this.items = [];
        /**
         * headerTab: Tab selezionato.
         */
        this.selectedTab = 1;
        /**
         * posStickyOn: number. Valore di offset dello scrolling a partire dal quale viene attivato la modalit Sticky
         */
        this.posStickyOn = 70;
        /**
         * tabChange: Evento generato al cambio tab.
         */
        this.tabChange = new _angular_core.EventEmitter();
        // variable locale uso interno 
        this.sticky = false;
    }
    NbpStickyTabGenericComponent.prototype.selectTab = function (num) {
        this.selectedTab = num;
    };
    NbpStickyTabGenericComponent.prototype.onTabChange = function (idx) {
        this.tabChange.emit(idx);
    };
    NbpStickyTabGenericComponent.prototype.onWindowScroll = function () {
        var number = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        // console.log(number)
        if (number > this.posStickyOn) {
            this.sticky = true;
        }
        else {
            this.sticky = false;
        }
        //we'll do some stuff here when the window is scrolled
    };
    return NbpStickyTabGenericComponent;
}());
__decorate$132([
    _angular_core.Input(),
    __metadata$112("design:type", Array)
], exports.NbpStickyTabGenericComponent.prototype, "items", void 0);
__decorate$132([
    _angular_core.Input(),
    __metadata$112("design:type", Number)
], exports.NbpStickyTabGenericComponent.prototype, "selectedTab", void 0);
__decorate$132([
    _angular_core.Input(),
    __metadata$112("design:type", Number)
], exports.NbpStickyTabGenericComponent.prototype, "posStickyOn", void 0);
__decorate$132([
    _angular_core.Output(),
    __metadata$112("design:type", Object)
], exports.NbpStickyTabGenericComponent.prototype, "tabChange", void 0);
__decorate$132([
    _angular_core.HostListener("window:scroll", []),
    __metadata$112("design:type", Function),
    __metadata$112("design:paramtypes", []),
    __metadata$112("design:returntype", void 0)
], exports.NbpStickyTabGenericComponent.prototype, "onWindowScroll", null);
exports.NbpStickyTabGenericComponent = __decorate$132([
    _angular_core.Component({
        selector: 'nbp-sticky-tab-generic',
        template: "<div style=\"min-height: 100%; overflow-x: hidden;\"><div class=\"row\"><nbp-tab-bar [ngClass]=\"{'sticky':sticky}\" [nbpItems]=\"items\" [nbpSelectedIndex]=\"selectedTab\" (nbpSelectedIndexChange)=\"onTabChange($event)\"></nbp-tab-bar></div></div>",
        styles: [":host /deep/ .tabs-container .tab-title{font-family:Arial;font-weight:Bold;font-size:.75em!important}:host /deep/ .tabs-container i{font-size:32px!important}:host /deep/ .tabs-container .tab-container{min-width:184px!important;min-height:5.375em!important;max-height:5.375em!important;background-color:#eee!important}:host /deep/ .tabs-container .tab-container.selected.enabledTab{background-color:#fff!important;border:.0625em solid transparent!important}:host /deep/ .tabs-container .tab-container.enabledTab{border:.0625em solid #eee!important}:host /deep/ .tabs-container .tab-container.disabledTab{border:.0625em solid #eee!important}.sticky{top:55px;z-index:1030} /*# sourceMappingURL=nbp-sticky-tab-generic.component.css.map */ "]
    }),
    __metadata$112("design:paramtypes", [])
], exports.NbpStickyTabGenericComponent);

var __extends$29 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$133 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$113 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpHeaderGenericNoTranslateComponent = (function (_super) {
    __extends$29(NbpHeaderGenericNoTranslateComponent, _super);
    function NbpHeaderGenericNoTranslateComponent(http, router) {
        return _super.call(this, http, router) || this;
    }
    return NbpHeaderGenericNoTranslateComponent;
}(exports.NbpHeaderGenericComponent));
exports.NbpHeaderGenericNoTranslateComponent = __decorate$133([
    _angular_core.Component({
        selector: 'nbp-header-generic-no-translate',template: "<div class=\"header\"><div class=\"navbar\" id=\"header-navbar\"><div class=\"container\" style=\"display: table;\"><div *ngIf=\"logoJson; then logoAlternativo else logoTradizionale\"></div><ng-template #logoTradizionale><div class=\"navbar-logo pull-left col-md-14 col-sm-4 col-xs-4\" style=\"top: 8px; left:-14px\"><label class=\"nome-applicativo\">{{name}}</label> <a class=\"navbar-logo-brand-small\" (click)=\"iconClick()\"><span class=\"sr-only\">Intesa San Paolo</span></a></div></ng-template><ng-template #logoAlternativo><div class=\"navbar-logo pull-left col-md-14 col-sm-4 col-xs-4\" style=\"top: 8px; left:-14px\"><img src=\"{{logoJson.urlImage}}\" [ngStyle]=\"{ 'height': logoJson.height, 'width': logoJson.width}\"> <a class=\"navbar-logo-brand-small\" (click)=\"iconClick()\"><span class=\"sr-only\">Intesa San Paolo</span></a></div></ng-template><div class=\"navbar-toggle pull-right col-md-4 col-sm-8 col-xs-8\" (click)=\"openTab()\" [ngClass]=\"{'navbar-toggle-open': isMenuOpen()}\"><button type=\"button\"><span class=\"icon {{isMenuOpen() ? 'ico-comuni-chiudi' : 'ico-navbar-menu'}}\"></span><div [ngClass]=\"{'menuMargin': !isMenuOpen()}\"><label style=\"color: #f8f8f8 !important; margin: 0 0 0 0.0em !important; cursor: pointer; font-size: 0.750em !important;\">Menu</label></div></button></div><div class=\"navbar-info-cliente col-md-6 col-sm-10 col-xs-10 pull-right\"><div><nbp-customer-info-generic [showArrow]=\"showClientArrow\" [alignRight]=\"alignClientRight\" [burger]=\"ChildBM\" [clientsInfo]=\"clients\" [clientTitle]=\"clientTitle\"></nbp-customer-info-generic></div></div><ng-content></ng-content></div><nbp-burger-menu-generic-no-translate #ChildBM [nbpMenu]=\"burger\"><nbp-logged-user-generic [nbpUser]=\"user\" (nbpLogout)=\"onLogout()\" (click)=\"userClick()\" disableLogout></nbp-logged-user-generic><div *ngIf=\"showExit\" class=\"exit-button-container\"><span class=\"exit-button\"><a (click)=\"exitClick()\"><table><tr><th class=\"exit-image-container\"><div class=\"icon icomoon-Sicurezza_Risorsa-19\"></div></th><th class=\"exit-info\"><span>Esci</span></th></tr></table></a></span></div></nbp-burger-menu-generic-no-translate></div></div>",
        styles: [".header{width:100%;background-color:#f2f2f2;box-shadow:0 0 1.25em -.625em rgba(0,0,0,.8)}.header .navbar{position:relative;border:0!important;border-radius:0!important;margin:0!important;left:0;right:0;width:100%;background-color:#258900}.header .navbar .container{display:table;position:relative;padding-right:0;background-color:#258900;height:3em}.header .navbar .container-slim{height:3.125em!important}.header .row{margin:0}.header-overlay{position:relative;top:0;left:0;width:100%;height:100%;background:#f2f2f2}.navbar .container .navbar-logo{display:table-cell;vertical-align:middle;width:17em}.navbar .container .navbar-toggle{display:table-cell;vertical-align:middle;width:5em;height:4.375em;background-color:transparent;border:0;border-radius:0;margin:0;padding:0;text-align:center;cursor:pointer}.navbar .container .navbar-toggle:hover{background:#323232}.navbar .container .navbar-toggle:focus{background:#323232}.navbar .container .navbar-toggle:active{background:#323232}.navbar .container .navbar-info-cliente{display:table-cell;vertical-align:middle;width:22.25em;height:4.375em;background-color:transparent;border-left:1px solid #fff;border-right:1px solid #fff;text-align:left;color:#fff;line-height:1em}.navbar .container .navbar-info-cliente .container-arrow{float:right;padding-top:1.25em;padding-right:1.5625em}.navbar .container .navbar-info-cliente .accordion-arrow{cursor:pointer;font-size:1.6em}.navbar .container .navbar-info-cliente .info-cliente-open{position:absolute;background-color:#323232;z-index:1000;width:22.25em;height:9.8125em;border:0;border-radius:0;text-align:center;margin-top:.5625em;display:table;margin-left:-6px}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-title{vertical-align:middle;height:2.3125em;display:table-cell}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente{vertical-align:middle;height:3.75em;border-top:1px solid #6f6f6f;display:table-cell;cursor:pointer;text-align:left}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente-select{vertical-align:middle;height:3.75em;border-top:1px solid #6f6f6f;display:table-cell;cursor:pointer;text-align:left;background-color:#3f3f3f;font-weight:700}.navbar .container .navbar-info-cliente .info-cliente-open .container-nsg-cliente-select .icon{float:right;color:#258900;padding-right:10px}.navbar .container .navbar-info-cliente .info-cliente-open .title-nsg-label{color:#ccc;text-transform:uppercase}.navbar .container .navbar-info-cliente .info-cliente-open .nsg-cliente{margin-left:1em;color:#ccc}.navbar .container .navbar-info-cliente .info-cliente-open .nsg-cliente-selected{margin-left:1em;color:#fff}.navbar .container .navbar-hole{display:table-cell;vertical-align:middle;margin-top:5px;margin-bottom:5px}.navbar-logo-brand{display:block;width:8.9375em;height:1.563em;background-image:url(/cjlib/assets/images/sprite2.png);background-repeat:no-repeat}.navbar-logo-brand-small{cursor:pointer;display:block;background-image:url(/cjlib/assets/images/sprite.png);background-repeat:no-repeat;width:8.9375em;height:1.563em;background-size:8.9375em;margin-top:3px}.navbar-toggle button{position:relative;top:50%;transform:translateY(-50%);border:none;background:0 0;outline:0}.navbar-toggle .icon-bar{width:1.875em;height:.125em;margin:.313em auto;background-color:#fff!important}.navbar-toggle .ico-navbar-menu{color:#fff;width:32px;height:21px;font-size:1.65em!important}.navbar-toggle .ico-navbar-menu:before{font-size:28px}.navbar-toggle .ico-comuni-chiudi{color:#fff;font-size:1.65em!important}.navbar-toggle .menuMargin{margin-top:-.2em}.navbar-toggle-operation button{position:relative;top:50%;transform:translateY(-50%);border:none;background:0 0;outline:0}.navbar-toggle-operation .icon-bar{width:1.875em;height:.125em;margin:.313em auto;background-color:#fff!important}.navbar-toggle-operation .icomoon-Modifica_matita{color:#fff;font-size:1.5em;margin:.313em auto}.navbar-toggle-operation span.labelOperazioni{color:#fff;font-size:.75em}.navbar-toggle-open{background:#323232!important}.nome-applicativo{position:relative;font-size:1.5em;margin-bottom:-.417em;color:#fff;font-weight:400}.header-paging-container,.header-progress-container{border-bottom:1px solid #ccc}@media (max-width:768px){.navbar .container{width:100%}}@media (-webkit-min-device-pixel-ratio:2){.navbar-logo-brand{background-image:url(/cjlib/assets/images/sprite.png)}}@media (min-resolution:192dpi){.navbar-logo-brand{background-image:url(/cjlib/assets/images/sprite.png)}}.triangolo{width:0;height:0;z-index:100;border-left:.625em solid transparent;border-right:.625em solid transparent;border-bottom:.625em solid #323232;float:right;margin-right:1.75em}.triangolo-hide{width:0;height:0;z-index:100;border-left:.625em solid transparent;border-right:.625em solid transparent;border-bottom:.625em solid transparent;float:right}.container-row{display:table-row}.container-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:78%;padding-left:.625em;font-weight:400;float:left}.voce-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:400}.testo-ident-cliente{margin-top:0;margin-bottom:0;font-size:.875em;color:inherit;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:700}@media (max-width:970px){.nome-applicativo{font-size:1.2em}}.exit-button-container{padding:0}[class*=\" ico-\"]:before{vertical-align:middle}.exit-button{margin:0}.exit-button a{color:#fa9600;display:table;padding:0 1.25em 0 1.25em;margin:.5em 0 .5em 0;text-decoration:none;cursor:pointer;width:100%;height:2.813em;width:19.375em}.exit-button a:active,.exit-button a:focus,.exit-button a:hover{background-color:#fa9600;color:#323232}.exit-button a table{width:100%;display:table-cell;vertical-align:middle}.exit-image-container div{vertical-align:middle;font-size:1.563em!important;margin:0!important}.exit-image-container img{position:relative;border-radius:50%;width:100%}.exit-info{padding-left:.625em;vertical-align:middle;line-height:1;font-weight:400}:host-context(.contrasto-on) .header{background-color:#fff}:host-context(.contrasto-on) .header .navbar{background-color:#000}:host-context(.contrasto-on) .header .navbar .container{background-color:#000}:host-context(.contrasto-on) .header .navbar-tape{background-color:#000}:host-context(.contrasto-on) .header-overlay{background:#fff}:host-context(.contrasto-on) .navbar .container .navbar-toggle{background-color:transparent}:host-context(.contrasto-on) .navbar .container .navbar-toggle:hover{background:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle:focus{background:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle:active{background:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation{background-color:transparent}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:hover{background:#fff;color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:hover .icomoon-Modifica_matita{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:hover span{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:focus{background:#fff;color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:focus .icomoon-Modifica_matita{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:focus span{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:active{background:#fff;color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:active .icomoon-Modifica_matita{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation:active span{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation.navbar-toggle-open{background:#fff!important;color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation.navbar-toggle-open .icomoon-Modifica_matita{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-toggle-operation.navbar-toggle-open span{color:#000}:host-context(.contrasto-on) .navbar .container .navbar-info-cliente{background-color:transparent;border-color:#fff;color:#fff}:host-context(.contrasto-on) .navbar-toggle .icon-bar{background-color:#fff!important}:host-context(.contrasto-on) .navbar-toggle .ico-comuni-chiudi,:host-context(.contrasto-on) .navbar-toggle .ico-navbar-menu,:host-context(.contrasto-on) .navbar-toggle .icomoon-Modifica_matita{color:#fff}:host-context(.contrasto-on) .navbar-toggle-open{background:#000!important}:host-context(.contrasto-on) .prev-page-btn-container .prev-page-btn{color:#000}:host-context(.contrasto-on) .page-title-container{border-color:#fff}:host-context(.contrasto-on) .nome-applicativo{color:#fff}:host-context(.contrasto-on) .header-paging-container,:host-context(.contrasto-on) .header-progress-container{border-color:#fff}:host-context(.contrasto-on) .triangolo{border-color:#fff;background:#000}:host-context(.contrasto-on) .container-ident-cliente{color:inherit}:host-context(.contrasto-on) .voce-ident-cliente{color:inherit}:host-context(.contrasto-on) .testo-ident-cliente{color:inherit}:host-context(.contrasto-on) .exit-button a{color:#fff}:host-context(.contrasto-on) .exit-button a:active,:host-context(.contrasto-on) .exit-button a:focus,:host-context(.contrasto-on) .exit-button a:hover{background-color:#fff;color:#000} /*# sourceMappingURL=nbp-header-generic-no-translate.component.css.map */ "]
    }),
    __metadata$113("design:paramtypes", [_angular_http.Http, _angular_router.Router])
], exports.NbpHeaderGenericNoTranslateComponent);

var __decorate$134 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$114 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpBurgerMenuGenericNoTranslateComponent = (function () {
    function NbpBurgerMenuGenericNoTranslateComponent(router, activatedRoute) {
        this.router = router;
        this.activatedRoute = activatedRoute;
        /**
         * (Opzionale) booleano per disabilitare la possibilit di fare logout.
         * Valore default false
         */
        this.nbpDisableLogout = false;
        /**
         * Evento emesso sulla pressione del logout.
         * @param {EventEmitter<INbpUser>}  nbpOnLogout
         */
        this.nbpOnLogout = new _angular_core.EventEmitter();
        /**
         * Evento emesso sulla pressione di ogni voce di menu'.
         * @param {EventEmitter<INbpItemMenu>}  nbpOnItemClick
         */
        this.nbpOnItemClick = new _angular_core.EventEmitter();
        /**
         * Evento emesso all'apertura del burgerMenu.
         * @param {EventEmitter<any>}  nbpOnOpen
         */
        this.nbpOnOpen = new _angular_core.EventEmitter();
        /**
         * Evento emesso alla chiusure del burgerMenu.
         * @param {EventEmitter<any>}  nbpOnOpen
         */
        this.nbpOnClose = new _angular_core.EventEmitter();
        this._isOpen = false; // true in test phase
        this._showSecondLevelMenu = false; // false in test phase
    }
    NbpBurgerMenuGenericNoTranslateComponent.prototype._translate = function (label) {
        return label;
    };
    NbpBurgerMenuGenericNoTranslateComponent.prototype._changeRoute = function (routeValue) {
        if (routeValue.external) {
            if (routeValue.link.search('http://') > -1) {
                window.location.href = routeValue.link;
            }
            else {
                window.location.href = 'http://' + routeValue.link;
            }
        }
        else {
            this.router.navigate([routeValue.link]);
        }
    };
    NbpBurgerMenuGenericNoTranslateComponent.prototype._onClick = function (item) {
        var _this = this;
        // console.log('click item menu: ' + JSON.stringify(item));
        this.nbpOnItemClick.emit(item);
        if (!item.secondLevelMenu) {
            this.toggle();
        }
        if (item.secondLevelMenu && item.secondLevelMenu.sections && item.secondLevelMenu.sections.length > 0) {
            this._selectedItem = item;
            this._showSecondLevelMenu = true;
            setTimeout(function () {
                var height = document.getElementsByClassName('second-level-menu')[0].clientHeight + 20;
                _this.height = height;
            }, 100);
        }
    };
    NbpBurgerMenuGenericNoTranslateComponent.prototype._goBack = function () {
        var _this = this;
        this._showSecondLevelMenu = false;
        this._selectedItem = null;
        setTimeout(function () {
            var height = document.getElementsByClassName('first-level-menu')[0].clientHeight + 20;
            _this.height = height;
        }, 100);
    };
    // Metodi Pubblici del componente
    /**
     * Permette apertura programmatica del BurgerMenu
     */
    NbpBurgerMenuGenericNoTranslateComponent.prototype.open = function () {
        var _this = this;
        this._isOpen = true;
        this.nbpOnOpen.emit();
        setTimeout(function () {
            if (!_this._showSecondLevelMenu) {
                var height = document.getElementsByClassName('first-level-menu')[0].clientHeight + 20;
            }
            else {
                var height = document.getElementsByClassName('second-level-menu')[0].clientHeight + 20;
            }
            _this.height = height;
        }, 100);
    };
    /**
     * Permette la chiusura programmatica del BurgerMenu
     */
    NbpBurgerMenuGenericNoTranslateComponent.prototype.close = function () {
        var _this = this;
        this._isOpen = false;
        this.nbpOnClose.emit();
        setTimeout(function () {
            _this.height = 0;
        }, 100);
    };
    /**
     * Permette di eseguire il toggle del BurgerMenu
     */
    NbpBurgerMenuGenericNoTranslateComponent.prototype.toggle = function () {
        this._isOpen ? this.close() : this.open();
    };
    NbpBurgerMenuGenericNoTranslateComponent.prototype.onLogout = function () {
        alert('logOut');
    };
    NbpBurgerMenuGenericNoTranslateComponent.prototype.ngOnInit = function () {
    };
    return NbpBurgerMenuGenericNoTranslateComponent;
}());
__decorate$134([
    _angular_core.Input(),
    __metadata$114("design:type", Object)
], exports.NbpBurgerMenuGenericNoTranslateComponent.prototype, "nbpMenu", void 0);
__decorate$134([
    _angular_core.Input(),
    __metadata$114("design:type", Object)
], exports.NbpBurgerMenuGenericNoTranslateComponent.prototype, "nbpUser", void 0);
__decorate$134([
    _angular_core.Input(),
    __metadata$114("design:type", Boolean)
], exports.NbpBurgerMenuGenericNoTranslateComponent.prototype, "nbpDisableLogout", void 0);
__decorate$134([
    _angular_core.Output(),
    __metadata$114("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuGenericNoTranslateComponent.prototype, "nbpOnLogout", void 0);
__decorate$134([
    _angular_core.Output(),
    __metadata$114("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuGenericNoTranslateComponent.prototype, "nbpOnItemClick", void 0);
__decorate$134([
    _angular_core.Output(),
    __metadata$114("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuGenericNoTranslateComponent.prototype, "nbpOnOpen", void 0);
__decorate$134([
    _angular_core.Output(),
    __metadata$114("design:type", _angular_core.EventEmitter)
], exports.NbpBurgerMenuGenericNoTranslateComponent.prototype, "nbpOnClose", void 0);
exports.NbpBurgerMenuGenericNoTranslateComponent = __decorate$134([
    _angular_core.Component({
        selector: 'nbp-burger-menu-generic-no-translate',template: "<div class=\"menu\" [ngClass]=\"{'closed': !_isOpen, 'open': _isOpen}\" [style.height.px]=\"height\"><div class=\"container first-level-menu\" [ngClass]=\"{'open': !_showSecondLevelMenu}\"><div class=\"row\"><div class=\"col-sm-16\"><div><div class=\"col-sm-12 section-menu\" *ngFor=\"let section of nbpMenu.sections; let i = index\"><ul class=\"main-menu\"><li><a *ngFor=\"let item of section.items\" (click)=\"_onClick(item);_changeRoute(item)\"><span *ngIf=\"item.icon\" class=\"icon {{item.icon}}\" style=\"padding-top:0.25em\"></span> <span>{{_translate(item.label)}}</span></a></li></ul></div></div></div><div class=\"col-sm-8\"><ng-content selector=\"app-logged-user\"></ng-content></div></div></div><div class=\"container second-level-menu\" [ngClass]=\"{'open': _showSecondLevelMenu}\" *ngIf=\"_showSecondLevelMenu\"><div class=\"row upper-bar\"><div class=\"menu-principale pull-left\"><span class=\"glyphicon icon icon-arrow-left\"></span> <span class=\"menu-principale-title\" (click)=\"_goBack();\">Menu principale</span></div></div><div class=\"row second-level-buttons\"><div class=\"selected-first-level-menu\"><span class=\"icon {{_selectedItem.icon}}\"></span> <span class=\"selected-first-level-label\">{{_translate(_selectedItem.label)}}</span></div><div class=\"col-sm-8\" *ngFor=\"let section of _selectedItem.secondLevelMenu.sections; let i = index\" [ngClass]=\"{'main-menu-container-pad-l': i > 0, 'main-menu-container-pad-r': i !== _selectedItem.secondLevelMenu.sections.length - 1}\"><ul class=\"main-menu\"><li><a *ngFor=\"let item of section.items\" (click)=\"_onClick(item);_changeRoute(item)\"><span *ngIf=\"item.icon\" class=\"icon {{item.icon}}\"></span> <span>{{_translate(item.label)}}</span></a></li></ul></div></div></div></div>",
        styles: [".menu{position:relative;width:100%;height:0;overflow-x:hidden;overflow-y:hidden;background-color:#323232;-moz-transition:height,opacity .7s ease-out;-o-transition:height,opacity .7s ease-out;transition:height,opacity .7s ease-out}.menu .icon{margin-right:.313em;font-size:1.563em;vertical-align:middle}.menu.closed{height:0}.main-menu-container{padding:0}.section-menu:nth-child(2n+3){clear:left}.main-menu{list-style:none;padding:0 .313em 0 .313em;margin:0}.main-menu a{color:#ccc;display:table;width:19.375em;padding:0 1.25em 0 1.25em;margin:.5em 0 .5em 0;text-decoration:none;cursor:pointer;height:2.813em}.main-menu a:active,.main-menu a:focus,.main-menu a:hover{background-color:#258900;color:#fff}.main-menu a span{display:table-cell;vertical-align:middle;text-align:left}.main-menu a span:nth-child(1){width:1.563em}.main-menu .select{background-color:#258900;color:#fff;border:.0625em solid #258900}.upper-bar{border-bottom:.0625em solid #6f6f6f}.menu-principale{color:#ccc;font-size:1em;padding:1em .625em .625em .625em;cursor:pointer}.menu-principale .icon{font-size:.875em}.menu-principale-title{vertical-align:top;-moz-animation:fadein 3.7s ease-out;animation:fadein 3.7s ease-out}@-moz-keyframes fadein{0%{opacity:0}100%{opacity:1}}@keyframes fadein{0%{opacity:0}100%{opacity:1}}.selected-first-level-menu{color:#ccc;padding:1.625em .625em 1.62em .625em}.selected-first-level-menu .selected-first-level-label{font-size:1.125em}.first-level-menu{position:absolute;left:0;visibility:hidden;right:0;opacity:0;left:-6.25em;padding:0 .625em 0 .625em;-moz-transition:all .7s ease-out;-o-transition:all .7s ease-out;transition:all .7s ease-out}.first-level-menu.open{opacity:1;left:0;visibility:visible;margin-top:.625em}.second-level-menu{position:absolute;left:0;visibility:hidden;right:0;opacity:0;left:6.25em;-moz-transition:all .7s ease-out;-o-transition:all .7s ease-out;transition:all .7s ease-out}.second-level-menu.open{opacity:1;left:0;visibility:visible}@media (max-width:992px){.main-menu a{width:14.375em}}:host-context(.contrasto-on) .menu{background-color:#000}:host-context(.contrasto-on) .menu.open{border-color:#fff}:host-context(.contrasto-on) .main-menu a{color:#fff;border-color:#fff}:host-context(.contrasto-on) .main-menu a:active,:host-context(.contrasto-on) .main-menu a:focus,:host-context(.contrasto-on) .main-menu a:hover{background-color:#fff;color:#000;border-color:#fff}:host-context(.contrasto-on) .main-menu .select{background-color:#fff;color:#000;border-color:#fff}:host-context(.contrasto-on) .upper-bar{border-color:#fff}:host-context(.contrasto-on) .menu-principale{color:#fff}:host-context(.contrasto-on) .selected-first-level-menu{color:#fff}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){[class*=' icon-']::before{font-size:1.375em!important}} /*# sourceMappingURL=nbp-burger-menu-generic-no-translate.component.css.map */ "]
    }),
    __metadata$114("design:paramtypes", [_angular_router.Router,
        _angular_router.ActivatedRoute])
], exports.NbpBurgerMenuGenericNoTranslateComponent);

var __decorate$135 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$115 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// DA IMPLEMENTARE TOTALMENTE PER NON FAR FALLIRE I TEST
exports.NbpLoggedUserGenericComponent = (function () {
    function NbpLoggedUserGenericComponent() {
        /**
         * Evento emesso alla pressione del pulsante, se
         * nbpDisableLogout non  true
         */
        this.nbpLogout = new _angular_core.EventEmitter();
    }
    Object.defineProperty(NbpLoggedUserGenericComponent.prototype, "disableLogout", {
        /**
         * Flag che abilita/disabilita la possibilit di eseguire il logout
         */
        get: function () { return this._nbpDisableLogout; },
        set: function (value) { this._nbpDisableLogout = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    NbpLoggedUserGenericComponent.prototype.ngOnInit = function () { };
    NbpLoggedUserGenericComponent.prototype._onLogoutClick = function () {
        this.nbpLogout.emit();
    };
    return NbpLoggedUserGenericComponent;
}());
__decorate$135([
    _angular_core.Input(),
    __metadata$115("design:type", Object)
], exports.NbpLoggedUserGenericComponent.prototype, "nbpUser", void 0);
__decorate$135([
    _angular_core.Input(),
    __metadata$115("design:type", Boolean),
    __metadata$115("design:paramtypes", [Object])
], exports.NbpLoggedUserGenericComponent.prototype, "disableLogout", null);
__decorate$135([
    _angular_core.Input(),
    __metadata$115("design:type", Boolean)
], exports.NbpLoggedUserGenericComponent.prototype, "nbpDisableLogout", void 0);
__decorate$135([
    _angular_core.Output(),
    __metadata$115("design:type", _angular_core.EventEmitter)
], exports.NbpLoggedUserGenericComponent.prototype, "nbpLogout", void 0);
exports.NbpLoggedUserGenericComponent = __decorate$135([
    _angular_core.Component({
        selector: 'nbp-logged-user-generic',template: "<div class=\"user-button-container\"><span class=\"user-button\"><a (click)=\"_onLogoutClick()\"><table *ngIf=\"!largeUserImage\"><tr><th class=\"user-image-container\"><div class=\"icon ico-navbar-gestore-01\" [hidden]=\"imageLoaded\"></div></th><th class=\"user-info\"><span [innerText]=\"nbpUser.name + ' ' + nbpUser.surname\"></span><br><span class=\"user-info-subtitle\">Utente: <span class=\"user-info-subtitle--content\">{{nbpUser.id}}</span> &#124; </span><span class=\"user-info-subtitle\">Ruolo: <span class=\"user-info-subtitle--content\">{{nbpUser.role}}</span></span></th></tr></table></a></span></div>",
        styles: [".user-button-container{padding:0}[class*=\" ico-\"]:before{vertical-align:middle}.user-button{margin:0}.user-button a{color:#fa9600;display:table;padding:0 1.25em 0 1.25em;margin:.5em 0 .5em 0;text-decoration:none;cursor:pointer;width:100%!important;height:2.813em;width:19.375em}.user-button a:active,.user-button a:focus,.user-button a:hover{background-color:#fa9600;color:#323232}.user-button a table{width:100%;display:table-cell;vertical-align:middle}.user-image-container div{vertical-align:middle;font-size:1.563em!important;margin:0!important}.user-image-container img{position:relative;border-radius:50%;width:100%}.user-info{padding-left:.625em;vertical-align:middle;line-height:1;font-weight:400}.user-info-subtitle{display:inline-block;font-size:.75em}.user-info-subtitle .user-info-subtitle--content{text-transform:uppercase;font-weight:700}:host-context(.contrasto-on) .user-button a{color:#fff}:host-context(.contrasto-on) .user-button a:active,:host-context(.contrasto-on) .user-button a:focus,:host-context(.contrasto-on) .user-button a:hover{background-color:#fff;color:#000} /*# sourceMappingURL=nbp-logged-user-generic.component.css.map */ "]
    }),
    __metadata$115("design:paramtypes", [])
], exports.NbpLoggedUserGenericComponent);

var __decorate$136 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$116 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpSwitchGenericComponent = (function () {
    function NbpSwitchGenericComponent() {
        /**
         * Funzione da invocare al click sullo switch
         */
        this.clickFn = new _angular_core.EventEmitter();
        /**
         * Parametro usato per attivare e disattivare il focus al tab.
         */
        this.focusOn = [false, false];
        /**
         * (Opzionale) Paramentro che indica l'ordine di spostamento da un campo all'altro attraverso il tab.
         */
        this.tabindex = 0;
        this.onSelect = function (choice, target) {
            this.focusOn = [false, false];
            this.selected = choice;
            if (this.clickFn) {
                this.clickFn.emit();
            }
        };
        this.onSelectBinary = function () {
            if (this.selected != true) {
                this.selected = true;
            }
            else {
                this.selected = false;
            }
            if (this.clickFn) {
                this.clickFn.emit();
            }
            
        };
    }
    NbpSwitchGenericComponent.prototype._tabFocusOn = function (choice) {
        this.focusOn[choice] = true;
    };
    NbpSwitchGenericComponent.prototype._tabFocusOff = function (choice) {
        this.focusOn[choice] = false;
    };
    NbpSwitchGenericComponent.prototype._shiftTabFocusOn = function (choice) {
        this.focusOn[choice] = true;
    };
    NbpSwitchGenericComponent.prototype._shiftTabFocusOff = function (choice) {
        this.focusOn[choice] = false;
    };
    NbpSwitchGenericComponent.prototype._focusOn = function (choice) {
        return this.focusOn[choice];
    };
    NbpSwitchGenericComponent.prototype._focusOnFn = function (choice) {
        this.focusOn[choice] = true;
    };
    NbpSwitchGenericComponent.prototype.ngOnInit = function () {
        if (!this.selected) {
            this.selected = 0;
        }
    };
    NbpSwitchGenericComponent.prototype.ngAfterViewInit = function () {
        if (this.firstFocus) {
            this.focusOn[0] = true;
            this.elementRef._results[0].nativeElement.focus();
        }
    };
    return NbpSwitchGenericComponent;
}());
__decorate$136([
    _angular_core.Input(),
    __metadata$116("design:type", Array)
], exports.NbpSwitchGenericComponent.prototype, "choices", void 0);
__decorate$136([
    _angular_core.Input(),
    __metadata$116("design:type", Object)
], exports.NbpSwitchGenericComponent.prototype, "type", void 0);
__decorate$136([
    _angular_core.Output(),
    __metadata$116("design:type", Object)
], exports.NbpSwitchGenericComponent.prototype, "clickFn", void 0);
__decorate$136([
    _angular_core.Input(),
    __metadata$116("design:type", Object)
], exports.NbpSwitchGenericComponent.prototype, "disabled", void 0);
__decorate$136([
    _angular_core.Input(),
    __metadata$116("design:type", Object)
], exports.NbpSwitchGenericComponent.prototype, "selected", void 0);
__decorate$136([
    _angular_core.Input(),
    __metadata$116("design:type", Object)
], exports.NbpSwitchGenericComponent.prototype, "textUp", void 0);
__decorate$136([
    _angular_core.Input(),
    __metadata$116("design:type", Boolean)
], exports.NbpSwitchGenericComponent.prototype, "firstFocus", void 0);
__decorate$136([
    _angular_core.Input(),
    __metadata$116("design:type", Object)
], exports.NbpSwitchGenericComponent.prototype, "focusOn", void 0);
__decorate$136([
    _angular_core.Input(),
    __metadata$116("design:type", Number)
], exports.NbpSwitchGenericComponent.prototype, "tabindex", void 0);
__decorate$136([
    _angular_core.ViewChildren('autoFocusSwitch'),
    __metadata$116("design:type", Object)
], exports.NbpSwitchGenericComponent.prototype, "elementRef", void 0);
exports.NbpSwitchGenericComponent = __decorate$136([
    _angular_core.Component({
        selector: 'nbp-switch-generic',
        template: "<div class=\"btn-group\" [ngClass]=\"{'switch-container': type != 'binary'}\"><label *ngIf=\"type == 'binary'\" class=\"switch-binary\" [ngClass]=\"{'switch-binary-true': selected}\" (click)=\"onSelectBinary()\" style=\"font-size: 1em !important\"><div class=\"slider-box\"></div><span class=\"switch-label-icon-on\"><span class=\"binary-label\">ON</span> </span><span class=\"switch-label-icon-off\"><span class=\"binary-label\">OFF</span></span></label><div *ngIf=\"type == 'iconTextSmall'\"><button *ngFor=\"let choice of choices; let i=index;\" [ngClass]=\"{'primary': selected === i, 'default': selected != i, 'right': i==1, 'focusTabSwitchOn': _focusOn(i)}\" class=\"btn switch-button-icontext-small\" [disabled]=\"disabled\" (click)=\"onSelect(i)\" (focusout)=\"_tabFocusOff(i)\" (keydown.tab)=\"_tabFocusOff(i)\" (keyup.tab)=\"_tabFocusOn(i)\" (keydown.shift.tab)=\"_shiftTabFocusOff(i)\" (keyup.shift.tab)=\"_shiftTabFocusOn(i)\" [tabindex]=\"tabindex\" #autoFocusSwitch><span class=\"switch-label-icon\">{{choice.label}}</span> <span></span> <span class=\"icon switch-icon {{choice.icon}}\"></span></button></div><div *ngIf=\"type == 'iconText'\"><button *ngFor=\"let choice of choices; let i=index;\" [ngClass]=\"{'primary': selected === i, 'default': selected != i, 'focusTabSwitchOn': _focusOn(i)}\" class=\"btn switch-button-icontext\" [disabled]=\"disabled\" (click)=\"onSelect(i)\" [ngStyle]=\"{'padding-top': (textUp ? '5px' : '1em')}\" (focusout)=\"_tabFocusOff(i)\" (keydown.tab)=\"_tabFocusOff(i)\" (keyup.tab)=\"_tabFocusOn(i)\" (keydown.shift.tab)=\"_shiftTabFocusOff(i)\" (keyup.shift.tab)=\"_shiftTabFocusOn(i)\" [tabindex]=\"tabindex\" #autoFocusSwitch><span class=\"switch-label-icon\" [ngStyle]=\"{'padding-right': (!textUp ? '0.625em' : 0)}\">{{choice.label}}</span> <span *ngIf=\"textUp\"></span> <span class=\"icon switch-icon {{choice.icon}}\" [ngClass]=\"{'switch-icon-text-up': textUp}\"></span></button></div><div *ngIf=\"type == 'text' || type == 'textSmall'\"><button *ngFor=\"let choice of choices; let i=index;\" [ngClass]=\"{'small' : type === 'textSmall', 'primary': selected === i, 'default': selected != i, 'right': i==1, 'focusTabSwitchOn': _focusOn(i)}\" class=\"btn switch-button-text\" [disabled]=\"disabled\" (click)=\"onSelect(i)\" (focusout)=\"_tabFocusOff(i)\" (keydown.tab)=\"_tabFocusOff(i)\" (keyup.tab)=\"_tabFocusOn(i)\" (keydown.shift.tab)=\"_shiftTabFocusOff(i)\" (keyup.shift.tab)=\"_shiftTabFocusOn(i)\" [tabindex]=\"tabindex\" #autoFocusSwitch><span class=\"switch-label-icon\">{{choice.label}}</span></button></div><div *ngIf=\"type === 'icon'\"><button *ngFor=\"let choice of choices; let i=index;\" [ngClass]=\"{'primary': selected === i, 'default': selected != i, 'right': i==1, 'focusTabSwitchOn': focusOn[i]}\" class=\"btn switch-button-icon\" [disabled]=\"disabled\" (click)=\"onSelect(i)\" (focusout)=\"_tabFocusOff(i)\" (focus)=\"_focusOnFn(i)\" (keydown.tab)=\"_tabFocusOff(i)\" (keyup.tab)=\"_tabFocusOn(i)\" (keydown.shift.tab)=\"_shiftTabFocusOff(i)\" (keyup.shift.tab)=\"_shiftTabFocusOn(i)\" [tabindex]=\"tabindex\" #autoFocusSwitch><span class=\"icon switch-icon {{choice.icon}}\"></span></button></div></div>",styles: [".switch-container{background-color:#258900;border-radius:0;box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.focusTabSwitchOn{box-shadow:0 0 .05em .23em rgba(37,137,0,.6)!important}.switch-button-icontext{position:relative;font-weight:700;font-size:.75em;margin:0!important;padding-top:1em;padding-bottom:1em;line-height:1;outline:0!important;min-width:6.875em;height:4.167em;z-index:0}.switch-button-icontext:active{box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.switch-button-icontext .switch-label{margin-right:.625em}.switch-button-icontext .switch-label-icon{padding-bottom:.313em;display:table-cell!important;vertical-align:middle}.switch-button-icontext .switch-icon{font-size:2.084em!important;display:table-cell!important}.switch-button-icontext .switch-icon-text-up{display:block!important}.switch-button-icontext.btn{border-radius:0!important}.switch-button-icontext .btn[disabled]:hover{cursor:default}.primary{border:none}.primary.right{box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)!important}.switch-button-icontext.primary{color:#fff;background-color:#258900;border-color:#258900;box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.switch-button-icontext.default{color:#6f6f6f;background-color:#fff;border-color:#ccc}.switch-button[disabled]{box-shadow:none}.switch-button-icontext.default[disabled]:hover{background-color:#fff!important;border-color:#ccc!important}.switch-button-icontext.primary[disabled]:hover{background-color:#258900!important;border-color:#258900!important}.switch-button-icontext-small{padding-top:.313em;position:relative;font-weight:700;font-size:.75em;margin:0!important;padding-bottom:1em;line-height:1;outline:0!important;min-width:6.25em;height:4.167em;z-index:0}.switch-button-icontext-small:active{box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.switch-button-icontext-small .switch-label{margin-right:.625em}.switch-button-icontext-small .switch-label-icon{padding-bottom:.313em;display:inline-block!important;vertical-align:middle}.switch-button-icontext-small .switch-icon{font-size:2.084em!important;display:block!important}.switch-button-icontext-small.btn{border-radius:0!important}.switch-button-icontext-small .btn[disabled]:hover{cursor:default}.switch-button-icontext-small.primary{color:#fff;background-color:#258900;border-color:#258900;box-shadow:inset 0 .125em .188em rgba(0,0,0,.2)}.switch-button-icontext-small.default{color:#6f6f6f;background-color:#fff;border-color:#ccc}.switch-button[disabled]{box-shadow:none}.switch-button-icontext-small.default[disabled]:hover{background-color:#fff!important;border-color:#ccc!important}.switch-button-icontext-small.primary[disabled]:hover{background-color:#258900!important;border-color:#258900!important}.switch-button-text{text-align:center;position:relative;font-weight:700;font-size:.75em;margin:0!important;padding-top:1em;padding-bottom:1em;line-height:1;outline:0!important;min-width:9.584em;height:4.167em;z-index:0}.switch-button-text:active{box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.switch-button-text.btn{border-radius:0!important}.switch-button-text .btn[disabled]:hover{cursor:default}.switch-button-text.primary{color:#fff;background-color:#258900;border-color:#258900;box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.switch-button-text.default{color:#6f6f6f;background-color:#fff;border-color:#ccc}.switch-button-text[disabled]{box-shadow:none}.switch-button-text.default[disabled]:hover{background-color:#fff!important;border-color:#ccc!important}.switch-button-text.primary[disabled]:hover{background-color:#258900!important;border-color:#258900!important}.switch-button-text.small{min-width:6.25em}.switch-button-icon{position:relative;font-weight:700;font-size:.75em;margin:0!important;padding-top:1em;padding-bottom:1em;line-height:1;outline:0!important;min-width:6.25em;height:4.167em;z-index:0}.switch-button-icon:active{box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.switch-button-icon .switch-icon{font-size:2.084em!important}.switch-button-icon.btn{border-radius:0!important}.switch-button-icon .btn[disabled]:hover{cursor:default}.switch-button-icon.primary{color:#fff;background-color:#258900;border-color:#258900;box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.switch-button-icon.default{color:#6f6f6f;background-color:#fff;border-color:#ccc}.switch-button[disabled]{box-shadow:none}.switch-button-icon.default[disabled]:hover{background-color:#fff!important;border-color:#ccc!important}.switch-button-icon.primary[disabled]:hover{background-color:#258900!important;border-color:#258900!important}.switch-binary{position:relative;display:inline-block;width:6.25em;height:3.125em;cursor:pointer;background-color:#ccc;-webkit-transition:0s;transition:0s}.switch-binary .switch-label-icon-on{font-weight:700;color:#fff;width:3.125em;display:table-cell;line-height:3em;box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.switch-binary .switch-label-icon-off{font-weight:700;color:#6f6f6f;width:3.125em;display:table-cell;line-height:3em;box-shadow:inset 0 .125em .188em 0 rgba(0,0,0,.2)}.switch-binary .binary-label{font-size:.75em}.slider-box{position:absolute;content:\"\";cursor:pointer;height:3.125em;width:3.125em;left:0;bottom:0;background-color:#fff;-webkit-transition:0s;transition:0s;border:.063em solid #ccc}.switch-binary-true{background-color:#258900}.switch-binary-true .slider-box{-webkit-transform:translateX(3.125em);-ms-transform:translateX(3.125em);transform:translateX(3.125em)}:host-context(.contrasto-on) .switch-button-icon.default,:host-context(.contrasto-on) .switch-button-icontext-small.default,:host-context(.contrasto-on) .switch-button-icontext.default,:host-context(.contrasto-on) .switch-button-text.default{color:#000;background-color:#fff;border-color:#000}:host-context(.contrasto-on) .switch-binary,:host-context(.contrasto-on) .switch-button-icon.primary,:host-context(.contrasto-on) .switch-button-icontext-small.primary,:host-context(.contrasto-on) .switch-button-icontext.primary,:host-context(.contrasto-on) .switch-button-text.primary{color:#fff;background-color:#000;border-color:#fff}:host-context(.contrasto-on) .slider-box{background-color:#fff;border-color:#000}:host-context(.contrasto-on) .switch-binary .switch-label-icon-on{color:#fff}:host-context(.contrasto-on) .switch-binary .switch-label-icon-off{color:#fff}:host-context(.contrasto-on) .switch-binary-true{background-color:#000} /*# sourceMappingURL=nbp-switch-generic.component.css.map */ "]
    }),
    __metadata$116("design:paramtypes", [])
], exports.NbpSwitchGenericComponent);

var __decorate$137 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$117 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpCustomValidationService = (function () {
    // non possiamo usare la struttura dati MAP perch non supportata da IE10 
    // quindi occhio ai duplicati 
    // validationErrorKeys = Object.keys(this.validationErrors) --> 'key1', 'key2'
    // {
    //   'key1': 'Errore validazione campo 1',
    //   'key2': 'Errore validazione campo 2',
    // }
    function NbpCustomValidationService() {
        this.validationErrors = {};
    }
    // In caso la chiave esista gi, dobbiamo sostituire il placeholder? concatenarlo? controllare che sia lo stesso
    /**
     * [registerError description]
     * Aggiunge la coppia key/placeholder alla struttura dati
     * @param {string} key         [description]
     * @param {string} placeholder [description]
     */
    NbpCustomValidationService.prototype.registerError = function (key, placeholder) {
        this.validationErrors[key] = placeholder;
    };
    /**
     * Eliminazione di una coppia key/placeholder
     * @param  {string}  key [description]
     * @return {boolean}     [description]
     */
    NbpCustomValidationService.prototype.clearError = function (key) {
        return delete this.validationErrors[key];
    };
    /**
     * Pulizia della struttura dati
     */
    NbpCustomValidationService.prototype.clearErrors = function () {
        this.validationErrors = {};
    };
    /**
     * Restituisce una stringa che rappresenta il placeholder oppure undefined se non c' la key cercata
     * @param  {string} key [description]
     * @return {string}     [description]
     */
    NbpCustomValidationService.prototype.getValidationPlaceholder = function (key) {
        return this.validationErrors[key];
    };
    return NbpCustomValidationService;
}());
exports.NbpCustomValidationService = __decorate$137([
    _angular_core.Injectable(),
    __metadata$117("design:paramtypes", [])
], exports.NbpCustomValidationService);

var __decorate$138 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$118 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpBoxWithEllipsisComponent = (function () {
    function NbpBoxWithEllipsisComponent() {
        this.isTooltipEllipsisVisible = false;
    }
    NbpBoxWithEllipsisComponent.prototype.onWindowsResize = function () {
        this.setTooltipEllipsisVisibility();
    };
    NbpBoxWithEllipsisComponent.prototype.ngOnChanges = function () {
        this.setTooltipEllipsisVisibility();
    };
    NbpBoxWithEllipsisComponent.prototype.ngAfterViewInit = function () {
        this.setTooltipEllipsisVisibility();
    };
    NbpBoxWithEllipsisComponent.prototype.setTooltipEllipsisVisibility = function () {
        var _this = this;
        setTimeout(function () {
            _this.isTooltipEllipsisVisible = _this.boxHtmlContainer.nativeElement.scrollHeight > _this.boxHtmlContainer.nativeElement.offsetHeight;
        });
    };
    return NbpBoxWithEllipsisComponent;
}());
__decorate$138([
    _angular_core.Input(),
    __metadata$118("design:type", String)
], exports.NbpBoxWithEllipsisComponent.prototype, "nbpInnerHtml", void 0);
__decorate$138([
    _angular_core.ViewChild('boxHtmlContainer'),
    __metadata$118("design:type", _angular_core.ElementRef)
], exports.NbpBoxWithEllipsisComponent.prototype, "boxHtmlContainer", void 0);
__decorate$138([
    _angular_core.HostListener('window:resize'),
    __metadata$118("design:type", Function),
    __metadata$118("design:paramtypes", []),
    __metadata$118("design:returntype", void 0)
], exports.NbpBoxWithEllipsisComponent.prototype, "onWindowsResize", null);
exports.NbpBoxWithEllipsisComponent = __decorate$138([
    _angular_core.Component({selector: 'nbp-box-with-ellipsis',
        template: "<div class=\"box-html-container\" #boxHtmlContainer [innerHTML]=\"nbpInnerHtml\"></div><div class=\"tooltip-ellipsis\" *ngIf=\"isTooltipEllipsisVisible\"><nbp-tooltip [nbpTemplate]=\"tooltipTemplate\" [nbpTemplateData]=\"{tooltipData:{text:nbpInnerHtml}}\" [nbpPosition]=\"'Top-Right'\" nbpVisibilityStrategy=\"click\"><span class=\"ellipsis\">...</span></nbp-tooltip><ng-template #tooltipTemplate let-tooltipData=\"tooltipData\"><style>.tooltiptext { padding:20px 5px 0 5px; margin:auto; color:white; background-color:transparent; }   /* p{ color:white; background-color:transparent; } */</style><div class=\"tooltiptext\" [innerHTML]=\"tooltipData.text\"></div></ng-template></div>",
        styles: [":host ::ng-deep p{margin:0!important}.box-html-container{position:relative;width:100%;height:100%;overflow:hidden;display:block}.tooltip-ellipsis{position:absolute;right:0;bottom:0}.tooltip-ellipsis .ellipsis{display:block;color:green;font-size:1em;font-weight:700;padding:0 10px 0 0;background-color:#fff} /*# sourceMappingURL=nbp-box-with-ellipsis.component.css.map */ "]
    }),
    __metadata$118("design:paramtypes", [])
], exports.NbpBoxWithEllipsisComponent);

var __decorate$139 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$119 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var PADDING = '000000';
var NbpCurrencyPipe = (function () {
    function NbpCurrencyPipe() {
        this.DECIMAL_REGEX = /^\d*\.?\d*$/; // previous /^\d*,?\d*$/;
        // private DECIMAL_VIEW_REGEX = /^(?!0+\,00)(?=.{1,9}(\.|$))(?!0(?!\.))\d{1,3}(\.\d{3})*(,\d+)?$/;
        this.DECIMAL_VIEW_REGEX = /^(?!0+\.00)(?=.{1,9}( |$))(?!0(?! ))\d{1,3}( \d{3})*(\.\d+)?$/;
        // TODO comes from configuration settings
        this.DECIMAL_SEPARATOR = '.'; // previous ',';
        this.THOUSANDS_SEPARATOR = ' '; // previous '.';
        this.THOUSANDS_SEPARATOR_REGEX = ' '; // previous '\.';
    }
    NbpCurrencyPipe.prototype.inputIsValid = function (input) {
        return this.DECIMAL_REGEX.test(input);
    };
    NbpCurrencyPipe.prototype.viewInputIsValid = function (input) {
        return this.DECIMAL_VIEW_REGEX.test(input);
    };
    NbpCurrencyPipe.prototype.transform = function (value, fractionSize) {
        if (fractionSize === void 0) { fractionSize = 2; }
        var elemValue = (value || '').toString();
        if (!this.inputIsValid(elemValue)) {
            return elemValue;
        }
        var _a = (value || '').toString()
            .split(this.DECIMAL_SEPARATOR), integer = _a[0], _b = _a[1], fraction = _b === void 0 ? '' : _b;
        fraction = fractionSize > 0
            ? this.DECIMAL_SEPARATOR + (fraction + PADDING).substring(0, fractionSize)
            : '';
        integer = integer.replace(/\B(?=(\d{3})+(?!\d))/g, this.THOUSANDS_SEPARATOR);
        return (integer) ? integer + fraction : integer;
    };
    NbpCurrencyPipe.prototype.parse = function (value, fractionSize) {
        if (fractionSize === void 0) { fractionSize = 2; }
        if (!this.viewInputIsValid(value)) {
            return value;
        }
        var _a = (value || '').split(this.DECIMAL_SEPARATOR), integer = _a[0], _b = _a[1], fraction = _b === void 0 ? '' : _b;
        // TODO non riesco ad usare la regExp con la variabile this.THOUSANDS_SEPARATOR
        integer = integer.replace(new RegExp(this.THOUSANDS_SEPARATOR_REGEX, 'g'), '');
        // integer = integer.replace(/\./g, '');
        fraction = parseInt(fraction, 10) > 0 && fractionSize > 0
            ? this.DECIMAL_SEPARATOR + (fraction + PADDING).substring(0, fractionSize)
            : '';
        return integer + fraction;
    };
    return NbpCurrencyPipe;
}());
NbpCurrencyPipe = __decorate$139([
    _angular_core.Pipe({ name: 'nbpCurrency' })
    // export class NbpCurrencyPipe extends CurrencyPipe {
    //   transform(value: any, args?: any): any {
    //     return super.transform(value, '', false, '1.2-2');
    //   }
    // }
    ,
    __metadata$119("design:paramtypes", [])
], NbpCurrencyPipe);

var __decorate$140 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$120 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpFormatterDirective = NbpFormatterDirective_1 = (function () {
    function NbpFormatterDirective(elementRef, currencyPipe) {
        this.elementRef = elementRef;
        this.currencyPipe = currencyPipe;
        this.initialization = true;
        this.isFormatterSupported = false;
    }
    NbpFormatterDirective.prototype.validate = function (control) {
        if (this.initialization && control.value && this.isFormatterSupported) {
            this.initialization = false;
            this.el.value = this.currencyPipe.transform(control.value);
        }
        return null;
    };
    NbpFormatterDirective.prototype.ngOnInit = function () {
        this.el = this.elementRef.nativeElement;
        if (this.nbpFormatter === exports.NbpPipe.CURRENCY) {
            this.isFormatterSupported = true;
        }
    };
    NbpFormatterDirective.prototype.onFocus = function (value) {
        if (this.isFormatterSupported) {
            this.el.value = this.currencyPipe.parse(value); // opposite of transform
        }
    };
    NbpFormatterDirective.prototype.onBlur = function (value) {
        if (this.isFormatterSupported) {
            this.el.value = this.currencyPipe.transform(value);
        }
    };
    return NbpFormatterDirective;
}());
__decorate$140([
    _angular_core.Input(),
    __metadata$120("design:type", Number)
], exports.NbpFormatterDirective.prototype, "nbpFormatter", void 0);
__decorate$140([
    _angular_core.HostListener('focus', ['$event.target.value']),
    __metadata$120("design:type", Function),
    __metadata$120("design:paramtypes", [String]),
    __metadata$120("design:returntype", void 0)
], exports.NbpFormatterDirective.prototype, "onFocus", null);
__decorate$140([
    _angular_core.HostListener('blur', ['$event.target.value']),
    __metadata$120("design:type", Function),
    __metadata$120("design:paramtypes", [String]),
    __metadata$120("design:returntype", void 0)
], exports.NbpFormatterDirective.prototype, "onBlur", null);
exports.NbpFormatterDirective = NbpFormatterDirective_1 = __decorate$140([
    _angular_core.Directive({
        selector: '[nbpFormatter][ngModel]',
        providers: [
            {
                provide: _angular_forms.NG_VALIDATORS, useExisting: _angular_core.forwardRef(function () { return NbpFormatterDirective_1; }), multi: true
            }
        ]
    }),
    __metadata$120("design:paramtypes", [_angular_core.ElementRef,
        NbpCurrencyPipe])
], exports.NbpFormatterDirective);
var NbpFormatterDirective_1;

var __decorate$141 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$121 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.EqualValidator = EqualValidator_1 = (function () {
    function EqualValidator() {
    }
    EqualValidator.prototype.validate = function (control) {
        if (this.validateEqual && control.value !== this.validateEqual) {
            return {
                validateEqual: 'Dati non coerenti'
            };
        }
        else {
            return null;
        }
    };
    return EqualValidator;
}());
__decorate$141([
    _angular_core.Input(),
    __metadata$121("design:type", String)
], exports.EqualValidator.prototype, "validateEqual", void 0);
exports.EqualValidator = EqualValidator_1 = __decorate$141([
    _angular_core.Directive({
        selector: '[validateEqual][ngModel]',
        providers: [
            { provide: _angular_forms.NG_VALIDATORS, useExisting: _angular_core.forwardRef(function () { return EqualValidator_1; }), multi: true }
        ]
    })
], exports.EqualValidator);
var EqualValidator_1;

var __extends$30 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$142 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
exports.ArrayRequiredValidator = ArrayRequiredValidator_1 = (function (_super) {
    __extends$30(ArrayRequiredValidator, _super);
    function ArrayRequiredValidator() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ArrayRequiredValidator.prototype.validate = function (c) {
        return this.required ? _angular_forms.Validators.required(c) : null;
    };
    return ArrayRequiredValidator;
}(_angular_forms.RequiredValidator));
exports.ArrayRequiredValidator = ArrayRequiredValidator_1 = __decorate$142([
    _angular_core.Directive({
        selector: 'nbp-combo-multi[required][formControlName],nbp-combo-multi[required][formControl],nbp-combo-multi[required][ngModel]',
        providers: [{
                provide: _angular_forms.NG_VALIDATORS,
                useExisting: _angular_core.forwardRef(function () { return ArrayRequiredValidator_1; }),
                multi: true
            }],
        host: { '[attr.required]': 'required ? "" : null' }
    })
], exports.ArrayRequiredValidator);
var ArrayRequiredValidator_1;

var __decorate$143 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$122 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.MaxSelectionValidator = MaxSelectionValidator_1 = (function () {
    function MaxSelectionValidator() {
    }
    MaxSelectionValidator.prototype.validate = function (control) {
        if (this.maxSelection && control.value && control.value.length > this.maxSelection) {
            return {
                maxSelection: "E' possibile selezionare al massimo " + this.maxSelection + " elementi"
            };
        }
        else {
            return null;
        }
    };
    return MaxSelectionValidator;
}());
__decorate$143([
    _angular_core.Input(),
    __metadata$122("design:type", String)
], exports.MaxSelectionValidator.prototype, "maxSelection", void 0);
exports.MaxSelectionValidator = MaxSelectionValidator_1 = __decorate$143([
    _angular_core.Directive({
        selector: 'nbp-combo-multi[maxSelection][ngModel], nbp-combo-multi[maxSelection][formControlName], nbp-combo-multi[maxSelection][formControl]',
        providers: [
            { provide: _angular_forms.NG_VALIDATORS, useExisting: _angular_core.forwardRef(function () { return MaxSelectionValidator_1; }), multi: true }
        ]
    })
], exports.MaxSelectionValidator);
var MaxSelectionValidator_1;

var __decorate$144 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$123 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.ContainsValidator = ContainsValidator_1 = (function () {
    function ContainsValidator() {
        this.customValidationMessage = 'Valore non ammesso';
    }
    ContainsValidator.prototype.validate = function (control) {
        var containedValues;
        containedValues = this.validateContains.filter(function (element) { return element == control.value; });
        if (containedValues.length > 0) {
            return null;
        }
        return { validateContains: this.customValidationMessage };
    };
    return ContainsValidator;
}());
__decorate$144([
    _angular_core.Input(),
    __metadata$123("design:type", Array)
], exports.ContainsValidator.prototype, "validateContains", void 0);
__decorate$144([
    _angular_core.Input(),
    __metadata$123("design:type", Object)
], exports.ContainsValidator.prototype, "customValidationMessage", void 0);
exports.ContainsValidator = ContainsValidator_1 = __decorate$144([
    _angular_core.Directive({
        selector: 'nbp-input-text[validateContains][ngModel]',
        providers: [
            { provide: _angular_forms.NG_VALIDATORS, useExisting: _angular_core.forwardRef(function () { return ContainsValidator_1; }), multi: true }
        ]
    })
], exports.ContainsValidator);
var ContainsValidator_1;

var __decorate$145 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$124 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.CustomValidator = CustomValidator_1 = (function () {
    function CustomValidator(validationService) {
        this.validationService = validationService;
    }
    CustomValidator.prototype.validate = function (control) {
        var _this = this;
        var validationPlaceholders = {};
        if (!this.validationKeys || this.validationKeys.length === 0) {
            return null;
        }
        this.validationKeys.forEach(function (key) {
            var validationPlaceholder = _this.validationService.getValidationPlaceholder(key);
            if (validationPlaceholder) {
                validationPlaceholders[key] = validationPlaceholder;
            }
        });
        if (!validationPlaceholders) {
            return null;
        }
        return validationPlaceholders;
    };
    return CustomValidator;
}());
__decorate$145([
    _angular_core.Input(),
    __metadata$124("design:type", Array)
], exports.CustomValidator.prototype, "validationKeys", void 0);
exports.CustomValidator = CustomValidator_1 = __decorate$145([
    _angular_core.Directive({
        selector: 'nbp-input-text[validationKeys][ngModel]',
        providers: [
            { provide: _angular_forms.NG_VALIDATORS, useExisting: _angular_core.forwardRef(function () { return CustomValidator_1; }), multi: true }
        ]
    }),
    __metadata$124("design:paramtypes", [exports.NbpCustomValidationService])
], exports.CustomValidator);
var CustomValidator_1;

var __decorate$147 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$126 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpModalDialogService = (function () {
    function NbpModalDialogService() {
        this.modalDialogDataSettings = new rxjs_Subject.Subject();
        this.modalDialogVisibilityActions = new rxjs_Subject.Subject();
        this.modalDialogSettingData = this.modalDialogDataSettings.asObservable();
        this.modalDialogVisibility = this.modalDialogVisibilityActions.asObservable();
    }
    NbpModalDialogService.prototype.notifyDataSetting = function (data) {
        // console.log("ModalDialogService - notifyDataSetting");
        console.dir(data);
        this.modalDialogDataSettings.next(data);
    };
    NbpModalDialogService.prototype.notifyVisibilityAction = function (show) {
        // console.log("ModalDialogService - notifyVisibilityAction");
        console.dir(show);
        this.modalDialogVisibilityActions.next(show);
    };
    NbpModalDialogService.prototype.getDataSettingtream = function () {
        return this.modalDialogSettingData;
    };
    NbpModalDialogService.prototype.getVisibilityActionStream = function () {
        return this.modalDialogVisibility;
    };
    return NbpModalDialogService;
}());
exports.NbpModalDialogService = __decorate$147([
    _angular_core.Injectable(),
    __metadata$126("design:paramtypes", [])
], exports.NbpModalDialogService);

var __decorate$146 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$125 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpModalDialogComponent = (function () {
    function NbpModalDialogComponent(modalService) {
        var _this = this;
        this.modalService = modalService;
        this._show = false;
        this._sizes = exports.NbpSize;
        this.dataSettingSubscription = modalService.getDataSettingtream().subscribe(function (data) {
            _this._title = data.title;
            _this._text = data.text;
            _this._buttons = data.buttons ? data.buttons : null;
            _this._onClick = data.onClickFn;
        });
        this.actionSubscription = modalService.getVisibilityActionStream().subscribe(function (show) {
            console.log("DemoModalDialogComponent getVisibilityActionStream: " + show);
            _this._show = show;
        });
    }
    NbpModalDialogComponent.prototype.ngOnInit = function () {
    };
    NbpModalDialogComponent.prototype.ngOnDestroy = function () {
        if (this.dataSettingSubscription) {
            this.dataSettingSubscription.unsubscribe();
        }
        if (this.actionSubscription) {
            this.actionSubscription.unsubscribe();
        }
    };
    return NbpModalDialogComponent;
}());
exports.NbpModalDialogComponent = __decorate$146([
    _angular_core.Component({
        selector: 'nbp-modal-dialog',
        template: "<nbp-modal *ngIf=\"modalService.getDataSettingtream() | async\" [nbpTitle]=\"_title\" [nbpButtons]=\"_buttons\" (nbpOnButtonClicked)=\"_onClick($event)\" [nbpOpened]=\"_show\" [nbpSize]=\"_sizes.SM\"><span class=\"contenitore-test\">{{_text}}</span></nbp-modal>",
    }),
    __metadata$125("design:paramtypes", [exports.NbpModalDialogService])
], exports.NbpModalDialogComponent);

var __decorate$148 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$127 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$22 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.NbpWrapperComponent = (function () {
    function NbpWrapperComponent(nbpViewSettingsService, document) {
        this.nbpViewSettingsService = nbpViewSettingsService;
        this.document = document;
    }
    NbpWrapperComponent.prototype.ngOnInit = function () {
        this.receiveContrastoEvent();
        this.receiveFontSizeEvent();
    };
    NbpWrapperComponent.prototype.receiveContrastoEvent = function () {
        var _this = this;
        this.nbpViewSettingsService.getContrastoEventStream()
            .subscribe(function (isContrastoOn) { return _this._isContrastoOn = isContrastoOn; });
    };
    NbpWrapperComponent.prototype.receiveFontSizeEvent = function () {
        var _this = this;
        this.nbpViewSettingsService.getFontSizeEventStream()
            .subscribe(function (fontSize) { return _this.document.body.style.fontSize = fontSize; });
    };
    return NbpWrapperComponent;
}());
exports.NbpWrapperComponent = __decorate$148([
    _angular_core.Component({
        selector: 'nbp-wrapper',template: '<div id="nbp-wrapper-container" class="container-fluid"><ng-content></ng-content></div>',
        styles: [],
        host: { '[class.contrasto-on]': '_isContrastoOn' }
    }),
    __param$22(1, _angular_core.Inject(_angular_platformBrowser.DOCUMENT)),
    __metadata$127("design:paramtypes", [exports.NbpViewSettingsService, Object])
], exports.NbpWrapperComponent);

var __decorate$149 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$128 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/** intero autogenerato usato per id unici */
var nextId$27 = 0;
/**
 * Provider Expression che permette la registrazione come ControlValueAccessor.
 * Permette di gestire [(ngModel)].
 * @docs-private
 */
var NBP_SLIDER_CONTROL_VALUE_ACCESSOR = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpSliderComponent; }),
    multi: true
};
exports.NbpSliderComponent = (function () {
    function NbpSliderComponent() {
        this.propagateChange = function (_) { };
        /**
         * Identificativo univoco per il name dello slider. Se non viene passato un valore, name viene autogenerato.
         */
        this.id = "nbp-slider-" + ++nextId$27;
        /**
         * Identificativo univoco per l'Id dello slider. Se non viene passato un valore, name viene autogenerato.
         */
        this.name = "nbp-slider-" + ++nextId$27;
        /**
        * Tipo di slider desiderato. Al momento  disponibile solo quello semplice.
        * Di default  il tipo 0.
        */
        this.type = 0;
        /**
         * Valore corrente dello slider.
         * Di default il valore  0.
         */
        this.value = 0;
        /**
         * Valore boolean che definisce la disabilitazione del componente.
         * Di default il valore  false.
         */
        this.disabled = false;
        /**
       * Evento al cambio di valore dello slider.
       */
        this.nbpChangeValue = new _angular_core.EventEmitter();
        this.range = null;
        this.config = {};
        this.keyboard = null;
        this.min = -10;
        this.max = 10;
        this.step = 1;
        this.limit = 10;
        this.connect = false;
        this.behavior = null;
        this._sliderValue = 5;
    }
    /**
     * Implementazione interfaccia ControlValueAccessor.
     */
    // https://blog.thoughtram.io/angular/2016/07/27/custom-form-controls-in-angular-2.html#understanding-controlvalueaccessor
    NbpSliderComponent.prototype.writeValue = function (value) {
        if (value !== undefined) {
            this.sliderValue = value;
            this.nbpChangeValue.emit(value);
        }
    };
    NbpSliderComponent.prototype.registerOnChange = function (fn) {
        this.propagateChange = fn;
    };
    NbpSliderComponent.prototype.registerOnTouched = function () { };
    Object.defineProperty(NbpSliderComponent.prototype, "sliderValue", {
        get: function () {
            return this._sliderValue;
        },
        set: function (val) {
            this._sliderValue = val;
            this.propagateChange(this._sliderValue);
        },
        enumerable: true,
        configurable: true
    });
    return NbpSliderComponent;
}());
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", String)
], exports.NbpSliderComponent.prototype, "id", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", String)
], exports.NbpSliderComponent.prototype, "name", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Number)
], exports.NbpSliderComponent.prototype, "type", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Number)
], exports.NbpSliderComponent.prototype, "value", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Boolean)
], exports.NbpSliderComponent.prototype, "disabled", void 0);
__decorate$149([
    _angular_core.Output(),
    __metadata$128("design:type", _angular_core.EventEmitter)
], exports.NbpSliderComponent.prototype, "nbpChangeValue", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Array)
], exports.NbpSliderComponent.prototype, "range", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Object)
], exports.NbpSliderComponent.prototype, "config", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Array)
], exports.NbpSliderComponent.prototype, "keyboard", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Number)
], exports.NbpSliderComponent.prototype, "min", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Number)
], exports.NbpSliderComponent.prototype, "max", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Number)
], exports.NbpSliderComponent.prototype, "step", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Number)
], exports.NbpSliderComponent.prototype, "limit", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Boolean)
], exports.NbpSliderComponent.prototype, "connect", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Object)
], exports.NbpSliderComponent.prototype, "behavior", void 0);
__decorate$149([
    _angular_core.Input(),
    __metadata$128("design:type", Number)
], exports.NbpSliderComponent.prototype, "_sliderValue", void 0);
exports.NbpSliderComponent = __decorate$149([
    _angular_core.Component({
        selector: 'nbp-slider',
        template: "<div class=\"row\" style=\"width:27.562em; padding-top: 4.375em;\"><nouislider *ngIf=\"type==0\" [name]=\"name\" [config]=\"config\" [(ngModel)]=\"value\"></nouislider><div class=\"icomoon-noUi-startIcon\"></div><div class=\"icomoon-noUi-endIcon\"></div></div>",
        styles: [".noUi-target *,:host /deep/ .noUi-target{-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-ms-touch-action:none;touch-action:none;-ms-user-select:none;-moz-user-select:none;user-select:none;-moz-box-sizing:border-box;box-sizing:border-box}:host /deep/ .noUi-target{position:relative;direction:ltr}.noUi-connects,:host /deep/ .noUi-base{width:100%;height:100%;position:relative;z-index:1}:host /deep/ .noUi-connects{overflow:hidden;z-index:0}.noUi-origin,:host /deep/ .noUi-connect{will-change:transform;position:absolute;z-index:1;top:0;left:0;height:100%;width:100%;-ms-transform-origin:0 0;-webkit-transform-origin:0 0;transform-origin:0 0}:host /deep/ html:not([dir=rtl]) .noUi-horizontal .noUi-origin{left:auto;right:0}:host /deep/ .noUi-vertical .noUi-origin{width:0}:host /deep/ .noUi-horizontal .noUi-origin{height:0}:host /deep/ .noUi-handle{position:absolute}.noUi-state-tap .noUi-origin,:host /deep/ .noUi-state-tap .noUi-connect{-webkit-transition:transform .3s;transition:transform .3s}:host /deep/ .noUi-state-drag *{cursor:inherit!important}:host /deep/ .noUi-horizontal{height:.25em}:host /deep/ .noUi-horizontal .noUi-handle{width:1.75em;height:1.75em;left:0;top:0;margin-left:98%}:host /deep/ .noUi-vertical{width:.25em}:host /deep/ .noUi-vertical .noUi-handle{width:1.75em;height:34px;left:-6px;top:-17px}:host /deep/ html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:-17px;left:auto}:host /deep/ .noUi-target{background:#258900}:host /deep/ .noUi-connects{border-radius:3px}:host /deep/ .noUi-connect{background:#3fb8af}:host /deep/ .noUi-draggable{cursor:ew-resize}:host /deep/ .noUi-vertical .noUi-draggable{cursor:ns-resize}:host /deep/ .noUi-handle{cursor:pointer}.icomoon-noUi-startIcon:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:1.5625em;background-color:#fff;color:green;border-radius:1.5625em;margin-left:-100%;position:relative;top:-.665em}.icomoon-noUi-endIcon:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:1.5625em;background-color:#fff;color:green;border-radius:1.5625em;margin-left:97.5%;position:relative;top:-1.5em}:host /deep/ .noUi-handle:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:2.187em;background-color:#fff;border-radius:2.187em;margin-left:-.5em;cursor:pointer;color:#258900}:host /deep/ .noUi-handle:after{left:17px}.noUi-vertical .noUi-handle:after,:host /deep/ .noUi-vertical .noUi-handle:before{width:14px;height:1px;left:6px;top:14px}:host /deep/ .noUi-vertical .noUi-handle:after{top:17px}:host /deep/ [disabled] .noUi-connect{background:#b8b8b8}:host /deep/ [disabled].noUi-target,[disabled] .noUi-handle,[disabled].noUi-handle{cursor:not-allowed}.noUi-pips *,:host /deep/ .noUi-pips{-moz-box-sizing:border-box;box-sizing:border-box}:host /deep/ .noUi-pips{position:absolute;color:#999}:host /deep/ .noUi-value{position:absolute;white-space:nowrap;text-align:center;color:#000}:host /deep/ .noUi-value-sub{color:#ccc;font-size:10px;color:transparent}:host /deep/ .noUi-marker{position:absolute;background:#ccc}:host /deep/ .noUi-marker-sub{background:#aaa}:host /deep/ .noUi-marker-large{background:#aaa}:host /deep/ .noUi-pips-horizontal{padding:10px 0;height:80px;top:100%;left:0;width:100%}:host /deep/ .noUi-value-horizontal{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}:host /deep/ .noUi-rtl .noUi-value-horizontal{-webkit-transform:translate(50%,50%);transform:translate(50%,50%)}:host /deep/ .noUi-marker-horizontal.noUi-marker{margin-left:-1px;width:2px;height:5px;width:0}:host /deep/ .noUi-marker-horizontal.noUi-marker-sub{height:10px}:host /deep/ .noUi-marker-horizontal.noUi-marker-large{height:15px}:host /deep/ .noUi-pips-vertical{padding:0 10px;height:100%;top:0;left:100%}:host /deep/ .noUi-value-vertical{-webkit-transform:translate(0,-50%);transform:translate(0,-50%,0);padding-left:1.5625em}:host /deep/ .noUi-rtl .noUi-value-vertical{-webkit-transform:translate(0,50%);transform:translate(0,50%)}:host /deep/ .noUi-marker-vertical.noUi-marker{width:5px;height:2px;margin-top:-1px}:host /deep/ .noUi-marker-vertical.noUi-marker-sub{width:10px}:host /deep/ .noUi-marker-vertical.noUi-marker-large{width:15px}:host /deep/ .noUi-tooltip{display:block;padding:.312em;white-space:nowrap;border-width:0;position:absolute;left:0;width:4.375em;height:2.75em;background:inherit;background-color:#6f6f6f;border:none;border-radius:0;box-shadow:none;font-family:'Arial Bold',Arial;font-weight:700;font-style:normal;font-size:1em;color:#fff;text-align:center;line-height:1.25em;padding-top:.75em;margin-left:-.7em}:host /deep/ .noUi-horizontal .noUi-tooltip{-webkit-transform:translate(-50%,0);transform:translate(-50%,0);left:63%;bottom:190%}:host /deep/ .noUi-vertical .noUi-tooltip{-webkit-transform:translate(0,-50%);transform:translate(0,-50%);top:50%;right:120%}.contrasto-on .noUi-target *,.contrasto-on :host /deep/ .noUi-target{-webkit-tap-highlight-color:#000!important}.contrasto-on :host /deep/ .noUi-target{background:#000!important}.contrasto-on :host /deep/ .noUi-connect{background:#000!important}.contrasto-on :host /deep/ .icomoon-noUi-startIcon:before{background-color:#fff!important;color:#000}.contrasto-on :host /deep/ .icomoon-noUi-endIcon:before{background-color:#fff!important;color:#000}.contrasto-on :host /deep/ .noUi-handle:before{background-color:#fff!important;color:#000}.contrasto-on :host /deep/ [disabled] .noUi-connect{background:#000}.contrasto-on :host /deep/ .noUi-pips{color:#000}.contrasto-on :host /deep/ .noUi-value{color:#000}.contrasto-on :host /deep/ .noUi-value-sub{color:transparent}.contrasto-on :host /deep/ .noUi-marker{background:#000}.contrasto-on :host /deep/ .noUi-marker-sub{background:#000}.contrasto-on :host /deep/ .noUi-marker-large{background:#000}.contrasto-on :host /deep/ .noUi-tooltip{background-color:#000;color:#fff} /*# sourceMappingURL=nbp-slider.component.css.map */ "],
        // encapsulation: ViewEncapsulation.None,
        providers: [NBP_SLIDER_CONTROL_VALUE_ACCESSOR]
    }),
    __metadata$128("design:paramtypes", [])
], exports.NbpSliderComponent);

var __decorate$150 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$129 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/** intero autogenerato usato per id unici */
var nextId$28 = 0;
/**
 * Provider Expression che permette la registrazione come ControlValueAccessor.
 * Permette di gestire [(ngModel)].
 * @docs-private
 */
var NBP_SLIDER_CONTROL_VALUE_ACCESSOR$1 = {
    provide: _angular_forms.NG_VALUE_ACCESSOR,
    useExisting: _angular_core.forwardRef(function () { return exports.NbpSliderKeyPointsComponent; }),
    multi: true
};
exports.NbpSliderKeyPointsComponent = (function () {
    function NbpSliderKeyPointsComponent() {
        this.propagateChange = function (_) { };
        /**
         * Identificativo univoco per l'id dello slider. Se non viene passato un valore, name viene autogenerato.
         */
        this.id = "nbp-slider-" + ++nextId$28;
        /**
         * Identificativo univoco per il name dello slider. Se non viene passato un valore, name viene autogenerato.
         */
        this.name = "nbp-slider-" + ++nextId$28;
        /**
        * Tipo di slider desiderato. Al momento  disponibile solo quello semplice.
        * Di default  il tipo 0.
        */
        this.type = 0;
        /**
         * Valore boolean che definisce la disabilitazione del componente.
         * Di default il valore  false.
         */
        this.disabled = false;
        this.range = null;
        this.config = {};
        this.keyboard = null;
        this.min = -10;
        this.max = 10;
        this.step = 1;
        this.limit = 10;
        this.connect = false;
        this.behavior = null;
        /**
         * Valore iniziale dello slider.
         * Di default il valore  0.
         */
        this._sliderValue = 5;
        /**
         * Evento al cambio di valore dello slider.
         */
        this.nbpChangeValue = new _angular_core.EventEmitter();
    }
    /**
     * Implementazione interfaccia ControlValueAccessor.
     */
    NbpSliderKeyPointsComponent.prototype.writeValue = function (value) {
        if (value !== undefined) {
            this.sliderValue = value;
            this.nbpChangeValue.emit(value);
        }
    };
    NbpSliderKeyPointsComponent.prototype.registerOnChange = function (fn) {
        this.propagateChange = fn;
    };
    NbpSliderKeyPointsComponent.prototype.registerOnTouched = function () { };
    Object.defineProperty(NbpSliderKeyPointsComponent.prototype, "sliderValue", {
        get: function () {
            return this._sliderValue;
        },
        set: function (val) {
            this._sliderValue = val;
            this.propagateChange(this._sliderValue);
        },
        enumerable: true,
        configurable: true
    });
    NbpSliderKeyPointsComponent.prototype.ngAfterViewInit = function () {
        this.noUiValues = this.sliderRef.nativeElement.querySelectorAll('.noUi-value-large');
        // this.sliderRef.nativeElement.querySelectorAll('.noUi-tooltip')[0].insertAdjacentHTML('afterend', '<div class="two">two</div>')
        var buffer;
        for (var i = 0; i < this.noUiValues.length; i++) {
            buffer = this.noUiValues[i].getAttribute("data-value");
            this.noUiValues[i].addEventListener('click', this.clickOnPip.bind(this, buffer), false);
        }
    };
    NbpSliderKeyPointsComponent.prototype.clickOnPip = function (currentValueTip, mouseEvent) {
        this.sliderValue = currentValueTip;
    };
    return NbpSliderKeyPointsComponent;
}());
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", String)
], exports.NbpSliderKeyPointsComponent.prototype, "id", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", String)
], exports.NbpSliderKeyPointsComponent.prototype, "name", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Number)
], exports.NbpSliderKeyPointsComponent.prototype, "type", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Boolean)
], exports.NbpSliderKeyPointsComponent.prototype, "disabled", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Array)
], exports.NbpSliderKeyPointsComponent.prototype, "range", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Object)
], exports.NbpSliderKeyPointsComponent.prototype, "config", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Array)
], exports.NbpSliderKeyPointsComponent.prototype, "keyboard", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Number)
], exports.NbpSliderKeyPointsComponent.prototype, "min", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Number)
], exports.NbpSliderKeyPointsComponent.prototype, "max", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Number)
], exports.NbpSliderKeyPointsComponent.prototype, "step", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Number)
], exports.NbpSliderKeyPointsComponent.prototype, "limit", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Boolean)
], exports.NbpSliderKeyPointsComponent.prototype, "connect", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Object)
], exports.NbpSliderKeyPointsComponent.prototype, "behavior", void 0);
__decorate$150([
    _angular_core.Input(),
    __metadata$129("design:type", Number)
], exports.NbpSliderKeyPointsComponent.prototype, "_sliderValue", void 0);
__decorate$150([
    _angular_core.Output(),
    __metadata$129("design:type", _angular_core.EventEmitter)
], exports.NbpSliderKeyPointsComponent.prototype, "nbpChangeValue", void 0);
__decorate$150([
    _angular_core.ViewChild('sliderRef', { read: _angular_core.ElementRef }),
    __metadata$129("design:type", _angular_core.ElementRef)
], exports.NbpSliderKeyPointsComponent.prototype, "sliderRef", void 0);
exports.NbpSliderKeyPointsComponent = __decorate$150([
    _angular_core.Component({
        selector: 'nbp-slider-keypoints',
        template: "<div class=\"row\" style=\"width:27.562em; padding-top: 4.375em;\"><nouislider id=\"\" #sliderRef *ngIf=\"type==0\" [name]=\"name\" [config]=\"config\" [(ngModel)]=\"sliderValue\"></nouislider></div><div class=\"row\" style=\"width:27.562em;margin-top:13px; margin-left:-9px;\"><div style=\"width:20px; float:left; margin-left:-5px;\">{{config.range.min}}</div><div style=\"width:20px; float: right; margin-right:-10px;\">{{config.range.max}}</div></div>",
        styles: [":host /deep/ :focus{outline:0!important;border:0}:host /deep/ .noUi-handle:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:2.187em;background-color:#fff;border-radius:2.187em;margin-left:-8px;cursor:pointer;color:#258900}:host /deep/ .noUi-handle:after{left:17px}.noUi-target *,:host /deep/ .noUi-target{-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-ms-touch-action:none;touch-action:none;-ms-user-select:none;-moz-user-select:none;user-select:none;-moz-box-sizing:border-box;box-sizing:border-box}:host /deep/ .noUi-target{position:relative;direction:ltr}.noUi-connects,:host /deep/ .noUi-base{width:100%;height:100%;position:relative;z-index:1}:host /deep/ .noUi-connects{overflow:hidden;z-index:0}.noUi-origin,:host /deep/ .noUi-connect{will-change:transform;position:absolute;z-index:1;top:0;left:0;height:100%;width:100%;-ms-transform-origin:0 0;-webkit-transform-origin:0 0;transform-origin:0 0}:host /deep/ html:not([dir=rtl]) .noUi-horizontal .noUi-origin{left:auto;right:0}:host /deep/ .noUi-vertical .noUi-origin{width:0}:host /deep/ .noUi-horizontal .noUi-origin{height:0}:host /deep/ .noUi-handle{position:absolute}.noUi-state-tap .noUi-origin,:host /deep/ .noUi-state-tap .noUi-connect{-webkit-transition:transform .3s;transition:transform .3s}:host /deep/ .noUi-state-drag *{cursor:inherit!important}:host /deep/ .noUi-horizontal{height:18px}:host /deep/ .noUi-horizontal .noUi-handle{width:0;height:0;left:-.625em;top:0;margin-left:100%}:host /deep/ .noUi-vertical{width:18px}:host /deep/ .noUi-vertical .noUi-handle{width:0;height:0;left:-6px;top:-17px}:host /deep/ html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:-.625em;left:auto}:host /deep/ .noUi-target{background:#fafafa}:host /deep/ .noUi-connects{border-radius:3px}:host /deep/ .noUi-connect{background:#3fb8af}:host /deep/ .noUi-draggable{cursor:ew-resize}:host /deep/ .noUi-vertical .noUi-draggable{cursor:ns-resize}:host /deep/ .noUi-handle{width:0;height:0;left:0;top:3px;margin-left:98%;cursor:pointer}.noUi-vertical .noUi-handle:after,:host /deep/ .noUi-vertical .noUi-handle:before{width:14px;height:1px;left:6px;top:14px}:host /deep/ .noUi-vertical .noUi-handle:after{top:17px}:host /deep/ [disabled] .noUi-connect{background:#b8b8b8}:host /deep/ [disabled].noUi-target,[disabled] .noUi-handle,[disabled].noUi-handle{cursor:not-allowed}.noUi-pips *,:host /deep/ .noUi-pips{-moz-box-sizing:border-box;box-sizing:border-box}:host /deep/ .noUi-pips{position:absolute;color:#999}:host /deep/ .noUi-value{position:absolute;white-space:nowrap;text-align:center}:host /deep/ .noUi-value-sub{color:#ccc;font-size:10px}:host /deep/ .noUi-marker{position:absolute;background:#ccc}:host /deep/ .noUi-marker-sub{background:#aaa}:host /deep/ .noUi-marker-large{background:#aaa}:host /deep/ .noUi-pips-horizontal{padding:.625em 0;height:5em;top:100%;left:0;width:100%;margin-top:-1.687em}:host /deep/ .noUi-value-horizontal{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}:host /deep/ .noUi-rtl .noUi-value-horizontal{-webkit-transform:translate(50%,50%);transform:translate(50%,50%)}:host /deep/ .noUi-marker-horizontal.noUi-marker{margin-left:-1px;width:.125em;height:5px}:host /deep/ .noUi-marker-horizontal.noUi-marker-sub{height:10px}:host /deep/ .noUi-marker-horizontal.noUi-marker-large{height:15px}:host /deep/ .noUi-pips-vertical{padding:0 10px;height:100%;top:0;left:100%}:host /deep/ .noUi-value-vertical{-webkit-transform:translate(0,-50%);transform:translate(0,-50%,0);padding-left:25px}:host /deep/ .noUi-rtl .noUi-value-vertical{-webkit-transform:translate(0,50%);transform:translate(0,50%)}:host /deep/ .noUi-marker-vertical.noUi-marker{width:5px;height:.125em;margin-top:-1px}:host /deep/ .noUi-marker-vertical.noUi-marker-sub{width:10px}:host /deep/ .noUi-marker-vertical.noUi-marker-large{width:15px}:host /deep/ .noUi-horizontal .noUi-tooltip{-webkit-transform:translate(-50%,0);transform:translate(-50%,0);left:50%;bottom:120%}:host /deep/ .noUi-vertical .noUi-tooltip{-webkit-transform:translate(0,-50%);transform:translate(0,-50%);top:50%;right:120%}:host /deep/ .noUi-value-horizontal.noUi-value-large{background-color:#6f6f6f;color:transparent;height:1em;width:1em;border-radius:50%;cursor:pointer}:host /deep/ .noUi-value-horizontal.noUi-value-large:hover{background-color:#258900;color:transparent;height:1em;width:1em;border-radius:50%;cursor:pointer}:host /deep/ .noUi-marker-horizontal.noUi-marker{margin-left:-1px;width:.125em;height:0}:host /deep/ .noUi-marker-horizontal.noUi-marker-sub{height:0}:host /deep/ .noUi-marker-horizontal.noUi-marker-large{height:0}:host /deep/ .noUi-horizontal{height:.125em;padding:0!important;top:0!important;width:100%!important;background-color:#6f6f6f!important}:host /deep/ .noUi-tooltip{display:block;padding:.375em .812em .375em .812em;white-space:nowrap;border-width:0;position:absolute;left:0;width:4.375em;height:2em;background:inherit;background-color:#6f6f6f;border:none;border-radius:0;box-shadow:none;font-family:'Arial Bold',Arial;font-weight:700;font-style:normal;font-size:1em;color:#fff;text-align:center;line-height:1.25em;margin-left:.5em;margin-bottom:1.875em}:host /deep/ .noUi-tooltip::after{content:\"\";position:absolute;top:100%;right:37%;border-top-width:.375em;border-right-width:.5em;border-bottom-width:.375em;border-left-width:.5em;border-style:solid;border-color:#6f6f6f transparent transparent transparent}:host /deep/ .noUi-horizontal .noUi-tooltip{-webkit-transform:translate(-50%,0);transform:translate(-50%,0);left:63%;bottom:190%}:host /deep/ .noUi-vertical .noUi-tooltip{-webkit-transform:translate(0,-50%);transform:translate(0,-50%);top:50%;right:120%}.contrasto-on .noUi-target *,.contrasto-on :host /deep/ .noUi-target{-webkit-tap-highlight-color:#000!important}.contrasto-on :host /deep/ .noUi-target{background:#000!important}.contrasto-on :host /deep/ .noUi-connect{background:#000!important}.contrasto-on :host /deep/ .icomoon-noUi-startIcon:before{background-color:#fff!important;color:#000}.contrasto-on :host /deep/ .icomoon-noUi-endIcon:before{background-color:#fff!important;color:#000}.contrasto-on :host /deep/ .noUi-handle:before{background-color:#fff!important;color:#000}.contrasto-on :host /deep/ [disabled] .noUi-connect{background:#000}.contrasto-on :host /deep/ .noUi-pips{color:#000}.contrasto-on :host /deep/ .noUi-value{color:transparent}.contrasto-on :host /deep/ .noUi-value-sub{color:transparent}.contrasto-on :host /deep/ .noUi-marker{background:#000}.contrasto-on :host /deep/ .noUi-marker-sub{background:#000}.contrasto-on :host /deep/ .noUi-marker-large{background:#000}.contrasto-on :host /deep/ .noUi-tooltip{background-color:#000;color:#fff}.contrasto-on :host /deep/ .noUi-tooltip::after{border-color:#000 transparent transparent transparent}.contrasto-on :host /deep/ .noUi-value-horizontal.noUi-value-large{background-color:#000}.contrasto-on :host /deep/ .noUi-value-horizontal.noUi-value-large:hover{background-color:#fff;border:1px solid #000} /*# sourceMappingURL=nbp-slider-keypoints.component.css.map */ "],
        // encapsulation: ViewEncapsulation.Native,
        providers: [NBP_SLIDER_CONTROL_VALUE_ACCESSOR$1]
    }),
    __metadata$129("design:paramtypes", [])
], exports.NbpSliderKeyPointsComponent);

var __decorate$151 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$130 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var DefaultFormatter = (function () {
    function DefaultFormatter() {
    }
    DefaultFormatter.prototype.to = function (value) {
        return String(parseFloat(parseFloat(String(value)).toFixed(2)));
    };
    
    DefaultFormatter.prototype.from = function (value) {
        return parseFloat(value);
    };
    return DefaultFormatter;
}());
var NouisliderComponent = NouisliderComponent_1 = (function () {
    function NouisliderComponent(el, renderer) {
        var _this = this;
        this.el = el;
        this.renderer = renderer;
        this.config = {};
        this.change = new _angular_core.EventEmitter(true);
        this.update = new _angular_core.EventEmitter(true);
        this.slide = new _angular_core.EventEmitter(true);
        this.set = new _angular_core.EventEmitter(true);
        this.start = new _angular_core.EventEmitter(true);
        this.end = new _angular_core.EventEmitter(true);
        this.onChange = Function.prototype;
        this.onTouched = Function.prototype;
        this.eventHandler = function (emitter, values, handle, unencoded) {
            var v = _this.toValues(values);
            var emitEvents = false;
            if (_this.value === undefined) {
                _this.value = v;
                return;
            }
            if (Array.isArray(v) && _this.value[handle] != v[handle]) {
                emitEvents = true;
            }
            if (!Array.isArray(v) && _this.value != v) {
                emitEvents = true;
            }
            if (emitEvents) {
                emitter.emit(v);
                _this.onChange(v);
            }
            if (Array.isArray(v)) {
                _this.value[handle] = v[handle];
            }
            else {
                _this.value = v;
            }
        };
        this.defaultKeyHandler = function (e) {
            var stepSize = _this.slider.steps();
            var index = parseInt(e.target.getAttribute('data-handle'));
            var sign = 1;
            var multiplier = 1;
            var step = 0;
            var delta = 0;
            switch (e.which) {
                case 34:
                    multiplier = _this.config.pageSteps;
                case 40: // ArrowDown
                case 37:
                    sign = -1;
                    step = stepSize[index][0];
                    e.preventDefault();
                    break;
                case 33:
                    multiplier = _this.config.pageSteps;
                case 38: // ArrowUp
                case 39:
                    step = stepSize[index][1];
                    e.preventDefault();
                    break;
                default:
                    break;
            }
            delta = sign * multiplier * step;
            var newValue;
            if (Array.isArray(_this.value)) {
                newValue = [].concat(_this.value);
                newValue[index] = newValue[index] + delta;
            }
            else {
                newValue = _this.value + delta;
            }
            _this.slider.set(newValue);
        };
    }
    NouisliderComponent.prototype.ngOnInit = function () {
        var _this = this;
        var inputsConfig = JSON.parse(JSON.stringify({
            behaviour: this.behaviour,
            connect: this.connect,
            limit: this.limit,
            start: this.formControl !== undefined ? this.formControl.value : this.ngModel,
            step: this.step,
            pageSteps: this.pageSteps,
            keyboard: this.keyboard,
            onKeydown: this.onKeydown,
            range: this.config.range || { min: this.min, max: this.max },
            tooltips: this.tooltips,
        }));
        inputsConfig.format = this.format || this.config.format || new DefaultFormatter();
        this.slider = noUiSlider.create(this.el.nativeElement.querySelector('div'), Object.assign(this.config, inputsConfig));
        this.handles = [].slice.call(this.el.nativeElement.querySelectorAll('.noUi-handle'));
        this.el.nativeElement.querySelectorAll('.noUi-handle')[0].classList.add("icomoon-Simboli_Risorsa-30");
        if (this.config.keyboard) {
            if (this.config.pageSteps === undefined) {
                this.config.pageSteps = 10;
            }
            var _loop_1 = function (handle) {
                handle.setAttribute('tabindex', 0);
                handle.addEventListener('click', function () {
                    handle.focus();
                });
                if (this_1.config.onKeydown === undefined) {
                    handle.addEventListener('keydown', this_1.defaultKeyHandler);
                }
                else {
                    handle.addEventListener('keydown', this_1.config.onKeydown);
                }
            };
            var this_1 = this;
            for (var _i = 0, _a = this.handles; _i < _a.length; _i++) {
                var handle = _a[_i];
                _loop_1(handle);
            }
        }
        this.slider.on('set', function (values, handle, unencoded) {
            _this.eventHandler(_this.set, values, handle, unencoded);
        });
        this.slider.on('update', function (values, handle, unencoded) {
            _this.update.emit(_this.toValues(values));
        });
        this.slider.on('change', function (values, handle, unencoded) {
            _this.change.emit(_this.toValues(values));
        });
        this.slider.on('slide', function (values, handle, unencoded) {
            _this.eventHandler(_this.slide, values, handle, unencoded);
        });
        this.slider.on('start', function (values, handle, unencoded) {
            _this.start.emit(_this.toValues(values));
        });
        this.slider.on('end', function (values, handle, unencoded) {
            _this.end.emit(_this.toValues(values));
        });
    };
    NouisliderComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        if (this.slider && (changes.min || changes.max || changes.step)) {
            setTimeout(function () {
                _this.slider.updateOptions({
                    range: {
                        min: _this.min,
                        max: _this.max
                    },
                    step: _this.step
                });
            });
        }
    };
    NouisliderComponent.prototype.toValues = function (values) {
        var v = values.map(this.config.format.from);
        return (v.length == 1 ? v[0] : v);
    };
    NouisliderComponent.prototype.writeValue = function (value) {
        if (this.slider) {
            this.slider.set(value);
        }
    };
    NouisliderComponent.prototype.registerOnChange = function (fn) {
        this.onChange = fn;
    };
    NouisliderComponent.prototype.registerOnTouched = function (fn) {
        this.onTouched = fn;
    };
    NouisliderComponent.prototype.setDisabledState = function (isDisabled) {
        isDisabled
            ? this.renderer.setAttribute(this.el.nativeElement.childNodes[0], 'disabled', 'true')
            : this.renderer.removeAttribute(this.el.nativeElement.childNodes[0], 'disabled');
    };
    return NouisliderComponent;
}());
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Boolean)
], NouisliderComponent.prototype, "disabled", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", String)
], NouisliderComponent.prototype, "behaviour", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Array)
], NouisliderComponent.prototype, "connect", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Number)
], NouisliderComponent.prototype, "limit", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Number)
], NouisliderComponent.prototype, "min", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Number)
], NouisliderComponent.prototype, "max", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Number)
], NouisliderComponent.prototype, "step", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Object)
], NouisliderComponent.prototype, "format", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Number)
], NouisliderComponent.prototype, "pageSteps", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Object)
], NouisliderComponent.prototype, "config", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Object)
], NouisliderComponent.prototype, "ngModel", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Boolean)
], NouisliderComponent.prototype, "keyboard", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Object)
], NouisliderComponent.prototype, "onKeydown", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", _angular_forms.FormControl)
], NouisliderComponent.prototype, "formControl", void 0);
__decorate$151([
    _angular_core.Input(),
    __metadata$130("design:type", Array)
], NouisliderComponent.prototype, "tooltips", void 0);
__decorate$151([
    _angular_core.Output(),
    __metadata$130("design:type", _angular_core.EventEmitter)
], NouisliderComponent.prototype, "change", void 0);
__decorate$151([
    _angular_core.Output(),
    __metadata$130("design:type", _angular_core.EventEmitter)
], NouisliderComponent.prototype, "update", void 0);
__decorate$151([
    _angular_core.Output(),
    __metadata$130("design:type", _angular_core.EventEmitter)
], NouisliderComponent.prototype, "slide", void 0);
__decorate$151([
    _angular_core.Output(),
    __metadata$130("design:type", _angular_core.EventEmitter)
], NouisliderComponent.prototype, "set", void 0);
__decorate$151([
    _angular_core.Output(),
    __metadata$130("design:type", _angular_core.EventEmitter)
], NouisliderComponent.prototype, "start", void 0);
__decorate$151([
    _angular_core.Output(),
    __metadata$130("design:type", _angular_core.EventEmitter)
], NouisliderComponent.prototype, "end", void 0);
NouisliderComponent = NouisliderComponent_1 = __decorate$151([
    _angular_core.Component({
        selector: 'nouislider',
        host: {
            '[class.ng2-nouislider]': 'true'
        },
        template: '<div [attr.disabled]="disabled ? true : undefined"></div>',
        styles: ["\n    :host {\n      display: block;\n      margin-top: 1rem;\n      margin-bottom: 1rem;\n    }\n  "],
        providers: [
            {
                provide: _angular_forms.NG_VALUE_ACCESSOR,
                useExisting: _angular_core.forwardRef(function () { return NouisliderComponent_1; }),
                multi: true
            }
        ]
    }),
    __metadata$130("design:paramtypes", [_angular_core.ElementRef, _angular_core.Renderer2])
], NouisliderComponent);
exports.NouisliderModule = (function () {
    function NouisliderModule() {
    }
    return NouisliderModule;
}());
exports.NouisliderModule = __decorate$151([
    _angular_core.NgModule({
        imports: [],
        exports: [NouisliderComponent],
        declarations: [NouisliderComponent],
    })
], exports.NouisliderModule);
var NouisliderComponent_1;

var __decorate$152 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$131 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpPaginationLettersComponent = (function () {
    function NbpPaginationLettersComponent() {
        /**
         * Evento di notifica per passaggio ad una pagina qualsiasi
         */
        this.nbpSelectChar = new _angular_core.EventEmitter();
    }
    NbpPaginationLettersComponent.prototype.ngOnInit = function () {
    };
    NbpPaginationLettersComponent.prototype.onNbpSelectChar = function (char) {
        this.chars.forEach(function (item) { item.selected = (item.label === char); });
        this.nbpSelectChar.emit(char);
    };
    return NbpPaginationLettersComponent;
}());
__decorate$152([
    _angular_core.Input(),
    __metadata$131("design:type", Array)
], exports.NbpPaginationLettersComponent.prototype, "chars", void 0);
__decorate$152([
    _angular_core.Output(),
    __metadata$131("design:type", _angular_core.EventEmitter)
], exports.NbpPaginationLettersComponent.prototype, "nbpSelectChar", void 0);
exports.NbpPaginationLettersComponent = __decorate$152([
    _angular_core.Component({
        selector: 'nbp-pagination-letters',
        template: "<div class=\"contenitor\"><ng-container *ngFor=\"let char of chars; index as i;\"><div class=\"letter\" (click)=\"onNbpSelectChar(char.label)\" [ngClass]=\"{ 'enabled': !char.disabled, 'disabled': char.disabled, 'selected': char.selected }\">{{char.label}}</div></ng-container></div>",
        styles: [".contenitor{display:table;border-collapse:separate;border-spacing:.312em;margin:0 auto}.letter{text-align:center}.enabled{background-color:transparent;font-size:.937em;font-family:Arial,Regular;margin:1px;height:2em;width:2em;color:#258900;border:1px solid #258900;border-radius:1.562em;display:table-cell;vertical-align:middle;cursor:pointer}.enabled:hover{color:#fff;background-color:#258900}.selected{background-color:transparent;font-size:.937em;font-family:Arial,Regular;margin:1px;height:2em;width:2em;color:#fff;background-color:#258900;border-radius:1.562em;display:table-cell;vertical-align:middle;cursor:pointer}.disabled{background-color:transparent;font-size:.937em;font-family:Arial,Regular;margin:1px;height:2em;width:2em;border-radius:1.562em;display:table-cell;vertical-align:middle;pointer-events:none;opacity:.5;color:#ccc;border:1px solid #ccc;cursor:none}:host-context(.contrasto-on) .enabled{background-color:transparent;color:#000;border:1px solid #000}:host-context(.contrasto-on) .enabled:hover{color:#fff;background-color:#000}:host-context(.contrasto-on) .selected{color:#fff;background-color:#000}:host-context(.contrasto-on) .disabled{opacity:.5;color:#000;border:1px solid #000} /*# sourceMappingURL=nbp-pagination-letters.component.css.map */ "]
    }),
    __metadata$131("design:paramtypes", [])
], exports.NbpPaginationLettersComponent);

var __decorate$153 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$132 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpUploadFileComponent = (function () {
    function NbpUploadFileComponent() {
        /**
         * Evento per passare all'esterno la lista dei file.
         */
        this.nbpUploadFile = new _angular_core.EventEmitter();
        /**
         * Evento per associare una funziona esterna all'icona della lista dei file. Ritorna l'oggetto del file selezionato.
         */
        this.nbpEventIcon = new _angular_core.EventEmitter();
        /**
         * Tipo di caricamento dei file. Pu assumere due valori:
         * 'single': permette di selezionare un solo file;
         * 'multiple': permette di selezionare pi file;
         */
        this.typeUpload = 'multiple';
        this.uploader = new ng2FileUpload.FileUploader({});
        this.hasBaseDropZoneOver = false;
        this.hasAnotherDropZoneOver = false;
        this.files = [];
        this.fileOverBox = false;
    }
    NbpUploadFileComponent.prototype.fileOverBase = function (e) {
        this.hasBaseDropZoneOver = e;
    };
    NbpUploadFileComponent.prototype.fileOverAnother = function (e) {
        this.hasAnotherDropZoneOver = e;
    };
    NbpUploadFileComponent.prototype.changeListener = function ($event) {
        if (this.uploader.queue.length > 0 && this.files.length < this.uploader.options.queueLimit) {
            this.files = [];
            for (var i = 0; i < this.uploader.queue.length; i++) {
                this.readThisDrop(this.uploader.queue[i]);
            }
            this.nbpUploadFile.emit(this.files);
        }
    };
    // readThis(inputValue: any): void {
    //     var file: File = inputValue.files[0];
    //     var myReader: FileReader = new FileReader();
    //     myReader.onload = (e) => {
    //         this.propagateChange(myReader.result);
    //     }
    //     myReader.readAsDataURL(file);
    //     this.files.push(file);
    // }
    NbpUploadFileComponent.prototype.readThisDrop = function (inputDrop) {
        var file = inputDrop.some;
        this.files.push(file);
    };
    NbpUploadFileComponent.prototype.iconFn = function (index) {
        this.nbpEventIcon.emit(this.files[index]);
    };
    NbpUploadFileComponent.prototype.ngOnInit = function () {
        if (this.typeUpload && this.typeUpload === 'multiple') {
            var arrayAllowedType = this.setAllowedFile();
            if (arrayAllowedType.length > 0) {
                this.uploader.setOptions({ allowedMimeType: arrayAllowedType, queueLimit: 10000000000 });
            }
        }
        else if (this.typeUpload && this.typeUpload === 'single') {
            var arrayAllowedType = this.setAllowedFile();
            if (arrayAllowedType.length > 0) {
                this.uploader.setOptions({ allowedMimeType: arrayAllowedType, queueLimit: 1 });
            }
        }
    };
    NbpUploadFileComponent.prototype.setAllowedFile = function () {
        var arrayResult = [];
        if (!!this.typeFile) {
            var arrayType = this.typeFile.split(',');
            if (arrayType.length > 0) {
                for (var i = 0; i < arrayType.length; i++) {
                    arrayResult.push(arrayType[i]);
                }
            }
        }
        return arrayResult;
    };
    NbpUploadFileComponent.prototype.fileDropFn = function (e) {
        this.fileOverBox = false;
        if (!this.uploader.options.queueLimit) {
            this.uploader.options.queueLimit = 100000000000;
        }
        if (this.uploader.queue.length > 0 && this.files.length < this.uploader.options.queueLimit) {
            this.files = [];
            for (var i = 0; i < this.uploader.queue.length; i++) {
                this.readThisDrop(this.uploader.queue[i]);
            }
            this.nbpUploadFile.emit(this.files);
        }
    };
    NbpUploadFileComponent.prototype.removeFile = function (indice) {
        this.files.splice(indice, 1);
        this.nbpUploadFile.emit(this.files);
    };
    return NbpUploadFileComponent;
}());
__decorate$153([
    _angular_core.Output(),
    __metadata$132("design:type", _angular_core.EventEmitter)
], exports.NbpUploadFileComponent.prototype, "nbpUploadFile", void 0);
__decorate$153([
    _angular_core.Output(),
    __metadata$132("design:type", _angular_core.EventEmitter)
], exports.NbpUploadFileComponent.prototype, "nbpEventIcon", void 0);
__decorate$153([
    _angular_core.Input(),
    __metadata$132("design:type", String)
], exports.NbpUploadFileComponent.prototype, "typeUpload", void 0);
__decorate$153([
    _angular_core.Input(),
    __metadata$132("design:type", String)
], exports.NbpUploadFileComponent.prototype, "typeFile", void 0);
__decorate$153([
    _angular_core.Input(),
    __metadata$132("design:type", String)
], exports.NbpUploadFileComponent.prototype, "labelTitleDoc", void 0);
exports.NbpUploadFileComponent = __decorate$153([
    _angular_core.Component({
        selector: 'nbp-upload-file',template: "<div class=\"container-upload-file\"><label style=\"font-size:1.125em !important; font-weight: normal;\">{{labelTitleDoc}}</label><br><li class=\"panel-box\"><div ng2FileDrop class=\"upload-file\" (fileOver)=\"fileOverBase($event)\" (dragover)=\"fileOverBox = true;\" *ngIf=\"uploader.queue.length == 0\"><div class=\"container-label-trascina\"><span class=\"label-trascina\">Trascina qui<br>oppure</span></div><div class=\"container-icon-aggiungi\" *ngIf=\"typeUpload === 'multiple'\"><div class=\"icomoon-Documenti_37 icon-aggiungi\" (click)=\"fileInputMultiple.click()\"></div></div><div class=\"container-icon-aggiungi\" *ngIf=\"typeUpload === 'single'\"><div class=\"icomoon-Documenti_37 icon-aggiungi\" (click)=\"fileInput.click()\"></div></div><div><span *ngIf=\"typeUpload === 'multiple'\" class=\"label-allega\" (click)=\"fileInputMultiple.click()\">ALLEGA I TUOI FILE</span> <span *ngIf=\"typeUpload === 'single'\" class=\"label-allega\" (click)=\"fileInput.click()\">ALLEGA I TUOI FILE</span></div></div><div class=\"upload-box-list\" ng2FileDrop class=\"upload-file\" (fileOver)=\"fileOverBase($event)\" (dragover)=\"fileOverBox = true;\" *ngIf=\"uploader.queue.length > 0\"><div class=\"container-table\"><table class=\"table-file\"><tr *ngFor=\"let item of uploader.queue, let i = index\"><td nowrap=\"nowrap\" class=\"ico-comuni-search view-file\" (click)=\"iconFn(i)\"></td><td class=\"label-file\">{{ item?.file?.name }}</td><td nowrap=\"nowrap\" class=\"ico-comuni-chiudi remove-file\" (click)=\"item.remove(removeFile(i))\"></td></tr></table></div><div class=\"container-allega\"><table class=\"table-file\"><tr><td *ngIf=\"typeUpload === 'multiple'\" nowrap=\"nowrap\" class=\"icomoon-Simboli_Risorsa-25 plus-icon\" (click)=\"fileInputMultiple.click()\"></td><td *ngIf=\"typeUpload === 'single'\" nowrap=\"nowrap\" class=\"icomoon-Simboli_Risorsa-25 plus-icon\" (click)=\"fileInput.click()\"></td><td *ngIf=\"typeUpload === 'multiple'\" class=\"label-allega\" (click)=\"fileInputMultiple.click()\">ALLEGA I TUOI FILE</td><td *ngIf=\"typeUpload === 'single'\" class=\"label-allega\" (click)=\"fileInput.click()\">ALLEGA I TUOI FILE</td><td nowrap=\"nowrap\" class=\"label-trascina\">Oppure trascina qui</td></tr></table></div></div><div class=\"drag-upload-file\" [ngClass]=\"{'dragover-upload-file': fileOverBox}\" (dragleave)=\"fileOverBox = false;\" (onFileDrop)=\"fileDropFn($event)\" ng2FileDrop [uploader]=\"uploader\">Rilascia qui il tuo documento.</div><div class=\"drag-upload-file-second second-label\" [ngClass]=\"{'dragover-upload-file': fileOverBox}\" (dragleave)=\"fileOverBox = false;\" (onFileDrop)=\"fileDropFn($event)\" ng2FileDrop [uploader]=\"uploader\">La vedrai comparire nel box<br>se l'operazione andr a buon fine.</div></li><input style=\"visibility: hidden; height: 0px;\" type=\"file\" #fileInput ng2FileSelect [uploader]=\"uploader\" (change)=\"changeListener($event)\" accept=\"{{typeFile}}\"> <input style=\"visibility: hidden; height: 0px;\" type=\"file\" ng2FileSelect #fileInputMultiple [uploader]=\"uploader\" (change)=\"changeListener($event)\" accept=\"{{typeFile}}\" multiple=\"multiple\"></div>",
        styles: [".container-upload-file{width:69%;margin:auto}.upload-file{width:100%;height:11.563em;background-color:#fff;border:1px dashed #6f6f6f;padding:1.25em;z-index:5;opacity:1;display:block;position:absolute;top:0;left:0}.upload-file-over{background-color:#258900}.container-label-trascina{line-height:1}.label-trascina{font-family:Arial,Helvetica,sans-serif;font-weight:400;font-size:.75em;color:#6f6f6f}.label-allega{font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:.75em;color:#258900;cursor:pointer}.container-icon-aggiungi{padding-top:1.05em;padding-bottom:1.25em;display:inline-block}.icon-aggiungi{font-size:2.875em;color:#258900;border-radius:100%;box-shadow:0 0 1.25em 3px #323232;width:.899em;height:.899em;cursor:pointer}.icomoon-Documenti_37:before{position:relative;top:-.295em;left:-.06em}.drag-upload-file{width:100%;height:11.563em;background-color:#fff;border:1px solid #258900;padding:3.95em;background:#258900;color:#fff;position:absolute;top:0;left:0;z-index:0;opacity:0}.drag-upload-file-second{color:#fff;position:absolute;padding:5.95em;top:0;left:0;z-index:0;opacity:0}.dragover-upload-file{z-index:100;opacity:.9}.second-label{font-size:.875em}.panel-box{margin:.312em;padding:0;display:inline-block;clear:none;width:100%;height:11.563em;position:relative}.table-file{width:100%}.view-file{color:#258900;font-size:1.25em;top:.187em;position:relative;float:left}.remove-file{color:#258900;font-size:.938em;top:-.1em;position:relative;cursor:pointer;float:right}.label-file{font-size:.875em;font-family:Arial,Helvetica,sans-serif;color:#323232}.container-table{height:7.22em;overflow:auto}.container-allega{height:3.125em;border-top:1px solid #ccc;padding-top:.625em}.container-allega .label-allega{font-size:1em}.container-allega .label-trascina{font-size:1em}.plus-icon{font-size:1.563em;color:#258900;cursor:pointer} /*# sourceMappingURL=nbp-upload-file.component.css.map */ "]
    }),
    __metadata$132("design:paramtypes", [])
], exports.NbpUploadFileComponent);

var __decorate$154 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$133 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * componente per la visualizzazione di una fascia di bottoni a fondo pagina
 */
exports.NbpBottomPageButtonComponent = (function () {
    function NbpBottomPageButtonComponent(translate) {
        this.translate = translate;
        /**
         * Permette di disabilitare la traduzzione delle voci di menu
         */
        this.nbpTranslate = true;
        this.rowNumber = [];
        this._buildStyle = function (type, elem) {
            return (elem && elem.css && elem.css[type]) ? elem.css[type] : {};
        };
    }
    NbpBottomPageButtonComponent.prototype._translate = function (label) {
        if (!this.nbpTranslate) {
            return label;
        }
        return this.translate.instant(label);
    };
    NbpBottomPageButtonComponent.prototype.countRow = function (items) {
        var res = 0;
        if (items && items > 0) {
            var intVal = Math.floor(items / 3);
            ((items % 3) > 0) ? res = intVal + 1 : res = intVal;
        }
        return Array(res).fill(0).map(function (x, i) { return i; });
    };
    // }
    NbpBottomPageButtonComponent.prototype.ngOnInit = function () {
        if (this.nbpFixedWidht === undefined) {
            this.nbpFixedWidht = '960px';
        }
        var rowCount = 0;
        this.rowNumber = [];
        if (this.nbpButtonActionList && this.nbpButtonActionList.length > 0) {
            this.rowNumber = this.countRow(this.nbpButtonActionList.length);
        }
    };
    NbpBottomPageButtonComponent.prototype.ngOnChanges = function (changes) {
        var buttonActionList = changes.nbpButtonActionList;
        if (buttonActionList.currentValue && buttonActionList.currentValue.length > 0) {
            this.rowNumber = this.countRow(buttonActionList.currentValue.length);
        }
    };
    return NbpBottomPageButtonComponent;
}());
__decorate$154([
    _angular_core.Input(),
    __metadata$133("design:type", Array)
], exports.NbpBottomPageButtonComponent.prototype, "nbpButtonActionList", void 0);
__decorate$154([
    _angular_core.Input(),
    __metadata$133("design:type", String)
], exports.NbpBottomPageButtonComponent.prototype, "nbpTitleBottom", void 0);
__decorate$154([
    _angular_core.Input(),
    __metadata$133("design:type", String)
], exports.NbpBottomPageButtonComponent.prototype, "nbpFixedWidht", void 0);
__decorate$154([
    _angular_core.Input(),
    __metadata$133("design:type", Boolean)
], exports.NbpBottomPageButtonComponent.prototype, "nbpTranslate", void 0);
exports.NbpBottomPageButtonComponent = __decorate$154([
    _angular_core.Component({
        selector: 'nbp-bottom-page-button',
        template: "<div class=\"sfondo-div\"><div class=\"u2056_div container\"><div class=\"row no-margin\"><div class=\"text-center title-button\">{{_translate(nbpTitleBottom)}}</div></div><div class=\"row no-margin row-button-line text-center\" *ngFor=\"let row of rowNumber; let rowIndex = index\"><ng-container *ngFor=\"let item of [0,1,2]; let indexButton = index\"><div class=\"col-width\" *ngIf=\"!!nbpButtonActionList[((rowIndex * 3) + indexButton)]\"><button class=\"btn-bottom\" (click)=\"nbpButtonActionList[((rowIndex * 3) + indexButton)].action($event)\"><div class=\"btn-boottom-container\"><div class=\"btn-boottom-icon\" [ngStyle]=\"_buildStyle('icon',nbpButtonActionList[((rowIndex * 3) + indexButton)])\"><span class=\"{{nbpButtonActionList[((rowIndex * 3) + indexButton)].icon}}\"></span></div><div class=\"btn-boottom-label\" [ngStyle]=\"_buildStyle('text',nbpButtonActionList[((rowIndex * 3) + indexButton)])\"><span>{{_translate(nbpButtonActionList[((rowIndex * 3) + indexButton)].name)}}</span></div></div></button></div></ng-container></div></div></div>",
        styles: [".sfondo-div{width:100%;background-color:#258900}.u2056_div{border-width:0;margin-left:auto;margin-right:auto;left:0;right:0;bottom:0;min-width:960px;background:inherit;background-color:#258900;border:none;border-radius:0;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;font-size:1.5em;color:#fff}.title-button{padding-top:20px;padding-bottom:25px}.col-width{padding-left:4.64%;padding-right:4.64%;width:33.33333333%;float:left}.no-margin{margin-left:0;margin-right:0}.row-button-line{padding-bottom:20px}.btn-bottom{border-radius:2px!important;border-style:solid;border-width:1px;width:250px;height:50px;text-align:center;background-color:#258900;font:'Arial Bold';font-size:.75em;color:#fff}.btn-bottom:hover{background-color:#323232;color:#fff;border-color:#323232}.btn-boottom-container{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;width:100%}.btn-boottom-icon{-webkit-box-flex:0 0 42px;-moz-box-flex:0 0 42px;-webkit-flex:0 0 42px;-ms-flex:0 0 42px;flex:0 0 42px;font-size:32px;margin-top:4px}.btn-boottom-label{padding-left:10px;font:'Arial Bold';font-size:.75em;color:#fff;max-width:12.33em;overflow:hidden;text-overflow:clip} /*# sourceMappingURL=nbp-bottom-page-button.component.css.map */ "]
    }),
    __metadata$133("design:paramtypes", [_ngxTranslate_core.TranslateService])
], exports.NbpBottomPageButtonComponent);

var __decorate$155 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$134 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpSliderRangeComponent = (function () {
    function NbpSliderRangeComponent() {
        /**
         * Default Options
         */
        this.defaultOpts = {
            min: 0,
            max: 100,
            label: {
                range: 10,
                format: '$9'
            },
        };
        this.openedFilter = false;
        this.sliderModel = new _angular_forms.FormControl();
        this.options = {};
        this.options = Object.assign({}, this.defaultOpts);
    }
    NbpSliderRangeComponent.prototype.ngOnInit = function () {
        this.min = (new Date(this.startDate.year, this.startDate.month, this.startDate.day)).getTime();
        this.max = (new Date(this.endDate.year, this.endDate.month, this.endDate.day)).getTime();
        this.sliderModel.setValue(this.model.value);
        this.changeSelectDate1(new Date(this.model.value[0]));
        this.changeSelectDate2(new Date(this.model.value[1]));
    };
    NbpSliderRangeComponent.prototype.ngOnChanges = function () {
        /* Detect Input() Changes */
        /* Initial Slider */
    };
    NbpSliderRangeComponent.prototype.changeSelectDate1 = function (data) {
        this.modelDate1 = data;
    };
    NbpSliderRangeComponent.prototype.changeSelectDate2 = function (data) {
        this.modelDate2 = data;
    };
    NbpSliderRangeComponent.prototype.setPoints = function () {
        if (this.modelDate1 && this.modelDate2) {
            this.model = new _angular_forms.FormControl([
                (new Date(this.modelDate1.year, this.modelDate1.month - 1, this.modelDate1.day)).getTime(),
                (new Date(this.modelDate2.year, this.modelDate2.month - 1, this.modelDate2.day)).getTime(),
            ]);
            this.sliderModel.setValue(this.model.value);
        }
    };
    NbpSliderRangeComponent.prototype.convertDateFormat = function (date) {
        var newDate = {};
        if (!date) {
            return undefined;
        }
        if (date && date.day && date.month && date.year) {
            newDate.day = date.day;
            newDate.month = String(Number(date.month) + 1);
            newDate.year = date.year;
            return newDate;
        }
        else {
            newDate.day = date.getDate();
            newDate.month = date.getMonth();
            newDate.year = date.getFullYear();
        }
    };
    NbpSliderRangeComponent.prototype.wrongDateOrder = function (valueSelectDate1, valueSelectDate2) {
        if (!valueSelectDate1 || !valueSelectDate2) {
            return true;
        }
        var date1 = new Date(valueSelectDate1.year, valueSelectDate1.month, valueSelectDate1.day);
        var date2 = new Date(valueSelectDate2.year, valueSelectDate2.month, valueSelectDate2.day);
        return date2 < date1;
    };
    return NbpSliderRangeComponent;
}());
__decorate$155([
    _angular_core.Input(),
    __metadata$134("design:type", Object)
], exports.NbpSliderRangeComponent.prototype, "model", void 0);
__decorate$155([
    _angular_core.Input(),
    __metadata$134("design:type", Object)
], exports.NbpSliderRangeComponent.prototype, "startDate", void 0);
__decorate$155([
    _angular_core.Input(),
    __metadata$134("design:type", Object)
], exports.NbpSliderRangeComponent.prototype, "endDate", void 0);
exports.NbpSliderRangeComponent = __decorate$155([
    _angular_core.Component({
        selector: 'nbp-slider-range',
        template: "<div style=\"width:100%\"><div class=\"nbp-slider-range-component\"><nbp-slider-range-bar [min]=\"min\" [max]=\"max\" [opts]=\"options\" [model]=\"sliderModel\"></nbp-slider-range-bar><nbp-slider-range-picker [min]=\"min\" [max]=\"max\" [opts]=\"options\" [model]=\"sliderModel\" [sModel]=\"model\"></nbp-slider-range-picker></div><div class=\"icona icona-pointer icomoon-Tempo_orologio2\" (click)=\"openedFilter = !openedFilter\"></div><div style=\"clear: both;\"></div><div class=\"row\"><div *ngIf=\"openedFilter\" class=\"col-md-24 col-sm-24 col-xs-24\" style=\"position: absolute; margin-top:14px; z-index:100\"><div style=\"text-align:right\"><div class=\"row arrow-filter\" style=\"margin-bottom:-7px; z-index: 1; margin-right:4%\"></div><div class=\"row filter-panel\" style=\"z-index: 0;\"><div class=\"text-center\" style=\"padding-left:30px; padding-right:30px; margin-bottom:20px\"><div class=\"row info-filter mrg-b-20\"><div class=\"row mrg-t-20 mrg-b-10\" style=\"font-weight: 600\"><div style=\"width:96%; float: left;\">SELEZIONA IL PERIODO</div><div style=\"width:4%; color:green;float: right; text-align: right\"><span class=\"glyphicon icon icona-pointer icomoon-Simboli_Risorsa-20\" (click)=\"openedFilter=!openedFilter\"></span></div></div><div style=\"text-align:left\">La data inizio e la data fine possono coprire un periodo temporale di al massimo 18 mesi</div><div style=\"text-align:left\">La data massima non pu superare la data odierna. Il periodo minimo selezionabile  di 15 giorni</div></div><div class=\"row\" style=\"color:rgb(50, 50, 50);\"><form #dataInputForm=\"ngForm\"><div class=\"col col-md-9 col-sm-9\"><nbp-input-container [nbpLabel]=\"'Data inizio periodo*'\"><nbp-calendar-generic name=\"inputData1\" [(ngModel)]=\"valueSelectDate1\" (ngModelChange)=\"changeSelectDate1($event)\" validateDate nbpShowValidation=\"true\" [startDateEnabled]=\"convertDateFormat(startDate)\" [endDateEnabled]=\"convertDateFormat(endDate)\"></nbp-calendar-generic></nbp-input-container></div><div class=\"col col-md-2 col-sm-1 col-xs-1\"></div><div class=\"col col-md-9 col-sm-9\"><nbp-input-container [nbpLabel]=\"'Data fine periodo*'\"><nbp-calendar-generic name=\"inputData2\" [(ngModel)]=\"valueSelectDate2\" (ngModelChange)=\"changeSelectDate2($event)\" validateDate nbpShowValidation=\"true\" [startDateEnabled]=\"convertDateFormat(startDate)\" [endDateEnabled]=\"convertDateFormat(endDate)\"></nbp-calendar-generic></nbp-input-container></div></form></div><div class=\"centerButton\"><nbp-button [nbpLabel]=\"'Applica'\" [nbpStyle]=\"0\" [disabled]=\"this.dataInputForm.invalid || !valueSelectDate1 || !valueSelectDate2 || wrongDateOrder(valueSelectDate1, valueSelectDate2)\" (nbpClick)=\"setPoints()\"></nbp-button></div></div></div></div></div></div></div>",
        styles: [":host /deep/ *{box-sizing:border-box}.nbp-slider-range-component{position:relative;padding:0;font-family:Arial Regular,Sans-Serif;font-size:12px;float:left;width:93%}.centerButton{display:inline-block}.icona{float:right;width:5%;position:relative}.icona:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:35px;background-color:#fff;border-radius:35px;margin-left:-8px;margin-top:30px;cursor:pointer;color:#258900}.icona-pointer{cursor:pointer}.success-container-open{width:35px;height:35px;cursor:pointer;position:absolute;margin-left:-40px;margin-top:-2px;background-color:#fff;color:#258900}.hover:hover .success-container-close .success-icon.on-hover{display:inline}.hover:hover .success-container-close .success-icon{display:none}.mrg-t-20{margin-top:20px}.mrg-b--10{margin-bottom:-10px}.info-filter{color:#323232}.success-container-close{width:35px;height:35px;cursor:pointer;position:absolute;margin-left:-40px;margin-top:-2px;background-color:#fff;color:#258900}.success-container-close:hover .success-icon.on-hover{display:inline}.success-container-close:hover .success-icon{display:none}.success-container-close .success-icon.on-hover{display:none}.icon-valori-filtri-settati{width:35px;height:35px;cursor:pointer;border-radius:25px;position:relative;background-color:#fff;color:#258900;border:1px solid #258900}.icon-valori-filtri-settati:hover{background-color:#258900;color:#fff}.container-filtrisettati{width:35px;height:35px;cursor:pointer;border-radius:25px;position:absolute;background-color:#fff;color:#258900;border:1px solid #258900}.container-filtrisettati:hover{background-color:#258900;color:#fff}.arrow-filter{display:inline-block;position:relative;width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:12px solid #ccc;margin-right:122px}.arrow-filter::before{content:'';position:absolute;top:2px;width:0;height:0;border-left:11px solid transparent;border-right:11px solid transparent;border-bottom:11px solid #f2f2f2;left:-10.5px}.success-icon{width:35px;height:35px;font-size:35px;cursor:pointer;position:absolute;top:-15%;left:-1%}.success-icon-gomma{width:20px;height:20px;font-size:20px;cursor:pointer;position:absolute;top:12%;left:20%}.cancella-filtri{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;text-align:left;font-size:11px;cursor:pointer;padding:0;border:0;margin:0}.centraCercaFiltra{margin-top:-1px}.cercaFiltra1{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;width:70px;text-align:left;cursor:pointer;padding:0;border:0;margin:0;margin-left:6px}.cercaFiltra2{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;width:70px;text-align:left;cursor:pointer;padding:0;border:0;margin:0;margin-top:-2px;margin-left:6px}.ricercaEffettuata{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;width:800px;text-align:left;font-size:11px;cursor:pointer;padding:0;border:0;margin:0}.hoverCancellaFiltri:hover>.icon-valori-filtri-settati{background-color:#258900;color:#fff}.filter-panel{background-color:#f2f2f2;color:#fff;width:100%;border:.5px solid #ccc}.button-group-filter{margin-top:20px;margin-bottom:20px}.gomma{font-size:2.5em;vertical-align:middle;color:green;background-color:transparent}.gomma_txt{margin-top:.75em;margin:0;padding:0;text-align:left;vertical-align:middle;color:#258900;font-size:.75em;font-weight:700;text-transform:uppercase}:host-context(.contrasto-on) .success-container-open{background-color:#fff;color:#000}:host-context(.contrasto-on) .success-container-close{background-color:#fff;color:#000}:host-context(.contrasto-on) .success-container-close:hover{background-color:#fff;color:#000}:host-context(.contrasto-on) .icon-valori-filtri-settati{background-color:#fff;color:#000;border:1px solid #000}:host-context(.contrasto-on) .icon-valori-filtri-settati:hover{background-color:#000;color:#fff}:host-context(.contrasto-on) .container-filtrisettati{background-color:#fff;color:#000;border:1px solid #000}:host-context(.contrasto-on) .container-filtrisettati:hover{background-color:#000;color:#fff}:host-context(.contrasto-on) .arrow-filter{border-bottom:12px solid #000}:host-context(.contrasto-on) .arrow-filter::before{border-bottom:11px solid #fff}:host-context(.contrasto-on) .cancella-filtri{color:#000}:host-context(.contrasto-on) .cercaFiltra1{color:#000}:host-context(.contrasto-on) .cercaFiltra2{color:#000}:host-context(.contrasto-on) .ricercaEffettuata{color:#000}:host-context(.contrasto-on) .hoverCancellaFiltri:hover>.icon-valori-filtri-settati{background-color:#000;color:#fff}:host-context(.contrasto-on) .filter-panel{background-color:#fff;color:#000;border:.5px solid #000}:host-context(.contrasto-on) .gomma{color:#000;background-color:transparent}:host-context(.contrasto-on) .gomma_txt{color:#000} /*# sourceMappingURL=nbp-slider-range.component.css.map */ "]
    }),
    __metadata$134("design:paramtypes", [])
], exports.NbpSliderRangeComponent);

var __decorate$157 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$136 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSliderRangeBarDirective = (function () {
    // parent: any;
    function NbpSliderRangeBarDirective(el) {
        this.el = el;
        this.range = 100;
    }
    NbpSliderRangeBarDirective.prototype.ngOnInit = function () {
        var _this = this;
        this.range = this.max - this.min;
        this.setBarPosition();
        /* Rileva Model Changes */
        this
            .model
            .valueChanges
            .subscribe(function (value) {
            /* Ridisegna Bar */
            _this.setBarPosition();
        });
    };
    // public reRenderBar() {
    //   this.range = this.max - this.min;
    //   this.setBarPosition();
    // }
    NbpSliderRangeBarDirective.prototype.setBarPosition = function () {
        var value = this.model.value;
        var min = value[0];
        var max = value[1];
        var leftPos = this.calculateNextPosFromValue(min);
        var rightPos = this.calculateNextPosFromValue(max);
        var leftPosPerc = leftPos / this.getParent().width * 100;
        var widthPerc = (rightPos - leftPos) / this.getParent().width * 100;
        this.el.nativeElement.style.left = leftPosPerc + "%";
        this.el.nativeElement.style.width = widthPerc + "%";
    };
    NbpSliderRangeBarDirective.prototype.calculateNextPosFromValue = function (value) {
        return ((value - this.min) / this.range) * this.getParent().width;
    };
    NbpSliderRangeBarDirective.prototype.getParent = function () {
        return this.el.nativeElement.parentElement.getBoundingClientRect();
    };
    return NbpSliderRangeBarDirective;
}());
__decorate$157([
    _angular_core.Input(),
    __metadata$136("design:type", Object)
], NbpSliderRangeBarDirective.prototype, "model", void 0);
__decorate$157([
    _angular_core.Input(),
    __metadata$136("design:type", Object)
], NbpSliderRangeBarDirective.prototype, "opts", void 0);
__decorate$157([
    _angular_core.Input(),
    __metadata$136("design:type", Object)
], NbpSliderRangeBarDirective.prototype, "min", void 0);
__decorate$157([
    _angular_core.Input(),
    __metadata$136("design:type", Object)
], NbpSliderRangeBarDirective.prototype, "max", void 0);
NbpSliderRangeBarDirective = __decorate$157([
    _angular_core.Directive({
        selector: '[nbpSliderRangeBar]'
    }),
    __metadata$136("design:paramtypes", [_angular_core.ElementRef])
], NbpSliderRangeBarDirective);

var __decorate$156 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$135 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente slider che permette di settare un range di tempo tra due date
 */
var NbpSliderRangeBarComponent = (function () {
    function NbpSliderRangeBarComponent() {
        this.min = 0;
        this.max = 100;
        this.labels = [];
        //range slider
        this.rangeDateDays = 100;
        this.isInit = false;
    }
    NbpSliderRangeBarComponent.prototype.ngOnChanges = function () {
        this.rangeDateDays = this.daysDifference(this.min, this.max);
        this.labels = this.getLabels();
    };
    NbpSliderRangeBarComponent.prototype.setPallinoClass = function (value) {
        return (this.model.value[0] < value && value < this.model.value[1]) ? "pallino-verde" : "pallino-nero";
    };
    NbpSliderRangeBarComponent.prototype.getLabels = function () {
        var list = [];
        var mesi = ["GEN", "FEB", "MAR", "APR", "MAG", "GIU", "LUG", "AGO", "SET", "OTT", "NOV", "DIC"];
        var tmpWidth, buffer1, buffer2;
        var oldDate, buffer, buffer3, dayTmp, monthTmp, yearTmp, tmpDate;
        var diffDays;
        tmpDate = this.min;
        while (tmpDate <= this.max) {
            //calcolo label
            buffer = new Date(tmpDate);
            dayTmp = buffer.getDate();
            monthTmp = buffer.getMonth();
            yearTmp = buffer.getFullYear();
            //la label va messa solo se siamo ad inizio mese
            buffer1 = dayTmp == 1 ? mesi[monthTmp] : "";
            buffer2 = dayTmp == 1 ? yearTmp + "" : "";
            buffer3 = tmpDate;
            //calcolo data successiva
            if (monthTmp == 11) {
                monthTmp = 0;
                yearTmp++;
            }
            else {
                monthTmp++;
            }
            //calcolo width
            oldDate = tmpDate;
            tmpDate = (new Date(yearTmp, monthTmp, 1)).getTime();
            diffDays = this.daysDifference(oldDate, tmpDate);
            tmpWidth = (diffDays / this.rangeDateDays) * 100 + "%";
            list.push({
                label1: buffer1,
                label2: buffer2,
                value: buffer3,
                width: tmpWidth
            });
        }
        //sistema i valori sbagliati del loop. Il loop li setta in maniera errata
        diffDays = this.daysDifference(oldDate, this.max);
        list[list.length - 1].width = (diffDays / this.rangeDateDays) * 100 + "%";
        return list;
    };
    NbpSliderRangeBarComponent.prototype.daysDifference = function (d0, d1) {
        var diff = new Date(+d1).setHours(12) - new Date(+d0).setHours(12);
        return Math.round(diff / 8.64e7);
    };
    return NbpSliderRangeBarComponent;
}());
__decorate$156([
    _angular_core.ViewChild(NbpSliderRangeBarDirective),
    __metadata$135("design:type", NbpSliderRangeBarDirective)
], NbpSliderRangeBarComponent.prototype, "bar", void 0);
__decorate$156([
    _angular_core.Input(),
    __metadata$135("design:type", Number)
], NbpSliderRangeBarComponent.prototype, "min", void 0);
__decorate$156([
    _angular_core.Input(),
    __metadata$135("design:type", Number)
], NbpSliderRangeBarComponent.prototype, "max", void 0);
__decorate$156([
    _angular_core.Input(),
    __metadata$135("design:type", Object)
], NbpSliderRangeBarComponent.prototype, "model", void 0);
__decorate$156([
    _angular_core.Input(),
    __metadata$135("design:type", Object)
], NbpSliderRangeBarComponent.prototype, "opts", void 0);
NbpSliderRangeBarComponent = __decorate$156([
    _angular_core.Component({
        selector: 'nbp-slider-range-bar',
        template: "<div class=\"slider-bar-container\"><div class=\"slider-bar\"><div nbpSliderRangeBar class=\"slider-bar-highlight\" [min]=\"min\" [max]=\"max\" [opts]=\"opts\" [model]=\"model\"></div></div><div class=\"slider-points\"><ng-container *ngFor=\"let item of labels; let first = first\"><div class=\"slider-label-item margin-color\" [ngStyle]=\"{'min-width': item.width }\"><div *ngIf=\"item.label1+item.label2\" [ngClass]=\"setPallinoClass(item.value)\"><span>X</span></div></div></ng-container></div><div class=\"slider-labels\"><ng-container *ngFor=\"let item of labels; let first = first\"><div class=\"slider-label-item margin-color\" [ngStyle]=\"{'min-width': item.width }\"><div><span>{{item.label1}}</span></div><div><span>{{item.label2}}</span></div></div></ng-container></div></div>",
        styles: [".margin-color{color:#6f6f6f;font-weight:700}.pallino-nero{background-color:#6f6f6f;color:transparent;font-size:0;height:16px;width:16px;border-radius:50%}.pallino-verde{background-color:#39ba2a;color:transparent;font-size:0;height:16px;width:16px;border-radius:50%}.slider-bar-container{position:relative}.slider-bar-container .slider-bar{height:4px;width:100%;background-color:#6f6f6f;position:relative;border-radius:2px}.slider-bar-container .slider-bar .slider-bar-highlight{position:absolute;left:0;width:50%;height:100%;background-color:#39ba2a;border-radius:2px}.slider-bar-container .slider-labels{margin-top:19px;margin-left:0;width:99.3%;display:flex}.slider-bar-container .slider-labels::after{display:block;position:absolute;content:'';height:1px;width:1px;background-color:#bbb;top:6px;right:0}.slider-bar-container .slider-labels .slider-label-item{text-align:left}.slider-bar-container .slider-labels .slider-label-item span{transform:translate(-20%,0);position:relative;display:inline-block}.slider-bar-container .slider-labels .slider-label-item:first-child span{transform:translate(-20%,0)}.slider-bar-container .slider-labels .slider-label-item:last-child span{transform:translate(-20%,0)}.slider-bar-container .slider-labels .slider-label-item::after{display:block;position:absolute;content:'';height:1px;width:1px;background-color:#bbb;top:6px}.slider-bar-container .slider-points{margin-top:-10px;width:99.3%;display:flex}.slider-bar-container .slider-points::after{display:block;position:absolute;content:'';height:1px;width:1px;background-color:#bbb;top:6px;right:0}.slider-bar-container .slider-points .slider-label-item{text-align:left}.slider-bar-container .slider-points .slider-label-item span{transform:translate(-90%,0);position:relative;display:inline-block}.slider-bar-container .slider-points .slider-label-item:first-child span{transform:translate(-20%,0)}.slider-bar-container .slider-points .slider-label-item:last-child span{transform:translate(20%,0)}.slider-bar-container .slider-points .slider-label-item::after{display:block;position:absolute;content:'';height:1px;width:1px;background-color:#bbb;top:6px} /*# sourceMappingURL=nbp-slider-range-bar.component.css.map */ "]
    }),
    __metadata$135("design:paramtypes", [])
], NbpSliderRangeBarComponent);

var Utils = (function () {
    function Utils() {
    }
    Utils.calculateDayFRomDate = function (startDate, endDate) {
        var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds
        var firstDate = new Date(startDate.year, startDate.month, startDate.day);
        var secondDate = new Date(endDate.year, endDate.month, endDate.day);
        var diffDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneDay)));
    };
    Utils.calculateTriggerValue = function (value, opts) {
        var trigger$$1 = opts.trigger || false;
        /* Have Trigger */
        if (trigger$$1) {
            var mod = value % trigger$$1;
            if (mod > trigger$$1 / 2) {
                return value - mod + trigger$$1;
            }
            else {
                return value - mod;
            }
        }
        return value;
    };
    Utils.getDecimalFormatter = function (format) {
        var hasDecimal = format.match(/\d+\.\d+/g);
        if (hasDecimal) {
            var fixed = (hasDecimal[0].split(".")[1] || "").length;
            return {
                str: format.replace(hasDecimal[0], "{{number}}"),
                fixed: fixed
            };
        }
        var hasNumber = format.match(/\d+/g);
        return {
            str: format.replace(hasNumber, "{{number}}"),
            fixed: 0
        };
    };
    Utils.formatValue = function (value, format) {
        var mesi = ["GEN", "FEB", "MAR", "APR", "MAG", "GIU", "LUG", "AGO", "SET", "OTT", "NOV", "DIC"];
        var date = new Date(value);
        var month = mesi[date.getMonth()];
        var day = date.getDate();
        var year = date.getFullYear();
        return day + " " + month;
        // const formatValue = value.toFixed(format.fixed)
        // return format.str.replace("{{number}}", formatValue)
        // return value;
    };
    return Utils;
}());

var __decorate$159 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$138 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSliderRangePickerDirective = (function () {
    function NbpSliderRangePickerDirective(el) {
        this.el = el;
        this.min = 0;
        this.max = 100;
        this.opts = {};
        this.pos = 0;
        this.onChange = new _angular_core.EventEmitter();
        this.onFinish = new _angular_core.EventEmitter();
        this.lastX = 0;
        this.currentValue = 0;
        this.isInit = false;
        this.range = 100;
        this.onTouchDragHanlder = this.onTouchDragHanlder.bind(this);
        this.setTriggerValue = this.setTriggerValue.bind(this);
    }
    NbpSliderRangePickerDirective.prototype.ngOnInit = function () {
        this.touch = new Hammer(this.el.nativeElement);
        /* Init Data */
        this.currentPos = this.el.nativeElement.getBoundingClientRect();
        this.range = this.max - this.min;
        /* Set Default Value */
        this.setDefaultValue();
        this.isInit = true;
    };
    NbpSliderRangePickerDirective.prototype.ngOnChanges = function () {
        if (this.isInit) {
            /* Re-Render new Value */
            this.setDefaultValue();
        }
    };
    NbpSliderRangePickerDirective.prototype.setDefaultValue = function () {
        var nextPos = this.calculateNextPosFromValue(this.defaultValue);
        var newxtPosPerc = nextPos / this.getParent().width * 100;
        this.el.nativeElement.style.left = newxtPosPerc + "%";
    };
    NbpSliderRangePickerDirective.prototype.slideStart = function (event) {
        document.ondragstart = function () { return false; };
        document.body.onselectstart = function () { return false; };
        this.touch.off("panleft panright panend");
        /* Touch */
        this.touch.on("panleft panright", this.onTouchDragHanlder);
        this.touch.on("panend", this.setTriggerValue);
    };
    NbpSliderRangePickerDirective.prototype.onTouchDragHanlder = function (event) {
        /* Calculate Next X Position */
        var xPos = event.center.x - this.getParent().left;
        this.render(xPos);
    };
    NbpSliderRangePickerDirective.prototype.calculateNextValue = function (nextPos) {
        var percentage = (nextPos / this.getParent().width) * 100;
        if (percentage > 100) {
            percentage = 100;
        }
        if (percentage < 0) {
            percentage = 0;
        }
        var range = this.max - this.min;
        var nextValue = ((percentage / 100) * range) + this.min;
        if (nextValue < this.min) {
            return Math.max(this.min, this.minValue);
        }
        else if (nextValue > this.max) {
            return Math.min(this.max, this.maxValue);
        }
        else {
            if (this.maxValue !== undefined) {
                if (nextValue < this.maxValue) {
                    return nextValue;
                }
                else {
                    return this.maxValue;
                }
            }
            if (this.minValue !== undefined) {
                if (nextValue > this.minValue) {
                    return nextValue;
                }
                else {
                    return this.minValue;
                }
            }
            return nextValue;
        }
    };
    NbpSliderRangePickerDirective.prototype.calculateTriggerValue = function (value) {
        return Utils.calculateTriggerValue(value, this.opts);
    };
    NbpSliderRangePickerDirective.prototype.setTriggerValue = function (e) {
        var _this = this;
        /* Move Picker */
        setTimeout(function () {
            var value = _this.calculateTriggerValue(_this.defaultValue);
            _this.onFinish.emit({ pos: _this.pos, value: value, index: _this.index });
        }, 2);
    };
    NbpSliderRangePickerDirective.prototype.calculateNextPosFromValue = function (value) {
        return ((value - this.min) / this.range) * this.getParent().width;
    };
    NbpSliderRangePickerDirective.prototype.render = function (nextPos) {
        /* Update Value */
        var value = this.calculateNextValue(nextPos);
        /* Move Picker */
        this.onChange.emit({ pos: this.pos, value: value, index: this.index });
    };
    NbpSliderRangePickerDirective.prototype.getParent = function () {
        return this.el.nativeElement.parentElement.getBoundingClientRect();
    };
    return NbpSliderRangePickerDirective;
}());
__decorate$159([
    _angular_core.Input(),
    __metadata$138("design:type", Number)
], NbpSliderRangePickerDirective.prototype, "min", void 0);
__decorate$159([
    _angular_core.Input(),
    __metadata$138("design:type", Number)
], NbpSliderRangePickerDirective.prototype, "max", void 0);
__decorate$159([
    _angular_core.Input(),
    __metadata$138("design:type", Number)
], NbpSliderRangePickerDirective.prototype, "minValue", void 0);
__decorate$159([
    _angular_core.Input(),
    __metadata$138("design:type", Number)
], NbpSliderRangePickerDirective.prototype, "maxValue", void 0);
__decorate$159([
    _angular_core.Input(),
    __metadata$138("design:type", Object)
], NbpSliderRangePickerDirective.prototype, "opts", void 0);
__decorate$159([
    _angular_core.Input(),
    __metadata$138("design:type", Number)
], NbpSliderRangePickerDirective.prototype, "pos", void 0);
__decorate$159([
    _angular_core.Input(),
    __metadata$138("design:type", Object)
], NbpSliderRangePickerDirective.prototype, "defaultValue", void 0);
__decorate$159([
    _angular_core.Input(),
    __metadata$138("design:type", Number)
], NbpSliderRangePickerDirective.prototype, "index", void 0);
__decorate$159([
    _angular_core.Output(),
    __metadata$138("design:type", _angular_core.EventEmitter)
], NbpSliderRangePickerDirective.prototype, "onChange", void 0);
__decorate$159([
    _angular_core.Output(),
    __metadata$138("design:type", _angular_core.EventEmitter)
], NbpSliderRangePickerDirective.prototype, "onFinish", void 0);
NbpSliderRangePickerDirective = __decorate$159([
    _angular_core.Directive({
        selector: '[nbpSliderRangePicker]',
        host: {
            '(mousedown)': 'slideStart($event)',
            '(touchstart)': 'slideStart($event)'
        }
    }),
    __metadata$138("design:paramtypes", [_angular_core.ElementRef])
], NbpSliderRangePickerDirective);

var __decorate$158 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$137 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSliderRangePickerComponent = (function () {
    // parent: any;
    function NbpSliderRangePickerComponent(el) {
        this.el = el;
        this.min = 0;
        this.max = 100;
        this.type = 'range';
        // this.parent = this.el.nativeElement.parentElement.getBoundingClientRect()
    }
    NbpSliderRangePickerComponent.prototype.ngOnInit = function () {
    };
    NbpSliderRangePickerComponent.prototype.onChange = function (_a) {
        var pos = _a.pos, value = _a.value, index = _a.index;
        if (index == undefined) {
            this.model.setValue(value);
        }
        else {
            var existValue = this.model.value;
            existValue[index] = value;
            this.model.setValue(existValue);
        }
    };
    NbpSliderRangePickerComponent.prototype.onFinish = function (_a) {
        var pos = _a.pos, value = _a.value, index = _a.index;
        if (index == undefined) {
            this.model.setValue(value);
            this.sModel.setValue(value);
        }
        else {
            var existValue = this.model.value;
            existValue[index] = value;
            this.model.setValue(existValue);
            this.sModel.setValue(existValue);
        }
    };
    NbpSliderRangePickerComponent.prototype.clickOnBar = function ($event) {
        var nextVal = this.calculateClickPos($event.clientX);
        var trigger$$1 = this.opts.trigger || false;
        /* Trigger Mode */
        if (trigger$$1) {
            // nextVal = this.calculateTriggerValue(nextVal)
        }
        this.model.setValue([this.model.value[0], this.model.value[1]]);
        this.sModel.setValue([this.model.value[0], this.model.value[1]]);
    };
    NbpSliderRangePickerComponent.prototype.calculateTriggerValue = function (value) {
        return Utils.calculateTriggerValue(value, this.opts);
    };
    NbpSliderRangePickerComponent.prototype.calculateClickPos = function (xPos) {
        var percentage = ((xPos - this.getParent().left) / this.getParent().width) * 100;
        var range = this.max - this.min;
        var nextValue = ((percentage / 100) * range) + this.min;
        if (nextValue < this.min) {
            return this.min;
        }
        else if (nextValue > this.max) {
            return this.max;
        }
        else {
            var range_1 = this.max - this.min;
            return nextValue;
        }
    };
    NbpSliderRangePickerComponent.prototype.getParent = function () {
        return this.el.nativeElement.parentElement.getBoundingClientRect();
    };
    return NbpSliderRangePickerComponent;
}());
__decorate$158([
    _angular_core.ViewChild(NbpSliderRangePickerDirective),
    __metadata$137("design:type", Object)
], NbpSliderRangePickerComponent.prototype, "picker", void 0);
__decorate$158([
    _angular_core.Input(),
    __metadata$137("design:type", Number)
], NbpSliderRangePickerComponent.prototype, "min", void 0);
__decorate$158([
    _angular_core.Input(),
    __metadata$137("design:type", Number)
], NbpSliderRangePickerComponent.prototype, "max", void 0);
__decorate$158([
    _angular_core.Input(),
    __metadata$137("design:type", Object)
], NbpSliderRangePickerComponent.prototype, "opts", void 0);
__decorate$158([
    _angular_core.Input(),
    __metadata$137("design:type", Object)
], NbpSliderRangePickerComponent.prototype, "model", void 0);
__decorate$158([
    _angular_core.Input(),
    __metadata$137("design:type", Object)
], NbpSliderRangePickerComponent.prototype, "sModel", void 0);
NbpSliderRangePickerComponent = __decorate$158([
    _angular_core.Component({
        selector: 'nbp-slider-range-picker',
        host: {
            '(click)': 'clickOnBar($event)'
        },
        template: "<div class=\"slider-pickers-container\"><div class=\"slider-picker-inner\"><div nbpSliderRangePicker class=\"slider-picker-left rotate icomoon-Simboli_Risorsa-35\" [defaultValue]=\"model.value[0]\" [max]=\"max\" [min]=\"min\" [index]=\"0\" [opts]=\"opts\" [maxValue]=\"model.value[1]\" (onChange)=\"onChange($event)\" (onFinish)=\"onFinish($event)\"><nbp-slider-range-popover [value]=\"model.value[0]\" [opts]=\"opts\"></nbp-slider-range-popover></div><div nbpSliderRangePicker class=\"slider-picker-right icomoon-Simboli_Risorsa-33\" [defaultValue]=\"model.value[1]\" [max]=\"max\" [min]=\"min\" [opts]=\"opts\" [minValue]=\"model.value[0]\" [index]=\"1\" (onChange)=\"onChange($event)\" (onFinish)=\"onFinish($event)\"><nbp-slider-range-popover [value]=\"model.value[1]\" [opts]=\"opts\"></nbp-slider-range-popover></div></div></div>",
        styles: [".slider-pickers-container{position:absolute;padding:0 0;display:block;top:2px;left:0;width:99%}.slider-pickers-container .slider-picker-inner{position:relative;display:block;width:100%}.slider-pickers-container .slider-picker-inner .slider-picker-left{position:absolute;width:0;height:0;background-color:#39ba2a;border:1px solid #fff;box-shadow:0 2px 1px #ccc;transform:translate(-50%,-50%);border-radius:50%;top:0;z-index:10;cursor:pointer}.slider-pickers-container .slider-picker-inner .slider-picker-left:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:35px;background-color:#fff;border-radius:35px;margin-left:-8px;margin-top:30px;cursor:pointer;color:#258900}.slider-pickers-container .slider-picker-inner .slider-picker-right{position:absolute;width:0;height:0;background-color:#39ba2a;border:1px solid #fff;box-shadow:0 2px 1px #ccc;transform:translate(-50%,-50%);border-radius:50%;top:0;z-index:10;cursor:pointer}.slider-pickers-container .slider-picker-inner .slider-picker-right:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:35px;background-color:#fff;border-radius:35px;margin-left:-8px;margin-top:30px;cursor:pointer;color:#258900} /*# sourceMappingURL=nbp-slider-range-picker.component.css.map */ "]
    }),
    __metadata$137("design:paramtypes", [_angular_core.ElementRef])
], NbpSliderRangePickerComponent);

var __decorate$160 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$139 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSliderRangePopoverComponent = (function () {
    function NbpSliderRangePopoverComponent() {
        this.value = 0;
        this.formatted = "";
    }
    NbpSliderRangePopoverComponent.prototype.ngOnInit = function () {
        this.getValue();
    };
    NbpSliderRangePopoverComponent.prototype.ngOnChanges = function () {
        this.getValue();
    };
    NbpSliderRangePopoverComponent.prototype.getValue = function () {
        var format = Utils.getDecimalFormatter(this.opts.label.format);
        this.formatted = Utils.formatValue(this.value, format);
    };
    return NbpSliderRangePopoverComponent;
}());
__decorate$160([
    _angular_core.Input(),
    __metadata$139("design:type", Object)
], NbpSliderRangePopoverComponent.prototype, "value", void 0);
__decorate$160([
    _angular_core.Input(),
    __metadata$139("design:type", Object)
], NbpSliderRangePopoverComponent.prototype, "opts", void 0);
NbpSliderRangePopoverComponent = __decorate$160([
    _angular_core.Component({
        selector: 'nbp-slider-range-popover',
        template: "<div class=\"nbp-slider-range-popover\"><div class=\"nbp-slider-range-popover-content\">{{formatted}}</div></div>",
        styles: [".nbp-slider-range-popover{width:80px;position:absolute;bottom:100%;margin-bottom:27px;margin-left:9px;left:50%;transform:translate(-50%,0)} /*# sourceMappingURL=nbp-slider-range-popover.component.css.map */ "]
    }),
    __metadata$139("design:paramtypes", [])
], NbpSliderRangePopoverComponent);

var __decorate$161 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$140 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente slider che permette di selezionare un singolo punto nel tempo
 */
exports.NbpSliderStoricoComponent = (function () {
    function NbpSliderStoricoComponent() {
        /**
         * Default Options
         */
        this.defaultOpts = {
            min: 0,
            max: 100,
            label: {
                range: 10,
                format: '$9'
            },
        };
        this.openedFilter = false;
        this.sliderModel = new _angular_forms.FormControl();
        this.options = {};
        /**
         * Evento al cambio di valore dello slider. Viene lanciato un evento contenente una data in formato NgbDateStruct.
         */
        this.nbpChangeValue = new _angular_core.EventEmitter();
        this.options = Object.assign({}, this.defaultOpts);
    }
    NbpSliderStoricoComponent.prototype.ngOnInit = function () {
        this.min = (new Date(this.startDate.year, this.startDate.month, this.startDate.day)).getTime();
        this.max = (new Date(this.endDate.year, this.endDate.month, this.endDate.day)).getTime();
        this.sliderModel.setValue(this.model.value);
    };
    NbpSliderStoricoComponent.prototype.ngOnChanges = function () {
        /* Detect Input() Changes */
        /* Initial Slider */
    };
    NbpSliderStoricoComponent.prototype.changeSelectDate1 = function (data) {
        this.modelDate1 = data;
    };
    NbpSliderStoricoComponent.prototype.setPoint = function () {
        if (this.modelDate1) {
            this.model = new _angular_forms.FormControl((new Date(this.modelDate1.year, this.modelDate1.month - 1, this.modelDate1.day)).getTime());
            this.sliderModel.setValue(this.model.value);
        }
    };
    NbpSliderStoricoComponent.prototype.convertDateFormat = function (date) {
        var newDate = {};
        newDate.day = date.day;
        newDate.month = String(Number(date.month) + 1);
        newDate.year = date.year;
        return newDate;
    };
    return NbpSliderStoricoComponent;
}());
__decorate$161([
    _angular_core.Input(),
    __metadata$140("design:type", Object)
], exports.NbpSliderStoricoComponent.prototype, "model", void 0);
__decorate$161([
    _angular_core.Input(),
    __metadata$140("design:type", Object)
], exports.NbpSliderStoricoComponent.prototype, "startDate", void 0);
__decorate$161([
    _angular_core.Input(),
    __metadata$140("design:type", Object)
], exports.NbpSliderStoricoComponent.prototype, "endDate", void 0);
__decorate$161([
    _angular_core.Output(),
    __metadata$140("design:type", _angular_core.EventEmitter)
], exports.NbpSliderStoricoComponent.prototype, "nbpChangeValue", void 0);
exports.NbpSliderStoricoComponent = __decorate$161([
    _angular_core.Component({
        selector: 'nbp-slider-storico',
        template: "<div style=\"width:100%;\"><div class=\"nbp-slider-storico-component\"><nbp-slider-storico-bar [min]=\"min\" [max]=\"max\" [model]=\"sliderModel\"></nbp-slider-storico-bar><nbp-slider-storico-picker [min]=\"min\" [max]=\"max\" [opts]=\"options\" [model]=\"sliderModel\" [sModel]=\"model\"></nbp-slider-storico-picker></div><div class=\"icona icona-pointer icomoon-Tempo_orologio2\" (click)=\"openedFilter = !openedFilter\"></div><div style=\"clear: both;\"></div><div class=\"row\"><div *ngIf=\"openedFilter\" class=\"col-md-24 col-sm-24 col-xs-24\" style=\"position: absolute; margin-top:14px; z-index:100\"><div style=\"text-align:right\"><div class=\"row arrow-filter\" style=\"margin-bottom:-7px; z-index: 1; margin-right:4%\"></div><div class=\"row filter-panel\" style=\"z-index: 0;\"><div class=\"text-center\" style=\"padding-left:30px; padding-right:30px; margin-bottom:20px\"><div class=\"row info-filter mrg-b-20\"><div class=\"row mrg-t-20 mrg-b-10\" style=\"font-weight: 600\"><div style=\"width:96%; float: left;\">SELEZIONA DATA</div><div style=\"width:4%; color:green;float: right; text-align: right\"><span class=\"glyphicon icon icona-pointer icomoon-Simboli_Risorsa-20\" (click)=\"openedFilter=!openedFilter\"></span></div></div></div><div class=\"row\" style=\"color:rgb(50, 50, 50);\"><form #inputForm=\"ngForm\"><div class=\"col col-md-9 col-sm-9\"><nbp-input-container [nbpLabel]=\"'Data*'\"><nbp-calendar-generic name=\"inputData1\" [(ngModel)]=\"valueSelectDate1\" (ngModelChange)=\"changeSelectDate1($event)\" [startDateEnabled]=\"convertDateFormat(startDate)\" [endDateEnabled]=\"convertDateFormat(endDate)\" validateDate nbpShowValidation=\"true\"></nbp-calendar-generic></nbp-input-container></div></form></div><div class=\"centerButton\"><nbp-button [nbpLabel]=\"'Applica'\" [nbpStyle]=\"0\" [disabled]=\"inputForm.invalid || !valueSelectDate1\" (nbpClick)=\"setPoint()\"></nbp-button></div></div></div></div></div></div></div>",
        styles: [":host /deep/ *{box-sizing:border-box}.nbp-slider-storico-component{position:relative;padding:0;font-family:Arial Regular,Sans-Serif;font-size:12px;float:left;width:93%}.centerButton{display:inline-block}.icona{float:right;width:5%;position:relative}.icona:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:35px;background-color:#fff;border-radius:35px;margin-left:-8px;margin-top:30px;cursor:pointer;color:#258900}.icona-pointer{cursor:pointer}.success-container-open{width:35px;height:35px;cursor:pointer;position:absolute;margin-left:-40px;margin-top:-2px;background-color:#fff;color:#258900}.hover:hover .success-container-close .success-icon.on-hover{display:inline}.hover:hover .success-container-close .success-icon{display:none}.mrg-t-20{margin-top:20px}.mrg-b--10{margin-bottom:-10px}.info-filter{color:#323232}.success-container-close{width:35px;height:35px;cursor:pointer;position:absolute;margin-left:-40px;margin-top:-2px;background-color:#fff;color:#258900}.success-container-close:hover .success-icon.on-hover{display:inline}.success-container-close:hover .success-icon{display:none}.success-container-close .success-icon.on-hover{display:none}.icon-valori-filtri-settati{width:35px;height:35px;cursor:pointer;border-radius:25px;position:relative;background-color:#fff;color:#258900;border:1px solid #258900}.icon-valori-filtri-settati:hover{background-color:#258900;color:#fff}.container-filtrisettati{width:35px;height:35px;cursor:pointer;border-radius:25px;position:absolute;background-color:#fff;color:#258900;border:1px solid #258900}.container-filtrisettati:hover{background-color:#258900;color:#fff}.arrow-filter{display:inline-block;position:relative;width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-bottom:12px solid #ccc;margin-right:122px}.arrow-filter::before{content:'';position:absolute;top:2px;width:0;height:0;border-left:11px solid transparent;border-right:11px solid transparent;border-bottom:11px solid #f2f2f2;left:-10.5px}.success-icon{width:35px;height:35px;font-size:35px;cursor:pointer;position:absolute;top:-15%;left:-1%}.success-icon-gomma{width:20px;height:20px;font-size:20px;cursor:pointer;position:absolute;top:12%;left:20%}.cancella-filtri{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;text-align:left;font-size:11px;cursor:pointer;padding:0;border:0;margin:0}.centraCercaFiltra{margin-top:-1px}.cercaFiltra1{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;width:70px;text-align:left;cursor:pointer;padding:0;border:0;margin:0;margin-left:6px}.cercaFiltra2{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;width:70px;text-align:left;cursor:pointer;padding:0;border:0;margin:0;margin-top:-2px;margin-left:6px}.ricercaEffettuata{font-family:'Arial Bold',Arial;font-weight:700;font-size:.75em;color:#258900;width:800px;text-align:left;font-size:11px;cursor:pointer;padding:0;border:0;margin:0}.hoverCancellaFiltri:hover>.icon-valori-filtri-settati{background-color:#258900;color:#fff}.filter-panel{background-color:#f2f2f2;color:#fff;width:100%;border:.5px solid #ccc}.button-group-filter{margin-top:20px;margin-bottom:20px}.gomma{font-size:2.5em;vertical-align:middle;color:green;background-color:transparent}.gomma_txt{margin-top:.75em;margin:0;padding:0;text-align:left;vertical-align:middle;color:#258900;font-size:.75em;font-weight:700;text-transform:uppercase}:host-context(.contrasto-on) .success-container-open{background-color:#fff;color:#000}:host-context(.contrasto-on) .success-container-close{background-color:#fff;color:#000}:host-context(.contrasto-on) .success-container-close:hover{background-color:#fff;color:#000}:host-context(.contrasto-on) .icon-valori-filtri-settati{background-color:#fff;color:#000;border:1px solid #000}:host-context(.contrasto-on) .icon-valori-filtri-settati:hover{background-color:#000;color:#fff}:host-context(.contrasto-on) .container-filtrisettati{background-color:#fff;color:#000;border:1px solid #000}:host-context(.contrasto-on) .container-filtrisettati:hover{background-color:#000;color:#fff}:host-context(.contrasto-on) .arrow-filter{border-bottom:12px solid #000}:host-context(.contrasto-on) .arrow-filter::before{border-bottom:11px solid #fff}:host-context(.contrasto-on) .cancella-filtri{color:#000}:host-context(.contrasto-on) .cercaFiltra1{color:#000}:host-context(.contrasto-on) .cercaFiltra2{color:#000}:host-context(.contrasto-on) .ricercaEffettuata{color:#000}:host-context(.contrasto-on) .hoverCancellaFiltri:hover>.icon-valori-filtri-settati{background-color:#000;color:#fff}:host-context(.contrasto-on) .filter-panel{background-color:#fff;color:#000;border:.5px solid #000}:host-context(.contrasto-on) .gomma{color:#000;background-color:transparent}:host-context(.contrasto-on) .gomma_txt{color:#000} /*# sourceMappingURL=nbp-slider-storico.component.css.map */ "]
    }),
    __metadata$140("design:paramtypes", [])
], exports.NbpSliderStoricoComponent);

var __decorate$163 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$142 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSliderStoricoBarDirective = (function () {
    // parent: any;
    function NbpSliderStoricoBarDirective(el) {
        this.el = el;
        this.range = 100;
    }
    NbpSliderStoricoBarDirective.prototype.ngOnInit = function () {
        var _this = this;
        // this.parent = this.el.nativeElement.parentElement.getBoundingClientRect();
        this.range = this.max - this.min;
        this.setBarPosition();
        /* Rileva Model Changes */
        this
            .model
            .valueChanges
            .subscribe(function (value) {
            /* Re-render Bar */
            _this.setBarPosition();
        });
    };
    // public reRenderBar() {
    //   this.range = this.max - this.min;
    //   this.setBarPosition();
    // }
    NbpSliderStoricoBarDirective.prototype.setBarPosition = function () {
        var value = this.model.value;
        var rightPos = this.calculateNextPosFromValue(value);
        var rightPosPerc = rightPos / this.getParent().width * 100;
        this.el.nativeElement.style.left = 0 + "px";
        this.el.nativeElement.style.width = rightPosPerc + "%";
    };
    NbpSliderStoricoBarDirective.prototype.calculateNextPosFromValue = function (value) {
        return ((value - this.min) / this.range) * this.getParent().width;
    };
    NbpSliderStoricoBarDirective.prototype.getParent = function () {
        return this.el.nativeElement.parentElement.getBoundingClientRect();
    };
    return NbpSliderStoricoBarDirective;
}());
__decorate$163([
    _angular_core.Input(),
    __metadata$142("design:type", Object)
], NbpSliderStoricoBarDirective.prototype, "model", void 0);
__decorate$163([
    _angular_core.Input(),
    __metadata$142("design:type", Object)
], NbpSliderStoricoBarDirective.prototype, "opts", void 0);
__decorate$163([
    _angular_core.Input(),
    __metadata$142("design:type", Object)
], NbpSliderStoricoBarDirective.prototype, "min", void 0);
__decorate$163([
    _angular_core.Input(),
    __metadata$142("design:type", Object)
], NbpSliderStoricoBarDirective.prototype, "max", void 0);
NbpSliderStoricoBarDirective = __decorate$163([
    _angular_core.Directive({
        selector: '[nbpSliderStoricoBar]'
    }),
    __metadata$142("design:paramtypes", [_angular_core.ElementRef])
], NbpSliderStoricoBarDirective);

var __decorate$162 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$141 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSliderStoricoBarComponent = (function () {
    function NbpSliderStoricoBarComponent() {
        this.min = 0;
        this.max = 100;
        //range slider
        this.rangeDateDays = 100;
        this.labels = [];
        this.style = {
            label: {
                "width": "100%"
            }
        };
        this.range = 0;
        this.isInit = false;
    }
    NbpSliderStoricoBarComponent.prototype.ngOnChanges = function () {
        this.rangeDateDays = this.daysDifference(this.min, this.max);
        this.labels = this.getLabels();
    };
    NbpSliderStoricoBarComponent.prototype.setWidthLblPre = function () {
        var diffDays = this.daysDifference(this.min, this.model.value);
        var tmpWidth = (diffDays / this.rangeDateDays) * 100;
        tmpWidth = 100 - tmpWidth;
        if (tmpWidth < 10)
            tmpWidth = 10;
        return tmpWidth + "%";
    };
    NbpSliderStoricoBarComponent.prototype.setWidthLblSto = function () {
        var diffDays = this.daysDifference(this.min, this.model.value);
        var tmpWidth = (diffDays / this.rangeDateDays) * 100;
        if (tmpWidth > 87.4751)
            tmpWidth = 87.4751;
        return tmpWidth + "%";
    };
    NbpSliderStoricoBarComponent.prototype.setOpacityLblPre = function () {
        var diffDays = this.daysDifference(this.min, this.model.value);
        var tmpWidth = (diffDays / this.rangeDateDays) * 100;
        tmpWidth = 100 - tmpWidth;
        var tmpOpacity;
        if (tmpWidth < 10)
            tmpOpacity = tmpWidth / 10;
        else
            tmpOpacity = 1;
        return tmpOpacity;
    };
    NbpSliderStoricoBarComponent.prototype.setOpacityLblSto = function () {
        var diffDays = this.daysDifference(this.min, this.model.value);
        var tmpWidth = (diffDays / this.rangeDateDays) * 100;
        var tmpOpacity;
        if (tmpWidth < 10)
            tmpOpacity = tmpWidth / 10;
        else
            tmpOpacity = 1;
        return tmpOpacity;
    };
    NbpSliderStoricoBarComponent.prototype.setPallinoClass = function (value) {
        return !(value < this.model.value) ? "pallino-verde" : "pallino-nero";
    };
    NbpSliderStoricoBarComponent.prototype.getLabels = function () {
        var list = [];
        var mesi = ["GEN", "FEB", "MAR", "APR", "MAG", "GIU", "LUG", "AGO", "SET", "OTT", "NOV", "DIC"];
        var tmpWidth, buffer1, buffer2;
        var oldDate, buffer, buffer3, monthTmp, yearTmp, tmpDate;
        var diffDays;
        tmpDate = this.min;
        while (tmpDate < this.max) {
            //calcolo label
            buffer = new Date(tmpDate);
            monthTmp = buffer.getMonth();
            yearTmp = buffer.getFullYear();
            buffer1 = mesi[monthTmp];
            buffer2 = yearTmp + "";
            buffer3 = tmpDate;
            //calcolo data successiva
            if (monthTmp == 11) {
                monthTmp = 0;
                yearTmp++;
            }
            else {
                monthTmp++;
            }
            //calcolo width
            oldDate = tmpDate;
            tmpDate = (new Date(yearTmp, monthTmp, 1)).getTime();
            diffDays = this.daysDifference(oldDate, tmpDate);
            tmpWidth = (diffDays / this.rangeDateDays) * 100 + "%";
            list.push({
                label1: buffer1,
                label2: buffer2,
                value: buffer3,
                width: tmpWidth
            });
        }
        //sistema i valori sbagliati del loop. Il loop li setta in maniera errata
        diffDays = this.daysDifference(oldDate, this.max);
        list[list.length - 1].width = (diffDays / this.rangeDateDays) * 100 + "%";
        // list[list.length - 1].value = this.max;
        return list;
    };
    NbpSliderStoricoBarComponent.prototype.daysDifference = function (d0, d1) {
        var diff = new Date(+d1).setHours(12) - new Date(+d0).setHours(12);
        return Math.round(diff / 8.64e7);
    };
    return NbpSliderStoricoBarComponent;
}());
__decorate$162([
    _angular_core.ViewChild(NbpSliderStoricoBarDirective),
    __metadata$141("design:type", NbpSliderStoricoBarDirective)
], NbpSliderStoricoBarComponent.prototype, "bar", void 0);
__decorate$162([
    _angular_core.Input(),
    __metadata$141("design:type", Number)
], NbpSliderStoricoBarComponent.prototype, "min", void 0);
__decorate$162([
    _angular_core.Input(),
    __metadata$141("design:type", Number)
], NbpSliderStoricoBarComponent.prototype, "max", void 0);
__decorate$162([
    _angular_core.Input(),
    __metadata$141("design:type", Object)
], NbpSliderStoricoBarComponent.prototype, "model", void 0);
__decorate$162([
    _angular_core.Input(),
    __metadata$141("design:type", Object)
], NbpSliderStoricoBarComponent.prototype, "opts", void 0);
NbpSliderStoricoBarComponent = __decorate$162([
    _angular_core.Component({
        selector: 'nbp-slider-storico-bar',
        template: "<div class=\"slider-bar-container\"><div class=\"slider-bar\"><div nbpSliderStoricoBar class=\"slider-bar-highlight\" [min]=\"min\" [max]=\"max\" [opts]=\"opts\" [model]=\"model\"></div></div><div class=\"slider-labels\" [ngStyle]=\"style.label\"><ng-container *ngFor=\"let item of labels; let first = first\"><div class=\"slider-label-item margin-color\" [ngStyle]=\"{'min-width': item.width }\"><div *ngIf=\"!first\"><span>{{item.label1}}</span></div><div *ngIf=\"!first\"><span>{{item.label2}}</span></div></div></ng-container></div><div class=\"slider-points\"><ng-container *ngFor=\"let item of labels; let first = first\"><div class=\"slider-label-item margin-color\" [ngStyle]=\"{'min-width': item.width }\"><div *ngIf=\"!first\" [ngClass]=\"setPallinoClass(item.value)\"><span>X</span></div></div></ng-container></div><div class=\"slider-labels-principal\"><div class=\"storico\" [ngStyle]=\"{'width': setWidthLblSto(), 'opacity': setOpacityLblSto() }\"><div class=\"label\">STORICO</div></div><div class=\"previsionale\" [ngStyle]=\"{'width': setWidthLblPre(), 'opacity': setOpacityLblPre() }\"><div class=\"label\">PREVISIONALE</div></div></div></div>",
        styles: [".margin-color{margin-top:-70px;color:#6f6f6f;font-weight:700}.pallino-nero{background-color:#6f6f6f;color:transparent;font-size:0;height:16px;width:16px;border-radius:50%}.pallino-verde{background-color:#39ba2a;color:transparent;font-size:0;height:16px;width:16px;border-radius:50%}.slider-bar-container{position:relative}.slider-bar-container .slider-bar{height:4px;width:100%;background-color:#39ba2a;position:relative;border-radius:2px}.slider-bar-container .slider-bar .slider-bar-highlight{position:absolute;left:0;width:50%;height:100%;background-color:#6f6f6f;border-radius:2px}.slider-bar-container .slider-labels-principal{overflow:hidden;margin-top:-34px;width:100%;display:flex;font-size:18px;font-weight:900}.slider-bar-container .slider-labels-principal .storico{text-align:center;width:50%}.slider-bar-container .slider-labels-principal .storico .label{border:1px solid #6f6f6f;padding-left:18px;padding-right:18px;background-color:#6f6f6f;color:#fff;border-radius:0}.slider-bar-container .slider-labels-principal .previsionale{text-align:center;width:50%;min-width:140px}.slider-bar-container .slider-labels-principal .previsionale .label{border:1px solid #6f6f6f;padding-left:18px;padding-right:18px;background-color:green;color:#fff;border-radius:0}.slider-bar-container .slider-labels{margin-top:0;width:100%;display:flex}.slider-bar-container .slider-labels::after{display:block;position:absolute;content:'';height:1px;width:1px;background-color:#bbb;top:6px;right:0}.slider-bar-container .slider-labels .slider-label-item{text-align:left}.slider-bar-container .slider-labels .slider-label-item span{transform:translate(-25%,0);position:relative;display:inline-block}.slider-bar-container .slider-labels .slider-label-item::after{display:block;position:absolute;content:'';height:1px;width:1px;background-color:#bbb;top:6px}.slider-bar-container .slider-points{margin-top:60px;width:100%;display:flex}.slider-bar-container .slider-points::after{display:block;position:absolute;content:'';height:1px;width:1px;background-color:#bbb;top:6px;right:0}.slider-bar-container .slider-points .slider-label-item{flex:1;text-align:left}.slider-bar-container .slider-points .slider-label-item span{transform:translate(-50%,0);position:relative;display:inline-block}.slider-bar-container .slider-points .slider-label-item:first-child span{transform:translate(-20%,0)}.slider-bar-container .slider-points .slider-label-item:last-child span{transform:translate(20%,0)}.slider-bar-container .slider-points .slider-label-item::after{display:block;position:absolute;content:'';height:1px;width:1px;background-color:#bbb;top:6px} /*# sourceMappingURL=nbp-slider-storico-bar.component.css.map */ "]
    }),
    __metadata$141("design:paramtypes", [])
], NbpSliderStoricoBarComponent);

var Utils$2 = (function () {
    function Utils() {
    }
    Utils.calculateTriggerValue = function (value, opts) {
        var trigger$$1 = opts.trigger || false;
        /* Have Trigger */
        if (trigger$$1) {
            var mod = value % trigger$$1;
            if (mod > trigger$$1 / 2) {
                return value - mod + trigger$$1;
            }
            else {
                return value - mod;
            }
        }
        return value;
    };
    Utils.getDecimalFormatter = function (format) {
        var hasDecimal = format.match(/\d+\.\d+/g);
        if (hasDecimal) {
            var fixed = (hasDecimal[0].split(".")[1] || "").length;
            return {
                str: format.replace(hasDecimal[0], "{{number}}"),
                fixed: fixed
            };
        }
        var hasNumber = format.match(/\d+/g);
        return {
            str: format.replace(hasNumber, "{{number}}"),
            fixed: 0
        };
    };
    Utils.formatValue = function (value, format) {
        var mesi = ["GEN", "FEB", "MAR", "APR", "MAG", "GIU", "LUG", "AGO", "SET", "OTT", "NOV", "DIC"];
        var date = new Date(value);
        var month = mesi[date.getMonth()];
        var day = date.getDate();
        var year = date.getFullYear();
        return day + " " + month;
        // return value
        // const formatValue = value.toFixed(format.fixed)
        // return format.str.replace("{{number}}", formatValue)
    };
    return Utils;
}());

var __decorate$165 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$144 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSliderStoricoPickerDirective = (function () {
    function NbpSliderStoricoPickerDirective(el) {
        this.el = el;
        this.min = 0;
        this.max = 100;
        this.opts = {};
        this.pos = 0;
        this.onChange = new _angular_core.EventEmitter();
        this.onFinish = new _angular_core.EventEmitter();
        this.lastX = 0;
        this.currentValue = 0;
        this.isInit = false;
        this.range = 100;
        this.onTouchDragHanlder = this.onTouchDragHanlder.bind(this);
        this.setTriggerValue = this.setTriggerValue.bind(this);
    }
    NbpSliderStoricoPickerDirective.prototype.ngOnInit = function () {
        this.touch = new Hammer(this.el.nativeElement);
        /* Init Data */
        this.currentPos = this.el.nativeElement.getBoundingClientRect();
        this.range = this.max - this.min;
        /* Set Default Value */
        this.setDefaultValue();
        this.isInit = true;
    };
    NbpSliderStoricoPickerDirective.prototype.ngOnChanges = function () {
        if (this.isInit) {
            /* Re-Render new Value */
            this.setDefaultValue();
        }
    };
    NbpSliderStoricoPickerDirective.prototype.setDefaultValue = function () {
        var nextPos = this.calculateNextPosFromValue(this.defaultValue);
        var newxtPosPerc = nextPos / this.getParent().width * 100;
        this.el.nativeElement.style.left = newxtPosPerc + "%";
    };
    NbpSliderStoricoPickerDirective.prototype.slideStart = function (event) {
        document.ondragstart = function () { return false; };
        document.body.onselectstart = function () { return false; };
        this.touch.off("panleft panright panend");
        /* Touch */
        this.touch.on("panleft panright", this.onTouchDragHanlder);
        this.touch.on("panend", this.setTriggerValue);
    };
    NbpSliderStoricoPickerDirective.prototype.onTouchDragHanlder = function (event) {
        /* Calculate Next X Position */
        var xPos = event.center.x - this.getParent().left;
        this.render(xPos);
    };
    NbpSliderStoricoPickerDirective.prototype.calculateNextValue = function (nextPos) {
        var percentage = (nextPos / this.getParent().width) * 100;
        var range = this.max - this.min;
        var nextValue = ((percentage / 100) * range) + this.min;
        if (nextValue < this.min) {
            return this.min;
        }
        else if (nextValue > this.max) {
            return this.max;
        }
        else {
            if (this.maxValue !== undefined) {
                if (nextValue < this.maxValue) {
                    return nextValue;
                }
                else {
                    return this.maxValue;
                }
            }
            if (this.minValue !== undefined) {
                if (nextValue > this.minValue) {
                    return nextValue;
                }
                else {
                    return this.minValue;
                }
            }
            return nextValue;
        }
    };
    NbpSliderStoricoPickerDirective.prototype.calculateTriggerValue = function (value) {
        return Utils$2.calculateTriggerValue(value, this.opts);
    };
    NbpSliderStoricoPickerDirective.prototype.setTriggerValue = function (e) {
        var _this = this;
        /* Move Picker */
        setTimeout(function () {
            var value = _this.calculateTriggerValue(_this.defaultValue);
            _this.onFinish.emit({ pos: _this.pos, value: value, index: _this.index });
        }, 2);
    };
    NbpSliderStoricoPickerDirective.prototype.calculateNextPosFromValue = function (value) {
        // return ((value - this.min)/ this.range) * 100;
        return ((value - this.min) / this.range) * this.getParent().width;
    };
    NbpSliderStoricoPickerDirective.prototype.render = function (nextPos) {
        /* Update Value */
        var value = this.calculateNextValue(nextPos);
        /* Move Picker */
        this.onChange.emit({ pos: this.pos, value: value, index: this.index });
    };
    NbpSliderStoricoPickerDirective.prototype.getParent = function () {
        return this.el.nativeElement.parentElement.getBoundingClientRect();
    };
    return NbpSliderStoricoPickerDirective;
}());
__decorate$165([
    _angular_core.Input(),
    __metadata$144("design:type", Number)
], NbpSliderStoricoPickerDirective.prototype, "min", void 0);
__decorate$165([
    _angular_core.Input(),
    __metadata$144("design:type", Number)
], NbpSliderStoricoPickerDirective.prototype, "max", void 0);
__decorate$165([
    _angular_core.Input(),
    __metadata$144("design:type", Number)
], NbpSliderStoricoPickerDirective.prototype, "minValue", void 0);
__decorate$165([
    _angular_core.Input(),
    __metadata$144("design:type", Number)
], NbpSliderStoricoPickerDirective.prototype, "maxValue", void 0);
__decorate$165([
    _angular_core.Input(),
    __metadata$144("design:type", Object)
], NbpSliderStoricoPickerDirective.prototype, "opts", void 0);
__decorate$165([
    _angular_core.Input(),
    __metadata$144("design:type", Number)
], NbpSliderStoricoPickerDirective.prototype, "pos", void 0);
__decorate$165([
    _angular_core.Input(),
    __metadata$144("design:type", Object)
], NbpSliderStoricoPickerDirective.prototype, "defaultValue", void 0);
__decorate$165([
    _angular_core.Input(),
    __metadata$144("design:type", Number)
], NbpSliderStoricoPickerDirective.prototype, "index", void 0);
__decorate$165([
    _angular_core.Output(),
    __metadata$144("design:type", _angular_core.EventEmitter)
], NbpSliderStoricoPickerDirective.prototype, "onChange", void 0);
__decorate$165([
    _angular_core.Output(),
    __metadata$144("design:type", _angular_core.EventEmitter)
], NbpSliderStoricoPickerDirective.prototype, "onFinish", void 0);
NbpSliderStoricoPickerDirective = __decorate$165([
    _angular_core.Directive({
        selector: '[nbpSliderStoricoPicker]',
        host: {
            '(mousedown)': 'slideStart($event)',
            '(touchstart)': 'slideStart($event)'
        }
    }),
    __metadata$144("design:paramtypes", [_angular_core.ElementRef])
], NbpSliderStoricoPickerDirective);

var __decorate$164 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$143 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSliderStoricoPickerComponent = (function () {
    // parent: any;
    function NbpSliderStoricoPickerComponent(el) {
        this.el = el;
        this.min = 0;
        this.max = 100;
        this.type = 'single';
        // this.parent = this.el.nativeElement.parentElement.getBoundingClientRect()
    }
    NbpSliderStoricoPickerComponent.prototype.onChange = function (_a) {
        var pos = _a.pos, value = _a.value, index = _a.index;
        if (index == undefined) {
            this.model.setValue(value);
        }
        else {
            var existValue = this.model.value;
            existValue[index] = value;
            this.model.setValue(existValue);
        }
    };
    NbpSliderStoricoPickerComponent.prototype.onFinish = function (_a) {
        var pos = _a.pos, value = _a.value, index = _a.index;
        if (index == undefined) {
            this.model.setValue(value);
            this.sModel.setValue(value);
        }
        else {
            var existValue = this.model.value;
            existValue[index] = value;
            this.model.setValue(existValue);
            this.sModel.setValue(existValue);
        }
    };
    NbpSliderStoricoPickerComponent.prototype.clickOnBar = function ($event) {
        // camilloelvira
        var nextVal = this.calculateClickPos($event.clientX);
        var trigger$$1 = this.opts.trigger || false;
        /* Trigger Mode */
        if (trigger$$1) {
            // nextVal = this.calculateTriggerValue(nextVal)
        }
        nextVal = this.model.value;
        this.model.setValue(nextVal);
        this.sModel.setValue(nextVal);
    };
    NbpSliderStoricoPickerComponent.prototype.calculateTriggerValue = function (value) {
        return Utils$2.calculateTriggerValue(value, this.opts);
    };
    NbpSliderStoricoPickerComponent.prototype.calculateClickPos = function (xPos) {
        //refresh dei dati del parent in caso la pagina sia stata ridimensionata.
        var percentage = ((xPos - this.getParent().left) / this.getParent().width) * 100;
        var range = this.max - this.min;
        var nextValue = ((percentage / 100) * range) + this.min;
        if (nextValue < this.min) {
            return this.min;
        }
        else if (nextValue > this.max) {
            return this.max;
        }
        else {
            var range_1 = this.max - this.min;
            return nextValue;
        }
    };
    NbpSliderStoricoPickerComponent.prototype.getParent = function () {
        return this.el.nativeElement.parentElement.getBoundingClientRect();
    };
    return NbpSliderStoricoPickerComponent;
}());
__decorate$164([
    _angular_core.ViewChild(NbpSliderStoricoPickerDirective),
    __metadata$143("design:type", Object)
], NbpSliderStoricoPickerComponent.prototype, "picker", void 0);
__decorate$164([
    _angular_core.Input(),
    __metadata$143("design:type", Number)
], NbpSliderStoricoPickerComponent.prototype, "min", void 0);
__decorate$164([
    _angular_core.Input(),
    __metadata$143("design:type", Number)
], NbpSliderStoricoPickerComponent.prototype, "max", void 0);
__decorate$164([
    _angular_core.Input(),
    __metadata$143("design:type", Object)
], NbpSliderStoricoPickerComponent.prototype, "opts", void 0);
__decorate$164([
    _angular_core.Input(),
    __metadata$143("design:type", Object)
], NbpSliderStoricoPickerComponent.prototype, "model", void 0);
__decorate$164([
    _angular_core.Input(),
    __metadata$143("design:type", Object)
], NbpSliderStoricoPickerComponent.prototype, "sModel", void 0);
NbpSliderStoricoPickerComponent = __decorate$164([
    _angular_core.Component({
        selector: 'nbp-slider-storico-picker',
        host: {
            '(click)': 'clickOnBar($event)'
        },
        template: "<div class=\"slider-pickers-container\"><div class=\"slider-picker-inner\"><div nbpSliderStoricoPicker class=\"slider-picker icomoon-Simboli_Risorsa-39\" [defaultValue]=\"model.value\" [max]=\"max\" [min]=\"min\" [opts]=\"opts\" (onChange)=\"onChange($event)\" (onFinish)=\"onFinish($event)\"><nbp-slider-storico-popover [value]=\"model.value\" [opts]=\"opts\"></nbp-slider-storico-popover></div></div></div>",
        styles: [".slider-pickers-container{position:absolute;padding:0 0;display:block;top:2px;left:0;width:99%}.slider-pickers-container .slider-picker-inner{position:relative;display:block;width:100%}.slider-pickers-container .slider-picker-inner .slider-picker{position:absolute;width:0;height:0;background-color:#6f6f6f;border:1px solid #fff;box-shadow:0 2px 1px #ccc;transform:translate(-50%,-50%);border-radius:50%;top:0;z-index:10;cursor:pointer}.slider-pickers-container .slider-picker-inner .slider-picker:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;line-height:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:35px;background-color:#fff;border-radius:35px;margin-left:-8px;margin-top:30px;cursor:pointer;color:#258900} /*# sourceMappingURL=nbp-slider-storico-picker.component.css.map */ "]
    }),
    __metadata$143("design:paramtypes", [_angular_core.ElementRef])
], NbpSliderStoricoPickerComponent);

var __decorate$166 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$145 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NbpSliderStoricoPopoverComponent = (function () {
    function NbpSliderStoricoPopoverComponent() {
        this.value = 0;
        this.formatted = 0;
    }
    NbpSliderStoricoPopoverComponent.prototype.ngOnInit = function () {
        this.getValue();
    };
    NbpSliderStoricoPopoverComponent.prototype.ngOnChanges = function () {
        this.getValue();
    };
    NbpSliderStoricoPopoverComponent.prototype.getValue = function () {
        var format = Utils$2.getDecimalFormatter(this.opts.label.format);
        this.formatted = Utils$2.formatValue(this.value, format);
    };
    return NbpSliderStoricoPopoverComponent;
}());
__decorate$166([
    _angular_core.Input(),
    __metadata$145("design:type", Object)
], NbpSliderStoricoPopoverComponent.prototype, "value", void 0);
__decorate$166([
    _angular_core.Input(),
    __metadata$145("design:type", Object)
], NbpSliderStoricoPopoverComponent.prototype, "opts", void 0);
NbpSliderStoricoPopoverComponent = __decorate$166([
    _angular_core.Component({
        selector: 'nbp-slider-storico-popover',
        template: "<div class=\"nbp-slider-storico-popover\"><div class=\"nbp-slider-storico-popover-content\">{{formatted}}</div></div>",
        styles: [".nbp-slider-storico-popover{width:80px;position:absolute;bottom:100%;margin-bottom:31px;left:50%;margin-left:10px;transform:translate(-50%,0)}.nbp-slider-storico-popover .nbp-slider-storico-popover-content{background-color:#f9f9f9;border:1px solid #fff;padding:8px 12px;border-radius:3px;box-shadow:0 1px 1px #ccc}.nbp-slider-storico-popover .nbp-slider-storico-popover-content:after,.nbp-slider-storico-popover .nbp-slider-storico-popover-content:before{top:100%;left:50%;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none}.nbp-slider-storico-popover .nbp-slider-storico-popover-content:after{border-color:rgba(136,183,213,0);border-top-color:#fff;border-width:6px;margin-left:-6px}.nbp-slider-storico-popover .nbp-slider-storico-popover-content:before{border-color:rgba(194,225,245,0);border-top-color:#ddd;border-width:7px;margin-left:-7px} /*# sourceMappingURL=nbp-slider-storico-popover.component.css.map */ "]
    }),
    __metadata$145("design:paramtypes", [])
], NbpSliderStoricoPopoverComponent);

var __decorate$167 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$146 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente che espone un elenco di lettere cliccabili. Utilizzo tipico: filtro o indice.
 */
exports.NbpIndexAlphabeticComponent = (function () {
    function NbpIndexAlphabeticComponent() {
        /**
         * Evento di notifica per passaggio ad una pagina qualsiasi
         */
        this.nbpSelectChar = new _angular_core.EventEmitter();
    }
    NbpIndexAlphabeticComponent.prototype.ngOnInit = function () {
    };
    NbpIndexAlphabeticComponent.prototype.onNbpSelectChar = function (char) {
        this.nbpChars.forEach(function (item) { item.selected = (item.label === char); });
        this.nbpSelectChar.emit(char);
    };
    return NbpIndexAlphabeticComponent;
}());
__decorate$167([
    _angular_core.Input(),
    __metadata$146("design:type", Array)
], exports.NbpIndexAlphabeticComponent.prototype, "nbpChars", void 0);
__decorate$167([
    _angular_core.Output(),
    __metadata$146("design:type", _angular_core.EventEmitter)
], exports.NbpIndexAlphabeticComponent.prototype, "nbpSelectChar", void 0);
exports.NbpIndexAlphabeticComponent = __decorate$167([
    _angular_core.Component({
        selector: 'nbp-index-alphabetic',template: "<div class=\"contenitor\"><ng-container *ngFor=\"let char of nbpChars; index as i;\"><div class=\"letter\" (click)=\"onNbpSelectChar(char.label)\" [ngClass]=\"{ 'enabled': !char.disabled, 'disabled': char.disabled, 'searched': char.searched, 'selected': char.selected }\">{{char.label}}</div></ng-container></div>",
        styles: [".contenitor{display:table;border-collapse:separate;border-spacing:.875em 0;margin:0 auto}.letter{text-align:center}.enabled{background-color:transparent;font-size:1.125em;font-family:Arial;font-weight:400;margin:1px;color:#329600;display:table-cell;vertical-align:middle;cursor:pointer;padding-top:20px;padding-bottom:20px}.searched{font-size:1em;font-family:Arial;font-weight:700;margin:1px;color:#329600;background-color:transparent;display:table-cell;vertical-align:middle;cursor:pointer;padding-top:20px;padding-bottom:20px}.selected{font-size:1.125em;font-family:Arial;font-weight:700;margin:1px;color:#329600;background-color:transparent;display:table-cell;vertical-align:middle;cursor:pointer;padding-top:20px;padding-bottom:20px}.disabled{background-color:transparent;font-size:1.125em;font-family:Arial;font-weight:400;margin:1px;display:table-cell;vertical-align:middle;pointer-events:none;opacity:.5;color:#ccc;cursor:none;padding-top:20px;padding-bottom:20px} /*# sourceMappingURL=nbp-index-alphabetic.component.css.map */ "]
    }),
    __metadata$146("design:paramtypes", [])
], exports.NbpIndexAlphabeticComponent);

var __decorate$168 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$147 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente tooltip con funzionalit di navigazione pagine al suo interno
 */
exports.NbpOnBoardingComponent = (function () {
    function NbpOnBoardingComponent(element) {
        this.element = element;
        this._tooltipSize = exports.NbpSize;
        this._isVisible = false;
        this._stepIndex = 0;
        /**
          * Strategia di apertura tooltip, 'load', 'click' o 'hover':
          * load -> comportamento di apertura al caricamento della pagina.
          * click -> comportamento popover con apertura e chiusura su click (pi pulsante x all'interno del tooltip)
          * hover -> comportamento tooltip classico apertura su hover , chiusura sulla perdita dell'hover
          * Valore di default: hover
         */
        this.nbpVisibilityStrategy = 'hover';
        /**
         * (Opzionale) Enum che definisce il la posizione del tooltip rispetto alloggetto al quale  ancorato:
         * Top | Right | Bottom | Left | Top-Left | Top-Right | Bottom-Left | Bottom-Right
         * Default: Top
         */
        this.nbpPosition = 'Top'; // enum;
        /**
         * (Opzionale) Enum che definisce il tipo di icona da visualizzare nel tooltip:
         * Warning | Help | Info
         * Default: nessuna icona
         * Funzionante solo se non presente nbpTemplate
         */
        // TODO NON VIENE MAI USATA QUESTA PROPERTY -- COMMENTATA PER EVITARE REFUSI
        /*@Input() nbpType: object; // enum; Non presente nelle nuove StyleGuide: nuovo componente icona (?)/(!)/(i) -> tooltip?*/
        /**
         * Propriet che definisce la grandezza del tooltip, tramite l'enum NbpSize
         * valore di default: NbpSize.SM
         */
        this.nbpSize = exports.NbpSize.SM;
        this._nbpHidden = false;
        /**
        * Evento lanciato al click rinuncia messaggi
        */
        this.stepGiveUp = new _angular_core.EventEmitter();
    }
    Object.defineProperty(NbpOnBoardingComponent.prototype, "hidden", {
        /**
         * Booleano che abilita/disabilita la visualizzazione del tooltip.
        * Attributo "hidden" standard di HTML5 element
         */
        get: function () { return this._nbpHidden; },
        set: function (value) {
            this._isVisible = !value;
            this._nbpHidden = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    
    
    NbpOnBoardingComponent.prototype.stepGiveUpAction = function (event) {
        this.stepGiveUp.emit(event);
    };
    //******************************************************* */
    //---modificaReply
    NbpOnBoardingComponent.prototype.onClick = function (target) {
        event.stopPropagation();
        if (this.nbpVisibilityStrategy !== 'load') {
            if (!this.element.nativeElement.contains(target)) {
                this._closePopover(target);
            }
            if (!this._isVisibilityStrategyHover()) {
                this._closePopover(target);
            }
        }
    };
    //---------------------
    NbpOnBoardingComponent.prototype._open = function () {
        var _this = this;
        setTimeout(function () {
            _this._isVisible = true;
        }, 0);
    };
    NbpOnBoardingComponent.prototype._close = function () {
        this._isVisible = false;
    };
    NbpOnBoardingComponent.prototype._closePopover = function (target) {
        var parentFound = false;
        while (target != null && !parentFound) {
            if (target === this.element.nativeElement) {
                parentFound = true;
            }
            target = target.parentElement;
        }
        if (!parentFound) {
            this._isVisible = false;
        }
    };
    NbpOnBoardingComponent.prototype._toggleVisibility = function () {
        if ((this.nbpVisibilityStrategy === 'hover') || (this.nbpVisibilityStrategy === 'load')) {
            return;
        }
        if (this._isVisible) {
            this._close();
        }
        else {
            this._open();
        }
    };
    NbpOnBoardingComponent.prototype._isVisibilityStrategyHover = function () {
        return this.nbpVisibilityStrategy === 'hover';
    };
    NbpOnBoardingComponent.prototype.ngOnInit = function () {
        if (this.nbpVisibilityStrategy === 'load') {
            this._isVisible = true;
            this._open();
        }
    };
    return NbpOnBoardingComponent;
}());
__decorate$168([
    _angular_core.Input(),
    __metadata$147("design:type", String)
], exports.NbpOnBoardingComponent.prototype, "name", void 0);
__decorate$168([
    _angular_core.Input(),
    __metadata$147("design:type", String)
], exports.NbpOnBoardingComponent.prototype, "nbpVisibilityStrategy", void 0);
__decorate$168([
    _angular_core.Input(),
    __metadata$147("design:type", String)
], exports.NbpOnBoardingComponent.prototype, "nbpPosition", void 0);
__decorate$168([
    _angular_core.Input(),
    __metadata$147("design:type", Number)
], exports.NbpOnBoardingComponent.prototype, "nbpSize", void 0);
__decorate$168([
    _angular_core.Input(),
    __metadata$147("design:type", String)
], exports.NbpOnBoardingComponent.prototype, "nbpText", void 0);
__decorate$168([
    _angular_core.Input(),
    __metadata$147("design:type", _angular_core.TemplateRef)
], exports.NbpOnBoardingComponent.prototype, "nbpTemplate", void 0);
__decorate$168([
    _angular_core.Input(),
    __metadata$147("design:type", Object)
], exports.NbpOnBoardingComponent.prototype, "nbpTemplateData", void 0);
__decorate$168([
    _angular_core.Input(),
    __metadata$147("design:type", Boolean),
    __metadata$147("design:paramtypes", [Object])
], exports.NbpOnBoardingComponent.prototype, "hidden", null);
__decorate$168([
    _angular_core.Input(),
    __metadata$147("design:type", Object)
], exports.NbpOnBoardingComponent.prototype, "nbpTemplateDataStep", void 0);
__decorate$168([
    _angular_core.Output(),
    __metadata$147("design:type", _angular_core.EventEmitter)
], exports.NbpOnBoardingComponent.prototype, "stepGiveUp", void 0);
__decorate$168([
    _angular_core.HostListener('document: click', ['$event.target']),
    __metadata$147("design:type", Function),
    __metadata$147("design:paramtypes", [HTMLElement]),
    __metadata$147("design:returntype", void 0)
], exports.NbpOnBoardingComponent.prototype, "onClick", null);
exports.NbpOnBoardingComponent = __decorate$168([
    _angular_core.Component({
        selector: 'nbp-on-boarding',template: "<span [ngClass]=\"{ 'nbp-on-boarding': _isVisibilityStrategyHover(), 'nbp-popover': !_isVisibilityStrategyHover() }\"><span (click)=\"_toggleVisibility(); $event.stopPropagation()\" [class.clickable]=\"!_isVisibilityStrategyHover()\"><ng-content></ng-content></span><span [hidden]=\"hidden\" [ngClass]=\"{ 'tooltip-content': _isVisibilityStrategyHover(), 'popover-content': !_isVisibilityStrategyHover(), 'top': nbpPosition=='Top', 'bottom': nbpPosition=='Bottom', 'right': nbpPosition=='Right', 'left': nbpPosition=='Left', 'top-left': nbpPosition=='Top-Left', 'top-right': nbpPosition=='Top-Right', 'bottom-left': nbpPosition=='Bottom-Left', 'bottom-right': nbpPosition=='Bottom-Right', 'sm':(nbpSize === _tooltipSize.SM) && !nbpTemplateDataStep, 'md':(nbpSize === _tooltipSize.MD) && !nbpTemplateDataStep, 'lg':(nbpSize === _tooltipSize.LG) && !nbpTemplateDataStep, 'opened': !_isVisibilityStrategyHover() && _isVisible, 'stepSize':!!nbpTemplateDataStep }\"><ng-container *ngIf=\"(!nbpTemplate); else nbpTemplateContainer\"><span *ngIf=\"!nbpTemplateDataStep\" [ngClass]=\"{ 'tooltip-text': _isVisibilityStrategyHover() , 'popover-text': !_isVisibilityStrategyHover() }\"><div class=\"row\"><div class=\"col-md-24\" [ngClass]=\"{'pad-b-12': !_isVisibilityStrategyHover(), 'tooltip-text': 'true' }\">{{nbpText}}</div></div></span><div class=\"step-conteiner\" *ngIf=\"nbpTemplateDataStep && nbpTemplateDataStep.length>0\"><div class=\"row\"><div class=\"col-md-24\"><div class=\"tooltip-text-step\"><span class=\"text-info-step\">{{nbpTemplateDataStep[_stepIndex].text}}</span></div><span class=\"ico-azioni-elimina ico-azioni-elimina-19px pull-right clickable\" (click)=\"_close(); $event.stopPropagation()\"></span></div></div><div class=\"row\" style=\"margin-top: 5px;\"><div class=\"text-give-up clickable\" (click)=\"stepGiveUpAction($event)\">NON MOSTRARMI PI QUESTI MESSAGGI</div></div><div class=\"row\" style=\"margin-top:10px\"><button class=\"button-step pull-left\" *ngIf=\"_stepIndex>0\" (click)=\"(_stepIndex = _stepIndex - 1);$event.stopPropagation()\"><span class=\"span-text-al prev-info icomoon-Simboli_Risorsa-12\"></span> <span class=\"span-text-al text-prec\">PRECEDENTE</span></button> <button class=\"button-step pull-right\" *ngIf=\"_stepIndex<(nbpTemplateDataStep.length-1)\" (click)=\"(_stepIndex = _stepIndex + 1);$event.stopPropagation()\"><span class=\"span-text-al text-prec\">SUCCESSIVO</span> <span class=\"span-text-al next-info icomoon-Simboli_Risorsa-13\"></span></button></div></div></ng-container><ng-template #nbpTemplateContainer [ngTemplateOutlet]=\"nbpTemplate\" [ngTemplateOutletContext]=\"nbpTemplateData\"></ng-template></span></span>",
        styles: [".bottom .icon-position,.bottom-left .icon-position,.bottom-right .icon-position,.right .icon-position,.top .icon-position,.top-left .icon-position,.top-right .icon-position{position:absolute;top:1.3125em;right:1.3125em;color:#fa9600;font-weight:700}.text-padding-click{padding:20px 80px 20px 20px;text-align:left;font-size:14px;font-family:Arial}.text-padding-hover{padding:.5em 1em .5em 1em}.left .icon-position{position:absolute;top:.3125em;left:.3125em;color:#fa9600;font-weight:700}.nbp-on-boarding,.nbp-popover{position:relative;display:inline-block;opacity:.9;z-index:99}.clickable{cursor:pointer}.stepSize{width:470px}.step-conteiner{padding:20px;max-width:470px}.step-conteiner .ico-azioni-elimina-19px:before{width:19px;height:19px;color:#fa9600;font-weight:700}.step-conteiner .ico-azioni-elimina-19px:before{width:19px;height:19px;color:#fa9600;font-weight:700}.step-conteiner .prev-info{font-size:20px;padding-right:5px}.step-conteiner .next-info{font-size:20px;padding-left:5px}.step-conteiner .tooltip-text-step{width:90%;text-align:left;font-weight:400;font-size:12px;font-weight:400;font-family:'Arial Bold',Arial;float:left}.step-conteiner .text-info-step{margin:0;text-rendering:optimizeLegibility;font-feature-settings:\"kern\" 1;-webkit-font-feature-settings:\"kern\";-moz-font-feature-settings:\"kern\";-moz-font-feature-settings:\"kern=1\";font-kerning:normal}.step-conteiner .text-give-up{float:left;text-align:left;margin-left:5px;padding-top:5px;font-family:'Arial Bold',Arial;font-weight:700;font-style:normal;font-size:12px;color:#fa9600}.step-conteiner .text-prec{font-family:'Arial Bold',Arial;font-weight:700;font-style:normal;font-size:12px;color:#fa9600}.step-conteiner .button-step{background-color:transparent;border:0;color:#fa9600}.step-conteiner .span-text-al{vertical-align:middle}.nbp-on-boarding .tooltip-content,.nbp-popover .popover-content{visibility:hidden;background-color:#323232;color:#fff;padding:.3125em 0;position:absolute;z-index:1;display:inline-block!important}.nbp-on-boarding .tooltip-content .tooltip-text,.nbp-popover .popover-content .tooltip-text{text-align:center;font-weight:400}.nbp-on-boarding .tooltip-content .popover-text,.nbp-popover .popover-content .popover-text{text-align:center;font-weight:400}.nbp-on-boarding .tooltip-content.md,.nbp-popover .popover-content.md{width:21.875em}.nbp-on-boarding .tooltip-content.sm,.nbp-popover .popover-content.sm{width:14.5em}.nbp-on-boarding .tooltip-content.lg,.nbp-popover .popover-content.lg{width:31.25em}.nbp-on-boarding .tooltip-content.right,.nbp-popover .popover-content.right{top:50%!important;left:100%!important;margin-left:.625em;transform:translateY(-50%)}.nbp-on-boarding .tooltip-content.right::after,.nbp-popover .popover-content.right::after{content:\"\";position:absolute;top:50%;right:100%;transform:translateY(-50%);border-top-width:.625em;border-right-width:.5625em;border-bottom-width:.625em;border-left-width:.5625em;border-style:solid;border-color:transparent #323232 transparent transparent}.nbp-on-boarding .tooltip-content.left,.nbp-popover .popover-content.left{top:50%;right:100%;margin-right:.625em;transform:translateY(-50%)}.nbp-on-boarding .tooltip-content.left::after,.nbp-popover .popover-content.left::after{content:\"\";position:absolute;top:50%;left:100%;transform:translateY(-50%);border-top-width:.625em;border-right-width:.5625em;border-bottom-width:.625em;border-left-width:.5625em;border-style:solid;border-color:transparent transparent transparent #323232}.nbp-on-boarding .tooltip-content.top,.nbp-popover .popover-content.top{bottom:100%;left:62%;margin-bottom:.8125em;transform:translateX(-50%)}.nbp-on-boarding .tooltip-content.top::after,.nbp-popover .popover-content.top::after{content:\"\";position:absolute;top:100%;left:50%;transform:translateX(-50%);border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:#323232 transparent transparent transparent}.nbp-on-boarding .tooltip-content.bottom,.nbp-popover .popover-content.bottom{top:100%;left:50%;margin-top:.9375em;transform:translateX(-50%)}.nbp-on-boarding .tooltip-content.bottom::after,.nbp-popover .popover-content.bottom::after{content:\"\";position:absolute;bottom:100%;left:50%;transform:translateX(-50%);border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:transparent transparent #323232 transparent}.nbp-on-boarding .tooltip-content.top-left,.nbp-popover .popover-content.top-left{bottom:100%;left:-4px;margin-bottom:.9375em}.nbp-on-boarding .tooltip-content.top-left::after,.nbp-popover .popover-content.top-left::after{content:\"\";position:absolute;top:100%;left:5%;border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:#323232 transparent transparent transparent}.nbp-on-boarding .tooltip-content.top-right,.nbp-popover .popover-content.top-right{bottom:100%;right:-14px;margin-bottom:.9375em}.nbp-on-boarding .tooltip-content.top-right::after,.nbp-popover .popover-content.top-right::after{content:\"\";position:absolute;top:100%;right:5%;border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:#323232 transparent transparent transparent}.nbp-on-boarding .tooltip-content.bottom-left,.nbp-popover .popover-content.bottom-left{top:100%;left:-4px;margin-top:.9375em}.nbp-on-boarding .tooltip-content.bottom-left::after,.nbp-popover .popover-content.bottom-left::after{content:\"\";position:absolute;bottom:100%;left:5%;border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:transparent transparent #323232 transparent}.nbp-on-boarding .tooltip-content.bottom-right,.nbp-popover .popover-content.bottom-right{top:100%;right:-14px;margin-top:.9375em}.nbp-on-boarding .tooltip-content.bottom-right::after,.nbp-popover .popover-content.bottom-right::after{content:\"\";position:absolute;bottom:100%;right:5%;border-top-width:.625em;border-right-width:.75em;border-bottom-width:.625em;border-left-width:.75em;border-style:solid;border-color:transparent transparent #323232 transparent}.nbp-on-boarding:hover .tooltip-content,.nbp-popover .popover-content.opened{visibility:visible}:host-context(.contrasto-on) .bottom .icon-position,:host-context(.contrasto-on) .bottom-left .icon-position,:host-context(.contrasto-on) .bottom-right .icon-position,:host-context(.contrasto-on) .right .icon-position,:host-context(.contrasto-on) .top .icon-position,:host-context(.contrasto-on) .top-left .icon-position,:host-context(.contrasto-on) .top-right .icon-position{color:#fff}:host-context(.contrasto-on) .left .icon-position{color:#fff}:host-context(.contrasto-on) .nbp-on-boarding .tooltip-content,:host-context(.contrasto-on) .nbp-popover .popover-content{background-color:#000}:host-context(.contrasto-on) .nbp-on-boarding .tooltip-content.right::after,:host-context(.contrasto-on) .nbp-popover .popover-content.right::after{border-color:transparent #000 transparent transparent}:host-context(.contrasto-on) .nbp-on-boarding .tooltip-content.left::after,:host-context(.contrasto-on) .nbp-popover .popover-content.left::after{border-color:transparent transparent transparent #000}:host-context(.contrasto-on) .nbp-on-boarding .tooltip-content.top::after,:host-context(.contrasto-on) .nbp-popover .popover-content.top::after{border-color:#000 transparent transparent transparent}:host-context(.contrasto-on) .nbp-on-boarding .tooltip-content.bottom::after,:host-context(.contrasto-on) .nbp-popover .popover-content.bottom::after{border-color:transparent transparent #000 transparent}:host-context(.contrasto-on) .nbp-on-boarding .tooltip-content.top-left::after,:host-context(.contrasto-on) .nbp-popover .popover-content.top-left::after{border-color:#000 transparent transparent transparent}:host-context(.contrasto-on) .nbp-on-boarding .tooltip-content.top-right::after,:host-context(.contrasto-on) .nbp-popover .popover-content.top-right::after{border-color:#000 transparent transparent transparent}:host-context(.contrasto-on) .nbp-on-boarding .tooltip-content.bottom-left::after,:host-context(.contrasto-on) .nbp-popover .popover-content.bottom-left::after{border-color:transparent transparent #000 transparent}:host-context(.contrasto-on) .nbp-on-boarding .tooltip-content.bottom-right::after,:host-context(.contrasto-on) .nbp-popover .popover-content.bottom-right::after{border-color:transparent transparent #000 transparent} /*# sourceMappingURL=nbp-on-boarding.component.css.map */ "]
    }),
    __metadata$147("design:paramtypes", [_angular_core.ElementRef])
], exports.NbpOnBoardingComponent);

var __decorate$169 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$148 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente etichetta dal funzionamento analogo a quello di una checkbox.
 */
exports.NbpEtichettaCheckComponent = NbpEtichettaCheckComponent_1 = (function () {
    function NbpEtichettaCheckComponent() {
        var _this = this;
        /**
         * input che determina il valore quando il bottone  selezionato
         */
        this.trueValue = true;
        /**
        * input che determina il valore quando il bottone non  selezionato
        */
        this.falseValue = false;
        /**
         * evento per la rimozione del bottone
         */
        this.removeButtonEvt = new _angular_core.EventEmitter();
        /**
         * evento lanciato al cambiamento di stato del bottone
         */
        this.change = new _angular_core.EventEmitter();
        this.propagateChange = function (_) { };
        this._overIcon = false;
        /**
         * evento per la rimozione del bottone
         */
        this.removeButton = function () {
            _this.removeButtonEvt.emit(_this.key);
        };
    }
    NbpEtichettaCheckComponent.prototype.writeValue = function (value) {
        if ((value !== undefined) && (value !== null)) {
            this.checked = value;
        }
    };
    NbpEtichettaCheckComponent.prototype.registerOnChange = function (fn) {
        this.propagateChange = fn;
    };
    NbpEtichettaCheckComponent.prototype.registerOnTouched = function (fn) {
        this.onTouchedCallback = fn;
    };
    
    /**
     *
     * funzione innescata da un cambiamento esterno del valore del bottone/check
     */
    NbpEtichettaCheckComponent.prototype.onChange = function (event) {
        this.checked = this.checkValRef.nativeElement.checked;
        this.checked = !this.checked;
        var sendVal = (this.checked) ? this.trueValue : this.falseValue;
        this.propagateChange(sendVal);
        this.change.emit(this.checked);
    };
    return NbpEtichettaCheckComponent;
}());
__decorate$169([
    _angular_core.Input(),
    __metadata$148("design:type", String)
], exports.NbpEtichettaCheckComponent.prototype, "key", void 0);
__decorate$169([
    _angular_core.Input(),
    __metadata$148("design:type", Object)
], exports.NbpEtichettaCheckComponent.prototype, "trueValue", void 0);
__decorate$169([
    _angular_core.Input(),
    __metadata$148("design:type", Object)
], exports.NbpEtichettaCheckComponent.prototype, "falseValue", void 0);
__decorate$169([
    _angular_core.Output(),
    __metadata$148("design:type", Object)
], exports.NbpEtichettaCheckComponent.prototype, "removeButtonEvt", void 0);
__decorate$169([
    _angular_core.Output(),
    __metadata$148("design:type", Object)
], exports.NbpEtichettaCheckComponent.prototype, "change", void 0);
__decorate$169([
    _angular_core.ViewChild('checkVal'),
    __metadata$148("design:type", _angular_core.ElementRef)
], exports.NbpEtichettaCheckComponent.prototype, "checkValRef", void 0);
exports.NbpEtichettaCheckComponent = NbpEtichettaCheckComponent_1 = __decorate$169([
    _angular_core.Component({
        selector: 'nbp-etichetta-check',
        template: "<div class=\"etic-btn\" (click)=\"onChange($event)\" [ngClass]=\"{'etic-btn-check'   :checked, 'etic-btn-no-over' :(!_overIcon && !checked)}\"><input type=\"checkbox\" #checkVal style=\"display: none;\" [checked]=\"checked\" [hidden]=\"true\" (change)=\"onChange($event)\"> <i *ngIf=\"checked\" class=\"icomoon-Simboli_Risorsa-182 pull-left etic-icon-check\"></i> <span class=\"etic-btn-span\">{{key|uppercase }} </span><button class=\"icomoon-Simboli_Risorsa-22 pull-right etic-icon-rem\" (mouseenter)=\"_overIcon=true\" (mouseleave)=\"_overIcon=false\" (click)=\"removeButton();$event.stopPropagation();\"></button></div>",
        styles: [".etic-btn{border:0;min-width:130px;height:30px;display:inline-block;font-family:'Arial Bold',Arial;font-size:1em;font-weight:700;color:#6f6f6f;text-decoration:none;text-transform:uppercase;text-align:center;line-height:27px;position:relative;cursor:pointer;background:#f8f8f8;-webkit-box-shadow:0 3px 3px 0 rgba(0,0,0,.25);-moz-box-shadow:0 3px 3px 0 rgba(0,0,0,.25);box-shadow:0 3px 3px 0 rgba(0,0,0,.25);text-align:left}.etic-btn-span{margin-left:5px;font-size:.75em;line-height:30px;vertical-align:middle}.etic-btn-check{color:#fff;background:#258900;-webkit-box-shadow:inset 0 0 4px 1px #164602;-moz-box-shadow:inset 0 0 4px 1px #164602;box-shadow:inset 0 0 4px 1px #164602}.etic-icon-rem{font-size:20px;vertical-align:middle;font-weight:700;line-height:30px;background-color:transparent;border:none}.etic-icon-check{font-size:12px;vertical-align:middle;font-weight:700;line-height:30px;padding-left:5px;padding-top:1px}button:active div,button:active i,button:active span,button:focus div,button:focus i,button:focus span{position:relative;top:0;left:0} /*# sourceMappingURL=nbp-etichetta-check.component.css.map */ "],
        providers: [
            {
                provide: _angular_forms.NG_VALUE_ACCESSOR,
                useExisting: _angular_core.forwardRef(function () { return NbpEtichettaCheckComponent_1; }),
                multi: true
            }
        ]
    }),
    __metadata$148("design:paramtypes", [])
], exports.NbpEtichettaCheckComponent);
var NbpEtichettaCheckComponent_1;

var __decorate$170 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$149 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente per la selezione/deselezione del mercato. Funzionamento analogo ad una checkbox
 */
exports.NbpSelMercatoComponent = NbpSelMercatoComponent_1 = (function () {
    function NbpSelMercatoComponent() {
        /**
         * valore emesso dal componente sull'evento onChange quando il componente  checked
         * @type {boolean}
         */
        this.trueValue = true;
        /**
         * valore emesso dal componente sull'evento onChange quando il componente  unchecked
         * @type {boolean}
         */
        this.falseValue = false;
        /**
         * evento al cambio di stato del componente. Trasporta i valori definiti in trueValue e falseValue (true e false di default)
         * @type {EventEmitter<any>}
         */
        this.change = new _angular_core.EventEmitter();
        this.propagateChange = function (_) { };
    }
    NbpSelMercatoComponent.prototype.writeValue = function (value) {
        if ((value !== undefined) && (value !== null)) {
            this.checked = value;
        }
    };
    NbpSelMercatoComponent.prototype.registerOnChange = function (fn) {
        this.propagateChange = fn;
    };
    NbpSelMercatoComponent.prototype.registerOnTouched = function (fn) {
        this.onTouchedCallback = fn;
    };
    
    NbpSelMercatoComponent.prototype.onChange = function (event) {
        this.checked = this.checkValRef.nativeElement.checked;
        this.checked = !this.checked;
        var sendVal = (this.checked) ? this.trueValue : this.falseValue;
        this.propagateChange(sendVal);
        this.change.emit(this.checked);
    };
    // _objIcon = {};
    NbpSelMercatoComponent.prototype.ngOnInit = function () {
        // if(this.iconIn){
        //   this._objIcon[this.iconIn]=true;
        // }
    };
    NbpSelMercatoComponent.prototype.getIconClass = function () {
        return this.checked ? this.iconIn + ' circle-check' : this.iconIn;
    };
    return NbpSelMercatoComponent;
}());
exports.NbpSelMercatoComponent.idCounter = 0;
__decorate$170([
    _angular_core.ViewChild('checkVal'),
    __metadata$149("design:type", _angular_core.ElementRef)
], exports.NbpSelMercatoComponent.prototype, "checkValRef", void 0);
__decorate$170([
    _angular_core.Input(),
    __metadata$149("design:type", String)
], exports.NbpSelMercatoComponent.prototype, "key", void 0);
__decorate$170([
    _angular_core.Input(),
    __metadata$149("design:type", Object)
], exports.NbpSelMercatoComponent.prototype, "trueValue", void 0);
__decorate$170([
    _angular_core.Input(),
    __metadata$149("design:type", Object)
], exports.NbpSelMercatoComponent.prototype, "falseValue", void 0);
__decorate$170([
    _angular_core.Input(),
    __metadata$149("design:type", String)
], exports.NbpSelMercatoComponent.prototype, "iconIn", void 0);
__decorate$170([
    _angular_core.Output(),
    __metadata$149("design:type", Object)
], exports.NbpSelMercatoComponent.prototype, "change", void 0);
exports.NbpSelMercatoComponent = NbpSelMercatoComponent_1 = __decorate$170([
    _angular_core.Component({
        selector: 'nbp-sel-mercato',
        template: "<button class=\"merc-btn\" [ngClass]=\"{'btn-merc-check':checked}\" (click)=\"onChange($event)\"><input type=\"checkbox\" style=\"display: none;\" #checkVal [checked]=\"checked\" [hidden]=\"true\" (change)=\"onChange($event)\"><div class=\"icona circle icon-merc\" [ngClass]=\"getIconClass()\"></div><span class=\"label-key\" [ngClass]=\"{'label-key-check':checked}\">{{key|uppercase }}</span></button>",
        styles: [".merc-btn{border:0;min-width:130px;height:48px;border-radius:24px;display:inline-block;font-family:'Arial Bold',Arial;font-size:1em;font-weight:700;color:#6f6f6f;text-decoration:none;text-transform:uppercase;text-align:center;line-height:27px;position:relative;cursor:pointer;background:#f8f8f8;text-align:left}.circle{height:40px;width:40px;background-color:#fff;border-radius:50%;display:inline-table;vertical-align:middle;margin-top:.5px;margin-bottom:2.5px;margin-left:-2px;color:#ccc}.label-key{vertical-align:middle;line-height:48px;margin-left:10px;text-align:center;width:800%;margin-right:10px}.icon-merc{vertical-align:middle}.btn-merc-check{background:#c4dbbc}.circle-check:before{color:#258900!important}.label-key-check{color:#258900}button:active div,button:active span,button:focus div,button:focus span{position:relative;top:0;left:0}.icona:before{font-family:icomoon!important;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;font-size:40px} /*# sourceMappingURL=nbp-sel-mercato.component.css.map */ "],
        providers: [
            {
                provide: _angular_forms.NG_VALUE_ACCESSOR,
                useExisting: _angular_core.forwardRef(function () { return NbpSelMercatoComponent_1; }),
                multi: true
            }
        ]
    }),
    __metadata$149("design:paramtypes", [])
], exports.NbpSelMercatoComponent);
var NbpSelMercatoComponent_1;

var __decorate$171 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$150 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente etichetta con possibilit di chiusura. Utile per rappresentare e rimuovere filtri.
 */
exports.NbpEtichettaFiltroComponent = (function () {
    function NbpEtichettaFiltroComponent() {
        var _this = this;
        /**
         * evento in output al click sull'icona di rimozione
         */
        this.removeFilterEvt = new _angular_core.EventEmitter();
        this.removeFilter = function () {
            _this.removeFilterEvt.emit(_this.key);
        };
    }
    NbpEtichettaFiltroComponent.prototype.ngOnInit = function () {
    };
    return NbpEtichettaFiltroComponent;
}());
__decorate$171([
    _angular_core.Input(),
    __metadata$150("design:type", String)
], exports.NbpEtichettaFiltroComponent.prototype, "key", void 0);
__decorate$171([
    _angular_core.Output(),
    __metadata$150("design:type", Object)
], exports.NbpEtichettaFiltroComponent.prototype, "removeFilterEvt", void 0);
exports.NbpEtichettaFiltroComponent = __decorate$171([
    _angular_core.Component({
        selector: 'nbp-etichetta-filtro',
        template: "<div class=\"etic-cont\"><div class=\"cont-text\"><span class=\"over-text\">{{key|uppercase }}</span></div><i class=\"icomoon-Simboli_Risorsa-20 pull-right icon-rem\" (click)=\"removeFilter();$event.stopPropagation();\"></i></div>",
        styles: [".etic-cont{font-family:'Arial Bold',Arial;font-size:1em;font-weight:700;color:#323232;background-color:#ccc;min-width:90px;border-radius:10px;min-height:25px;padding-left:10px;text-decoration:none;text-align:left;margin-left:10px;margin-right:10px;display:table!important;vertical-align:middle;line-height:1.6em}.etic-cont .icon-rem{padding-right:10px;font-size:.625em;outline:0!important;color:#258900;padding-left:.625em;padding-top:calc(.25em);display:table-cell!important;vertical-align:middle;line-height:1.852em;float:left;cursor:pointer}button:active div,button:active i,button:active span,button:focus div,button:focus i,button:focus span{position:relative;top:0;left:0}.cont-text{display:table-cell!important;vertical-align:middle} /*# sourceMappingURL=nbp-etichetta-filtro.component.css.map */ "]
    }),
    __metadata$150("design:paramtypes", [])
], exports.NbpEtichettaFiltroComponent);

var __decorate$172 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$151 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Componente per la ricerca testuale. E' in grado di mostrare suggerimenti per le ricerche
 */
exports.NbpSearchBoxComponent = (function () {
    /**
     *
     * @param differs  inizializza l' iteratore che serve controlla l'input in ingresso nbpResults
     */
    function NbpSearchBoxComponent(differs) {
        var _this = this;
        /**
        * nome dei campi personalizzabili dell'oggetto nbpResults. Default: "group"
        */
        this.nbpGroup = "group";
        /**
        * nome dei campi personalizzabili dell'oggetto nbpResults. Default: "label"
        */
        this.nbpLabel = "label";
        /**
        * nome dei campi personalizzabili dell'oggetto nbpResults. Default: "subtitle"
        */
        this.nbpSubtitle = "subtitle";
        /**
         * nome dei campi personalizzabili dell'oggetto nbpResults. Default: "description"
         */
        this.nbpDescription = "description";
        /**
         * nome dei campi personalizzabili dell'oggetto nbpResults. Default: "type"
         */
        this.nbpType = "type";
        /**
         * numero di altri risultati da mostrare. Default: 0 (numero non mostrato).
         * Valore speciale "-1": non mostra la scritta
         */
        this.nbpOtherResultsNumber = 0;
        /**
         * testo bottone ricerca
         */
        this.nbpSearchButtonText = "cerca";
        /**
         * testo placeholder casella ricerca
         * @type {string}
         */
        this.nbpPlaceholder = '';
        /**
         * evento che innesca la ricerca dei suggerimenti
         */
        this.change = new _angular_core.EventEmitter();
        /**
        * evento che innesca la ricerca dei risultati
        */
        this.search = new _angular_core.EventEmitter();
        /**
         * evento sollevato al click sul testo "mostra altri risultati"
         */
        this.showMoreResults = new _angular_core.EventEmitter();
        /**
         * Object che conterr i raggruppamenti dei risultato
         */
        this.groups = {};
        /**
         * lista dei raggruppamenti
         */
        this.groupsList = [];
        /**
         * variabile che gestisce la visulizzazione dei risultati
         */
        this.showResults = false;
        /**
         * variabile per vedere se l'imput della ricerca dei risultati  cambiato
         */
        this.eventPass = '';
        /**
         * variabile in output per la ricerca
         */
        this.searchText = '';
        this.primary = exports.NbpStyle.PRIMARY;
        /**
         * funzione che raggruppa i suggerimenti
         */
        this.formatResults = function () {
            _this.groups = [];
            _this.groupsList = [];
            var self = _this;
            _this.nbpResults.forEach(function (elem) {
                if (self.groups[elem[self.nbpGroup]]) {
                    self.groups[elem[self.nbpGroup]].push(elem);
                }
                else {
                    self.groups[elem[self.nbpGroup]] = [elem];
                    self.groupsList.push(elem[self.nbpGroup]);
                }
            });
            if (_this.nbpResults.length > 0) {
                _this.showResults = true;
            }
        };
        this.differ = differs.find([]).create(null);
    }
    NbpSearchBoxComponent.prototype.ngOnInit = function () { };
    /**
     * funzione che determina se vi  stato un cambiamento in ingresso
     */
    NbpSearchBoxComponent.prototype.ngDoCheck = function () {
        var change = this.differ.diff(this.nbpResults);
        if (change && change.length > 0) {
            if (this.searchText !== this.eventPass) {
                this.formatResults();
                this.eventPass = this.searchText;
            }
        }
    };
    /**
     *
     * @param elem input selezionato dai risultati
     * funzione che imposta la varibile searchText in base al risultato in cui ho cliccato
     */
    NbpSearchBoxComponent.prototype.selectSearch = function (elem) {
        this.searchText = elem.label;
        this.showResults = false;
    };
    /**
     * Funzione che rimuove i suggerimenti
     */
    NbpSearchBoxComponent.prototype.clearResults = function () {
        this.searchText = '';
        this.nbpResults = [];
        this.showResults = false;
    };
    /**
     *
     * funzione che lancia l'evento per la ricerca dei suggerimenti
     */
    NbpSearchBoxComponent.prototype.changeStr = function ($event) {
        if (this.searchText !== this.eventPass) {
            this.change.emit(this.searchText);
        }
    };
    /**
     * funzione che lancia l'evento di ricerca
     */
    NbpSearchBoxComponent.prototype.sendSearch = function () {
        this.search.emit(this.searchText);
    };
    /**
     * funzione che lancia evento di click su "mostra pi risultati
     */
    NbpSearchBoxComponent.prototype.showMoreClick = function () {
        this.showMoreResults.emit();
    };
    return NbpSearchBoxComponent;
}());
__decorate$172([
    _angular_core.Input(),
    __metadata$151("design:type", Array)
], exports.NbpSearchBoxComponent.prototype, "nbpResults", void 0);
__decorate$172([
    _angular_core.Input(),
    __metadata$151("design:type", String)
], exports.NbpSearchBoxComponent.prototype, "nbpGroup", void 0);
__decorate$172([
    _angular_core.Input(),
    __metadata$151("design:type", String)
], exports.NbpSearchBoxComponent.prototype, "nbpLabel", void 0);
__decorate$172([
    _angular_core.Input(),
    __metadata$151("design:type", String)
], exports.NbpSearchBoxComponent.prototype, "nbpSubtitle", void 0);
__decorate$172([
    _angular_core.Input(),
    __metadata$151("design:type", String)
], exports.NbpSearchBoxComponent.prototype, "nbpDescription", void 0);
__decorate$172([
    _angular_core.Input(),
    __metadata$151("design:type", String)
], exports.NbpSearchBoxComponent.prototype, "nbpType", void 0);
__decorate$172([
    _angular_core.Input(),
    __metadata$151("design:type", Number)
], exports.NbpSearchBoxComponent.prototype, "nbpOtherResultsNumber", void 0);
__decorate$172([
    _angular_core.Input(),
    __metadata$151("design:type", String)
], exports.NbpSearchBoxComponent.prototype, "nbpSearchButtonText", void 0);
__decorate$172([
    _angular_core.Input(),
    __metadata$151("design:type", String)
], exports.NbpSearchBoxComponent.prototype, "nbpPlaceholder", void 0);
__decorate$172([
    _angular_core.Output(),
    __metadata$151("design:type", _angular_core.EventEmitter)
], exports.NbpSearchBoxComponent.prototype, "change", void 0);
__decorate$172([
    _angular_core.Output(),
    __metadata$151("design:type", _angular_core.EventEmitter)
], exports.NbpSearchBoxComponent.prototype, "search", void 0);
__decorate$172([
    _angular_core.Output(),
    __metadata$151("design:type", _angular_core.EventEmitter)
], exports.NbpSearchBoxComponent.prototype, "showMoreResults", void 0);
exports.NbpSearchBoxComponent = __decorate$172([
    _angular_core.Component({
        selector: 'nbp-search-box',
        template: "<div class=\"col-sm-20 search-rettangolo\"><div class=\"input-container\"><input tabindex=\"0\" class=\"col-sm-22 input-text-search\" [(ngModel)]=\"searchText\" (keyup)=\"changeStr($event)\" [placeholder]=\"nbpPlaceholder\"><div class=\"span-close\"><img *ngIf=\"searchText\" style=\"cursor: pointer;\" (click)=\"clearResults();\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZ cwAADsMAAA7DAcdvqGQAAAAHdElNRQfiBRkGDi40cdu/AAAByklEQVQ4y42UsWsTURzHP7+7B0Zs tw4ZbsxgIWOiLSik0JAMHrSQQcE1f0BHcbCbQ4cOujk4umSoNINiIBUsHCSFDgEzdBB0yJDNE1Ry 9xxyvdzl3tV8p/d+9/u8e7/v770nLMlz7KY0tCNFYKonch52743SOZKcXJTCI9kjI+3JQcUzQoND eY4iT69/HuzMUlBfrb/lKTerV9gv+wDWfL4CAru/T/sqhgaHKyAAtfXjaHsXJf31uhZ9JSVD8jec OGOnemZBeBSXf6mq+kvGu/HsoY69kxcgnqO+JzI6dnt2Kg+SSFBXx7QWkaCq7GZq2VaAchdYFgHr kZLG0m4SmAkBGko7ghljw4ggjpKiwa1WgHL/rJkQwLHMDdHlv4Vbvi6av1pMDcg4qNuvgjfKzTYA 9FRloUX5aSfjmiYWn/MQoGX6m/SssJuL5GDhe4HhgEp+K4GO3Q4+xTlX/qbAoCb9KOCLx67Brp7e krVovF85EYDhOx6zknS36kb3qdDmciVmdPvJvE9A2Z+5jP6PBPXUdd/6UdjWJzcincL2/UlkejI+ 3NMv5a6hkrE8qySWXDrifXWnZjd0UxdlA5gwlQ/Bx19n14/XXP8Ai1y4DKW+PFcAAAAldEVYdGRh dGU6Y3JlYXRlADIwMTgtMDUtMjVUMDY6MTQ6NDYtMDc6MDCXQfmnAAAAJXRFWHRkYXRlOm1vZGlm eQAyMDE4LTA1LTI1VDA2OjE0OjQ2LTA3OjAw5hxBGwAAAABJRU5ErkJggg==\"><div *ngIf=\"!searchText\" class=\"icomoon-Ricerca_zoom1\" style=\"margin-top: 2px;\"></div></div><div class=\"container-result\" *ngIf=\"showResults\" (clickOutside)=\"showResults=false\"><div class=\"title-results\"><p><span>RICERCHE SUGGERITE</span></p></div><div *ngFor=\"let item of groupsList\" class=\"group\"><div class=\"group-title\">{{item}}</div><table><ng-container *ngFor=\"let info of groups[item]\"><tr class=\"row-line\" (click)=\"selectSearch(info)\"><td><div class=\"info\"><div class=\"info-label-data\"><span>{{info[nbpLabel] | uppercase}}</span></div><div class=\"info-label-desc\"><span>{{info[nbpSubtitle]}}</span>&nbsp;/&nbsp; <span>{{info[nbpDescription] }}</span></div></div><div class=\"label-acc\"><div><span>{{info[nbpType]|uppercase}}</span></div></div></td></tr></ng-container></table></div><div *ngIf=\"nbpOtherResultsNumber !== -1\" class=\"bottom-result text-center\" (click)=\"showMoreClick()\"><p><span style=\"cursor: pointer\">VEDI ALTRI {{nbpOtherResultsNumber == 0 ? '' : nbpOtherResultsNumber}} RISULTATI DI RICERCA</span></p></div></div></div></div><nbp-button class=\"col-sm-4\" [nbpLabel]=\"nbpSearchButtonText\" [nbpStyle]=\"primary\" (nbpClick)=\"sendSearch()\"></nbp-button>",
        styles: [".search-rettangolo{border-width:0;position:relative;height:3.125em;background:inherit;background-color:#fff;box-sizing:border-box;border-width:.0625em;border-style:solid;border-color:#258900;border-radius:2.5em;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;z-index:1}.input-text-search{margin-left:12px;margin-top:1px;width:90%;height:2.88em;font-family:Arial;font-weight:400;font-style:normal;font-size:1em;text-decoration:none;color:#323232;text-align:left;border:0;outline-style:none}.input-text-search::-ms-clear{display:none;width:0;height:0}.span-close{float:right;vertical-align:middle;line-height:1.77em;padding-right:.75em;font-size:1.63em;color:#258900}.search-icon{font-size:1.63em;color:#258900}.title-cont{border-width:0;position:absolute;left:1.25em;padding-top:.625em;word-wrap:break-word}.btn-margin{margin-left:6.25em}.container-result{margin-top:3.125em;border-width:0;position:absolute;left:1.6em;width:93%;padding-top:.625em;min-height:6.25em;background:inherit;background-color:#fff;box-sizing:border-box;border-width:.06em;border-style:solid;border-color:#258900;border-top:0;border-radius:0;-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;font-size:1em;color:#323232;z-index:10000}.title-results{font-size:.75em;color:#323232;height:.875em}.bottom-result{font-family:'Arial Bold',Arial;font-weight:700;font-style:normal;font-size:.688em;color:#258900;text-align:center;bottom:.625em;margin-bottom:1.4375em}.bottom-result p{margin-top:.562em}.group{padding:0 1.25em .875em 1.25em}.group .group-title{padding:.313em .938em .562em .938em;vertical-align:middle;text-align:left;line-height:.938em;font-family:'Arial Bold',Arial;font-weight:700;font-style:normal;font-size:.75em;color:#323232}.group .row-line{height:2.625em;background-color:#f8f8f8;cursor:pointer}.group table{width:100%}.group tr{border-top:.063em solid #ccc}.group tr:last-child{border-bottom:.063em solid #ccc}.group .info{float:left;width:80%;padding-left:.938em;padding-top:.313em;text-align:left}.group .info-label-data{font-family:'Arial Bold',Arial;font-weight:700;font-style:normal;font-size:.75em;color:#323232}.group .info-label-desc{font-family:'Arial Bold',Arial;font-weight:400;font-style:normal;font-size:.688em;color:#323232}.group .label-acc{float:right;width:20%;text-align:right;line-height:2.625em;vertical-align:middle;padding-right:.625em;font-family:'Arial Bold',Arial;font-weight:700;font-style:normal;font-size:.75em;color:#323232} /*# sourceMappingURL=nbp-search-box.component.css.map */ "]
    }),
    __metadata$151("design:paramtypes", [_angular_core.IterableDiffers])
], exports.NbpSearchBoxComponent);

/**
 * Classe Model per l'inizializzazione del model del componente nbp-calendar-generic
 */
var NbpCalendarDateModel = (function () {
    function NbpCalendarDateModel(d) {
        if (d != null) {
            if (d instanceof Date) {
                this.year = d.getFullYear();
                this.month = d.getMonth() + 1;
                this.day = d.getDate();
            }
            else if (this.instanceOfNgbDateStruct(d)) {
                this.year = d.year;
                this.month = d.month;
                this.day = d.day;
            }
        }
    }
    /**
     * per verificare che implementi l'interface NgbDateStruct non posso usare instanceof,
     * quindi controllo esistano i campi al nuo interno e non siano nulli
     * @param d
     */
    NbpCalendarDateModel.prototype.instanceOfNgbDateStruct = function (d) {
        return !this.isNill(d.day)
            && !this.isNill(d.month)
            && !this.isNill(d.year);
    };
    NbpCalendarDateModel.prototype.isNill = function (value) {
        return value === null || value === undefined;
    };
    return NbpCalendarDateModel;
}());

var __decorate$1 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
// MULTISELECT
//
// COMPONENTI POS
// ----- validatori
// import { DateValidator } from './nbp-validators/date-validator.directive';
// export { DateValidator } from './nbp-validators/date-validator.directive';
var importList = [
    //BrowserAnimationsModule, dipendenza importata separatamente per problema relativo
    _angular_common.CommonModule,
    _angular_flexLayout.FlexLayoutModule,
    _angular_forms.FormsModule,
    exports.NouisliderModule,
    _ngBootstrap_ngBootstrap.NgbDatepickerModule.forRoot(),
    exports.RplDatepickerModule.forRoot(),
    exports.RplCalendarModule.forRoot(),
    ng2FileUpload.FileUploadModule,
    ng4ClickOutside.ClickOutsideModule,
];
var declarationList = [
    exports.NbpButtonComponent,
    exports.NbpButtonGenerationComponent,
    exports.NbpLabelComponent,
    exports.NbpInputContainerComponent,
    exports.NbpInputTextComponent,
    exports.NbpCheckboxComponent,
    exports.NbpFooterComponent,
    exports.NbpHeaderComponent,
    exports.NbpHeaderLightComponent,
    exports.NbpNavigationHeaderComponent,
    exports.NbpComboComponent,
    exports.NbpComboMultiComponent,
    exports.NbpDatepickerHtml5Component,
    exports.NbpTableComponent,
    exports.NbpModalComponent,
    exports.NbpSwitchComponent,
    exports.NbpCustomerInfoComponent,
    exports.NbpAccordionComponent,
    exports.NbpAccordionButtonComponent,
    exports.NbpAccordionShowmoreComponent,
    exports.NbpAccordionShowmoreCircleComponent,
    exports.NbpRadioComponent,
    exports.NbpProgressComponent,
    exports.NbpProgressStickyContentComponent,
    exports.NbpFormContainerComponent,
    exports.NbpPagingComponent,
    exports.NbpPaginationComponent,
    exports.NbpLoadingComponent,
    exports.NbpBreadcrumbComponent,
    exports.NbpTooltipComponent,
    exports.NbpBurgerMenuComponent,
    exports.NbpIconComponent,
    exports.NbpLoggedUserComponent,
    exports.NbpPanelComponent,
    exports.NbpCustomerNameComponent,
    exports.NbpTableColumnComponent,
    exports.NbpFeedbackComponent,
    exports.NbpDataContainerComponent,
    exports.NbpDatepickerComponent,
    exports.NbpDatepickerGenericComponent,
    exports.NbpCalendarGenericComponent,
    exports.NbpSequenzialeGenericComponent,
    exports.NbpSequenzialeSottostepGenericComponent,
    exports.NbpDividingLineComponent,
    exports.NbpSelectionPanelComponent,
    exports.NbpTitledPanelComponent,
    exports.NbpShadowedPanelComponent,
    exports.NbpSpinnerComponent,
    exports.NbpTabBarComponent,
    exports.NbpDebugInfoComponent,
    exports.NbpErrorAdviceComponent,
    exports.NbpSignInfoHeaderComponent,
    exports.NbpSignTypeSelectComponent,
    exports.NbpRadioSelectionComponent,
    exports.NbpSignSpilayerComponent,
    exports.NbpPaperlessSignComponent,
    exports.NbpSignComponent,
    exports.NbpStepNavigabiliComponent,
    exports.NbpComboFilterComponent,
    exports.NbpToggleTabsetComponent,
    exports.NbpToggleTabComponent,
    exports.NbpSwitchBinaryComponent,
    exports.NbpAccordionLightComponent,
    exports.NbpAlertBoxComponent,
    exports.NbpPaperSignComponent,
    exports.NbpSliceAndEllipsisPipe,
    exports.NbpEllipsisDirective,
    ContoPipe,
    exports.NbpImportoPipe,
    exports.NbpFormAutoScrollDirective,
    exports.NbpHeaderGenericComponent,
    exports.NbpFloaterComponent,
    exports.NbpFilterComponent,
    exports.NbpSpinnerGenericComponent,
    exports.NbpSliderComponent,
    exports.NbpSliderKeyPointsComponent,
    exports.NbpPaginationLettersComponent,
    exports.NbpStickyTabGenericComponent,
    exports.NbpHeaderGenericNoTranslateComponent,
    exports.SmoothScrollToDirective,
    exports.NbpBurgerMenuGenericNoTranslateComponent,
    exports.NbpBurgerMenuGenericComponent,
    exports.NbpMenuOperationComponent,
    exports.NbpCustomerInfoGenericComponent,
    exports.NbpLoggedUserGenericComponent,
    exports.NbpSwitchGenericComponent,
    exports.NbpUploadFileComponent,
    exports.NbpSliderRangeComponent,
    NbpSliderRangeBarComponent,
    NbpSliderRangePickerComponent,
    NbpSliderRangePopoverComponent,
    NbpSliderRangeBarDirective,
    NbpSliderRangePickerDirective,
    exports.NbpSliderStoricoComponent,
    NbpSliderStoricoBarComponent,
    NbpSliderStoricoPickerComponent,
    NbpSliderStoricoPopoverComponent,
    NbpSliderStoricoBarDirective,
    NbpSliderStoricoPickerDirective,
    exports.NbpIndexAlphabeticComponent,
    exports.NbpEtichettaCheckComponent,
    exports.NbpSelMercatoComponent,
    exports.NbpEtichettaFiltroComponent,
    exports.NbpSearchBoxComponent,
    // ----- validatori
    exports.EqualValidator,
    exports.ArrayRequiredValidator,
    exports.ContainsValidator,
    exports.CustomValidator,
    exports.NbpCheckboxRequiredValidator,
    exports.MaxSelectionValidator,
    exports.NbpModalDialogComponent,
    exports.NbpWrapperComponent,
    exports.NbpBoxWithEllipsisComponent,
    NbpCurrencyPipe,
    exports.NbpFormatterDirective,
    exports.NbpBottomPageButtonComponent,
    exports.NbpOnBoardingComponent,
    exports.NbpAutoFocusInModalDirective,
];
var providersList = [
    _angular_common.CurrencyPipe,
    exports.NbpImportoPipe,
    _angular_common.DatePipe,
    _angular_common.DecimalPipe,
    _angular_common.LowerCasePipe,
    _angular_common.PercentPipe,
    _angular_common.UpperCasePipe,
    ContoPipe,
    NbpCurrencyPipe,
    exports.NbpLoadingService,
    exports.GlobalLoadingIdentificationService,
    exports.NbpLoadingInterceptor,
    NbpSpilayerUtilityService,
    SpilayerMockUtilityService,
    NbpSignService,
    NbpSpilayerService,
    exports.NbpPendingLoadingStatusService,
    exports.NbpCustomValidationService,
    exports.DownloadService,
    exports.NbpModalDialogService,
    exports.NbpViewSettingsService
];
var exportList = [
    exports.NbpButtonComponent,
    exports.NbpButtonGenerationComponent,
    exports.NbpLabelComponent,
    exports.NbpInputTextComponent,
    exports.NbpInputContainerComponent,
    exports.NbpCheckboxComponent,
    exports.NbpFooterComponent,
    exports.NbpHeaderComponent,
    exports.NbpHeaderLightComponent,
    exports.NbpNavigationHeaderComponent,
    exports.NbpComboComponent,
    exports.NbpComboMultiComponent,
    exports.NbpDatepickerHtml5Component,
    exports.NbpTableComponent,
    exports.NbpModalComponent,
    exports.NbpSwitchComponent,
    exports.NbpCustomerInfoComponent,
    exports.NbpAccordionComponent,
    exports.NbpAccordionButtonComponent,
    exports.NbpAccordionShowmoreComponent,
    exports.NbpAccordionShowmoreCircleComponent,
    exports.NbpRadioComponent,
    exports.NbpProgressComponent,
    exports.NbpProgressStickyContentComponent,
    exports.NbpFormContainerComponent,
    exports.NbpPagingComponent,
    exports.NbpPaginationComponent,
    exports.NbpLoadingComponent,
    exports.NbpBreadcrumbComponent,
    exports.NbpTooltipComponent,
    exports.NbpBurgerMenuComponent,
    exports.NbpIconComponent,
    exports.NbpLoggedUserComponent,
    exports.NbpPanelComponent,
    exports.NbpCustomerNameComponent,
    exports.NbpTableColumnComponent,
    exports.NbpFeedbackComponent,
    exports.NbpDataContainerComponent,
    exports.NbpDatepickerComponent,
    exports.NbpDatepickerGenericComponent,
    exports.NbpCalendarGenericComponent,
    exports.NbpSequenzialeGenericComponent,
    exports.NbpSequenzialeSottostepGenericComponent,
    exports.NbpDividingLineComponent,
    exports.NbpSelectionPanelComponent,
    exports.NbpTitledPanelComponent,
    exports.NbpShadowedPanelComponent,
    exports.NbpSpinnerComponent,
    exports.NbpTabBarComponent,
    exports.NbpDebugInfoComponent,
    exports.NbpErrorAdviceComponent,
    exports.NbpSignInfoHeaderComponent,
    exports.NbpSignTypeSelectComponent,
    exports.NbpRadioSelectionComponent,
    exports.NbpSignSpilayerComponent,
    exports.NbpPaperlessSignComponent,
    exports.NbpSignComponent,
    exports.NbpStepNavigabiliComponent,
    exports.NbpComboFilterComponent,
    exports.NbpToggleTabsetComponent,
    exports.NbpToggleTabComponent,
    exports.NbpSwitchBinaryComponent,
    exports.NbpAccordionLightComponent,
    exports.NbpAlertBoxComponent,
    exports.NbpPaperSignComponent,
    exports.NbpSliceAndEllipsisPipe,
    exports.NbpEllipsisDirective,
    ContoPipe,
    exports.NbpImportoPipe,
    exports.NbpFormAutoScrollDirective,
    exports.NbpHeaderGenericComponent,
    exports.NbpFloaterComponent,
    exports.NbpFilterComponent,
    exports.NbpSpinnerGenericComponent,
    exports.NbpSliderComponent,
    exports.NbpSliderKeyPointsComponent,
    exports.NbpPaginationLettersComponent,
    exports.NbpStickyTabGenericComponent,
    exports.NbpHeaderGenericNoTranslateComponent,
    exports.SmoothScrollToDirective,
    exports.NbpBurgerMenuGenericNoTranslateComponent,
    exports.NbpBurgerMenuGenericComponent,
    exports.NbpMenuOperationComponent,
    exports.NbpCustomerInfoGenericComponent,
    exports.NbpLoggedUserGenericComponent,
    exports.NbpSwitchGenericComponent,
    exports.NbpUploadFileComponent,
    exports.NbpSliderRangeComponent,
    exports.NbpSliderStoricoComponent,
    exports.NbpIndexAlphabeticComponent,
    exports.NbpEtichettaCheckComponent,
    exports.NbpSelMercatoComponent,
    exports.NbpEtichettaFiltroComponent,
    exports.NbpSearchBoxComponent,
    // ----- validatori
    exports.EqualValidator,
    // DateValidator,
    exports.ArrayRequiredValidator,
    exports.ContainsValidator,
    exports.CustomValidator,
    exports.NbpCheckboxRequiredValidator,
    exports.MaxSelectionValidator,
    exports.NbpModalDialogComponent,
    exports.NbpWrapperComponent,
    exports.NbpBoxWithEllipsisComponent,
    NbpCurrencyPipe,
    exports.NbpFormatterDirective,
    exports.NbpBottomPageButtonComponent,
    exports.NbpOnBoardingComponent,
    exports.NbpAutoFocusInModalDirective,
];
/**
 * Modulo da importare direttamente in caso di problemi relativi a doppi import di BrowserAnimationModule
 * (il modulo espone gli stessi componenti di NbpModule ma non importa BrowserAnimationModule).
 * La problematica  stata riscontrata solo in caso di lazy loading e import del modulo a livello dei children.
 * La libreria ha comunque l'esigenza, per alcuni componenti, che BrowserAnimationModule sia importato a livello
 * del root dell'applicazione.
 */
exports.NbpModule_noBrowserAnimation = (function () {
    function NbpModule_noBrowserAnimation() {
    }
    return NbpModule_noBrowserAnimation;
}());
exports.NbpModule_noBrowserAnimation = __decorate$1([
    _angular_core.NgModule({
        imports: importList,
        declarations: declarationList,
        providers: providersList,
        exports: exportList,
    })
], exports.NbpModule_noBrowserAnimation);
exports.NbpModule = (function () {
    function NbpModule() {
    }
    return NbpModule;
}());
exports.NbpModule = __decorate$1([
    _angular_core.NgModule({
        imports: [_angular_platformBrowser_animations.BrowserAnimationsModule, exports.NbpModule_noBrowserAnimation],
        exports: [exports.NbpModule_noBrowserAnimation],
    })
], exports.NbpModule);

var __decorate$175 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$153 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var CjWizardHelper = (function () {
    function CjWizardHelper() {
    }
    /**
     * funzione di utility return true se l'array contiene duplicati
     * @param {Array<any>} items set in oggetti in input
     * @return {boolean}         input contains duplicate
     */
    CjWizardHelper.prototype.containsDuplicate = function (items) {
        return items.some(function (item, index) {
            return items.indexOf(item) !== index;
        });
    };
    CjWizardHelper.prototype.stepContainsPage = function (step, page) {
        return step.pages.indexOf(page) !== -1;
    };
    /**
    * controlla che (cjCurrentState.currentStepId, cjCurrentState.currentPageId) esista nella cjConfiguration
    */
    CjWizardHelper.prototype.currentStatusValid = function (statusIndexes) {
        return (statusIndexes.stepIndex !== -1 && statusIndexes.pageIndex !== -1);
    };
    /**
     * controlla univocita' coppia (StepId, pageId) all'interno della configurazione dello wizard
     * @return boolean configuration valid
     */
    CjWizardHelper.prototype.configurationValid = function (wizardConfiguration) {
        var _this = this;
        var stepIds = wizardConfiguration.steps.map(function (step) { return step.id; });
        if (this.containsDuplicate(stepIds)) {
            return false;
        }
        var stepsDuplicateStatus = wizardConfiguration.steps.map(function (step) {
            return _this.containsDuplicate(step.pages.map(function (page) {
                return page.id;
            }));
        });
        var result = (stepsDuplicateStatus.reduce(function (acc, curr) {
            return acc || curr;
        }, false));
        return !result;
    };
    /**
     * Recupera l'indice corrente di Page|Step nell'array a partire dall'id dell'elemento
     * @param  {Array<ICjWizardPage|ICjWizardStep>} elems insieme di step o page
     * @param  string                             id    identificativo di Page|Step
     * @return number                                   array index
     */
    CjWizardHelper.prototype.getCurrentStateIndexById = function (elems, id) {
        var currentIndex = -1;
        for (var elemIndex = 0; elemIndex < elems.length; elemIndex++) {
            if (elems[elemIndex].id === id) {
                currentIndex = elemIndex;
                break;
            }
        }
        return currentIndex;
    };
    /**
     * Recupera l'elemento corrente di Page|Step nell'array a partire dall'id dell'elemento
     * @param  {Array<ICjWizardPage|ICjWizardStep>} elems insieme di step o page
     * @param  string                             id    identificativo di Page|Step
     * @return ICjWizardPage|ICjWizardStep        elemento
     */
    CjWizardHelper.prototype.getCurrentStateById = function (elems, id) {
        for (var elemIndex = 0; elemIndex < elems.length; elemIndex++) {
            if (elems[elemIndex].id === id) {
                return elems[elemIndex];
            }
        }
        return null;
    };
    return CjWizardHelper;
}());
CjWizardHelper = __decorate$175([
    _angular_core.Injectable(),
    __metadata$153("design:paramtypes", [])
], CjWizardHelper);

var stickyElementToggleTrigger = _angular_animations.trigger('stickyElementToggleTrigger', [
    _angular_animations.state('disappear', _angular_animations.style({
        opacity: 0,
        visibility: 'hidden'
    })),
    _angular_animations.state('appear', _angular_animations.style({
        opacity: 1,
        visibility: 'visible'
    })),
    _angular_animations.transition('* => appear', _angular_animations.animate('200ms ease-in')),
    _angular_animations.transition('* => disappear', _angular_animations.animate('200ms ease-out')),
]);
var growShrinkElementHorizontallyTrigger = _angular_animations.trigger('growShrinkElementHorizontallyTrigger', [
    _angular_animations.state('grow', _angular_animations.style({
        width: '*'
    })),
    _angular_animations.state('shrink', _angular_animations.style({
        width: '*'
    })),
    _angular_animations.transition('shrink => grow', _angular_animations.animate('200ms 100ms ease-in')),
    _angular_animations.transition('grow => shrink', _angular_animations.animate('200ms 100ms ease-out')),
]);

var __decorate$174 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$152 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$23 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/** intero autogenerato usato per id unici per cjWizard component */
var nextId$30 = 0;
exports.CjWizardComponent = (function () {
    function CjWizardComponent(helper, nbploading, configurator, embeddingService, cjBody) {
        this.helper = helper;
        this.nbploading = nbploading;
        this.configurator = configurator;
        this.embeddingService = embeddingService;
        this.cjBody = cjBody;
        /**
         * Identificativo univoco per il cjWizard.
         * Se nessun id e' fornito e' auto-generato.
         */
        this.id = "cj-wizard-" + ++nextId$30;
        // --------------------------------------------- //
        // ------     ICjWizardLifecycleEvent     ------ //
        // --------------------------------------------- //
        /**
         * Evento che notifica quando si inizia un nuovo wizard da zero
         */
        this.cjOnWizardStart = new _angular_core.EventEmitter();
        /**
         * Evento che notifica quando si ripristina un wizard con stato
         */
        this.cjOnWizardRestore = new _angular_core.EventEmitter();
        /**
        * Evento che notifica labbandono del wizard
        */
        this.cjOnWizardCancel = new _angular_core.EventEmitter();
        /**
        * Evento che notifica il completamento dellintero wizard
        * Es pressione del tasto continua (tasto finale del wiard)
        */
        this.cjOnWizardComplete = new _angular_core.EventEmitter();
        // ----------------------------------------------//
        // ------    ICjWizardNavigationEvent     ------ //
        // --------------------------------------------- //
        /**
         * Evento che notifica laggiornamento della struttura dati che il wizard sta componendo
         */
        this.cjOnDataChange = new _angular_core.EventEmitter();
        /**
         * Evento che notifica laggiornamento dello step corrente
         */
        this.cjOnWizardPageChange = new _angular_core.EventEmitter(); // TODO refine type
        /**
        * Evento che notifica laggiornamento del modello di avanzamento del wizard
        */
        this.cjOnWizardStateChange = new _angular_core.EventEmitter();
        /**
         * Evento che notifica il toggle della visualizzazione della sidebar del wizard
         * parametro eventEmitter:
         *   TRUE -> wizardSideBar visualizzata,
         *   FALSE -> wizardSideBar non visualizzata
         *
         */
        this.cjOnToggleSideBarView = new _angular_core.EventEmitter();
        this._currentStateIndexes = { stepIndex: -1, pageIndex: -1 };
        this._showSideBar = false;
        this._isWizardInsideBody = false;
        this._isProgressInsideBody = false;
        this._buttonsStyles = exports.NbpStyle;
        this._showLoading = false;
        this.wizardReady = false;
        this._hideBorder = false;
        this.cjConfiguration = {
            id: this.id,
            name: this.name,
            steps: new Array()
        };
    }
    Object.defineProperty(CjWizardComponent.prototype, "cjShowPaging", {
        /**
         * (Opzionale) Proprieta' che consente di non visualizzare la seziona relativa ai sotto-step/pagine degli step.
         * Valore di default false.
        */
        get: function () { return this._cjShowPaging; },
        set: function (value) { this._cjShowPaging = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(CjWizardComponent.prototype, "_cjShowSideBar", {
        get: function () { return this._showSideBar; },
        set: function (value) { this._showSideBar = coerceBooleanProperty(value); this.cjOnToggleSideBarView.emit(this._showSideBar); },
        enumerable: true,
        configurable: true
    });
    
    
    /**
     * funzione privata che calcola la percentuale di riempimento dello step nel componente
     * nbpProgress
     * @param number currentStepIndex indice dello step corrente
     * @param ICjWizardStep    currentStep      struttura dati dello step corrente
     */
    CjWizardComponent.prototype._getFillPercentByIndex = function (currentStepIndex, currentStep) {
        var fillPercent;
        if (currentStepIndex < this._currentStateIndexes.stepIndex) {
            fillPercent = 100;
        }
        else if (currentStepIndex > this._currentStateIndexes.stepIndex) {
            fillPercent = 0;
        }
        else {
            var increment = 100 / currentStep.pages.length;
            fillPercent = (this.helper.getCurrentStateIndexById(currentStep.pages, this._pages[this._currentStateIndexes.pageIndex].id) + 1) * increment;
        }
        return fillPercent;
    };
    /**
     * Popola la struttura dati necessaria al componente nbpPaging
     * nbpPaging  visualizzato come secondo elemento del cjWizard sotto al componente
     * nbpProgress
     */
    CjWizardComponent.prototype._fillPagingStructure = function () {
        this._pagingStructure = {
            currentParentLabel: this.cjConfiguration.steps[this._currentStateIndexes.stepIndex].label,
            pages: []
        };
        for (var pageIndex = 0; pageIndex < this._pages.length; pageIndex++) {
            var status_1 = (pageIndex === this._currentStateIndexes.pageIndex
                ? 'active'
                : (pageIndex < this._currentStateIndexes.pageIndex ? 'done' : 'todo'));
            var pagingElem = {
                label: this._pages[pageIndex].label,
                status: status_1
            };
            this._pagingStructure.pages.push(pagingElem);
        }
    };
    /**
     * Aggiorna la struttura dati che contiene lo stato corrente del wizard
     * - step corrente
     * - pagina corrente
     */
    CjWizardComponent.prototype._updateCurrentState = function () {
        this.cjCurrentState.currentStepId = this.cjConfiguration.steps[this._currentStateIndexes.stepIndex].id;
        this.cjCurrentState.currentPageId = this._pages[this._currentStateIndexes.pageIndex].id;
        this._emitCjOnWizardStateChange(this.cjCurrentState);
        this._updateCurrentPageConfig();
    };
    /**
     * Aggiorna la struttura dati che contiene lo stato precedente del wizard
     * - step corrente
     * - pagina corrente
     */
    CjWizardComponent.prototype._updatePreviousState = function () {
        this.cjCurrentState.previousStepId = this.cjConfiguration.steps[this._currentStateIndexes.stepIndex].id;
        this.cjCurrentState.previousPageId = this._pages[this._currentStateIndexes.pageIndex].id;
        console.log('_updatePreviousState Debug Info');
        console.log('state index - step: ' + this._currentStateIndexes.stepIndex);
        console.log('stepId: ' + this.cjCurrentState.previousStepId);
        console.log('state index - page: ' + this._currentStateIndexes.pageIndex);
        console.log('pageId: ' + this.cjCurrentState.previousPageId);
    };
    CjWizardComponent.prototype._updateCurrentPageConfig = function () {
        this._currentPageConfig = this._pages[this._currentStateIndexes.pageIndex].configuration;
        // console.log(JSON.stringify(this._currentPageConfig));
    };
    /**
     * metodo privato utilizzato per:
     * - aggiornare lo stato del wizard (state & data)
     * - emettere gli eventi di lifecycle
     * @param {ICjWizardContext<T>} context
     */
    CjWizardComponent.prototype._resotreWizardStateAndData = function (context) {
        console.log('Wizard ' + context.id + ' restore state and data');
        console.dir(context);
        this.cjCurrentState = context.state;
        this._emitCjOnWizardStateChange(this.cjCurrentState);
        this._emitCjOnWizardRestore(context.data);
    };
    /**
     * Aggiorna il contesto utilizzando la funzione messa a disposizione da
     * ICjWizardContextSource
     */
    CjWizardComponent.prototype._updateWizardContext = function () {
        var _this = this;
        if (this.cjWizardContextSource && this._currentPageConfig.cjContextUpdate) {
            var updatedContext = {
                id: this.cjConfiguration.id,
                state: this.cjCurrentState,
                data: this.cjWizardDataContainer.getWizardData()
            };
            this.cjWizardContextSource.updateWizardContext(updatedContext).subscribe(function (context) {
                _this._handleLoadingSpinner(false);
            }, function (error) {
                console.log('Update wizard context error!!');
                _this._handleLoadingSpinner(false);
            });
        }
    };
    /**
     * Eseguita alla pressione del pulsante AVANTI del wizard
     * @param {Event} event AVANTI button click
     */
    CjWizardComponent.prototype._onAction = function (event) {
        if (this._currentPageConfig.cjActionButtonType === 'next') {
            this._updateProgressStructureOnDirection('next');
        }
        else if (this._currentPageConfig.cjActionButtonType === 'submit') {
            this._handleLoadingSpinner(true);
            this.cjOnWizardComplete.emit();
        }
    };
    /**
     * Disabilita il pulsante AVANTI quando non ci sono pi pagine da visualizzare
     * successive a quella corrente
     */
    CjWizardComponent.prototype._isActionDisabled = function () {
        return this._currentStateIndexes.pageIndex === this._pages.length - 1
            || (this._currentPageConfig && this._currentPageConfig.cjDisableActionButton);
    };
    /**
     * Eseguita alla pressione del pulsante INDIETRO del wizard
     * Aggiorna la struttura degli indici del currentState, il currentState, la struttura dati per la
     * progress bar la struttura dati per il paging
     * @param {Event} event INDIETRO/PREV button click
     */
    CjWizardComponent.prototype._onPrev = function (event) {
        this._updateProgressStructureOnDirection('prev');
    };
    /**
     * Disabilita il pulsante INDIETRO quando non ci sono pagine da visualizzare
     * precedenti a quella corrente
     */
    CjWizardComponent.prototype._isPrevDisabled = function () {
        return this._currentStateIndexes.pageIndex === 0
            || (this._currentPageConfig && this._currentPageConfig.cjDisablePrevButton);
    };
    /**
     * Popola la struttura dati necessaria al componente nbpProgress
     * nbpProgress  visualizzato come primo elemento del cjWizard
     */
    CjWizardComponent.prototype._fillProgressStructure = function () {
        if (!this._progressStructure) {
            this._createProgressStructure();
        }
        for (var progressIndex = 0; progressIndex < this._progressStructure.length; progressIndex++) {
            this._progressStructure[progressIndex].active = (this._currentStateIndexes.stepIndex === progressIndex);
            this._progressStructure[progressIndex].fillPercent =
                this._getFillPercentByIndex(progressIndex, this.cjConfiguration.steps[progressIndex]);
        }
        // if (this.cjBody && this.cjBody._isProgressInsideStickyHeader) {
        //   this.cjBody.onProgressStepChange.next(this._progressStructure);
        // }
        this.configurator.sendProgressConfigurationEvent(this._progressStructure);
    };
    /**
     * Popola la struttura dati necessaria al componente nbpProgress
     * nbpProgress  visualizzato come primo elemento del cjWizard
     */
    CjWizardComponent.prototype._createProgressStructure = function () {
        var _this = this;
        this._progressStructure = this.cjConfiguration.steps.map(function (step, index) {
            var isActive = _this._currentStateIndexes.stepIndex === index;
            var fillPercent = _this._getFillPercentByIndex(index, step);
            return { label: step.label, fillPercent: fillPercent, active: isActive };
        });
    };
    /**
     * Aggiorna la struttura dati necessaria al componente nbpProgress quando
     * si naviga il wizard usando il metodo navigateToPage
     * @param {string} stepId id dello step
     * @param {string} pageId id della page
     */
    CjWizardComponent.prototype._updateProgressStructure = function (stepId, pageId) {
        this._handleLoadingSpinner(true);
        // check se stepId e pageId sono validi
        var step = this.helper.getCurrentStateById(this.cjConfiguration.steps, stepId);
        var page = this.helper.getCurrentStateById(this._pages, pageId);
        if (this.helper.stepContainsPage(step, page)) {
            console.log('Wizard navigate to page');
            if (this._currentStateIndexes.pageIndex !== this._pages.length) {
                this._updatePreviousState();
                this._emitEventsForPageLeave();
                this._currentStateIndexes.stepIndex = this.helper.getCurrentStateIndexById(this.cjConfiguration.steps, stepId);
                this._currentStateIndexes.pageIndex = this.helper.getCurrentStateIndexById(this._pages, pageId);
                this._updateWizardStructures();
                this._handleLoadingSpinner(false);
            }
        }
        else {
            this._handleLoadingSpinner(false);
            console.log('Lo step con id ' + stepId + ' non contiene una page con id ' + pageId);
        }
    };
    CjWizardComponent.prototype._goToDirection = function (direction) {
        console.log('Wizard navigate to ' + direction + ' page');
        this._updatePreviousState();
        this._emitEventsForPageLeave();
        this._currentStateIndexes.pageIndex = (direction === 'next')
            ? ++this._currentStateIndexes.pageIndex
            : --this._currentStateIndexes.pageIndex;
        if (!this.helper.stepContainsPage(this.cjConfiguration.steps[this._currentStateIndexes.stepIndex], this._pages[this._currentStateIndexes.pageIndex])) {
            this._currentStateIndexes.stepIndex = (direction === 'next')
                ? ++this._currentStateIndexes.stepIndex
                : --this._currentStateIndexes.stepIndex;
        }
        this._updateWizardStructures();
        this._handleLoadingSpinner(false);
    };
    /**
     * Aggiorna la struttura dati necessaria al componente nbpProgress quando
     * si naviga il wizard usando i pulsanti ACTION (next o submit) e INDIETRO (prev)
     * @param {'next' | 'prev'} direction indica quale pulsante  stato premuto
     */
    CjWizardComponent.prototype._updateProgressStructureOnDirection = function (direction) {
        this._handleLoadingSpinner(true);
        switch (direction) {
            case 'next':
                if (this._currentStateIndexes.pageIndex !== this._pages.length) {
                    this._goToDirection(direction);
                }
                break;
            case 'prev':
                if (this._currentStateIndexes.pageIndex !== 0) {
                    this._goToDirection(direction);
                }
                break;
            default:
                this._handleLoadingSpinner(false);
                break;
        }
    };
    CjWizardComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!this.cjExternalLoading) {
            this.cjExternalLoading = this.id;
        }
        if (this.cjBody) {
            this.cjBody._isProgressInsideStickyHeader = true;
        }
        this.stateChangeSubscription = this.cjOnWizardStateChange
            .subscribe(function (state$$1) {
            _this.embeddingService.notifyOutgoingEvent({
                type: exports.NbpEmbeddingMessageType.CJ_STEP,
                body: state$$1.currentPageId
            });
        });
    };
    /**
     * metodo pubblico con cui gli step si registrano sul wizard
     * @param ICjWizardStep step step dello wizard
     */
    CjWizardComponent.prototype.addStep = function (step) {
        this.cjConfiguration.steps.push(step);
    };
    CjWizardComponent.prototype.ngOnDestroy = function () {
        var _this = this;
        console.log('wizard OnDestroy');
        if (this.cjBody) {
            this.cjBody.setNavigationHeaderSlim(false);
            this.cjBody._isProgressInsideStickyHeader = false;
            // Serve Ancora? : sovrascritta dal AfterViewChecked?
            setTimeout(function () {
                _this.cjBody._setBodyContainerHeight();
            });
            // this.cjBody.onburgerMenuToggle.unsubscribe();
        }
        if (this._wizardContextStreamSubscribe) {
            this._wizardContextStreamSubscribe.unsubscribe();
        }
        if (this.stateChangeSubscription) {
            this.stateChangeSubscription.unsubscribe();
        }
    };
    CjWizardComponent.prototype.ngAfterViewInit = function () {
        if (this.cjBody) {
            this.cjBody._setBodyContainerHeight();
        }
    };
    CjWizardComponent.prototype.ngAfterContentInit = function () {
        var _this = this;
        if (this.cjBody) {
            this.cjBody.setNavigationHeaderSlim(true);
            this._isWizardInsideBody = true;
            this._isProgressInsideBody = this.cjBody._isProgressInsideStickyHeader;
            this.cjBody.onburgerMenuToggle.subscribe(function (value) { _this._burgerMenuOpened = value; });
            this.cjBody._setBodyContainerHeight();
            /*sottoscrizione per il passaggio della configurazione per nbpProgress*/
            /*if (this.cjBody._isProgressInsideStickyHeader) {
              this.cjBody.onProgressStepChange.subscribe((progressStructure) => this.cjBody._progressStructure = progressStructure);
            }*/
        }
        if (!this.cjHeaderIcon) {
            this.cjHeaderIcon = {
                icon: 'icomoon-Acquisto_carrello4',
                hide: true
            };
        }
        else if (this.cjHeaderIcon.hide === null || this.cjHeaderIcon.hide === undefined) {
            this.cjHeaderIcon.hide = true;
        }
        this._handleLoadingSpinner(true);
        this.cjConfiguration.id = this.id;
        // creates a flatten array containing all pages of all steps
        this._pages = this.cjConfiguration.steps.reduce(function (prev, curr) { return (prev).concat(curr.pages); }, []);
        if (this.cjWizardContextSource) {
            this._initWizardWithContextSource();
        }
        else {
            this._initWizardWithoutContextSource();
        }
    };
    CjWizardComponent.prototype._handleLoadingSpinner = function (show) {
        if (show !== this._showLoading) {
            this._showLoading = show;
            this.nbploading.notifyLoadingSpinnerRequest(show, this.cjExternalLoading);
            console.log('Show loading (' + this.cjExternalLoading + ')? ' + show + ' timestamp: ' + new Date().getTime());
        }
    };
    CjWizardComponent.prototype._initWizardWithContextSource = function () {
        var _this = this;
        // Recupero contesto dal wizardContextSource
        this._wizardContextStream = this.cjWizardContextSource.getWizardContext();
        this._wizardContextStream.subscribe(function (context) {
            console.log('Ricevo context del Wizard ');
            console.dir(context);
            if (context && context.data) {
                _this._resotreWizardStateAndData(context);
            }
            else {
                console.log('Ricevo context null del Wizard ');
                _this._setDefaultState();
            }
            _this.initializeWizardViewModel();
            _this._handleLoadingSpinner(false);
        }, function (error) {
            // TODO gestire anche eventuali errori
            console.log(JSON.stringify(error));
            _this._handleLoadingSpinner(false);
        });
    };
    CjWizardComponent.prototype._initWizardWithoutContextSource = function () {
        console.log('Wizard without contextSource ');
        if (!this.cjCurrentState) {
            console.log('Wizard without cjCurrentState.');
            this._setDefaultState();
        }
        else {
            console.log('Wizard with cjCurrentState.');
            console.dir(this.cjCurrentState);
            this._emitCjOnWizardRestore(this.cjWizardDataContainer.getWizardData());
            // this._emitCjOnPageEnter();
        }
        this.initializeWizardViewModel();
        this._handleLoadingSpinner(false);
    };
    CjWizardComponent.prototype._setDefaultState = function () {
        console.log('Wizard si posiziona sul primo step e la prima pagina.');
        this.cjCurrentState = {
            id: this.cjConfiguration.id,
            currentStepId: this.cjConfiguration.steps[0].id,
            currentPageId: this._pages[0].id,
            previousStepId: null,
            previousPageId: null
        };
        this._currentStateIndexes = {
            stepIndex: 0,
            pageIndex: 0
        };
        this._emitCjOnWizardStart(this.cjWizardDataContainer.getWizardData());
        this._emitCjOnWizardStateChange(this.cjCurrentState);
    };
    CjWizardComponent.prototype._emitCjOnWizardStart = function (cjData) {
        this.cjOnWizardStart.emit(cjData);
        console.log('Emit event: cjOnWizardStart');
        console.dir(cjData);
    };
    CjWizardComponent.prototype._emitCjOnWizardRestore = function (cjData) {
        this.cjWizardDataContainer.setWizardData(cjData);
        this.cjOnWizardRestore.emit(cjData);
        console.log('Emit event: cjOnWizardRestore');
        console.dir(cjData);
    };
    CjWizardComponent.prototype._emitCjOnWizardStateChange = function (state$$1) {
        this.cjOnWizardStateChange.emit(state$$1);
        console.log('Emit event: cjOnWizardStateChange');
        console.dir(state$$1);
    };
    CjWizardComponent.prototype._emitCjOnWizardPageChange = function () {
        var page = this._pages[this._currentStateIndexes.pageIndex];
        this.cjOnWizardPageChange.emit(page);
        console.log('Emit event: _emitCjOnWizardPageChange');
        console.dir(page);
    };
    CjWizardComponent.prototype._emitCjOnPageEnter = function () {
        this._emitPageEvent('ENTER');
    };
    CjWizardComponent.prototype._emitEventsForPageLeave = function () {
        this._emitPageEvent('LEAVE');
    };
    CjWizardComponent.prototype._emitPageEvent = function (type) {
        var _this = this;
        if (!type || (type !== 'ENTER' && type !== 'LEAVE')) {
            return;
        }
        var event = type === 'ENTER' ? 'cjOnPageEnter' : 'cjOnPageLeave';
        var currentPageIndex = this._currentStateIndexes.pageIndex;
        if (type === 'ENTER') {
            setTimeout(function () {
                console.log('Emit event: ' + event);
                console.dir(_this._pages[currentPageIndex]);
                _this._pages[currentPageIndex].events.cjOnPageEnter.emit(_this._pages[currentPageIndex]);
            });
        }
        else {
            this._emitCjOnWizardPageChange();
            setTimeout(function () {
                console.log('Emit event: ' + event);
                console.dir(_this._pages[currentPageIndex]);
                _this._pages[currentPageIndex].events.cjOnPageLeave.emit(_this._pages[currentPageIndex]);
                scrollToTopPage();
            });
        }
    };
    CjWizardComponent.prototype.obtainStateIndexesFromConfiguration = function () {
        this._currentStateIndexes.stepIndex = this.helper.getCurrentStateIndexById(this.cjConfiguration.steps, this.cjCurrentState.currentStepId);
        this._currentStateIndexes.pageIndex = this.helper.getCurrentStateIndexById(this._pages, this.cjCurrentState.currentPageId);
    };
    /**
     * Aggiorna le strutture dati utilizzate nella View per il layout del componente wizard
     */
    CjWizardComponent.prototype.initializeWizardViewModel = function () {
        this.wizardReady = false;
        this.obtainStateIndexesFromConfiguration();
        if (this.helper.currentStatusValid(this._currentStateIndexes) && this.helper.configurationValid(this.cjConfiguration)) {
            this._fillProgressStructure();
            this._fillPagingStructure();
            this._updateCurrentPageConfig();
            this._emitCjOnPageEnter();
        }
        else {
            console.warn('Error configuration Valid: currentStatus invalido o (stepId, pageId) non univoche per wizard');
        }
        this.wizardReady = true;
    };
    CjWizardComponent.prototype._updateWizardStructures = function () {
        this.wizardReady = false;
        this._updateCurrentState();
        this._updateWizardContext();
        this._fillProgressStructure();
        this._fillPagingStructure();
        this._emitCjOnPageEnter();
        this.wizardReady = true;
    };
    CjWizardComponent.prototype._toggleSideBar = function () {
        this._cjShowSideBar = !this._cjShowSideBar;
    };
    /**
     * Funzione pubblica invocabile dall'esterno per andare sulla pagina successiva
     * Aggiorna la struttura degli indici del currentState, il currentState, la struttura dati per la
     * progress bar la struttura dati per il paging
     */
    CjWizardComponent.prototype.navigateToNext = function () {
        this._updateProgressStructureOnDirection('next');
    };
    /**
     * Funzione pubblica invocabile dall'esterno per andare sulla pagina precedente
     * Aggiorna la struttura degli indici del currentState, il currentState, la struttura dati per la
     * progress bar la struttura dati per il paging
     *
     */
    CjWizardComponent.prototype.navigateToPrev = function () {
        this._updateProgressStructureOnDirection('prev');
    };
    CjWizardComponent.prototype.navigateToPage = function (stepId, pageId) {
        this._updateProgressStructure(stepId, pageId);
    };
    CjWizardComponent.prototype.showHeaderIcon = function () {
        this.cjHeaderIcon.hide = false;
    };
    CjWizardComponent.prototype.hideHeaderIcon = function () {
        this.cjHeaderIcon.hide = true;
    };
    CjWizardComponent.prototype.showWizardSideBar = function () {
        this._showSideBar = true;
    };
    CjWizardComponent.prototype.hideWizardSideBar = function () {
        this._showSideBar = false;
    };
    CjWizardComponent.prototype.toggleWizardSideBar = function () {
        this._showSideBar = !this._showSideBar;
    };
    CjWizardComponent.prototype.metodoForDebug = function (data) {
        console.log('metodo for debug wizard...');
        console.dir(data);
    };
    return CjWizardComponent;
}());
__decorate$174([
    _angular_core.Input(),
    __metadata$152("design:type", Object)
], exports.CjWizardComponent.prototype, "id", void 0);
__decorate$174([
    _angular_core.Input(),
    __metadata$152("design:type", String)
], exports.CjWizardComponent.prototype, "name", void 0);
__decorate$174([
    _angular_core.Input(),
    __metadata$152("design:type", Object)
], exports.CjWizardComponent.prototype, "cjCurrentState", void 0);
__decorate$174([
    _angular_core.Input(),
    __metadata$152("design:type", Object)
], exports.CjWizardComponent.prototype, "cjWizardDataContainer", void 0);
__decorate$174([
    _angular_core.Input(),
    __metadata$152("design:type", Object)
], exports.CjWizardComponent.prototype, "cjHeaderIcon", void 0);
__decorate$174([
    _angular_core.Input(),
    __metadata$152("design:type", Boolean),
    __metadata$152("design:paramtypes", [Object])
], exports.CjWizardComponent.prototype, "cjShowPaging", null);
__decorate$174([
    _angular_core.Input(),
    __metadata$152("design:type", Object)
], exports.CjWizardComponent.prototype, "cjWizardContextSource", void 0);
__decorate$174([
    _angular_core.Input(),
    __metadata$152("design:type", String)
], exports.CjWizardComponent.prototype, "cjExternalLoading", void 0);
__decorate$174([
    _angular_core.Output(),
    __metadata$152("design:type", _angular_core.EventEmitter)
], exports.CjWizardComponent.prototype, "cjOnWizardStart", void 0);
__decorate$174([
    _angular_core.Output(),
    __metadata$152("design:type", _angular_core.EventEmitter)
], exports.CjWizardComponent.prototype, "cjOnWizardRestore", void 0);
__decorate$174([
    _angular_core.Output(),
    __metadata$152("design:type", _angular_core.EventEmitter)
], exports.CjWizardComponent.prototype, "cjOnWizardCancel", void 0);
__decorate$174([
    _angular_core.Output(),
    __metadata$152("design:type", _angular_core.EventEmitter)
], exports.CjWizardComponent.prototype, "cjOnWizardComplete", void 0);
__decorate$174([
    _angular_core.Output(),
    __metadata$152("design:type", _angular_core.EventEmitter)
], exports.CjWizardComponent.prototype, "cjOnDataChange", void 0);
__decorate$174([
    _angular_core.Output(),
    __metadata$152("design:type", _angular_core.EventEmitter)
], exports.CjWizardComponent.prototype, "cjOnWizardPageChange", void 0);
__decorate$174([
    _angular_core.Output(),
    __metadata$152("design:type", _angular_core.EventEmitter)
], exports.CjWizardComponent.prototype, "cjOnWizardStateChange", void 0);
__decorate$174([
    _angular_core.Output(),
    __metadata$152("design:type", _angular_core.EventEmitter)
], exports.CjWizardComponent.prototype, "cjOnToggleSideBarView", void 0);
exports.CjWizardComponent = __decorate$174([
    _angular_core.Component({
        selector: 'cj-wizard',template: "<div><nbp-loading [id]=\"cjExternalLoading\" nbpAnimationModeAuto></nbp-loading><section *ngIf=\"!_showLoading\"><nbp-progress [nbpConfiguration]=\"_progressStructure\" [ngClass]=\"{'sticky': _isProgressInsideBody,'menu-opened':_burgerMenuOpened}\"><div class=\"container\"><ng-content select=\"nbp-progress-sticky-content\"></ng-content></div></nbp-progress><div class=\"container sidebar-button__layout\" [ngClass]=\"{'menu-opened':_burgerMenuOpened}\"><div class=\"sidebar-button-container\"><a *ngIf=\"!cjHeaderIcon.hide\" class=\"sidebar-button__structure\" [ngClass]=\"{'transfrom-slim': (!_isWizardInsideBody || !_isProgressInsideBody)}\"><i [class]=\"cjHeaderIcon.icon\" (click)=\"_toggleSideBar()\"></i></a><div class=\"sidebar__layout\" [style.visibility]=\"!_cjShowSideBar ? 'hidden' : 'visible'\" [@stickyElementToggleTrigger]=\"!_cjShowSideBar ? 'disappear' : 'appear'\"><ng-content select=\"cj-shopping-cart\"></ng-content></div></div></div><div class=\"row paging-container\" *ngIf=\"cjShowPaging\"><nbp-paging [nbpConfiguration]=\"_pagingStructure\"></nbp-paging></div><div id=\"wizard-content\" class=\"row\"><div id=\"component-container\" class=\"col-md-24 col-xs-24 col-sm-24\"><ng-content select=\"cj-wizard-step\"></ng-content></div></div><div class=\"row\"><div class=\"col-md-offset-1 col-md-4\"><nbp-button *ngIf=\"_currentPageConfig?.cjShowPrevButton\" class=\"pull-left\" [nbpLabel]=\"'Indietro'\" (nbpClick)=\"_onPrev($event)\" [disabled]=\"_isPrevDisabled()\"></nbp-button></div><div class=\"col-md-offset-14 col-md-4\"><nbp-button *ngIf=\"_currentPageConfig?.cjShowActionButton\" class=\"pull-right\" [nbpLabel]=\"_currentPageConfig?.cjActionButtonLabel\" [nbpStyle]=\"_buttonsStyles.PRIMARY\" (nbpClick)=\"_onAction($event)\" [disabled]=\"_isActionDisabled()\"></nbp-button></div></div></section></div>",
        styles: [".paging-container{border-bottom:2px solid #f2f2f2;margin-left:-25px;margin-right:-25px}.sidebar-button__structure{font-size:50px;color:#337a79;text-decoration:none!important;cursor:pointer}.sidebar-button-container{display:inline-block;width:80px;text-align:center;pointer-events:auto}.sidebar-button__layout{pointer-events:none;position:fixed;top:60px;z-index:1040;left:0;right:0;text-align:right;-moz-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out}.sidebar-button__layout.transfrom-slim{top:25px!important;font-size:35px!important}.sidebar-button__layout>i{vertical-align:middle}.sidebar__layout{position:absolute;right:27px;z-index:1029}.sidebar__layout:before{display:block;content:\"\";width:0;height:0;border-bottom:10px solid #005958;border-right:10px solid transparent;border-left:10px solid transparent;position:absolute;right:6px;top:-10px;z-index:1}::ng-deep .shopping-cart--content{max-height:50vh!important;overflow:hidden!important}::ng-deep cj-shopping-cart cj-shopping-cart-element:not([cjItemStyle]) nbp-tooltip .nbp-popover .popover-content.left{position:fixed!important;top:inherit!important;right:450px!important;margin-top:-40px!important;margin-right:0!important;transform:inherit!important}::ng-deep cj-shopping-cart cj-shopping-cart-element[cjItemStyle] nbp-tooltip .nbp-popover .popover-content.left{position:fixed!important;top:inherit!important;right:450px!important;margin-top:-40px!important;margin-right:-7px!important;transform:inherit!important} /*# sourceMappingURL=cj-wizard.component.css.map */ "],
        animations: [stickyElementToggleTrigger]
    }),
    __param$23(4, _angular_core.Optional()),
    __metadata$152("design:paramtypes", [CjWizardHelper, exports.NbpLoadingService,
        CjProgressConfigurationService,
        exports.NbpEmbeddingService,
        exports.CjBodyComponent])
], exports.CjWizardComponent);

var __decorate$177 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$155 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var nextId$32 = 0;
exports.CjWizardStepComponent = (function () {
    function CjWizardStepComponent(cjWizard) {
        this.cjWizard = cjWizard;
        /**
         * Propriet di tipo stringa che rappresentante l'Id dello step
         */
        this.id = "cj-step-wizard " + ++nextId$32;
        /**
         * Evento che viene lanciato quando si entra nello step
         */
        this.onStepEnter = new _angular_core.EventEmitter();
        /**
         * Evento che viene lanciato quando si abbandona lo step
         */
        this.onStepLeave = new _angular_core.EventEmitter();
        this._pages = new Array();
    }
    CjWizardStepComponent.prototype.ngAfterContentInit = function () {
        this._stepInfo = {
            id: this.id,
            label: this.cjLabel,
            pages: this._pages,
        };
        this.cjWizard.addStep(this._stepInfo);
    };
    /**
     * Registra una nuoava Page sullo Step
     * @param {ICjWizardPage} page
     */
    CjWizardStepComponent.prototype.addPage = function (page) {
        this._pages.push(page);
    };
    /**
     * [getStepId description]
     * @return {string} [description]
     */
    CjWizardStepComponent.prototype.getStepId = function () {
        return this._stepInfo.id;
    };
    /**
     * [getWizardCurrentState description]
     * @return {ICjWizardState} [description]
     */
    CjWizardStepComponent.prototype.getWizardCurrentState = function () {
        return this.cjWizard.cjCurrentState;
    };
    return CjWizardStepComponent;
}());
__decorate$177([
    _angular_core.Input(),
    __metadata$155("design:type", Object)
], exports.CjWizardStepComponent.prototype, "id", void 0);
__decorate$177([
    _angular_core.Input(),
    __metadata$155("design:type", String)
], exports.CjWizardStepComponent.prototype, "name", void 0);
__decorate$177([
    _angular_core.Input(),
    __metadata$155("design:type", String)
], exports.CjWizardStepComponent.prototype, "cjLabel", void 0);
__decorate$177([
    _angular_core.Output(),
    __metadata$155("design:type", _angular_core.EventEmitter)
], exports.CjWizardStepComponent.prototype, "onStepEnter", void 0);
__decorate$177([
    _angular_core.Output(),
    __metadata$155("design:type", _angular_core.EventEmitter)
], exports.CjWizardStepComponent.prototype, "onStepLeave", void 0);
exports.CjWizardStepComponent = __decorate$177([
    _angular_core.Component({selector: 'cj-wizard-step',
        template: "<ng-content></ng-content>",
        styles: [" /*# sourceMappingURL=cj-wizard-step.component.css.map */ "]
    }),
    __metadata$155("design:paramtypes", [exports.CjWizardComponent])
], exports.CjWizardStepComponent);

var __decorate$176 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$154 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/** intero autogenerato usato per id unici per cjWizardPage component */
var nextId$31 = 0;
exports.CjWizardPageComponent = (function () {
    function CjWizardPageComponent(wizardStep) {
        this.wizardStep = wizardStep;
        /**
         * Identificativo univoco per il cjWizardPage.
         * Se nessun id  fornito e' auto-generato.
         */
        this.id = "cj-wizard-page-" + ++nextId$31;
        /**
         * Abilita/disabilita l'invocazione dell'aggiornamento
         * del context all'uscita dalla pagina.
         */
        this.cjContextUpdate = true;
        /**
         * Tipoligia del pulsante Action, posizionato in basso a destra del wizard:
         * 'next':(Default) definisce un pulsante standard per spostarsi avanti nelle pagine
         * 'submit': definisce il pulsante di completamento del wizard
         */
        this.cjActionButtonType = 'next';
        /**
         * Label da visualizzare all'interno del pulsante Action
         */
        this.cjActionButtonLabel = 'Avanti';
        this._cjDisableActionButton = false;
        this._cjDisablePrevButton = false;
        this._cjShowActionButton = false;
        this._cjShowPrevButton = false;
        /**
         * Evento sollevato nel momento in cui il componente cjWizard entra nella pagina
         */
        this.cjOnPageEnter = new _angular_core.EventEmitter();
        /**
         * Evento sollevato nel momento il cjWizard esce dalla pagina
         */
        this.cjOnPageLeave = new _angular_core.EventEmitter();
    }
    Object.defineProperty(CjWizardPageComponent.prototype, "cjDisableActionButton", {
        /**
         * Permette di disabilitare il pulsante di Action
         */
        get: function () { return this._cjDisableActionButton; },
        set: function (value) { this._cjDisableActionButton = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CjWizardPageComponent.prototype, "cjDisablePrevButton", {
        /**
         * Permette di disabilitare il pulsante Prev
         */
        get: function () { return this._cjDisablePrevButton; },
        set: function (value) { this._cjDisablePrevButton = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(CjWizardPageComponent.prototype, "cjShowActionButton", {
        /**
         * Permette di nascondere il pulsante di Action
         */
        get: function () { return this._cjShowActionButton; },
        set: function (value) { this._cjShowActionButton = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    Object.defineProperty(CjWizardPageComponent.prototype, "cjShowPrevButton", {
        /**
         * Permette di nascondere il pulsante Prev
         */
        get: function () { return this._cjShowPrevButton; },
        set: function (value) { this._cjShowPrevButton = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    CjWizardPageComponent.prototype._iAmActive = function () {
        var wizardCurrentState = this.wizardStep.getWizardCurrentState();
        if (!wizardCurrentState) {
            return false;
        }
        var parentStepId = this.wizardStep.getStepId();
        var iAmActive = (parentStepId === wizardCurrentState.currentStepId && this.id === wizardCurrentState.currentPageId);
        return iAmActive;
    };
    CjWizardPageComponent.prototype.ngOnInit = function () {
        this._pageInfo = {
            id: this.id,
            label: this.cjLabel,
            configuration: this,
            events: {
                cjOnPageEnter: this.cjOnPageEnter,
                cjOnPageLeave: this.cjOnPageLeave
            }
        };
    };
    CjWizardPageComponent.prototype.ngAfterContentInit = function () {
        this.wizardStep.addPage(this._pageInfo);
    };
    /**
     * Consente di eseguire il toggle sulla visibilit del pulsante di tipo Action
     */
    CjWizardPageComponent.prototype.toggleActionButtonVisibility = function () {
        this.cjShowActionButton = !this.cjShowActionButton;
    };
    /**
     * Consente di impostare la visibilit del pulsante Action
     * - true --> pulsante visibile
     * - false --> pulsante nascosto
     * @param {boolean} value valore della visibilit del pulsante
     */
    CjWizardPageComponent.prototype.setActionButtonVisibility = function (value) {
        this.cjShowActionButton = value;
    };
    /**
     * Consente di eseguire il toggle sulla visibilit del pulsante di tipo PREV
     */
    CjWizardPageComponent.prototype.togglePrevButtonVisibility = function () {
        this.cjShowPrevButton = !this.cjShowPrevButton;
    };
    /**
     * Consente di impostare la visibilit del pulsante PREV
     * - true --> pulsante visibile
     * - false --> pulsante nascosto
     * @param {boolean} value valore della visibilit del pulsante
     */
    CjWizardPageComponent.prototype.setPrevButtonVisibility = function (value) {
        this.cjShowPrevButton = value;
    };
    CjWizardPageComponent.prototype._emitOnPageEnterEvent = function () {
        console.log('Emessa onPageEnter per la page' + this._pageInfo);
        this.cjOnPageEnter.emit();
    };
    return CjWizardPageComponent;
}());
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", Object)
], exports.CjWizardPageComponent.prototype, "id", void 0);
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", String)
], exports.CjWizardPageComponent.prototype, "name", void 0);
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", String)
], exports.CjWizardPageComponent.prototype, "cjLabel", void 0);
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", Boolean)
], exports.CjWizardPageComponent.prototype, "cjContextUpdate", void 0);
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", String)
], exports.CjWizardPageComponent.prototype, "cjActionButtonType", void 0);
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", String)
], exports.CjWizardPageComponent.prototype, "cjActionButtonLabel", void 0);
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", Boolean),
    __metadata$154("design:paramtypes", [Object])
], exports.CjWizardPageComponent.prototype, "cjDisableActionButton", null);
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", Boolean),
    __metadata$154("design:paramtypes", [Object])
], exports.CjWizardPageComponent.prototype, "cjDisablePrevButton", null);
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", Boolean),
    __metadata$154("design:paramtypes", [Object])
], exports.CjWizardPageComponent.prototype, "cjShowActionButton", null);
__decorate$176([
    _angular_core.Input(),
    __metadata$154("design:type", Boolean),
    __metadata$154("design:paramtypes", [Object])
], exports.CjWizardPageComponent.prototype, "cjShowPrevButton", null);
__decorate$176([
    _angular_core.Output(),
    __metadata$154("design:type", _angular_core.EventEmitter)
], exports.CjWizardPageComponent.prototype, "cjOnPageEnter", void 0);
__decorate$176([
    _angular_core.Output(),
    __metadata$154("design:type", _angular_core.EventEmitter)
], exports.CjWizardPageComponent.prototype, "cjOnPageLeave", void 0);
exports.CjWizardPageComponent = __decorate$176([
    _angular_core.Component({
        selector: 'cj-wizard-page',template: "<div [@changePageTrigger]=\"_iAmActive() ? 'enter' : 'leave'\"><ng-content *ngIf=\"_iAmActive()\"></ng-content></div>",
        styles: [" /*# sourceMappingURL=cj-wizard-page.component.css.map */ "],
        animations: [
            _angular_animations.trigger('changePageTrigger', [
                _angular_animations.state('enter', _angular_animations.style({ opacity: 1 })),
                _angular_animations.state('leave', _angular_animations.style({ opacity: .5 })),
                _angular_animations.transition('enter => leave', _angular_animations.animate('1s ease-in')),
                _angular_animations.transition('leave => enter', _angular_animations.animate('1s ease-out'))
            ])
        ]
    }),
    __metadata$154("design:paramtypes", [exports.CjWizardStepComponent])
], exports.CjWizardPageComponent);

var translateElementsTrigger = _angular_animations.trigger('translateElementTrigger', [
    _angular_animations.transition('void => no-animate', []),
    _angular_animations.transition(':leave', [
        _angular_animations.style({ transform: 'translateX(0)', opacity: '*' }),
        _angular_animations.animate(200, _angular_animations.style({ transform: 'translateX(100%)', opacity: '0' }))
    ]),
    _angular_animations.transition(':enter', [
        _angular_animations.style({ transform: 'translateX(100%)', opacity: '0' }),
        _angular_animations.animate(200, _angular_animations.style({ transform: 'translateX(0)', opacity: '*' }))
    ])
]);
var highlightOnAddProduct = _angular_animations.trigger('highlightOnAddProduct', [
    _angular_animations.transition(':enter', [
        _angular_animations.query('.shopping-cart--product', _angular_animations.animate('400ms', _angular_animations.style({ backgroundColor: '#89BC72 ' }))),
        _angular_animations.query('.shopping-cart--product', _angular_animations.animate('200ms 4800ms', _angular_animations.style({ backgroundColor: '*' })))
    ])
]);
var accordionGrowShrinkTrigger = _angular_animations.trigger('accordionGrowShrinkTrigger', [
    _angular_animations.state('closed', _angular_animations.style({ opacity: 0, display: 'none', height: '0px', marginTop: '0px', marginBottom: '0px', paddingTop: '0px', paddingBottom: '0px' })),
    _angular_animations.state('opened', _angular_animations.style({ opacity: 1, display: '*', height: '*', marginTop: '*', marginBottom: '*', paddingTop: '*', paddingBottom: '*' })),
    _angular_animations.transition('opened => closed', _angular_animations.animate('200ms')),
    _angular_animations.transition('closed => opened', _angular_animations.animate('200ms'))
]);

var __decorate$179 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$157 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var CjShoppingCartElementComponent = (function () {
    function CjShoppingCartElementComponent() {
        // Lanciare Warning se cjItemStyle non combacia con la classe IShoppingCartItem del model
        this._cjItemStyle = false;
        this.cjOnOpenElement = new _angular_core.EventEmitter();
        this.cjOnCloseElement = new _angular_core.EventEmitter();
        this.cjAnimationPhaseDone = new _angular_core.EventEmitter();
        /**
         * Propaga l'evento di click icona destra (default 'cestino') proveniente dagli elementi cjShoppingCartProduct figli
         * @param EventEmitter<IShoppingCartEvent> cjOnClickProductRightIcon
         */
        this.cjOnClickProductRightIcon = new _angular_core.EventEmitter();
        /**
         * Propaga l'evento di click all'interno del popover dell'icona a sinistra del product
         *  @param EventEmitter<IShoppingCartEvent> cjOnClickProductLeftIconLink
         */
        this.cjOnClickProductLeftIconLink = new _angular_core.EventEmitter();
        /**
         * Propaga l'evento di click del link promozione (default 'promo>') del product
         *  @param EventEmitter<IShoppingCartEvent> cjOnClickProductPromo
         */
        this.cjOnClickProductPromo = new _angular_core.EventEmitter();
        this.animationState = 'no-animation';
        this._collapsed = true;
    }
    Object.defineProperty(CjShoppingCartElementComponent.prototype, "cjReadOnly", {
        /**
         * Booleano che abilita/disabilita la modifica del carrello.
         */
        get: function () {
            return this._cjReadOnly;
        },
        set: function (value) {
            this._cjReadOnly = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CjShoppingCartElementComponent.prototype, "cjIsPanel", {
        get: function () {
            return this._cjIsPanel;
        },
        set: function (value) {
            this._cjIsPanel = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CjShoppingCartElementComponent.prototype, "cjItemStyle", {
        get: function () {
            return this._cjItemStyle;
        },
        set: function (value) {
            this._cjItemStyle = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CjShoppingCartElementComponent.prototype, "collapsed", {
        get: function () { return this._collapsed; },
        set: function (value) {
            this._collapsed = value;
            if (this._collapsed) {
                console.log('CjShoppingCartElementComponent - Emitting: cjOnCloseElement');
                console.dir(this._myEventInfo);
                this.cjOnCloseElement.emit(this._myEventInfo);
            }
            else {
                console.log('CjShoppingCartElementComponent - Emitting: cjOnOpenElement');
                console.dir(this._myEventInfo);
                this.cjOnOpenElement.emit(this._myEventInfo);
            }
        },
        enumerable: true,
        configurable: true
    });
    
    CjShoppingCartElementComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        setTimeout(function () {
            _this.updateAnimationState();
        }, 300);
    };
    CjShoppingCartElementComponent.prototype._toggleCollapse = function () {
        this.collapsed = !this.collapsed;
    };
    CjShoppingCartElementComponent.prototype._getCollapsedAnimationState = function () {
        return this._collapsed ? 'closed' : 'opened';
    };
    CjShoppingCartElementComponent.prototype._onAnimationPhaseDone = function () {
        this.cjAnimationPhaseDone.emit();
    };
    CjShoppingCartElementComponent.prototype._isCellStroke = function (titleInfoLine) {
        return titleInfoLine ? titleInfoLine.style === 'stroke' : false;
    };
    CjShoppingCartElementComponent.prototype._onOpenItem = function (item) {
        var currentEventInfo = Object.assign({}, this._myEventInfo);
        currentEventInfo['itemId'] = item.id;
        console.log('Nested CjShoppingCartElementComponent (Item) - Emitting: cjOnOpenElement');
        console.dir(currentEventInfo);
        this.cjOnOpenElement.emit(currentEventInfo);
    };
    CjShoppingCartElementComponent.prototype._onCloseItem = function (item) {
        var currentEventInfo = Object.assign({}, this._myEventInfo);
        currentEventInfo['itemId'] = item.id;
        console.log('Nested CjShoppingCartElementComponent (Item) - Emitting: cjOnCloseElement');
        console.dir(currentEventInfo);
        this.cjOnCloseElement.emit(currentEventInfo);
    };
    CjShoppingCartElementComponent.prototype._onClickRightIcon = function (event) {
        var currentEventInfo = Object.assign({}, event);
        if (this._cjItemStyle) {
            currentEventInfo['itemId'] = this._myEventInfo.itemId;
        }
        else {
            currentEventInfo['sectionId'] = this._myEventInfo.sectionId;
        }
        console.log('CjShoppingCartElementComponent - Emit Event: cjOnClickProductRightIcon');
        console.dir(currentEventInfo);
        this.cjOnClickProductRightIcon.emit(currentEventInfo);
    };
    CjShoppingCartElementComponent.prototype._onClickLeftIconLink = function (event) {
        var currentEventInfo = Object.assign({}, event);
        if (this._cjItemStyle) {
            currentEventInfo['itemId'] = this._myEventInfo.itemId;
        }
        else {
            currentEventInfo['sectionId'] = this._myEventInfo.sectionId;
        }
        console.log('CjShoppingCartElementComponent - Emit Event: cjOnClickProductLeftIconLink');
        console.dir(currentEventInfo);
        this.cjOnClickProductLeftIconLink.emit(currentEventInfo);
    };
    CjShoppingCartElementComponent.prototype._onClickPromo = function (event) {
        var currentEventInfo = Object.assign({}, event);
        if (this._cjItemStyle) {
            currentEventInfo['itemId'] = this._myEventInfo.itemId;
        }
        else {
            currentEventInfo['sectionId'] = this._myEventInfo.sectionId;
        }
        console.log('CjShoppingCartElementComponent - Emit Event: cjOnClickProductPromo');
        console.dir(currentEventInfo);
        this.cjOnClickProductPromo.emit(currentEventInfo);
    };
    CjShoppingCartElementComponent.prototype.ngOnInit = function () {
        if (this._cjItemStyle) {
            this._myEventInfo = {
                itemId: this.cjData.id,
                current: this
            };
        }
        else {
            this._myEventInfo = {
                sectionId: this.cjData.id,
                current: this
            };
        }
        if (this.cjIsPanel) {
            this.cjOnOpenElement.emit(this._myEventInfo);
        }
    };
    CjShoppingCartElementComponent.prototype.updateAnimationState = function () {
        if (this.animationState === 'animation') {
            return;
        }
        this.animationState = 'animation';
    };
    CjShoppingCartElementComponent.prototype.trackByItem = function (index, item) { return item.id; };
    CjShoppingCartElementComponent.prototype.trackByProduct = function (index, product) { return product.id; };
    CjShoppingCartElementComponent.prototype.trackByProductQuantity = function (index, product) { return product.id + product.quantity; };
    return CjShoppingCartElementComponent;
}());
__decorate$179([
    _angular_core.Input(),
    __metadata$157("design:type", Object)
], CjShoppingCartElementComponent.prototype, "cjData", void 0);
__decorate$179([
    _angular_core.Input(),
    __metadata$157("design:type", Object),
    __metadata$157("design:paramtypes", [Boolean])
], CjShoppingCartElementComponent.prototype, "cjReadOnly", null);
__decorate$179([
    _angular_core.Input(),
    __metadata$157("design:type", Object),
    __metadata$157("design:paramtypes", [Boolean])
], CjShoppingCartElementComponent.prototype, "cjIsPanel", null);
__decorate$179([
    _angular_core.Input(),
    __metadata$157("design:type", Boolean),
    __metadata$157("design:paramtypes", [Boolean])
], CjShoppingCartElementComponent.prototype, "cjItemStyle", null);
__decorate$179([
    _angular_core.Output(),
    __metadata$157("design:type", _angular_core.EventEmitter)
], CjShoppingCartElementComponent.prototype, "cjOnOpenElement", void 0);
__decorate$179([
    _angular_core.Output(),
    __metadata$157("design:type", _angular_core.EventEmitter)
], CjShoppingCartElementComponent.prototype, "cjOnCloseElement", void 0);
__decorate$179([
    _angular_core.Output(),
    __metadata$157("design:type", _angular_core.EventEmitter)
], CjShoppingCartElementComponent.prototype, "cjAnimationPhaseDone", void 0);
__decorate$179([
    _angular_core.Output(),
    __metadata$157("design:type", _angular_core.EventEmitter)
], CjShoppingCartElementComponent.prototype, "cjOnClickProductRightIcon", void 0);
__decorate$179([
    _angular_core.Output(),
    __metadata$157("design:type", _angular_core.EventEmitter)
], CjShoppingCartElementComponent.prototype, "cjOnClickProductLeftIconLink", void 0);
__decorate$179([
    _angular_core.Output(),
    __metadata$157("design:type", _angular_core.EventEmitter)
], CjShoppingCartElementComponent.prototype, "cjOnClickProductPromo", void 0);
CjShoppingCartElementComponent = __decorate$179([
    _angular_core.Component({selector: 'cj-shopping-cart-element',
        template: "<ng-template #emptyRow><div class=\"row\"><div [ngClass]=\"{'cell-section': !cjItemStyle , 'cell-item': cjItemStyle}\" class=\"col-md-24 col-sm-24 col-xs-24 cell__empty\"></div></div></ng-template><div [ngClass]=\"{'shopping-cart-section': !cjItemStyle , 'shopping-cart-item': cjItemStyle}\"><div class=\"row\" [ngClass]=\"{'shopping-cart-section-header': !cjItemStyle , 'shopping-cart-item-header': cjItemStyle , 'shopping-cart-item-header-border': _collapsed }\"><div [ngClass]=\"{ 'col-md-24 col-sm-24 col-xs-24' : cjIsPanel , 'col-md-22 col-sm-22 col-xs-22' : !cjIsPanel }\"><div class=\"row\"><div name=\"sx-col\" [ngClass]=\"{'col-md-14 col-sm-14 col-xs-14':cjData.titleInfoRight , 'col-md-24 col-sm-24 col-xs-24': !cjData.titleInfoRight}\"><div class=\"row\" *ngIf=\"cjData.titleInfoLeft.firstLine && !!(cjData.titleInfoLeft.firstLine.text?.trim()); else emptyRow\"><div id=\"firstLine\" [ngClass]=\"{'cell-section': !cjItemStyle , 'cell-item': cjItemStyle , 'cell__stroke':  _isCellStroke(cjData.titleInfoLeft.firstLine)}\" class=\"col-md-24 col-sm-24 col-xs-24 cell__primary cell__uppercase\">{{cjData.titleInfoLeft.firstLine.text}}</div></div><div class=\"row\" *ngIf=\"cjData.titleInfoLeft.secondLine && !!(cjData.titleInfoLeft.secondLine.text?.trim()); else emptyRow\"><div id=\"secondLine\" [ngClass]=\"{'cell-section': !cjItemStyle , 'cell-item': cjItemStyle ,'cell__stroke':  _isCellStroke(cjData.titleInfoLeft.secondLine) , 'cell__primary': !cjItemStyle}\" class=\"col-md-24 col-sm-24 col-xs-24 cell__font-sm\">{{cjData.titleInfoLeft.secondLine.text}}</div></div><span *ngIf=\" !cjItemStyle\"><div *ngIf=\"cjData.titleInfoLeft.thirdLine && !!(cjData.titleInfoLeft.thirdLine.text?.trim()); else emptyRow\" class=\"row\"><div id=\"thirdLine\" [ngClass]=\"{'cell__stroke':  _isCellStroke(cjData.titleInfoLeft.thirdLine), 'cell-section': !cjItemStyle , 'cell-item': cjItemStyle}\" class=\"col-md-24 col-sm-24 col-xs-24 cell__primary cell__bold cell__font-sm\">{{cjData.titleInfoLeft.thirdLine.text}}</div></div></span></div><div name=\"dx-col\" *ngIf=\"cjData.titleInfoRight\" class=\"col-md-10 col-sm-10 col-xs-10\"><div class=\"row\" *ngIf=\"cjData.titleInfoRight.firstLine && !!(cjData.titleInfoRight.firstLine.text?.trim()); else emptyRow\"><div id=\"firstLine\" [ngClass]=\"{'cell-section': !cjItemStyle , 'cell-item': cjItemStyle , 'cell__stroke': _isCellStroke(cjData.titleInfoRight.firstLine)}\" class=\"col-md-24 col-sm-24 col-xs-24 cell__text-right cell__primary\">{{cjData.titleInfoRight.firstLine.text}}</div></div><div class=\"row\" *ngIf=\"cjData.titleInfoRight.secondLine && !!(cjData.titleInfoRight.secondLine.text?.trim()); else emptyRow\"><div id=\"secondLine\" [ngClass]=\"{'cell-section': !cjItemStyle , 'cell-item': cjItemStyle ,'cell__stroke': _isCellStroke(cjData.titleInfoRight.secondLine)}\" class=\"col-md-24 col-sm-24 col-xs-24 cell__text-right cell__font-sm\">{{cjData.titleInfoRight.secondLine.text}}</div></div><span *ngIf=\" !cjItemStyle\"><div *ngIf=\"cjData.titleInfoRight.thirdLine && !!(cjData.titleInfoRight.thirdLine.text?.trim()); else emptyRow\" class=\"row\"><div id=\"thirdLine\" [ngClass]=\"{'cell__stroke': _isCellStroke(cjData.titleInfoRight.thirdLine), 'cell-section': !cjItemStyle , 'cell-item': cjItemStyle}\" class=\"col-md-24 col-sm-24 col-xs-24 cell-section cell__text-right cell__primary cell__font-sm\">{{cjData.titleInfoRight.thirdLine.text}}</div></div></span></div></div></div><div *ngIf=\"!cjIsPanel\" (click)=\"_toggleCollapse()\" class=\"col-md-2 col-sm-2 col-xs-2 cell-arrow\" [ngClass]=\"{'inverted section-cell-arrow':  !cjItemStyle}\"><span [ngClass]=\"{'icon-arrow-up': _collapsed , 'icon-arrow-down':!_collapsed}\"></span></div></div><div [@accordionGrowShrinkTrigger]=\"(!cjIsPanel && _collapsed) ? 'closed' : 'opened'\" (@accordionGrowShrinkTrigger.done)=\"_onAnimationPhaseDone()\" [ngClass]=\"{'cj-shopping-cart-section-body': !cjItemStyle , 'cj-shopping-cart-item-body': cjItemStyle }\"><div *ngFor=\"let item of cjData.items; trackBy: trackByItem\" [@translateElementTrigger]=\"animationState\"><cj-shopping-cart-element [cjData]=\"item\" [cjReadOnly]=\"cjReadOnly\" (cjOnOpenElement)=\"_onOpenItem(item)\" (cjOnCloseElement)=\"_onCloseItem(item)\" (cjAnimationPhaseDone)=\"_onAnimationPhaseDone()\" (cjOnClickProductRightIcon)=\"_onClickRightIcon($event)\" (cjOnClickProductLeftIconLink)=\"_onClickLeftIconLink($event)\" (cjOnClickProductPromo)=\"_onClickPromo($event)\" cjItemStyle></cj-shopping-cart-element></div><div class=\"cj-shopping-cart-products-container\" [ngClass]=\"{'inside-section': !cjItemStyle}\" *ngFor=\"let product of cjData.products; trackBy: trackByProductQuantity\" [@highlightOnAddProduct]=\"animationState\" [@translateElementTrigger]=\"animationState\"><cj-shopping-cart-product [cjReadOnly]=\"cjReadOnly\" [cjData]=\"product\" (cjOnClickRightIcon)=\"_onClickRightIcon($event)\" (cjOnClickLeftIconLink)=\"_onClickLeftIconLink($event)\" (cjOnClickPromo)=\"_onClickPromo($event)\" [cjIsParentItem]=\"cjItemStyle\"></cj-shopping-cart-product></div></div></div>",
        styles: ["#secondLine{line-height:1em;padding-bottom:6px}.cell-section.cell__primary{font-weight:700}.cell-section.cell__uppercase{text-transform:uppercase}.cell-section.cell__font-sm{font-size:14px}.cell-section.cell__stroke{text-decoration:line-through}.cell-section.cell__text-right{text-align:right}.cell-section.cell__empty{height:20px}.cell-item{font-size:14px}.cell-item.cell__primary{font-weight:700}.cell-item.cell__uppercase{text-transform:uppercase}.cell-item.cell__font-sm{font-size:12px}.cell-item.cell__stroke{text-decoration:line-through}.cell-item.cell__text-right{text-align:right}.cell-item.cell__empty{height:20px}.shopping-cart-header_base{padding-top:10px;padding-bottom:12px;padding-left:5px;padding-right:5px}.shopping-cart-section{color:#f8f8f8}.shopping-cart-section>.shopping-cart-section-header{padding-top:10px;padding-bottom:12px;padding-left:5px;padding-right:5px;padding-left:10px;padding-right:10px;background-color:#337a79}.shopping-cart-section>.cj-shopping-cart-section-body{background-color:#e3e3e3;padding-left:5px;padding-right:5px}.shopping-cart-item{color:#323232}.shopping-cart-item>.shopping-cart-item-header{padding-top:10px;padding-bottom:12px;padding-left:5px;padding-right:5px;background-color:#e3e3e3}.shopping-cart-item>.shopping-cart-item-header-border{border-bottom:1px solid #6f6f6f}.shopping-cart-item>.shopping-cart-item-header:last-child{border:0 none #fff!important}.shopping-cart-item>.cj-shopping-cart-item-body{background-color:#e3e3e3;margin-left:-5px;margin-right:-5px;padding-left:5px;padding-right:5px;padding-bottom:5px;border-bottom:1px solid #6f6f6f}.cj-shopping-cart-products-container{background-color:#fff}.cj-shopping-cart-products-container cj-shopping-cart-product ::ng-deep .shopping-cart--product{box-sizing:border-box;border-bottom:1px solid #6f6f6f}.cj-shopping-cart-products-container:last-child cj-shopping-cart-product ::ng-deep .shopping-cart--product{box-sizing:border-box;border:0 none transparent!important}.cj-shopping-cart-products-container:first-child cj-shopping-cart-product ::ng-deep .shopping-cart--product{border-top:1px solid #ccc!important}.cj-shopping-cart-products-container.inside-section{margin-left:-5px!important;margin-right:-5px!important}.cell-arrow{position:absolute;top:30%;right:5px;color:#258900;cursor:pointer}.cell-arrow.inverted{color:#f8f8f8}.cell-arrow.section-cell-arrow{right:10px} /*# sourceMappingURL=cj-shopping-cart-element.component.css.map */ "],
        animations: [translateElementsTrigger, accordionGrowShrinkTrigger, highlightOnAddProduct]
    }),
    __metadata$157("design:paramtypes", [])
], CjShoppingCartElementComponent);

var __decorate$178 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$156 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.CjShoppingCartComponent = (function () {
    function CjShoppingCartComponent(currentElement) {
        this.currentElement = currentElement;
        // model: IShoppingCartProduct;
        this.onResizeEvent = rxjs_Observable.Observable.fromEvent(window, 'resize');
        this.animationState = 'no-animation';
        /**
         * (Opzionale) Titolo della finestra del carrello
         * Valore di default "DETTAGLIO PREZZI"
         */
        this.cjHeaderTitle = 'Dettaglio Prezzi';
        /**
         * (Opzionale) Icona visualizzata nella barra del titolo del carrello
         * Valore di default icomoon-Acquisto_carrello1
         * NOTA: l'icona presente nel ppt di spefica non c'
         */
        this.cjHeaderIcon = 'icomoon-Acquisto_carrello1';
        /**
         * Array che descrive i pulsanti da visualizzare
         * nella sezione footer del componente (max 2)
         */
        this.cjButtons = [];
        /**
         * evento emesso quando sono modificati i dati di input del componente
         * @param EventEmitter<IShoppingCartProduct> cjOnDataChange dati aggiornati
         */
        this.cjDataChange = new _angular_core.EventEmitter();
        /**
         * evento emesso alla pressione del link presente nel tooltip visualizzato sulla 'lente'
         * @param EventEmitter<IShoppingCartEvent> cjOnGotoCardProduct
         */
        this.cjOnClickProductLeftIconLink = new _angular_core.EventEmitter();
        /**
         * Propaga l'evento di click icona destra (default 'cestino') proveniente dagli elementi cjShoppingCartProduct figli
         * @param EventEmitter<IShoppingCartEvent> cjOnClickProductRightIcon
         */
        this.cjOnClickProductRightIcon = new _angular_core.EventEmitter();
        /**
         * Propaga l'evento di click Promozione (default 'promo >') proveniente dagli elementi cjShoppingCartProduct figli
         * @param EventEmitter<IShoppingCartEvent> cjOnClickProductLink
         */
        this.cjOnClickProduct = new _angular_core.EventEmitter();
        /**
         * evento emesso all'apertura di un element
         * @param EventEmitter<IShoppingCartEvent>  cjOnOpenElement [description]
         */
        this.cjOnOpenElement = new _angular_core.EventEmitter();
        /**
         * Evento lanciato alla pressione di ogni pulsante.
         * Viene passato come parametro il pulsante cliccato.
         */
        this.cjOnClickFooterButton = new _angular_core.EventEmitter();
    }
    Object.defineProperty(CjShoppingCartComponent.prototype, "cjReadOnly", {
        /**
         * Permette di impostare la visualizzazione in sola lettura del prodotto, nascondendo i pulsanti di eliminazione e dettaglio
         */
        get: function () {
            return this._cjReadOnly;
        },
        set: function (value) {
            this._cjReadOnly = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    CjShoppingCartComponent.prototype.ngOnInit = function () {
        var _this = this;
        this._fillMyEvent();
        if (this.cjData) {
            this._fillMyEvent();
            this._evaluateButtonsAndLayout();
            this._appearDisappearArrowsWaitForAnimation();
        }
        else {
            // log mancano i dati 
            console.warn("CjShoppingCart istanziato con cjData = null");
        }
        this.onResizeEvent.forEach(function (evt) { return _this._appearDisappearArrows(); });
    };
    CjShoppingCartComponent.prototype.ngOnChanges = function (changes) {
        if (changes.cjData) {
            this._appearDisappearArrowsWaitForAnimation();
            this._fillMyEvent();
        }
        if (changes.cjButtons) {
            this._evaluateButtonsAndLayout();
        }
    };
    CjShoppingCartComponent.prototype._fillMyEvent = function () {
        if (!this._myEventInfo) {
            this._myEventInfo = {
                current: this
            };
        }
        if (this.cjData) {
            this._myEventInfo.shoppingCartId = this.cjData.id;
        }
    };
    CjShoppingCartComponent.prototype._getScrollingElementInfo = function () {
        var shoppingCartScrollingElement = this.currentElement
            .nativeElement
            .querySelectorAll('.scrolling-wrapper')[0];
        var scrollingComputedStyle = window.getComputedStyle(shoppingCartScrollingElement, null);
        var scrollingHeight = parseInt(scrollingComputedStyle.height.substring(0, scrollingComputedStyle.height.length - 2), null);
        var scrollingBottom = parseInt(scrollingComputedStyle.bottom.substring(0, scrollingComputedStyle.bottom.length - 2), null);
        return {
            element: shoppingCartScrollingElement,
            computedStyle: scrollingComputedStyle,
            height: scrollingHeight,
            bottom: scrollingBottom
        };
    };
    CjShoppingCartComponent.prototype._getContentElementInfo = function () {
        var shoppingCartContentElement = this.currentElement
            .nativeElement
            .querySelectorAll('.shopping-cart--content')[0];
        var contentComputedStyle = window.getComputedStyle(shoppingCartContentElement, null);
        var contentMaxHeight = parseInt(contentComputedStyle.maxHeight.substring(0, contentComputedStyle.maxHeight.length - 2), null);
        return {
            element: shoppingCartContentElement,
            computedStyle: contentComputedStyle,
            maxHeight: contentMaxHeight
        };
    };
    CjShoppingCartComponent.prototype._getContentScrollingInfo = function () {
        return {
            content: this._getContentElementInfo(),
            scrolling: this._getScrollingElementInfo()
        };
    };
    
    CjShoppingCartComponent.prototype._appearDisappearArrows = function () {
        var contentScrollingStructure = this._getContentScrollingInfo();
        console.log('height:' + contentScrollingStructure.scrolling.height);
        console.log('maxHeight:' + contentScrollingStructure.content.maxHeight);
        this.isMaxHeightExceded = contentScrollingStructure.scrolling.height > contentScrollingStructure.content.maxHeight;
        this._setScrollingWrapperBottomValue(0);
    };
    CjShoppingCartComponent.prototype._appearDisappearArrowsWaitForAnimation = function () {
        var _this = this;
        setTimeout(function () {
            _this._appearDisappearArrows();
        }, 350);
    };
    CjShoppingCartComponent.prototype._getScrollingTresholdValue = function () {
        var contentScrollingInfo = this._getContentScrollingInfo();
        return contentScrollingInfo.scrolling.height - contentScrollingInfo.content.maxHeight;
    };
    CjShoppingCartComponent.prototype._setScrollingWrapperBottomValue = function (bottomValue) {
        this._getScrollingElementInfo().element.style.bottom = bottomValue + 'px';
    };
    CjShoppingCartComponent.prototype._onScrollContent = function (direction) {
        var bottomCurrentValue = this._getScrollingElementInfo().bottom;
        var bottomGap = 50;
        if (direction === 'up') {
            var bottomDecrementedValue = bottomCurrentValue - bottomGap;
            this._scrollTop(bottomDecrementedValue);
        }
        else if (direction === 'down') {
            var bottomIncrementedValue = bottomCurrentValue + bottomGap;
            this._scrollBottom(bottomIncrementedValue);
        }
    };
    CjShoppingCartComponent.prototype._scrollTop = function (bottomDecrementedNextValue) {
        if (bottomDecrementedNextValue >= 0) {
            this._setScrollingWrapperBottomValue(bottomDecrementedNextValue);
        }
        else {
            this._setScrollingWrapperBottomValue(0);
        }
    };
    CjShoppingCartComponent.prototype._scrollBottom = function (bottomIncrementedValue) {
        var maxScrollingValue = this._getScrollingTresholdValue();
        if (bottomIncrementedValue <= maxScrollingValue) {
            this._setScrollingWrapperBottomValue(bottomIncrementedValue);
        }
        else {
            this._setScrollingWrapperBottomValue(maxScrollingValue);
        }
    };
    CjShoppingCartComponent.prototype.setCollapseStatusToSections = function (event) {
        if (this.cjData.sections.length > 1 && !!event.sectionId && !event.itemId) {
            this.childShoppingCartElements.forEach(function (element) {
                if (!element.cjItemStyle) {
                    element._collapsed = event.sectionId !== element.cjData.id;
                }
            });
        }
    };
    CjShoppingCartComponent.prototype._populateFooterButtons = function () {
        this._footerButtons = this.cjButtons.length > 2 ? this.cjButtons.slice(0, 2) : this.cjButtons.slice();
        // this._footerButtons = this.cjButtons;
        console.log('I pulsanti da disegnare sono ', this._footerButtons.length + ': ', JSON.stringify(this._footerButtons));
        console.log('I pulsanti originali sono ', this.cjButtons.length + ': ', JSON.stringify(this.cjButtons));
    };
    CjShoppingCartComponent.prototype._populateStyles = function () {
        switch (this._footerButtons.length) {
            case 1:
                this._footerButtons.map(function (button) {
                    button.layout = 'col-xs-12 col-xs-offset-6 text-center';
                });
                break;
            case 2:
                this._footerButtons.map(function (button, index) {
                    button.layout = index === 0 ? 'col-xs-12 text-center' : 'col-xs-12 text-center';
                });
                break;
        }
    };
    CjShoppingCartComponent.prototype._evaluateButtonsAndLayout = function () {
        this._populateFooterButtons();
        this._populateStyles();
        //this._appearDisappearArrows();
    };
    CjShoppingCartComponent.prototype._onOpenElement = function (event) {
        event['shoppingCartId'] = this.cjData.id;
        this.setCollapseStatusToSections(event);
        console.log('CjShoppingCartComponent - Emitting: cjOnOpenElement');
        console.dir(event);
        this.cjOnOpenElement.emit(event);
    };
    CjShoppingCartComponent.prototype._onElementAnimationPhaseDone = function () {
        this._appearDisappearArrows();
    };
    CjShoppingCartComponent.prototype._onClickProductRightIcon = function (event) {
        var currentEventInfo = Object.assign({}, event);
        currentEventInfo['shoppingCartId'] = this._myEventInfo.shoppingCartId;
        console.log('CjShoppingCartComponent - Emit: cjOnClickProductRightIcon');
        console.dir(currentEventInfo);
        this.cjOnClickProductRightIcon.emit(currentEventInfo);
    };
    CjShoppingCartComponent.prototype._onClick = function (button) {
        console.log('CjShoppingCartComponent - Emit: cjOnClickFooterButton');
        console.dir(button);
        this.cjOnClickFooterButton.emit(button);
    };
    CjShoppingCartComponent.prototype._cjOnClickProductLeftIconLink = function (event) {
        var currentEventInfo = Object.assign({}, event);
        currentEventInfo['shoppingCartId'] = this._myEventInfo.shoppingCartId;
        console.log('CjShoppingCartComponent - Emit: cjOnClickProductLeftIconLink');
        console.dir(currentEventInfo);
        this.cjOnClickProductLeftIconLink.emit(currentEventInfo);
    };
    CjShoppingCartComponent.prototype._cjOnClickProduct = function (event) {
        var currentEventInfo = Object.assign({}, event);
        currentEventInfo['shoppingCartId'] = this._myEventInfo.shoppingCartId;
        console.log('CjShoppingCartComponent - Emit: cjOnClickProductLink');
        console.dir(currentEventInfo);
        this.cjOnClickProduct.emit(currentEventInfo);
    };
    CjShoppingCartComponent.prototype.trackBySection = function (index, section) { return section.id; };
    return CjShoppingCartComponent;
}());
__decorate$178([
    _angular_core.ViewChildren(CjShoppingCartElementComponent),
    __metadata$156("design:type", _angular_core.QueryList)
], exports.CjShoppingCartComponent.prototype, "childShoppingCartElements", void 0);
__decorate$178([
    _angular_core.Input(),
    __metadata$156("design:type", String)
], exports.CjShoppingCartComponent.prototype, "cjHeaderTitle", void 0);
__decorate$178([
    _angular_core.Input(),
    __metadata$156("design:type", String)
], exports.CjShoppingCartComponent.prototype, "cjHeaderIcon", void 0);
__decorate$178([
    _angular_core.Input(),
    __metadata$156("design:type", Object)
], exports.CjShoppingCartComponent.prototype, "cjData", void 0);
__decorate$178([
    _angular_core.Input(),
    __metadata$156("design:type", Array)
], exports.CjShoppingCartComponent.prototype, "cjButtons", void 0);
__decorate$178([
    _angular_core.Input(),
    __metadata$156("design:type", Object),
    __metadata$156("design:paramtypes", [Boolean])
], exports.CjShoppingCartComponent.prototype, "cjReadOnly", null);
__decorate$178([
    _angular_core.Output(),
    __metadata$156("design:type", _angular_core.EventEmitter)
], exports.CjShoppingCartComponent.prototype, "cjDataChange", void 0);
__decorate$178([
    _angular_core.Output(),
    __metadata$156("design:type", _angular_core.EventEmitter)
], exports.CjShoppingCartComponent.prototype, "cjOnClickProductLeftIconLink", void 0);
__decorate$178([
    _angular_core.Output(),
    __metadata$156("design:type", _angular_core.EventEmitter)
], exports.CjShoppingCartComponent.prototype, "cjOnClickProductRightIcon", void 0);
__decorate$178([
    _angular_core.Output(),
    __metadata$156("design:type", _angular_core.EventEmitter)
], exports.CjShoppingCartComponent.prototype, "cjOnClickProduct", void 0);
__decorate$178([
    _angular_core.Output(),
    __metadata$156("design:type", _angular_core.EventEmitter)
], exports.CjShoppingCartComponent.prototype, "cjOnOpenElement", void 0);
__decorate$178([
    _angular_core.Output(),
    __metadata$156("design:type", _angular_core.EventEmitter)
], exports.CjShoppingCartComponent.prototype, "cjOnClickFooterButton", void 0);
exports.CjShoppingCartComponent = __decorate$178([
    _angular_core.Component({
        selector: 'cj-shopping-cart',template: "<div class=\"row shopping-cart--container\" style=\"position:relative;\"><div class=\"col-md-24 shopping-cart--header text-center\"><span [ngClass]=\"cjHeaderIcon\"></span><span style=\"padding-left:5px\">{{cjHeaderTitle}}</span></div><div class=\"col-md-24 shopping-cart--content\"><div *ngIf=\"isMaxHeightExceded\" class=\"col-md-24 col-sm-24 col-xs-24 shopping-cart--arrow-up\" (click)=\"_onScrollContent('up')\"><div class=\"arrow-up\"></div></div><div class=\"scrolling-wrapper row\"><div *ngFor=\"let section of cjData?.sections; trackBy: trackBySection; let last = last\" [ngClass]=\"{'shopping-cart-section-separator':!last}\" @translateElementTrigger class=\"shopping-cart-element-wrapper\"><cj-shopping-cart-element [cjReadOnly]=\"cjReadOnly\" [cjData]=\"section\" (cjOnOpenElement)=\"_onOpenElement($event)\" (cjAnimationPhaseDone)=\"_onElementAnimationPhaseDone()\" (cjOnClickProductRightIcon)=\"_onClickProductRightIcon($event)\" (cjOnClickProductLeftIconLink)=\"_cjOnClickProductLeftIconLink($event)\" (cjOnClickProductPromo)=\"_cjOnClickProduct($event)\" [cjIsPanel]=\"cjData.sections.length === 1\"></cj-shopping-cart-element></div></div><div *ngIf=\"isMaxHeightExceded\" class=\"col-md-24 col-sm-24 col-xs-24 shopping-cart--arrow-down\" (click)=\"_onScrollContent('down')\"><div class=\"arrow-down\"></div></div></div><div *ngIf=\"!cjReadOnly && !!_footerButtons.length\" class=\"col-md-24 shopping-cart--footer\"><div class=\"row\"><ng-container *ngFor=\"let button of _footerButtons\"><div *ngIf=\"button.visible\" [class]=\"button.layout\"><nbp-button [ngClass]=\"{'single-button': _footerButtons?.length==1}\" [nbpLabel]=\"button.label\" (nbpClick)=\"_onClick(button)\" [disabled]=\"button.disabled\" [nbpStyle]=\"button.style\"></nbp-button></div></ng-container></div></div></div>",
        styles: [".shopping-cart--container{width:350px;outline:#258900 solid 1px;box-shadow:0 0 30px rgba(0,0,0,.2)}.shopping-cart--header{background-color:#005958;text-transform:uppercase;color:#fff;font-weight:700;padding-top:2px;padding-bottom:2px;letter-spacing:.8px}.shopping-cart--header span:nth-child(1){font-size:18px}.shopping-cart--content{min-height:0!important}.scrolling-wrapper{position:relative}.shopping-cart-element-wrapper.shopping-cart-section-separator ::ng-deep .shopping-cart-item-header-border{border-bottom:1px solid #f8f8f8}.shopping-cart--footer{padding:10px;background-color:#fff;border-top:1px solid #258900}.shopping-cart--footer ::ng-deep nbp-button:not(.single-button) .button{width:100%!important}.arrow-container-base{cursor:pointer;position:absolute!important;z-index:1100;height:20px;text-align:center}.arrow-up-icon{position:absolute;border-bottom:15px solid #258900;border-left:15px solid transparent;border-right:15px solid transparent;border-top:0 solid transparent}.shopping-cart--arrow-up{cursor:pointer;position:absolute!important;z-index:1100;height:20px;text-align:center;background-image:linear-gradient(to bottom,#fff,rgba(255,255,255,.5));top:0;left:0}.shopping-cart--arrow-up div.arrow-up{border-bottom:15px solid #258900;border-left:15px solid transparent;border-right:15px solid transparent;border-top:0 solid transparent;height:0;width:0;top:50%;left:50%;transform:translate(-50%,-50%);position:absolute}.arrow-down-icon{position:absolute;border-top:15px solid #258900;border-left:15px solid transparent;border-right:15px solid transparent;border-bottom:0 solid transparent}.shopping-cart--arrow-down{position:absolute!important;z-index:1100;height:20px;text-align:center;background-image:linear-gradient(to top,#fff,rgba(255,255,255,.5));bottom:0;left:0;cursor:pointer}.shopping-cart--arrow-down div.arrow-down{position:absolute;border-top:15px solid #258900;border-left:15px solid transparent;border-right:15px solid transparent;border-bottom:0 solid transparent;height:0;width:0;top:50%;left:50%;transform:translate(-50%,-50%)} /*# sourceMappingURL=cj-shopping-cart.component.css.map */ "],
        animations: [translateElementsTrigger]
    }),
    __metadata$156("design:paramtypes", [_angular_core.ElementRef])
], exports.CjShoppingCartComponent);

var __decorate$181 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$159 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$24 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * Client Http per recuperare le informazioni di cjCustomContext
 */
exports.CjCustomContextClientService = (function () {
    function CjCustomContextClientService(config, http) {
        this.config = config;
        this.http = http;
        this.headers = new _angular_common_http.HttpHeaders().set('Content-Type', 'application/json');
    }
    /**
     * Esegue la chiamata http per recupeare il contesto custom passando come url param il token e la key
     */
    CjCustomContextClientService.prototype.getCustomContext = function (token, key) {
        var _this = this;
        return this.config.getSessionManagerBaseUrl()
            .concatMap(function (url) { return _this.http.get(url + ("/npu-sm-v0/api/cjcontext/" + token + "/payload/" + key), { headers: _this.headers, withCredentials: true }); });
    };
    CjCustomContextClientService.prototype.setCustomContext = function (token, key, data) {
        var _this = this;
        return this.config.getSessionManagerBaseUrl()
            .concatMap(function (url) { return _this.http.post(url + ("/npu-sm-v0/api/cjcontext/" + token + "/payload/" + key), data, {
            headers: _this.headers,
            withCredentials: true,
            observe: 'body',
            responseType: 'json'
        }); });
    };
    CjCustomContextClientService.prototype.removeCustomContext = function (token, key) {
        // TODO invoke servizio rest per rimuovere custom context
        return rxjs_Observable.Observable.of({});
    };
    return CjCustomContextClientService;
}());
exports.CjCustomContextClientService = __decorate$181([
    _angular_core.Injectable(),
    __param$24(0, _angular_core.Inject(APP_CONFIG)),
    __metadata$159("design:paramtypes", [Object, _angular_common_http.HttpClient])
], exports.CjCustomContextClientService);

var __extends$31 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$180 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$158 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// il token  memorizzato dal ContextService e utilizzato per recuperare il custom context
// TODO X CARLO --> cabiamo nome alla funzione ???
var ICjCustomContextService = (function () {
    function ICjCustomContextService(contextService) {
        this.contextService = contextService;
    }
    ICjCustomContextService.prototype._getToken = function () {
        return this.contextService.getCurrentToken();
    };
    return ICjCustomContextService;
}());
exports.CjCustomContextService = (function (_super) {
    __extends$31(CjCustomContextService, _super);
    function CjCustomContextService(cjCustomContextClient, contextService) {
        var _this = _super.call(this, contextService) || this;
        _this.cjCustomContextClient = cjCustomContextClient;
        return _this;
    }
    CjCustomContextService.prototype.getCustomContextByTokenAndKey = function (key) {
        return this.cjCustomContextClient.getCustomContext(_super.prototype._getToken.call(this), key);
    };
    // vs update
    CjCustomContextService.prototype.setCustomContextByTokenAndKey = function (key, value) {
        return this.cjCustomContextClient.setCustomContext(_super.prototype._getToken.call(this), key, value);
    };
    CjCustomContextService.prototype.removeCustomContextByTokenAndKey = function (key) {
        return this.cjCustomContextClient.removeCustomContext(_super.prototype._getToken.call(this), key);
    };
    return CjCustomContextService;
}(ICjCustomContextService));
exports.CjCustomContextService = __decorate$180([
    _angular_core.Injectable(),
    __metadata$158("design:paramtypes", [exports.CjCustomContextClientService,
        exports.CjContextService])
], exports.CjCustomContextService);

var TestCjWizardContextSource = (function () {
    function TestCjWizardContextSource(customContextService, wizardId) {
        this.customContextService = customContextService;
        this.wizardId = wizardId;
    }
    TestCjWizardContextSource.prototype.getWizardContext = function () {
        var _this = this;
        var wizardContext = this.customContextService.getCustomContextByTokenAndKey(this.wizardId)
            .map(function (customContext) {
            console.groupCollapsed('Recupero contesto del wizard...');
            if (customContext) {
                console.log('Recuperato contesto custom per il wizard: ' + _this.wizardId);
                console.dir(customContext);
            }
            else {
                console.log('Nessun contesto da recuperare per il wizard: ' + _this.wizardId);
            }
            console.groupEnd();
            return customContext;
        });
        return wizardContext;
    };
    TestCjWizardContextSource.prototype.updateWizardContext = function (context) {
        if (context) {
            console.groupCollapsed('Aggiorno contesto del wizard...');
            console.log('Aggiornato sul server contesto custom per il Wizard:  ' + context.id);
            console.dir(context);
            console.groupEnd();
            return this.customContextService.setCustomContextByTokenAndKey(context.id, context);
        }
    };
    TestCjWizardContextSource.prototype.removeWizardContext = function (context) {
        console.log('TestCjWizardContextSource:removeWizardContext()');
        return rxjs_Observable.Observable.of(true);
    };
    return TestCjWizardContextSource;
}());

var __decorate$182 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$160 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var CjPrivacyFormComponent = (function () {
    function CjPrivacyFormComponent() {
        /**
         * Evento emesso al click sul pulsante 'Stampa'
         * @param {EventEmitter<ICjDettaglioPrivacy>}  cjOnStampa
         */
        this.cjOnStampa = new _angular_core.EventEmitter();
        /**
         * Evento emesso al click sul pulsante 'Continua'
         * @param {EventEmitter<ICjDettaglioPrivacy>}  cjOnContinua
         */
        this.cjOnContinua = new _angular_core.EventEmitter();
        /**
         * Evento emesso al click sul pulsante 'Annulla'
         * @param {EventEmitter<>}  cjOnAnnulla
         */
        this.cjOnAnnulla = new _angular_core.EventEmitter();
        this._buttonStyle = exports.NbpStyle;
        this._privacyText = "<b>PROTEZIONE DEI DATI PERSONALI: INFORMATIVA NEI CONFRONTI DI PERSONE FISICHE \n  AI SENSI DELL\u2019ART. 13 DEL D.LGS. 30 giugno 2003 N. 196</b>\n<p>Intesa Sanpaolo S.p.A, appartenente al Gruppo bancario internazionale Intesa Sanpaolo, in qualit\u00E0 di Titolare del trattamento, \nLe fornisce alcune informazioni circa l\u2019utilizzo dei Suoi dati personali.</p>\n<b>Finalit\u00E0 del trattamento dei dati</b>\n<p>I dati personali, raccolti direttamente presso l\u2019interessato, ovvero presso terzi, sono trattati dalla Banca nell'ambito della \nsua attivit\u00E0, anche con la direzione e coordinamento della Capogruppo Intesa Sanpaolo, con le seguenti finalit\u00E0: a) prestare i servizi \nrichiesti e gestire i rapporti con la clientela. Il conferimento dei dati personali necessari a tali finalit\u00E0 non \u00E8 obbligatorio, ma \nil rifiuto a fornirli comporta l\u2019impossibilit\u00E0 di eseguire quanto richiesto: il trattamento di tali dati pu\u00F2 essere effettuato senza \nnecessit\u00E0 del consenso dell\u2019interessato; b) adempiere a prescrizioni dettate da normative nazionali e comunitarie (ad esempio: \nantiriciclaggio, prevenzione delle frodi sulle carte di pagamento, accertamenti fiscali e tributari, prestazione di servizi di \ninvestimento) nonch\u00E9 a disposizioni impartite da Organi di Vigilanza e Controllo (ad esempio: Centrale Rischi, Centrale di Allarme \nInterbancaria), anche in relazione agli obblighi di monitoraggio dei rischi operativi e creditizi a livello di Gruppo bancario. \nIl conferimento dei dati personali per tali finalit\u00E0 \u00E8 obbligatorio e per il trattamento di tali dati non \u00E8 richiesto il consenso; \nc) svolgere attivit\u00E0 funzionali alla promozione e vendita di prodotti e servizi di societ\u00E0 del Gruppo Intesa Sanpaolo o di societ\u00E0 \nterze attraverso lettere, telefono, Internet, SMS, MMS ed altri sistemi di comunicazione; effettuare indagini di mercato e di customer \nsatisfaction; offrire prodotti e servizi specificamente individuati attraverso l\u2019elaborazione dei dati personali relativi a preferenze, \nabitudini, scelte di consumo, ecc.: il conferimento dei dati per tali finalit\u00E0 \u00E8 facoltativo e per il trattamento di tali dati \u00E8 \nrichiesto il consenso.</p>\n<b>Modalit\u00E0 di trattamento dei dati</b>\n<p>Il trattamento dei dati personali avviene mediante strumenti manuali, informatici e telematici e in modo da garantire la sicurezza \ne la riservatezza dei dati stessi sia quando ci si avvalga di strumenti tradizionali che di canali distributivi telematici o comunque \ninnovativi.</p>\n<b>Categorie di soggetti ai quali i dati possono essere comunicati</b>\n<p>Per il perseguimento delle finalit\u00E0 di cui sopra, la Banca necessita di comunicare i Suoi dati personali a societ\u00E0 appartenenti al \nGruppo Intesa Sanpaolo quali, ad esempio, la societ\u00E0 consortile, che gestisce a livello accentrato il sistema informativo e alcuni \nservizi amministrativi, legali e contabili, o comunque a societ\u00E0 controllate o collegate. Nell\u2019ambito del Gruppo Intesa Sanpaolo \npotranno essere altres\u00EC comunicati informazioni e dati relativi ad operazioni ritenute sospette, ai sensi della normativa \nantiriciclaggio. Inoltre, direttamente o anche per il tramite della predetta societ\u00E0 consortile, la Banca necessita di comunicare \ni Suoi dati personali a soggetti esterni operanti, anche all\u2019estero, nell\u2019ambito di: - servizi bancari, finanziari e assicurativi,\n sistemi di pagamento, emissione di carte di credito, esattorie e tesorerie; - acquisizione, registrazione e trattamento di dati e \n documenti relativi a pagamenti, effetti, assegni od altri titoli; - rilevazione dei rischi finanziari, a scopo di prevenzione e \n controllo del rischio di insolvenza; - attivit\u00E0 riguardanti la cessione/copertura dei crediti svolte in qualit\u00E0 di controparti \n contrattuali della Banca; - servizi di recupero crediti ed attivit\u00E0 collaterali quali contatti e solleciti telefonici e attivit\u00E0 \n di due diligence; - gestione delle comunicazioni alla clientela, nonch\u00E9 archiviazione di dati e documenti sia in forma cartacea \n che elettronica; - segnalazioni relative alla normativa antiriciclaggio; - gestione di sistemi nazionali ed internazionali per il \n controllo delle frodi (ad esempio: MEF-UCAMP; Sistema Pubblico SCIPAFI); - rilevazione della qualit\u00E0 dei servizi, ricerche di mercato, \n informazione e promozione commerciale di prodotti e/o servizi; - fornitura e gestione di procedure e sistemi informatici, di reti di \n comunicazione e di sistemi di protezione e sicurezza; - servizi gestione di guardiania, videosorveglianza e videoregistrazione; \n - attivit\u00E0 di perizia, di revisione contabile, di certificazione di bilancio, di consulenza professionale e assistenza alla clientela. \n Laddove tali soggetti, per le finalit\u00E0 sopra indicate, trasferiscano dati personali verso un paese non appartenente all\u2019UE, \n le competenti Autorit\u00E0 giudiziarie o governative potrebbero avervi accesso in base alle locali disposizioni di legge. \n I soggetti ai quali i dati possono essere comunicati, che non siano stati designati \u201CIncaricati\u201D o \"Responsabili\", utilizzano i dati \n quali \"Titolari\", effettuando un trattamento autonomo e/o correlato a quello eseguito dalla Banca. L\u2019elenco aggiornato dei soggetti \n terzi individuati come \u201CTitolari\u201D o \u201CResponsabili\u201D \u00E8 disponibile presso tutte le Filiali. Intesa Sanpaolo S.p.A. designa \u201CIncaricati\u201D \n del trattamento tutti i lavoratori dipendenti e i collaboratori, anche occasionali, che svolgono mansioni che comportano il trattamento \n di dati personali, anche delimitandone ambiti ed abilitazioni. La Banca informa che i dati personali contenuti nella messaggistica \n riguardante trasferimenti finanziari potranno essere forniti, per esclusivi fini di prevenzione e di contrasto del terrorismo e del \n suo finanziamento, alle autorit\u00E0 pubbliche degli Stati membri dell\u2019Unione Europea e degli Stati Uniti d\u2019America (1). La Banca non \n diffonde i Suoi dati.</p>\n<b>Dati sensibili</b>\n<p>In relazione al trattamento di dati \"sensibili\" (idonei a rivelare lo stato di salute, l\u2019appartenenza a associazioni a carattere \nfilosofico, politico o sindacale, ecc...) necessario per specifici servizi (mutui assistiti da assicurazione, polizze vita, ecc...) \n\u00E8 richiesta una specifica manifestazione scritta di consenso, fermo restando che la Banca effettua comunque i servizi richiesti e/o \nle operazioni disposte a Suo favore che comportano solo indirettamente la conoscenza di tali dati.</p>\n<b>Diritto di accesso ai dati personali ed altri diritti</b>\n<p>La normativa in materia conferisce all\u2019interessato (persona fisica) il diritto di ottenere la conferma dell'esistenza o meno di \npropri dati personali, le indicazioni circa l\u2019origine, le finalit\u00E0 e le modalit\u00E0 del trattamento, la cancellazione, la trasformazione \nin forma anonima o il blocco dei dati trattati in violazione di legge nonch\u00E9 l'aggiornamento, la rettifica o, se vi \u00E8 interesse, \nl'integrazione dei dati. L\u2019interessato, inoltre, pu\u00F2 opporsi al trattamento dei propri dati per finalit\u00E0 di invio di materiale \npubblicitario, di vendita diretta, di ricerche di mercato o di comunicazione commerciale. Tutte le informazioni inerenti il diritto \ndi accesso potranno essere richieste, anche per il tramite della propria Filiale di riferimento, rivolgendosi presso:\n<ul><li> Intesa Sanpaolo S.p.A. Tutela Aziendale \u2013 Privacy, Piazza San Carlo, 156 \u2013 10121 Torino;</li>\n<li>Casella di posta elettronica: <a href=\"mailto:privacy@intesasanpaolo.com\">privacy@intesasanpaolo.com</a>. Per ulteriori \ninformazioni sono disponibili il numero verde 800303306 e il sito Internet <a href=\"http://www.intesasanpaolo.com\" target=\"_blank\">\nwww.intesasanpaolo.com</a></li></ul></p>\n<b>INFORMATIVA NEI CONFRONTI DI PERSONE GIURIDICHE, ENTI O ASSOCIAZIONI (D.LGS. 30 giugno 2003 N. 196)</b>\n<p>Intesa Sanpaolo S.p.A. informa che, ai sensi dell\u2019art. 130 del D.Lgs. 196/2003, l\u2019uso di sistemi automatizzati di chiamata o di \ncomunicazione di chiamata senza l\u2019intervento di un operatore e di comunicazioni elettroniche (posta elettronica, telefax, SMS, MMS o \ndi altro tipo) per lo svolgimento di attivit\u00E0 promozionale o il compimento di ricerche di mercato, \u00E8 possibile solo con il consenso \ndei soggetti parte di un contratto di fornitura di servizi di comunicazione elettronica (\u201Ccontraenti\u201D: definizione che ricomprende \nanche persone giuridiche, enti o associazioni). Lo svolgimento di dette attivit\u00E0 nei confronti di tali soggetti \u00E8 sottoposto a una \nspecifica manifestazione di consenso.\n1) L\u2019Unione Europea e gli Stati Uniti d\u2019America hanno concluso un Accordo (G.U. Unione Europea L 195/5 del 27.7.2010) sul \ntrasferimento di dati di messaggistica finanziaria dall\u2019Unione Europea agli Stati Uniti ai fini di attuazione del programma di \nprevenzione e repressione di fenomeni terroristici. L\u2019Accordo prevede che, in relazione a talune transazioni finanziarie (es. \nbonifici esteri), ad esclusione di quelle effettuate nello spazio unico dei pagamenti in euro (SEPA), il Dipartimento del Tesoro \nstatunitense possa avanzare richieste di acquisizione di dati direttamente ai fornitori di messaggistica finanziaria internazionale \ndi cui la banca si avvale (attualmente la societ\u00E0 SWIFT). A tali trattamenti si applicano le rigorose garanzie previste dall\u2019Accordo\n sia in relazione all\u2019integrit\u00E0 e sicurezza dei dati che ai tempi di conservazione degli stessi. L\u2019Accordo prevede, inoltre, che il \n diritto di accesso venga esercitato dall\u2019interessato esclusivamente presso l\u2019Autorit\u00E0 di protezione dei dati personali del proprio \n Paese: in Italia, l\u2019Autorit\u00E0 Garante per la protezione dei dati personali (sito internet : <a href=\"http://www.garanteprivacy.it\" \n target=\"_blank\">www.garanteprivacy.it</a>)</p>";
        this._modalPrivacyText = "\n      Se il cliente lo desidera pu\u00F2 aggiornare i consensi privacy espressi. Puoi cogliere l\u2019occasione per presentargli il vantaggio \n      di essere sempre aggiornato sui prodotti e servizi offerti dalle nostre aziende. Ricorda: l\u2019aggiornamento dei consensi privacy \n      \u00E8 facoltativo e non impedisce di portare a termine l\u2019operazione.";
        this._modalPrivacyIsOpened = false;
        this._modalPrivacySize = exports.NbpSize.MD;
        this._buttonAnnullaDisabled = false;
        this._buttonStampaDisabled = true;
        this._buttonConfermaDisabled = false;
    }
    CjPrivacyFormComponent.prototype.ngOnInit = function () {
        this._privacy = this.cjPrivacy ? Object.assign({}, this.cjPrivacy) : null;
        this._openModal();
        this._modalPrivacyButton = [
            { id: 'okModal', label: 'Ok', disabled: false, visible: true, style: exports.NbpStyle.PRIMARY }
        ];
    };
    CjPrivacyFormComponent.prototype.ngOnChanges = function (changes) {
        if (changes.cjPrivacy.currentValue) {
            this._privacy = Object.assign({}, changes.cjPrivacy.currentValue);
            this._openModal();
        }
    };
    CjPrivacyFormComponent.prototype._updateButtonDisable = function () {
        this._buttonAnnullaDisabled = false;
        this._buttonStampaDisabled = false;
        this._buttonConfermaDisabled = true;
    };
    CjPrivacyFormComponent.prototype._onClickAnnulla = function (privacy) {
        this._buttonAnnullaDisabled = false;
        this._buttonStampaDisabled = true;
        this._buttonConfermaDisabled = false;
        this.cjOnAnnulla.emit(privacy);
    };
    CjPrivacyFormComponent.prototype._onClickStampa = function (privacy) {
        this.cjOnStampa.emit(privacy);
    };
    CjPrivacyFormComponent.prototype.setButtonConfigurationAfterPrintDone = function () {
        this._buttonAnnullaDisabled = true;
        this._buttonStampaDisabled = true;
        this._buttonConfermaDisabled = false;
    };
    CjPrivacyFormComponent.prototype._onClickContinua = function (privacy) {
        this._buttonAnnullaDisabled = false;
        this._buttonStampaDisabled = true;
        this._buttonConfermaDisabled = false;
        this.cjOnContinua.emit(privacy);
    };
    CjPrivacyFormComponent.prototype._openModal = function () {
        if (this._privacy && !this._privacy.consenso3) {
            this._modalPrivacyIsOpened = true;
        }
    };
    CjPrivacyFormComponent.prototype._onModalButtonClicked = function (event) {
        this._modalPrivacyIsOpened = false;
    };
    return CjPrivacyFormComponent;
}());
__decorate$182([
    _angular_core.Input(),
    __metadata$160("design:type", Object)
], CjPrivacyFormComponent.prototype, "cjPrivacy", void 0);
__decorate$182([
    _angular_core.Output(),
    __metadata$160("design:type", _angular_core.EventEmitter)
], CjPrivacyFormComponent.prototype, "cjOnStampa", void 0);
__decorate$182([
    _angular_core.Output(),
    __metadata$160("design:type", _angular_core.EventEmitter)
], CjPrivacyFormComponent.prototype, "cjOnContinua", void 0);
__decorate$182([
    _angular_core.Output(),
    __metadata$160("design:type", _angular_core.EventEmitter)
], CjPrivacyFormComponent.prototype, "cjOnAnnulla", void 0);
CjPrivacyFormComponent = __decorate$182([
    _angular_core.Component({
        selector: 'cj-privacy-form',template: "<div *ngIf=\"_privacy\"><h3 class=\"text-center green-text\">Informativa Privacy</h3><nbp-panel><nbp-dividing-line></nbp-dividing-line><div class=\"row col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-20 col-sm-20 col-md-20 mrg-b-20\">Dati aggiornati al {{_privacy.dataInvInf | date: 'dd/MM/yyyy'}}</div><div class=\"row col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-20 col-sm-20 col-md-20 mrg-b-20 gray-text\"><strong>Per procedere &egrave; necessario prendere visione dell&#180;INFORMATIVA GENERALE AI SENDI DELL&#180;ART. 13 DEL D.LGS. 196&#92;2003 (Codice in materia di protezione dei dati personali)</strong></div><div class=\"row col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-20 col-sm-20 col-md-20 mrg-b-20 text-box scrollable\" [innerHtml]=\"_privacyText\"></div><div class=\"row col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-20 col-sm-20 col-md-20 mrg-b-20\"><div class=\"col-xs-24\"><strong>C1</strong></div><div class=\"col-xs-24 mrg-b-10\">Tenuto conto dell&#180;informativa resami ai sensi dell&#180;art. 13 del D.Lgs. 196/2003 sulla protezione dei dati personali prendo atto del trattamento dei miei dati personali effettuato per le finalit&agrave; descritte in informativa alle lettere a) e b) del paragrafo &#8220;Finalit&agrave; del trattamento dei dati&#8221;</div></div><div class=\"row col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-20 col-sm-20 col-md-20 mrg-b-20\"><div class=\"col-xs-24 col-sm-24 col-md-24\"><strong>C2</strong></div><div class=\"col-xs-24 col-sm-24 col-md-24 mrg-b-10\">Al trattamento dei dati personali ai fini di informazione commerciale, offerte dirette o indagini di mercato relative ai prodotti e servizi della Banca e di societ&agrave; del Gruppo Intesa SanPaolo.</div><div id=\"c2radioContainer\" class=\"col-xs-offset-8 col-sm-offset-8 col-md-offset-8\"><nbp-tooltip nbpPosition=\"Left\" nbpText=\"I consensi commerciali rispondono ad una libera scelta del cliente, sono facoltativi e non bloccanti per l&#180;operativit&agrave; \"><nbp-radio name=\"c2\" nbpLabel=\"Presta il consenso\" [value]=\"true\" [(ngModel)]=\"_privacy.consenso2\" (change)=\"_updateButtonDisable()\" nbpNullable nbpDisplayInline></nbp-radio></nbp-tooltip><nbp-radio name=\"c2\" nbpLabel=\"Non Presta il consenso\" [value]=\"false\" [(ngModel)]=\"_privacy.consenso2\" (change)=\"_updateButtonDisable()\" nbpNullable nbpDisplayInline></nbp-radio></div></div><div class=\"row col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-20 col-sm-20 col-md-20 mrg-b-20\"><div class=\"col-xs-24 col-sm-24 col-md-24\"><strong>C3</strong></div><div class=\"col-xs-24 col-sm-24 col-md-24 mrg-b-10\">Al trattamento dei dati personali ai fini dell&#180;offerta di prodotti e servizi della Banca e di societ&agrave; del Gruppo Intesa SanPaolo specificatamente individuati in base al profilo personale.</div><div id=\"c3radioContainer\" class=\"col-xs-offset-8 col-sm-offset-8 col-md-offset-8\"><nbp-tooltip nbpPosition=\"Left\" nbpText=\"I consensi commerciali rispondono ad una libera scelta del cliente, sono facoltativi e non bloccanti per l&#180;operativit&agrave; \"><nbp-radio name=\"C3\" nbpLabel=\"Presta il consenso\" [value]=\"true\" [(ngModel)]=\"_privacy.consenso3\" (change)=\"_updateButtonDisable()\" nbpNullable nbpDisplayInline></nbp-radio></nbp-tooltip><nbp-radio name=\"C3\" nbpLabel=\"Non Presta il consenso\" [value]=\"false\" [(ngModel)]=\"_privacy.consenso3\" (change)=\"_updateButtonDisable()\" nbpNullable nbpDisplayInline></nbp-radio></div></div><div class=\"row col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-20 col-sm-20 col-md-20 mrg-b-20\"><div class=\"col-xs-24 col-sm-24 col-md-24\"><strong>C4</strong></div><div class=\"col-xs-24 col-sm-24 col-md-24 mrg-b-10\">Al trattamento dei dati personali a fini di informazione commerciale, offerte dirette o indagini di mercato relative a prodotti e servizi di altre societ&agrave;.</div><div id=\"c4radioContainer\" class=\"col-xs-offset-8 col-sm-offset-8 col-md-offset-8\"><nbp-tooltip nbpPosition=\"Left\" nbpText=\"I consensi commerciali rispondono ad una libera scelta del cliente, sono facoltativi e non bloccanti per l&#180;operativit&agrave; \"><nbp-radio name=\"c4\" nbpLabel=\"Presta il consenso\" [value]=\"true\" [(ngModel)]=\"_privacy.consenso4\" (change)=\"_updateButtonDisable()\" nbpNullable nbpDisplayInline></nbp-radio></nbp-tooltip><nbp-radio name=\"c4\" nbpLabel=\"Non Presta il consenso\" [value]=\"false\" [(ngModel)]=\"_privacy.consenso4\" (change)=\"_updateButtonDisable()\" nbpNullable nbpDisplayInline></nbp-radio></div></div><div class=\"row col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-20 col-sm-20 col-md-20 mrg-b-20\"><div class=\"col-xs-24 col-sm-24 col-md-24 mrg-b-10\">Poich&egrave; pu&#242; accadere che la Banca venga in possesso, in relazione a specifici rapporti e servizi richiesti, di dati che la vigente normativa privacy definisce come sensibili in quanto da essi possono desumersi leventuale appartenenza a movimenti, partiti, sindacati, informazioni sullo stato di salute o convinzioni religiose, ecc,</div><div class=\"col-xs-24 col-sm-24 col-md-24\"><strong>C6</strong></div><div class=\"col-xs-24 col-sm-24 col-md-24 mrg-b-10\">Al trattamento dei dati sensibili a me riferiti, da parte dei soggetti sopra indicati.</div><div id=\"c6radioContainer\" class=\"col-xs-offset-8 col-sm-offset-8 col-md-offset-8\"><nbp-radio name=\"c6\" nbpLabel=\"Presta il consenso\" [value]=\"true\" [(ngModel)]=\"_privacy.consenso6\" (change)=\"_updateButtonDisable()\" nbpNullable nbpDisplayInline></nbp-radio><nbp-radio name=\"c6\" nbpLabel=\"Non Presta il consenso\" [value]=\"false\" [(ngModel)]=\"_privacy.consenso6\" (change)=\"_updateButtonDisable()\" nbpNullable nbpDisplayInline></nbp-radio></div></div></nbp-panel><div class=\"row col-xs-24 col-sm-24 col-md-24\"><div class=\"col-xs-3 col-sm-3 col-md-3 col-xs-offset-2 col-sm-offset-2 col-md-offset-2\"><nbp-button nbpLabel=\"Annulla\" [disabled]=\"_buttonAnnullaDisabled\" [nbpStyle]=\"_buttonStyle.SECONDARY\" (nbpClick)=\"_onClickAnnulla(_privacy)\"></nbp-button></div><div class=\"col-xs-3 col-sm-3 col-md-3 col-xs-offset-10 col-sm-offset-10 col-md-offset-10\"><nbp-button class=\"pull-right\" *ngIf=\"_privacy\" nbpLabel=\"Stampa\" [disabled]=\"_buttonStampaDisabled\" [nbpStyle]=\"_buttonStyle.PRIMARY\" (nbpClick)=\"_onClickStampa(_privacy)\"></nbp-button></div><div class=\"col-xs-3 col-sm-3 col-md-3 col-xs-offset-1 col-sm-offset-1 col-md-offset-1\"><nbp-button nbpLabel=\"Continua\" *ngIf=\"_privacy\" [disabled]=\"_buttonConfermaDisabled\" [nbpStyle]=\"_buttonStyle.PRIMARY\" (nbpClick)=\"_onClickContinua(_privacy)\"></nbp-button></div></div><nbp-modal id=\"privacyModal\" [(nbpOpened)]=\"_modalPrivacyIsOpened\" [nbpButtons]=\"_modalPrivacyButton\" [nbpSize]=\"_modalPrivacySize\" (nbpOnButtonClicked)=\"_onModalButtonClicked($event)\">{{_modalPrivacyText}}</nbp-modal></div>",
        styles: [".text-box{max-height:200px;background-color:#f8f8f8;padding:5px}.text-box.scrollable{overflow-y:scroll}.gray-text{color:#636060}.green-text{color:#258900} /*# sourceMappingURL=cj-privacy-form.component.css.map */ "]
    }),
    __metadata$160("design:paramtypes", [])
], CjPrivacyFormComponent);

var __decorate$185 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$163 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$26 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/**
 * Client Http per recuperare le informazioni di privacy
 */
exports.CjPrivacyClientService = (function () {
    function CjPrivacyClientService(config, http) {
        this.config = config;
        this.http = http;
        // da usare quando avremo gli indirizzi veri dei servizi rest
        // private cjBaseUrl = '';
        this.headers = new _angular_common_http.HttpHeaders().set('Content-Type', 'application/json');
    }
    // Lettura:     GET   /clienti/{ndg}/{abi}/{codUnitaOperativa}/privacy
    // Dispositiva: POST  /clienti/{ndg}/{abi}/{codUnitaOperativa}/privacy
    // Stampa:      POST  /clienti/{ndg}/{abi}/{codUnitaOperativa}/privacy/stampa
    CjPrivacyClientService.prototype.getPrivacyByNdg = function (ndg, abi, unitaOperativa) {
        var _this = this;
        return this.config.getNpuServicesBaseUrl()
            .concatMap(function (url) {
            var indirizzo = "clienti/" + ndg + "/" + abi + "/" + unitaOperativa + "/privacy";
            return _this.http.get(url + indirizzo, { headers: _this.headers, withCredentials: true });
        });
    };
    CjPrivacyClientService.prototype.savePrivacy = function (data, ndg, abi, unitaOperativa) {
        var _this = this;
        return this.config.getNpuServicesBaseUrl()
            .concatMap(function (url) {
            var indirizzo = "clienti/" + ndg + "/" + abi + "/" + unitaOperativa + "/privacy";
            return _this.http.post(url + indirizzo, data, { headers: _this.headers, withCredentials: true });
        });
    };
    CjPrivacyClientService.prototype.printPrivacy = function (ndg, abi, unitaOperativa, tipoOfferta) {
        var _this = this;
        console.log('Stampa in corso...');
        return this.config.getNpuServicesBaseUrl()
            .concatMap(function (url) {
            var indirizzo = "clienti/" + ndg + "/" + abi + "/" + unitaOperativa + "/" + tipoOfferta + "/privacy/stampa";
            return _this.http.post(url + indirizzo, { headers: _this.headers, withCredentials: true });
        });
    };
    return CjPrivacyClientService;
}());
exports.CjPrivacyClientService = __decorate$185([
    _angular_core.Injectable(),
    __param$26(0, _angular_core.Inject(APP_CONFIG)),
    __metadata$163("design:paramtypes", [Object, _angular_common_http.HttpClient])
], exports.CjPrivacyClientService);

var __decorate$184 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$162 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Servizio utilizzato per recuperare le informazioni di contesto
 *
 */
exports.CjPrivacyService = (function () {
    function CjPrivacyService(cjPrivacyClient) {
        this.cjPrivacyClient = cjPrivacyClient;
    }
    /**
     * Restituisce le informazioni di privacy a partire dall'ndg, chiamando il servizio rest dedicato.
     * @param  string ndg
     * @return ICjPrivacy
     */
    CjPrivacyService.prototype.getPrivacy = function (ndg, abi, unitaOperativa) {
        return this.cjPrivacyClient.getPrivacyByNdg(ndg, abi, unitaOperativa);
    };
    
    /**
     * Salva i consensi privacy compilati tramite form.
     * @param  string ndg
     * @return ICjPrivacy
     */
    CjPrivacyService.prototype.savePrivacy = function (data, ndg, abi, unitaOperativa) {
        return this.cjPrivacyClient.savePrivacy(data, ndg, abi, unitaOperativa);
    };
    
    /**
     * Stampa i consensi privacy compilati tramite form.
     * @param  string ndg
     * @return any
     */
    CjPrivacyService.prototype.printPrivacy = function (ndg, abi, unitaOperativa, tipoOfferta) {
        console.log('Stampa da service');
        return this.cjPrivacyClient.printPrivacy(ndg, abi, unitaOperativa, tipoOfferta);
    };
    
    return CjPrivacyService;
}());
exports.CjPrivacyService = __decorate$184([
    _angular_core.Injectable(),
    __metadata$162("design:paramtypes", [exports.CjPrivacyClientService])
], exports.CjPrivacyService);

var __decorate$183 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$161 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$25 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
exports.CjPrivacyComponent = (function () {
    function CjPrivacyComponent(privacyService, route, appStatus) {
        this.privacyService = privacyService;
        this.route = route;
        this.appStatus = appStatus;
        // TODO recuperare dall'url anche gli altri 2 parametri ABI e unitaOperativa
        /**
         * Evento emesso al click dei pulsanti
         * @param {EventEmitter<ICjDettaglioPrivacy>}  cjOnDone
         */
        this.cjOnDone = new _angular_core.EventEmitter();
        /**
         * Evento emesso al click sul pulsante del componente nbp-error-advise
         * @param {EventEmitter<any>}  cjOnError
         */
        this.cjOnError = new _angular_core.EventEmitter();
        /**
         * Evento emesso al termine della chiamata di stampa
         * @param {EventEmitter<any>} cjOnPrint
         */
        this.cjOnPrint = new _angular_core.EventEmitter();
        this._viewErrorAdvise = false;
    }
    CjPrivacyComponent.prototype.ngOnInit = function () {
        this._getPrivacyParams();
    };
    CjPrivacyComponent.prototype._getPrivacyParams = function () {
        var _this = this;
        if (this.route) {
            if (!this.cjNdg || !this.cjAbi || !this.cjUnitaOperativa) {
                // controllo che esista l'url param
                if (this.cjUrlParamsName) {
                    // recupero dall'url il parametro da passare al servizio
                    this.route.params.subscribe(function (params) {
                        _this.cjNdg = params[_this.cjUrlParamsName.ndgUrlParam];
                        _this.cjAbi = params[_this.cjUrlParamsName.abiUrlParam];
                        _this.cjUnitaOperativa = params[_this.cjUrlParamsName.unitaOperativaUrlParam];
                        _this.cjTipoOfferta = params[_this.cjUrlParamsName.tipoOffertaUrlParam];
                        _this._getDettaglioPrivacy();
                    });
                }
                else {
                    this._viewErrorAdvise = true;
                    console.error('CjPrivacy - parametri configurazione componente non corretti');
                }
            }
            else {
                this._getDettaglioPrivacy();
            }
        }
        else {
            if (!this.cjNdg || !this.cjAbi || !this.cjUnitaOperativa) {
                this._viewErrorAdvise = true;
                console.error('CjPrivacy - parametri configurazione componente non corretti');
            }
            else {
                this._getDettaglioPrivacy();
            }
        }
    };
    CjPrivacyComponent.prototype._getDettaglioPrivacy = function () {
        var _this = this;
        if (this.cjNdg && this.cjAbi && this.cjUnitaOperativa) {
            this.privacyService.getPrivacy(this.cjNdg, this.cjAbi, this.cjUnitaOperativa).subscribe(function (next) {
                _this._privacyData = next;
            }, function (error) {
                _this._viewErrorAdvise = true;
                throw error;
            });
        }
    };
    CjPrivacyComponent.prototype._onPrint = function (event) {
        var _this = this;
        // Chiamata al servizio di salvataggio e stampa consensi
        this.privacyService.savePrivacy(event, this.cjNdg, this.cjAbi, this.cjUnitaOperativa)
            .toPromise().then(function (savedData) {
            // console.log('CjPrivacy - Risultato del salvataggio: ');
            console.dir(savedData);
            _this.privacyService.printPrivacy(_this.cjNdg, _this.cjAbi, _this.cjUnitaOperativa, _this.cjTipoOfferta)
                .toPromise().then(function (printData) {
                console.log('CjPrivacy - Risultato della stampa: ');
                console.dir(printData);
                if ((printData.esito.toUpperCase() === 'OK') && printData.xmlToPrint) {
                    // Lancio l'evento di stampa che conterr l'xml da inviare all'activex
                    _this._onSendPrintEvent(printData.xmlToPrint);
                    _this.privacyFormComponent.setButtonConfigurationAfterPrintDone();
                }
            });
        });
    };
    CjPrivacyComponent.prototype._onSendPrintEvent = function (xmlToPrint) {
        // TODO - Qualcosa tipo:
        // this.cjOnPrint.emit(xmlToPrint.xmlDocument);
        // per ora:
        this.cjOnPrint.emit(xmlToPrint);
    };
    CjPrivacyComponent.prototype._onContinue = function (event) {
        // Chiusura della pagina
        console.log('CjPrivacy - Click su pulsante Continua');
        this.cjOnDone.emit(event);
    };
    CjPrivacyComponent.prototype._onCancel = function (event) {
        // Chiusura della pagina
        console.log('CjPrivacy - Click su pulsante Annulla');
        this.cjOnDone.emit(event);
    };
    CjPrivacyComponent.prototype._onErrorAdvise = function () {
        console.log('CjPrivacy - emitting cjOnError');
        this.cjOnError.emit();
    };
    return CjPrivacyComponent;
}());
__decorate$183([
    _angular_core.Input(),
    __metadata$161("design:type", String)
], exports.CjPrivacyComponent.prototype, "cjNdg", void 0);
__decorate$183([
    _angular_core.Input(),
    __metadata$161("design:type", String)
], exports.CjPrivacyComponent.prototype, "cjAbi", void 0);
__decorate$183([
    _angular_core.Input(),
    __metadata$161("design:type", String)
], exports.CjPrivacyComponent.prototype, "cjUnitaOperativa", void 0);
__decorate$183([
    _angular_core.Input(),
    __metadata$161("design:type", String)
], exports.CjPrivacyComponent.prototype, "cjTipoOfferta", void 0);
__decorate$183([
    _angular_core.Input(),
    __metadata$161("design:type", Object)
], exports.CjPrivacyComponent.prototype, "cjUrlParamsName", void 0);
__decorate$183([
    _angular_core.Output(),
    __metadata$161("design:type", _angular_core.EventEmitter)
], exports.CjPrivacyComponent.prototype, "cjOnDone", void 0);
__decorate$183([
    _angular_core.Output(),
    __metadata$161("design:type", _angular_core.EventEmitter)
], exports.CjPrivacyComponent.prototype, "cjOnError", void 0);
__decorate$183([
    _angular_core.Output(),
    __metadata$161("design:type", _angular_core.EventEmitter)
], exports.CjPrivacyComponent.prototype, "cjOnPrint", void 0);
__decorate$183([
    _angular_core.ViewChild(CjPrivacyFormComponent),
    __metadata$161("design:type", CjPrivacyFormComponent)
], exports.CjPrivacyComponent.prototype, "privacyFormComponent", void 0);
exports.CjPrivacyComponent = __decorate$183([
    _angular_core.Component({
        selector: 'cj-privacy',template: "<div class=\"row\"><div class=\"col-md-offset-2 col-md-20\"><nbp-error-advice *ngIf=\"_viewErrorAdvise\" (onError)=\"_onErrorAdvise()\"></nbp-error-advice></div></div><div class=\"row\"><div class=\"col-xs-offset-2 col-sm-offset-2 col-md-offset-2 col-xs-20 col-sm-20 col-md-20\"><cj-privacy-form *ngIf=\"!_viewErrorAdvise\" [cjPrivacy]=\"_privacyData\" (cjOnStampa)=\"_onPrint($event)\" (cjOnContinua)=\"_onContinue($event)\" (cjOnAnnulla)=\"_onCancel($event)\"></cj-privacy-form></div></div>"
    }),
    __param$25(1, _angular_core.Optional()),
    __metadata$161("design:paramtypes", [exports.CjPrivacyService, _angular_router.ActivatedRoute,
        exports.ApplicationStatusService])
], exports.CjPrivacyComponent);

var __decorate$186 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$164 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var CjShoppingCartProductComponent = (function () {
    function CjShoppingCartProductComponent() {
        var _this = this;
        this._popoverSize = exports.NbpSize;
        /**
         * evento emesso alla pressione del link presente nel tooltip visualizzato sulla 'lente'
         * @param EventEmitter<IShoppingCartProduct>  cjOnGotoCardProduct [description]
         */
        this.cjOnGotoCardProduct = new _angular_core.EventEmitter();
        /**
         * evento emesso alla pressione dell'icona destra (icona di default 'cestino')
         * @param EventEmitter<IShoppingCartEvent> cjOnClickRightIcon
         */
        this.cjOnClickRightIcon = new _angular_core.EventEmitter();
        /**
         * evento emesso al click del link presente nel popover che viene aperto alla pressione del pulsante sinistro
         * (icona di default 'lente ingrandimento zoom').
         * @param EventEmitter<IShoppingCartEvent> cjOnClickLeftIconLink
         */
        this.cjOnClickLeftIconLink = new _angular_core.EventEmitter();
        /**
         * evento emesso alla pressione della link 'promo >' per la visualizzazione delle info dettagliate
         * @param EventEmitter<IShoppingCartEvent> cjOnClickPromo
         */
        this.cjOnClickPromo = new _angular_core.EventEmitter();
        this._iconLeft = this.fillIconStructure('ico-comuni-zoom');
        this._iconRight = this.fillIconStructure('ico-azioni-elimina-cestino');
        this._productStyle = 'standard';
        this._sendEventOnClickPopoverLink = function () {
            console.log('CjShoppingCartProductComponent - Emit evet: cjOnClickLeftIconLink');
            console.dir(_this._myEventInfo);
            _this.cjOnClickLeftIconLink.emit(_this._myEventInfo);
        };
    }
    Object.defineProperty(CjShoppingCartProductComponent.prototype, "cjReadOnly", {
        /**
         * Permette di impostare la visualizzazione in sola lettura del prodotto, nascondendo i pulsanti di eliminazione e dettaglio
         */
        get: function () {
            return this._cjReadOnly;
        },
        set: function (value) {
            this._cjReadOnly = coerceBooleanProperty(value);
        },
        enumerable: true,
        configurable: true
    });
    CjShoppingCartProductComponent.prototype.ngOnInit = function () {
        if (this.cjData.iconLeft) {
            this._iconLeft = this.fillIconStructure('ico-comuni-zoom', this.cjData.iconLeft);
        }
        if (this.cjData.iconRight) {
            this._iconRight = this.fillIconStructure('ico-azioni-elimina-cestino', this.cjData.iconRight);
        }
        this._myEventInfo = {
            productId: this.cjData.id,
            current: this
        };
        if (this._iconLeft && this._iconLeft.tooltip) {
            this.popoverData = { popoverData: {
                    title: this._iconLeft.tooltip.title,
                    clickableText: this._iconLeft.tooltip.clickableText,
                    text: this._iconLeft.tooltip.text,
                    onClick: this._sendEventOnClickPopoverLink
                }
            };
        }
    };
    CjShoppingCartProductComponent.prototype.fillIconStructure = function (defaultIcon, iconDataSrc) {
        var iconDataDest = {};
        if (iconDataSrc) {
            iconDataDest['icon'] = iconDataSrc.icon ? iconDataSrc.icon : defaultIcon;
            iconDataDest['hide'] = iconDataSrc.hide ? iconDataSrc.hide : false;
            iconDataDest['tooltip'] = iconDataSrc.tooltip ? iconDataSrc.tooltip : null;
        }
        else {
            iconDataDest['icon'] = defaultIcon;
            iconDataDest['hide'] = false;
            iconDataDest['tooltip'] = null;
        }
        return iconDataDest;
    };
    CjShoppingCartProductComponent.prototype._getProductStyle = function () {
        if (!this.cjData) {
            return this._productStyle;
        }
        if (this.cjData.promo) {
            return (this._productStyle = 'promo');
        }
        if (this.cjData.covenant) {
            return (this._productStyle = 'convenant');
        }
        return this._productStyle = 'standard';
    };
    CjShoppingCartProductComponent.prototype._onClickRightIcon = function () {
        console.log('CjShoppingCartProductComponent - Emit evet: cjOnClickRightIcon');
        console.dir(this._myEventInfo);
        this.cjOnClickRightIcon.emit(this._myEventInfo);
    };
    CjShoppingCartProductComponent.prototype._onGotoCardProduct = function () {
        console.log('CjShoppingCartProductComponent - Emit evet: cjOnGotoCardProduct');
        console.dir(this.cjData);
        this.cjOnGotoCardProduct.emit(this.cjData);
    };
    CjShoppingCartProductComponent.prototype._onClickPromo = function () {
        console.log('CjShoppingCartProductComponent - Emitting evet: cjOnClickPromo');
        console.dir(this._myEventInfo);
        this.cjOnClickPromo.emit(this._myEventInfo);
    };
    return CjShoppingCartProductComponent;
}());
__decorate$186([
    _angular_core.Input(),
    __metadata$164("design:type", Object)
], CjShoppingCartProductComponent.prototype, "cjData", void 0);
__decorate$186([
    _angular_core.Input(),
    __metadata$164("design:type", Boolean)
], CjShoppingCartProductComponent.prototype, "cjIsParentItem", void 0);
__decorate$186([
    _angular_core.Input(),
    __metadata$164("design:type", Object),
    __metadata$164("design:paramtypes", [Boolean])
], CjShoppingCartProductComponent.prototype, "cjReadOnly", null);
__decorate$186([
    _angular_core.Output(),
    __metadata$164("design:type", _angular_core.EventEmitter)
], CjShoppingCartProductComponent.prototype, "cjOnGotoCardProduct", void 0);
__decorate$186([
    _angular_core.Output(),
    __metadata$164("design:type", _angular_core.EventEmitter)
], CjShoppingCartProductComponent.prototype, "cjOnClickRightIcon", void 0);
__decorate$186([
    _angular_core.Output(),
    __metadata$164("design:type", _angular_core.EventEmitter)
], CjShoppingCartProductComponent.prototype, "cjOnClickLeftIconLink", void 0);
__decorate$186([
    _angular_core.Output(),
    __metadata$164("design:type", _angular_core.EventEmitter)
], CjShoppingCartProductComponent.prototype, "cjOnClickPromo", void 0);
CjShoppingCartProductComponent = __decorate$186([
    _angular_core.Component({selector: 'cj-shopping-cart-product',
        template: "<ng-template #popoverTemplate let-popoverData=\"popoverData\"><style>.title{ font-weight: bold; text-transform: uppercase; } .link{ color:goldenrod; font-weight: bold; cursor:pointer; user-select: none; }</style><div class=\"container-fluid\"><div class=\"flexible-row\"><div class=\"flexible-col text-center title\">{{popoverData.title}}</div></div><div class=\"flexible-\"><div class=\"flexible-col content\"><p>{{popoverData.text}}</p></div></div><div class=\"flexible-row\"><div class=\"flexible-col text-center\"><div class=\"link\" (click)=\"popoverData.onClick()\">{{popoverData.clickableText}} <span class=\"icon-arrow-right\"></span></div></div></div></div></ng-template><div [id]=\"cjData.id\" class=\"flexible-row shopping-cart--product\"><div class=\"icon-left-container\"><nbp-tooltip *ngIf=\"!cjReadOnly && !_iconLeft?.hide && !!popoverData\" nbpPosition=\"Left\" [nbpTemplate]=\"popoverTemplate\" [nbpTemplateData]=\"popoverData\" [nbpSize]=\"_popoverSize.MD\" nbpVisibilityStrategy=\"click\"><span *ngIf=\"!_iconLeft?.hide\" class=\"cell__icon\" [ngClass]=\"_iconLeft?.icon\"></span></nbp-tooltip></div><div class=\"center-container cell-product\"><div class=\"flexible-row\"><div class=\"flexible-col col-12 cell-product\"><div *ngIf=\"cjData.titleInfoLeft\" class=\"flexible-row firstLine\"><div *ngIf=\"cjData.titleInfoLeft.firstLine\" class=\"flexible-col cell__font-md\" [ngClass]=\"{'cell__stroke':cjData.titleInfoLeft.firstLine.style}\">{{cjData.titleInfoLeft.firstLine.text}}</div></div><div *ngIf=\"cjData.titleInfoLeft\" class=\"flexible-row secondLine\"><div *ngIf=\"cjData.titleInfoLeft.secondLine\" class=\"flexible-col cell__font-sm\" [ngClass]=\"{'cell__stroke':cjData.titleInfoLeft.secondLine.style}\">{{cjData.titleInfoLeft.secondLine.text}}</div></div></div><div *ngIf=\"cjData.quantity > 1\" class=\"flexible-col col-3 quantity\">x{{cjData.quantity}}</div><div class=\"cell-product cell__text-right flexible-col col-9\" [ngClass]=\"{'covenant-colour':!!cjData.covenant}\"><div *ngIf=\"cjData.titleInfoRight\" class=\"flexible-row firstLine\"><div *ngIf=\"cjData.titleInfoRight.firstLine\" class=\"flexible-col col-24 text-right cell__font-md\" [ngClass]=\"{'cell__stroke':cjData.titleInfoRight.firstLine.style}\">{{cjData.titleInfoRight.firstLine.text}}</div></div><div *ngIf=\"cjData.titleInfoRight\" class=\"flexible-row secondLine\"><div *ngIf=\"cjData.titleInfoRight.secondLine\" class=\"flexible-col col-24 text-right cell__font-sm\" [ngClass]=\"{'cell__stroke':cjData.titleInfoRight.secondLine.style}\">{{cjData.titleInfoRight.secondLine.text}}</div></div></div></div><div [ngSwitch]=\"_getProductStyle()\"><ng-template [ngSwitchCase]=\"'promo'\"><div class=\"flexible-row\"><div class=\"flexible-col col-9 promo\" (click)=\"_onClickPromo()\">{{cjData.promo.title || 'promo'}} <span class=\"icon-arrow-right\"></span></div><div class=\"flexible-col col-15 promo-desc cell__text-right\">{{cjData.promo.description}}</div></div></ng-template><ng-template [ngSwitchCase]=\"'convenant'\"><div class=\"flexible-row\"><div class=\"flexible-col col-9 covenant covenant-colour\">{{cjData.covenant.title || 'convenzione '}}</div><div class=\"flexible-col col-15 covenant-desc covenant-colour cell__text-right\">{{cjData.covenant.description}}</div></div></ng-template></div></div><div class=\"icon-right-container\"><span *ngIf=\"!cjReadOnly && !_iconRight?.hide\" class=\"cell__icon\" [ngClass]=\"_iconRight?.icon\" (click)=\"_onClickRightIcon()\"></span></div></div>",
        styles: [".shopping-cart--product{color:#323232;min-height:50px;padding:5px 0}.flexible-row{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;-ms-flex-pack:space-around;justify-content:space-around}.flexible-col{-ms-flex:1 1 auto;flex:1 1 auto;word-wrap:break-word;max-width:100%}.flexible-col.text-right{text-align:right}.flexible-col.col-12{width:calc(4 / 8 * 100%)}.flexible-col.col-9{width:calc(3 / 8 * 100%)}.quantity{-ms-flex:0 0 auto;flex:0 0 auto;min-width:2em;background-color:#337a79;color:#fff;font-size:16px;height:24px;padding-left:0!important;padding-right:0!important;border-radius:12px;line-height:24px;text-align:center}.icon-left-container{-ms-flex:0 1 auto;flex:0 1 auto;max-width:35px;text-align:center}.icon-left-container span.cell__icon{padding-left:5px!important}.icon-right-container{-ms-flex:0 1 auto;flex:0 1 auto;max-width:35px;text-align:center}.icon-right-container>span{padding-right:5px!important}.center-container{-ms-flex:1 1 100%;flex:1 1 100%;max-width:100%;padding:0 5px!important}.cell__primary{font-weight:700}.cell__uppercase{text-transform:uppercase}.cell__font-md{font-size:14px}.cell__font-sm{font-size:12px}.cell__stroke{text-decoration:line-through}.cell__text-right{text-align:right}.cell__icon{font-size:25px;color:#258900;cursor:pointer}.cell__icon::before{vertical-align:middle}.firstLine{overflow:hidden}.secondLine{overflow:hidden}.promo{min-width:37.5%;color:#258900;text-transform:uppercase;font:bold 12px arial;line-height:18px;padding-right:0!important;cursor:pointer}.promo .icon-arrow-right:before{text-align:right;vertical-align:middle;font-size:1em!important;font-weight:900!important}.promo-desc{color:#0094ca;letter-spacing:-.1px;font:bold 12px arial;line-height:16px;text-transform:capitalize}.covenant,.covenant-desc{text-transform:uppercase;font:bold 12px arial;line-height:16px}.covenant-colour{color:#b47dc2} /*# sourceMappingURL=cj-shopping-cart-product.component.css.map */ "]
    }),
    __metadata$164("design:paramtypes", [])
], CjShoppingCartProductComponent);

var __decorate$187 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$165 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.ShoppingCartUtility = (function () {
    function ShoppingCartUtility() {
    }
    ShoppingCartUtility.prototype._cloneObject = function (obj) {
        return JSON.parse(JSON.stringify(obj));
    };
    ShoppingCartUtility.prototype.getCartElementById = function (data, id) {
        if (!data || !id) {
            return null;
        }
        var objects = data.filter(function (object) {
            return object.id === id;
        });
        return objects.length ? objects[0] : null;
    };
    ShoppingCartUtility.prototype.addSection = function (cart, section, insertOnTop) {
        if (!cart || !section) {
            console.log("cjShoppingCartUtility.addSection: invalid parameters.");
            return cart;
        }
        var cartTemp = this._cloneObject(cart);
        if (!cartTemp.sections) {
            cartTemp.sections = new Array();
        }
        if (insertOnTop) {
            cartTemp.sections.unshift(section);
        }
        else {
            cartTemp.sections.push(section);
        }
        return cartTemp;
    };
    ShoppingCartUtility.prototype.removeSection = function (cart, sectionId) {
        if (!cart || !sectionId) {
            console.log("cjShoppingCartUtility.removeSection: invalid parameters.");
            return cart;
        }
        var cartTemp = this._cloneObject(cart);
        var sectionsTemp = cart.sections.filter(function (section) {
            return section.id !== sectionId;
        });
        cartTemp.sections = sectionsTemp;
        return cartTemp;
    };
    ShoppingCartUtility.prototype.addItemToSection = function (cart, sectionId, item, insertOnTop) {
        if (!cart || !sectionId || !item) {
            console.log("cjShoppingCartUtility.addItemToSection: invalid parameters.");
            return cart;
        }
        var cartTemp = this._cloneObject(cart);
        var sectionTemp = this.getCartElementById(cartTemp.sections, sectionId);
        if (sectionTemp) {
            if (!sectionTemp.items) {
                sectionTemp.items = new Array();
            }
            if (insertOnTop) {
                sectionTemp.items.unshift(item);
            }
            else {
                sectionTemp.items.push(item);
            }
        }
        else {
            console.log('CjShoppingCartUtility.addItemToSection: section ' + sectionId + ' not found.');
        }
        return cartTemp;
    };
    ShoppingCartUtility.prototype.removeItemFormSection = function (cart, sectionId, itemId) {
        if (!cart || !sectionId || !itemId) {
            console.log("cjShoppingCartUtility.removeItemFormSection: invalid parameters.");
            return cart;
        }
        var cartTemp = this._cloneObject(cart);
        var selectedSection = this.getCartElementById(cartTemp.sections, sectionId);
        if (selectedSection) {
            selectedSection.items = selectedSection.items.filter(function (item) {
                return item.id !== itemId;
            });
        }
        else {
            console.log('CjShoppingCartUtility.removeItemFromSection: section ' + sectionId + ' not found.');
        }
        return cartTemp;
    };
    ShoppingCartUtility.prototype.addProductToSection = function (cart, sectionId, product) {
        if (!cart || !sectionId || !product) {
            console.log("cjShoppingCartUtility.addProductToSection: invalid parameters.");
            return cart;
        }
        var cartTemp = this._cloneObject(cart);
        var selectedSection = this.getCartElementById(cartTemp.sections, sectionId);
        if (selectedSection) {
            if (!selectedSection.products) {
                selectedSection.products = [];
            }
            selectedSection.products.push(product);
        }
        else {
            console.log('CjShoppingCartUtility.addProductToSection: section ' + sectionId + ' not found.');
        }
        return cartTemp;
    };
    ShoppingCartUtility.prototype.removeProductFromSection = function (cart, sectionId, productId) {
        if (!cart || !sectionId || !productId) {
            console.log('cjShoppingCartUtility.removeProductFromSection: invalid parameters.');
            return cart;
        }
        var cartTemp = this._cloneObject(cart);
        var selectedSection = this.getCartElementById(cartTemp.sections, sectionId);
        if (selectedSection) {
            if (selectedSection.products) {
                var productsLength = selectedSection.products.length;
                selectedSection.products = selectedSection.products.filter(function (prod) {
                    return prod.id !== productId;
                });
                if (productsLength === selectedSection.products.length) {
                    console.log('cjShoppingCartUtility.removeProductFromSection: product ' + productId + 'not found.');
                }
            }
            else {
                console.log('cjShoppingCartUtility.removeProductFromSection: section ' + sectionId + ' does\'t contain any products.');
            }
        }
        else {
            console.log('cjShoppingCartUtility.removeProductFromSection: section ' + sectionId + 'not found.');
        }
        return cartTemp;
    };
    ShoppingCartUtility.prototype.addProductToItem = function (cart, sectionId, itemId, product) {
        if (!cart || !sectionId || !itemId || !product) {
            console.log('cjShoppingCartUtility.addProductToItem: invalid parameters.');
            return cart;
        }
        var cartTemp = this._cloneObject(cart);
        var selectedSection = this.getCartElementById(cartTemp.sections, sectionId);
        if (selectedSection) {
            var selectedItem = this.getCartElementById(selectedSection.items, itemId);
            if (selectedItem) {
                if (!selectedItem.products) {
                    selectedItem.products = new Array();
                }
                selectedItem.products.push(product);
            }
            else {
                console.log('cjShoppingCartUtility.addProductToItem: item ' + itemId + 'not found.');
            }
        }
        else {
            console.log('cjShoppingCartUtility.addProductToItem: section ' + sectionId + 'not found.');
        }
        return cartTemp;
    };
    ShoppingCartUtility.prototype.removeProductFromItem = function (cart, sectionId, itemId, productId) {
        if (!cart || !sectionId || !itemId || !productId) {
            console.log('cjShoppingCartUtility.removeProductFromItem: invalid parameters.');
            return cart;
        }
        var cartTemp = this._cloneObject(cart);
        var selectedSection = this.getCartElementById(cartTemp.sections, sectionId);
        if (selectedSection) {
            var selectedItem = this.getCartElementById(selectedSection.items, itemId);
            if (selectedItem) {
                if (selectedItem.products) {
                    var productsLength = selectedItem.products.length;
                    selectedItem.products = selectedItem.products.filter(function (product) {
                        return product.id !== productId;
                    });
                    if (productsLength === selectedSection.products.length) {
                        console.log('cjShoppingCartUtility.removeProductFromItem: product ' + productId + 'not found.');
                    }
                }
                else {
                    console.log('cjShoppingCartUtility.removeProductFromItem: section ' + sectionId + ' does\'t contain any products.');
                }
            }
            else {
                console.log('cjShoppingCartUtility.removeProductFromItem: item ' + itemId + 'not found.');
            }
        }
        else {
            console.log('cjShoppingCartUtility.removeProductFromItem: section ' + sectionId + 'not found.');
        }
        return cartTemp;
    };
    ShoppingCartUtility.prototype.getObjectById = function (data, id) {
        var objects = data.filter(function (object) {
            return object.id === id;
        });
        return objects.length ? objects[0] : null;
    };
    return ShoppingCartUtility;
}());
exports.ShoppingCartUtility = __decorate$187([
    _angular_core.Injectable(),
    __metadata$165("design:paramtypes", [])
], exports.ShoppingCartUtility);

var __decorate$189 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$167 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$27 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var GlobalErrorHandlerHelperService = (function () {
    function GlobalErrorHandlerHelperService(appConfig, contextService) {
        var _this = this;
        this.appConfig = appConfig;
        contextService.getCurrentCjContext().subscribe(function (context) {
            _this._contextInfo = context;
        });
    }
    /**
     * costruisce l'oggetto di errore client a partire dall'oggetto errore gestito
     * derivante dal server
     * @param  {IServerError} serverError errore http gestito dal BE
     * @return {IClientError}             errore integrato con info provenienti da FE
     */
    GlobalErrorHandlerHelperService.prototype.createClientErrorFromServerError = function (serverError) {
        var currentError;
        // popolare la struttura dati con i dati provenienti dall'errore http
        currentError = {
            errorCode: serverError.errorCode ? serverError.errorCode : '',
            errorSubCode: serverError.errorSubCode ? serverError.errorSubCode : null,
            errorMessage: serverError.errorMessage ? serverError.errorMessage : null,
            errorSource: serverError.errorSource ? serverError.errorSource : null,
            stackTrace: serverError.stackTrace ? serverError.stackTrace : null,
            userAgent: ''
        };
        this.addDebugAndAppInfo(currentError);
        return currentError;
    };
    /**
    * costruisce l'oggetto di errore client a partire dall'oggetto errore
    * standard HTTP
    * @param  {IServerError} serverError errore http gestito dal BE
    * @return {IClientError}             errore integrato con info provenienti da FE
    */
    GlobalErrorHandlerHelperService.prototype.createClientErrorFromHttpError = function (httpError) {
        var currentError;
        // popolare la struttura dati con i dati provenienti dall'errore http
        currentError = {
            errorCode: '',
            errorMessage: httpError.message,
            errorSource: httpError.url,
            userAgent: ''
        };
        this.addDebugAndAppInfo(currentError);
        return currentError;
    };
    /**
     * Costruisce l'oggetto di errore client a partire dall'oggetto di errore
     * standard di angular
     * @param  {any}          globalError errore sollevato da angular
     * @return {IClientError}             errore integrato con info provenienti da FE
     */
    GlobalErrorHandlerHelperService.prototype.createClientError = function (globalError) {
        var currentError;
        // popolare la struttura dati per l'errore
        currentError = {
            errorCode: '',
            errorMessage: globalError.message ? globalError.message : null,
            errorSource: 'angular',
            stackTrace: globalError.stack ? globalError.stack : null,
            userAgent: ''
        };
        this.addDebugAndAppInfo(currentError);
        return currentError;
    };
    /**
     * recupera le informazioni relative alla risoluzione dello schermo
     * @return {IResolutionData} screen resolution
     */
    GlobalErrorHandlerHelperService.prototype.getScreenResolution = function () {
        var resolution = {
            width: window.screen.width,
            height: window.screen.height
        };
        return resolution;
    };
    /**
     * recupera le informazioni relative alla risoluzione del monitor
     * @return {IResolutionData} window resolution
     */
    GlobalErrorHandlerHelperService.prototype.getWindowResolution = function () {
        var resolution = {
            width: window.innerWidth,
            height: window.innerHeight
        };
        return resolution;
    };
    /**
     * Aggiunge all'oggetto error le informazioni relative a debug info e
     * application info
     * @param {IClientError} currentError struttura dati da inviare al serivzio di logging
     */
    GlobalErrorHandlerHelperService.prototype.addDebugAndAppInfo = function (currentError) {
        if (currentError) {
            this.addDebugInfo(currentError);
            this.addApplicationInfo(currentError);
            this.addContextInfo(currentError);
        }
    };
    GlobalErrorHandlerHelperService.prototype.addContextInfo = function (error) {
        error.cjContext = this._contextInfo;
    };
    /**
     * recupera le informazioni di debug dal Browser
     * @param {IClientError} error struttura dati da inviare al serivzio di logging
     */
    GlobalErrorHandlerHelperService.prototype.addDebugInfo = function (error) {
        if (error) {
            error.userAgent = window.navigator.userAgent;
            error.screenResolution = this.getScreenResolution();
            error.windowResolution = this.getWindowResolution();
        }
    };
    /**
     * recupera le informazioni relative all'applicazione
     * @param {IClientError} error struttura dati da inviare al servizio di logging
     */
    GlobalErrorHandlerHelperService.prototype.addApplicationInfo = function (error) {
        if (this.appConfig && this.appConfig.getApplicationInfo) {
            this.appConfig.getApplicationInfo().subscribe(function (appInfo) {
                error.application = appInfo.application;
                error.version = appInfo.version;
                error.environment = appInfo.environment;
            });
        }
    };
    return GlobalErrorHandlerHelperService;
}());
GlobalErrorHandlerHelperService = __decorate$189([
    _angular_core.Injectable(),
    __param$27(0, _angular_core.Inject(APP_CONFIG)),
    __metadata$167("design:paramtypes", [Object, exports.CjContextService])
], GlobalErrorHandlerHelperService);

var __extends$32 = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate$188 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$166 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.GlobalErrorHandlerService = (function (_super) {
    __extends$32(GlobalErrorHandlerService, _super);
    // struttura dati dell'errore
    // {
    //   "timestamp": 1506680359665,
    //   "status": 500,
    //   "error": "Internal Server Error",
    //   "exception": "java.lang.RuntimeException",
    //   "message": "com.intesasanpaolo.isparc.errormanager.exception.application.TechnicalException: {Errore servizio getAFRYchclie soapenv:Server.SystemError {Y1001 RICHIESTA NON ESEGUITA-E10    NESSUN CODICE VALORIZZATO}.{Interfaces.WSI_DIAFRYV01C_01.DIAFRYV01C_Impl.CISCS_AFRYCHCLIE.AFRYCHCLIE.ParseEsito}.}.{Interfaces.WSI_NPUELCL00A_01.IMPL_NPUELCL00A.WS_NPUELCL00A.ParseResponse}.",
    //   "path": "/puv/api/clienti"
    // }
    // TODO iniettare nel costrutture un ErrorNotifierService che sar utilizzato
    // per la gestione della logica di errore (log sul server e show dialog sul fe)
    function GlobalErrorHandlerService(helper, appStatusService) {
        var _this = _super.call(this) || this;
        _this.helper = helper;
        _this.appStatusService = appStatusService;
        return _this;
    }
    GlobalErrorHandlerService.prototype.handleError = function (globalError) {
        _super.prototype.handleError.call(this, globalError);
        if (globalError.rejection && globalError.rejection instanceof _angular_common_http.HttpErrorResponse) {
            globalError = globalError.rejection;
        }
        if ((globalError instanceof _angular_common_http.HttpErrorResponse && globalError.status >= 300)) {
            if (globalError.error) {
                try {
                    var errorHandled = JSON.parse(globalError.error);
                    if (errorHandled.errorMessage) {
                        // Errore gestito a dal server
                        console.warn('Application HTTP failure from server');
                        console.warn('TODO Gestire l\'errore applicativo globalmente');
                        this.appStatusService.notifyError(this.helper.createClientErrorFromServerError(errorHandled));
                    }
                    else {
                        // Errore non gestito
                        console.warn("Generic HTTP failure from server");
                        console.warn('TODO Gestire l\'errore http globalmente');
                        this.appStatusService.notifyError(this.helper.createClientErrorFromHttpError(globalError));
                    }
                }
                catch (e) {
                    if (e instanceof SyntaxError) {
                        this.appStatusService.notifyError(this.helper.createClientErrorFromHttpError(globalError));
                    }
                }
            }
            else {
                // Errore non gestito
                console.warn("Generic HTTP failure from server");
                console.warn('TODO Gestire l\'errore http globalmente');
                this.appStatusService.notifyError(this.helper.createClientErrorFromHttpError(globalError));
            }
        }
        else {
            // Errore Angular
            console.warn("Application failure from Angular");
            console.warn('TODO Gestire l\'errore di codice globalmente');
            this.appStatusService.notifyError(this.helper.createClientError(globalError));
            // TODO fare la gestione dell'errore generico (eg. nullpointer)
        }
        console.groupEnd();
    };
    return GlobalErrorHandlerService;
}(_angular_core.ErrorHandler));
exports.GlobalErrorHandlerService = __decorate$188([
    _angular_core.Injectable(),
    __metadata$166("design:paramtypes", [GlobalErrorHandlerHelperService,
        exports.ApplicationStatusService])
], exports.GlobalErrorHandlerService);

var __decorate$191 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$169 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.ServerEventLoggerService = (function () {
    function ServerEventLoggerService(http) {
        this.http = http;
        this.headers = new _angular_common_http.HttpHeaders().set('Content-Type', 'application/json');
    }
    ServerEventLoggerService.prototype.logEvent = function (event) {
        // TODO ancora da implementare
        return rxjs_Observable.Observable.of({});
    };
    ServerEventLoggerService.prototype.logError = function (error) {
        // TODO l'indirizzo da dove lo prendiamo? 
        // ci serve un base url passato nell app-config?
        return this.http.post("/npu-sm-v0/api/globalerror", { 'error': error }, { headers: this.headers });
    };
    return ServerEventLoggerService;
}());
exports.ServerEventLoggerService = __decorate$191([
    _angular_core.Injectable(),
    __metadata$169("design:paramtypes", [_angular_common_http.HttpClient])
], exports.ServerEventLoggerService);

var __decorate$190 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$168 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/**
 * Servizio istanziato in fase di inizializzazione tramite APP_INITIALIZER
 */
var EventLoggerService = (function () {
    function EventLoggerService(applicationStatus, serverLogger) {
        var _this = this;
        this.serverLogger = serverLogger;
        applicationStatus.getErrorRawStream().filter(function (error) { return error !== null; }).subscribe(function (error) {
            _this.sendError(error);
        });
    }
    EventLoggerService.prototype.sendEvent = function (event) {
        // TODO ancora da implementare
        this.serverLogger.logEvent(event);
    };
    EventLoggerService.prototype.sendError = function (error) {
        this.serverLogger.logError(error);
    };
    return EventLoggerService;
}());
EventLoggerService = __decorate$190([
    _angular_core.Injectable(),
    __metadata$168("design:paramtypes", [exports.ApplicationStatusService,
        exports.ServerEventLoggerService])
], EventLoggerService);
function ApplicationEventLoggerFactory(startupService) {
    return function () { return true; };
}

var ConsoleEventLoggerService = (function () {
    function ConsoleEventLoggerService() {
    }
    ConsoleEventLoggerService.prototype.logEvent = function (event) {
        console.group("E' arrivato un evento globale");
        console.error(event);
        console.groupEnd();
    };
    ConsoleEventLoggerService.prototype.logError = function (error) {
        console.group("E' arrivato un errore globale");
        console.error(error);
        console.groupEnd();
    };
    return ConsoleEventLoggerService;
}());

var __decorate$192 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$170 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var CjErrorViewComponent = (function () {
    function CjErrorViewComponent() {
        this._feedbackType = exports.NbpFeedbackType;
    }
    CjErrorViewComponent.prototype.ngOnInit = function () { };
    CjErrorViewComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        this._isDebugEnv = this.evaluateDebugEnvironment();
        setTimeout(function () { _this._mainMessage = !_this._isDebugEnv ? 'Si prega di contattare il servizio di supporto tecnico' : null; });
    };
    CjErrorViewComponent.prototype.evaluateDebugEnvironment = function () {
        var isDebugEnv = false;
        if (this.cjClientError && this.cjClientError.environment) {
            switch (this.cjClientError.environment) {
                case 'PRODUZIONE':
                    isDebugEnv = false;
                    break;
                default:
                    isDebugEnv = true;
                    break;
            }
        }
        return isDebugEnv;
    };
    return CjErrorViewComponent;
}());
__decorate$192([
    _angular_core.Input(),
    __metadata$170("design:type", Object)
], CjErrorViewComponent.prototype, "cjClientError", void 0);
CjErrorViewComponent = __decorate$192([
    _angular_core.Component({
        selector: 'cj-error-view',template: "<nbp-feedback nbpTitle=\"Si  verificato un errore\" [nbpMainMessage]=\"_mainMessage\" [nbpErrorCode]=\"cjClientError?.errorCode\" [nbpFeedbackType]=\"_feedbackType.ERROR\" [nbpShowDebugInfo]=\"_isDebugEnv\"><nbp-debug-info [nbpError]=\"cjClientError\"></nbp-debug-info></nbp-feedback>",
        styles: [" /*# sourceMappingURL=cj-error-view.component.css.map */ "]
    }),
    __metadata$170("design:paramtypes", [])
], CjErrorViewComponent);

var __decorate$193 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$171 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/** intero autogenerato usato per id unici per cjAutocomplete component */
var nextId$33 = 0;
exports.CjAutocompleteComponent = (function () {
    function CjAutocompleteComponent(_hostElement) {
        this._hostElement = _hostElement;
        this._primary = exports.NbpStyle.PRIMARY;
        this._inputDataStream = new rxjs_Subject.Subject();
        /**
         * Identificativo univoco per l'autocomplete.
         * Se nessun id  fornito e' auto-generato.
         */
        this.id = "cj-autocomplete-" + ++nextId$33;
        /**
         * Offset del numero di caratteri minimi da digitare per lanciare una ricerca
         * Valore di default: 4
         */
        this.cjMinCharacterOffset = 4;
        /**
         * Tempo di attesa tra l'inserimento dei caratteri e il lancio della ricerca (espresso in ms)
         * Valore di default: 200
         */
        this.cjDelaySearchTime = 200;
        /**
         * Il testo del placeholder.
         */
        this.placeholder = '';
        /**
         * (Opzionale) Titolo del box-tendina dell'autocomplete
         */
        this.cjBoxTitle = 'Risultati della ricerca';
        /**
        * Evento lanciato alla selezione di uno degli elementi dell'autocomplete
        */
        this.cjOnSelectElement = new _angular_core.EventEmitter();
    }
    Object.defineProperty(CjAutocompleteComponent.prototype, "disabled", {
        /**
         * Flag che abilita/disabilita le funzionalit associate all'autocomplete
         */
        get: function () {
            return this._cjDisabled;
        },
        set: function (value) { this._cjDisabled = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(CjAutocompleteComponent.prototype, "cjOpened", {
        /**
         * propriet che determina il fatto che la tendina sia aperta o chiusa
         */
        get: function () { return this._cjOpened; },
        set: function (value) { this._cjOpened = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    CjAutocompleteComponent.prototype._isOpened = function () {
        return this.cjOpened;
    };
    CjAutocompleteComponent.prototype._onFocusEvent = function () {
        // TODO - NECESSARIO?
    };
    CjAutocompleteComponent.prototype._onInputEvent = function () {
        this._inputDataStream.next(this.cjModel);
    };
    CjAutocompleteComponent.prototype._navigateBoxElements = function (event) {
        var firstAutocompleteElement = this._hostElement.nativeElement.querySelector('.first #autocompleteElement');
        firstAutocompleteElement.focus();
    };
    CjAutocompleteComponent.prototype._onSelectElement = function (item) {
        this.cjOnSelectElement.emit(item);
        this.cjModel = '';
        this._cjOpened = false;
    };
    CjAutocompleteComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.cjDataSource.getDataStream().subscribe(function (dataPage) {
            if (!_this._cjOpened) {
                _this._cjOpened = true;
            }
            _this._isSearchEmpty = (!dataPage.data || dataPage.data.length === 0);
            _this._data = dataPage.data.slice();
        });
        this._inputDataStream.asObservable()
            .debounceTime(this.cjDelaySearchTime)
            .subscribe(function (filterString) {
            if (filterString.length > _this.cjMinCharacterOffset) {
                _this.cjDataSource.sendDataEvent(_this.cjFilterField, filterString);
            }
            else {
                _this._cjOpened = false;
            }
        });
    };
    return CjAutocompleteComponent;
}());
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", String)
], exports.CjAutocompleteComponent.prototype, "name", void 0);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", Object)
], exports.CjAutocompleteComponent.prototype, "id", void 0);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", String)
], exports.CjAutocompleteComponent.prototype, "cjModel", void 0);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", Number)
], exports.CjAutocompleteComponent.prototype, "cjMinCharacterOffset", void 0);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", Number)
], exports.CjAutocompleteComponent.prototype, "cjDelaySearchTime", void 0);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", Object)
], exports.CjAutocompleteComponent.prototype, "placeholder", void 0);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", Boolean),
    __metadata$171("design:paramtypes", [Object])
], exports.CjAutocompleteComponent.prototype, "disabled", null);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", Object),
    __metadata$171("design:paramtypes", [Object])
], exports.CjAutocompleteComponent.prototype, "cjOpened", null);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", String)
], exports.CjAutocompleteComponent.prototype, "cjBoxTitle", void 0);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", Object)
], exports.CjAutocompleteComponent.prototype, "cjElementMappings", void 0);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", String)
], exports.CjAutocompleteComponent.prototype, "cjFilterField", void 0);
__decorate$193([
    _angular_core.Input(),
    __metadata$171("design:type", INbpAutocompleteDataSource)
], exports.CjAutocompleteComponent.prototype, "cjDataSource", void 0);
__decorate$193([
    _angular_core.Output(),
    __metadata$171("design:type", _angular_core.EventEmitter)
], exports.CjAutocompleteComponent.prototype, "cjOnSelectElement", void 0);
exports.CjAutocompleteComponent = __decorate$193([
    _angular_core.Component({selector: 'cj-autocomplete',
        template: "<div class=\"row\"><div class=\"col-md-24 col-xs-24 col-sm-24\"><div class=\"autocomplete-container\"><span class=\"icon-inside icomoon-Simboli_Risorsa-20 cursor\" *ngIf=\"cjOpened\" (click)=\"cjOpened = !cjOpened\"></span> <span class=\"icon-inside icomoon-Ricerca_zoom1\" *ngIf=\"!cjOpened\"></span> <input tabindex=\"1\" #autocompleteInput class=\"textfield-box form-control round-borders\" type=\"text\" [name]=\"name\" [id]=\"id\" [(ngModel)]=\"cjModel\" [disabled]=\"_cjDisabled\" [placeholder]=\"placeholder\" (input)=\"_onInputEvent()\"><ul [style.visibility]=\"cjOpened ? 'visible' : 'hidden'\"><div class=\"row\"><div class=\"col-md-24 text-center mrg-t-10 mrg-b-10\"><strong>{{ cjBoxTitle | uppercase }}</strong></div></div><div class=\"row\" *ngIf=\"_isSearchEmpty\"><div class=\"col-md-24 text-center mrg-t-10 mrg-b-10\">La ricerca non ha prodotto risultati</div></div><ng-container *ngFor=\"let item of _data; let i = index; let first = first; let last = last;\"><cj-autocomplete-element [cjElement]=\"item\" [cjLabelField]=\"cjElementMappings?.cjLabelField\" [cjSubtitleField]=\"cjElementMappings?.cjSubtitleField\" [cjDescriptionField]=\"cjElementMappings?.cjDescriptionField\" [cjOptionalLabelField]=\"cjElementMappings?.cjOptionalLabelField\" (cjOnClickElement)=\"_onSelectElement($event)\" [ngClass]=\"{'first': first , 'last': last} \"></cj-autocomplete-element></ng-container></ul></div></div></div>",
        styles: [".autocomplete-container{position:relative}.autocomplete-container ul{opacity:1;background:#fff;border-top-width:0;border-right-color:#323232;border-right-style:solid;border-right-width:1px;border-bottom-color:#323232;border-bottom-style:solid;border-bottom-width:1px;border-left-color:#323232;border-left-style:solid;border-left-width:1px;border-radius:0 0 2px 2px;list-style:none;margin:0 0 .625em 0;padding:0 1.25em 1.625em 1.25em;position:absolute;width:calc(100% - 100px);z-index:1000;overflow-y:auto;max-height:342px;margin-left:50px;top:50px}.autocomplete-container ul ::ng-deep li{font-size:12px;font-weight:700;text-transform:uppercase;cursor:pointer;min-height:3.125em;padding:17px 12px;border-bottom:1px solid #ccc}.autocomplete-container ul ::ng-deep li:hover{background:#c4dbbc}.autocomplete-container ul ::ng-deep li:focus{background:#c4dbbc}.autocomplete-container ul ::ng-deep li.active{background:#89bc72}.autocomplete-container ul ::ng-deep cj-autocomplete-element.last li{border-bottom:1px solid #ccc}.autocomplete-container ul ::ng-deep cj-autocomplete-element.first li{border-top:1px solid #ccc}.autocomplete-container ul.ng-hide-add{transition:all ease-out .25s}.autocomplete-container ul.ng-hide-remove{transition:all ease-out .25s}.autocomplete-container ul.ng-hide{opacity:0;max-height:0}.centered-button{padding-top:5px}.textfield-box{margin:0 0 .625em 0;padding:.375em 1em .375em 1em;color:#6f6f6f;border:1px solid #323232;border-radius:3px;font-size:1em;height:3.125em;box-shadow:none!important}.textfield-box:focus{border:2px solid #89bc72;outline:0;box-shadow:none!important}.textfield-box[disabled]{opacity:.5;background-color:#fff}.round-borders{border-radius:25px}.icon-inside{position:absolute;top:50%;right:25px;font-size:26px;transform:translateY(-50%)}.icon-inside:before{color:#258900}.icon-inside.cursor{cursor:pointer} /*# sourceMappingURL=cj-autocomplete.component.css.map */ "]
    }),
    __metadata$171("design:paramtypes", [_angular_core.ElementRef])
], exports.CjAutocompleteComponent);

var __decorate$194 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$172 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var tabindex = 1;
var CjAutocompleteElementComponent = (function () {
    function CjAutocompleteElementComponent() {
        /**
         * Evento lanciato al click sull'elemento per la selezione
         */
        this.cjOnClickElement = new _angular_core.EventEmitter();
        this._tabindex = ++tabindex;
    }
    CjAutocompleteElementComponent.prototype.ngOnInit = function () {
        this._label = getPropertyValueByPath(this.cjElement, this.cjLabelField);
        this._subtitle = getPropertyValueByPath(this.cjElement, this.cjSubtitleField);
        this._description = getPropertyValueByPath(this.cjElement, this.cjDescriptionField);
        this._optionalLabel = getPropertyValueByPath(this.cjElement, this.cjOptionalLabelField);
    };
    CjAutocompleteElementComponent.prototype._getSencondLine = function () {
        if (this._subtitle && this._description) {
            return this._subtitle + '/' + this._description;
        }
        else if (this._subtitle) {
            return this._subtitle;
        }
        else {
            return this._description;
        }
    };
    CjAutocompleteElementComponent.prototype._onSelectEvent = function (event) {
        this.cjOnClickElement.emit(this.cjElement);
    };
    return CjAutocompleteElementComponent;
}());
__decorate$194([
    _angular_core.Input(),
    __metadata$172("design:type", Object)
], CjAutocompleteElementComponent.prototype, "cjElement", void 0);
__decorate$194([
    _angular_core.Input(),
    __metadata$172("design:type", String)
], CjAutocompleteElementComponent.prototype, "cjLabelField", void 0);
__decorate$194([
    _angular_core.Input(),
    __metadata$172("design:type", String)
], CjAutocompleteElementComponent.prototype, "cjSubtitleField", void 0);
__decorate$194([
    _angular_core.Input(),
    __metadata$172("design:type", String)
], CjAutocompleteElementComponent.prototype, "cjDescriptionField", void 0);
__decorate$194([
    _angular_core.Input(),
    __metadata$172("design:type", String)
], CjAutocompleteElementComponent.prototype, "cjOptionalLabelField", void 0);
__decorate$194([
    _angular_core.Output(),
    __metadata$172("design:type", _angular_core.EventEmitter)
], CjAutocompleteElementComponent.prototype, "cjOnClickElement", void 0);
CjAutocompleteElementComponent = __decorate$194([
    _angular_core.Component({
        selector: 'cj-autocomplete-element',template: "<li id=\"autocompleteElement\" [tabindex]=\"_tabindex\" (click)=\"_onSelectEvent($event)\" (keydown.enter)=\"_onSelectEvent($event)\"><div class=\"row\"><div class=\"col-md-12 col-sm-12 col-xs-12\"><div class=\"row\"><div class=\"col-md-24 col-sm-24 col-xs-24\">{{ _label}}</div></div><div class=\"row\"><div class=\"col-md-24 col-sm-24 col-xs-24\">{{ _getSencondLine() }}</div></div></div><div class=\"col-md-12 col-sm-12 col-xs-12 text-right\"><div class=\"center-vertically\">{{_optionalLabel}}</div></div></div></li>",
        styles: [".center-vertically{padding-top:.625em} /*# sourceMappingURL=cj-autocomplete-element.component.css.map */ "],
    })
], CjAutocompleteElementComponent);

var __decorate$195 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$173 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.CjSignatureComponent = (function () {
    function CjSignatureComponent() {
        this._secondActivation = false;
        /**
         * Evento emesso al click del pulsante per il riavvio del Tablet
         * @param {EventEmitter<any>} cjOnRiavviaTablet
         */
        this.cjOnRiavviaTablet = new _angular_core.EventEmitter();
        /**
         * Evento emesso in caso di click del pulsante di ErrorAdvice
         * @param {EventEmitter<any>} cjOnErrorAdvise
         */
        this.cjOnErrorAdvise = new _angular_core.EventEmitter();
        /**
         * Evento emesso in caso di firma cartacea e click del pulsante 'Firma Completata'
         * @param {EventEmitter<any>} cjOnPaperSignCompleted
         */
        this.cjOnPaperSignConfirmed = new _angular_core.EventEmitter();
        /**
         * Evento emesso quando la funzione checkSignatureStatus del
         * datasource ritorna TRUE
         * @param {EventEmitter<any>} cjOnSignProcedureEnded
         */
        this.cjOnSignProcedureEnded = new _angular_core.EventEmitter();
    }
    Object.defineProperty(CjSignatureComponent.prototype, "cjSecondActivation", {
        /**
         * Comunica al componente che  la seconda attivazione del processo di firma
         * per l'XMLToSign.
         * NOTA: cos non sar chiamato il metodo PrintContract dello SPILayerMulticanale
         */
        get: function () { return this._secondActivation; },
        set: function (value) { this._secondActivation = coerceBooleanProperty(value); },
        enumerable: true,
        configurable: true
    });
    
    
    CjSignatureComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (!this.cjSignatureDatasource) {
            console.error('CjSignatureComponent - Datasource non presente');
            return;
        }
        switch (this.cjSignType.type) {
            // case SignType.FIRMA_ELETTRONICA_AVANZATA:
            // case SignType.FIRMA_CARTACEA:
            case exports.SignType.FEA:
            case exports.SignType.CARTA:
                this.xmlSubscription = this.cjSignatureDatasource.getFeaXmlToSign().subscribe(function (xml) {
                    _this._xmlToSign = xml;
                });
                break;
            // case SignType.FIRMA_DIGITALE_REMOTA:
            case exports.SignType.FDR:
                this.xmlSubscription = this.cjSignatureDatasource.getFdrXmlToSign().subscribe(function (xml) {
                    _this._xmlToSign = xml;
                });
                break;
        }
    };
    CjSignatureComponent.prototype.ngOnDestroy = function () {
        this.unsubscribeObservable('all');
    };
    CjSignatureComponent.prototype.unsubscribeObservable = function (name) {
        switch (name) {
            case "polling":
                if (this.pollingSubscription) {
                    this.pollingSubscription.unsubscribe();
                }
                break;
            case "xml":
                if (this.xmlSubscription) {
                    this.xmlSubscription.unsubscribe();
                }
                break;
            case "all":
                this.unsubscribeObservable('polling');
                this.unsubscribeObservable('xml');
                break;
        }
    };
    CjSignatureComponent.prototype.pollingFunction = function () {
        // console.log('CjSignatureComponent - start polling procedure');
        var _this = this;
        this.pollingSubscription = rxjs_Observable.Observable.timer(0, 1000)
            .concatMap(function () { return _this.cjSignatureDatasource.checkSignatureStatus(); })
            .subscribe(function (status) {
            if (status) {
                _this.cjOnSignProcedureEnded.emit();
                // console.log('CjSignatureComponent - stop polling procedure');
                _this.unsubscribeObservable('polling');
            }
        });
    };
    CjSignatureComponent.prototype._onPaperSignConfirmed = function () {
        // console.log('CjSignatureComponent - emitting cjOnPaperSignConfirmed');
        this.cjOnPaperSignConfirmed.emit();
    };
    CjSignatureComponent.prototype._onSignStarted = function (result) {
        if (result && this.cjSignType.type !== exports.SignType.CARTA) {
            this.pollingFunction();
        }
    };
    CjSignatureComponent.prototype._onRiavviaTablet = function () {
        this.cjOnRiavviaTablet.emit();
    };
    CjSignatureComponent.prototype._onErrorAdvise = function () {
        this.cjOnErrorAdvise.emit();
    };
    return CjSignatureComponent;
}());
__decorate$195([
    _angular_core.Input(),
    __metadata$173("design:type", Object)
], exports.CjSignatureComponent.prototype, "cjSignatureDatasource", void 0);
__decorate$195([
    _angular_core.Input(),
    __metadata$173("design:type", Object)
], exports.CjSignatureComponent.prototype, "cjSignType", void 0);
__decorate$195([
    _angular_core.Input(),
    __metadata$173("design:type", Object)
], exports.CjSignatureComponent.prototype, "cjCustomerInfo", void 0);
__decorate$195([
    _angular_core.Input(),
    __metadata$173("design:type", Boolean),
    __metadata$173("design:paramtypes", [Object])
], exports.CjSignatureComponent.prototype, "cjSecondActivation", null);
__decorate$195([
    _angular_core.Output(),
    __metadata$173("design:type", _angular_core.EventEmitter)
], exports.CjSignatureComponent.prototype, "cjOnRiavviaTablet", void 0);
__decorate$195([
    _angular_core.Output(),
    __metadata$173("design:type", _angular_core.EventEmitter)
], exports.CjSignatureComponent.prototype, "cjOnErrorAdvise", void 0);
__decorate$195([
    _angular_core.Output(),
    __metadata$173("design:type", _angular_core.EventEmitter)
], exports.CjSignatureComponent.prototype, "cjOnPaperSignConfirmed", void 0);
__decorate$195([
    _angular_core.Output(),
    __metadata$173("design:type", _angular_core.EventEmitter)
], exports.CjSignatureComponent.prototype, "cjOnSignProcedureEnded", void 0);
exports.CjSignatureComponent = __decorate$195([
    _angular_core.Component({
        selector: 'cj-signature',template: "<nbp-sign *ngIf=\"!!_xmlToSign\" [nbpSignType]=\"cjSignType\" [nbpCustomerInfo]=\"cjCustomerInfo\" [nbpXmlToSign]=\"_xmlToSign\" [nbpSecondActivation]=\"cjSecondActivation\" (nbpOnSignStarted)=\"_onSignStarted($event)\" (nbpOnRiavviaTablet)=\"_onRiavviaTablet()\" (nbpOnErrorAdvise)=\"_onErrorAdvise()\" (nbpOnPaperSignConfirmed)=\"_onPaperSignConfirmed()\"></nbp-sign>",
    }),
    __metadata$173("design:paramtypes", [])
], exports.CjSignatureComponent);

var xmlToPrint = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Documenti>\n  <Documento>\n    <NomeDocumento>Modulo VENDITAPOS</NomeDocumento>\n    <DocumentoBinario>JVBERi0xLjQNJeLjz9MN...VPRg0K</DocumentoBinario>\n    <Paperless>\n      <cod_identificativounivoco>AS2609201715151713062250524734331000PP7A1</cod_identificativounivoco>\n      <ndg>0524734331000</ndg>\n      <flag_adesione>04</flag_adesione>\n      <ndgemail1>LUIGINO.BIANCO@CRVENETO.IT</ndgemail1>\n      <cod_contrattomulticanale>47168720</cod_contrattomulticanale>\n      <intestazione>LUIGINO#BIANCO</intestazione>\n      <codice_fiscale>BNCLGN63L17H823C</codice_fiscale>\n      <cod_lingua>IT</cod_lingua>\n      <partita_iva>BNCLGN63L17H823C</partita_iva>\n      <rapporto/>\n      <progressivodocumento>1</progressivodocumento>\n      <totaledocumenti>5</totaledocumenti>\n      <tipo_documento>PP7A1</tipo_documento>\n      <SSA>3U</SSA>\n      <acronimo>POSA0</acronimo>\n      <ncopie>1</ncopie>\n      <utenza_gestore>U990621</utenza_gestore>\n      <canale>OIS</canale>\n      <cod_societa>06</cod_societa>\n      <tipocorredo>POS</tipocorredo>\n      <datacorredo>26.09.2017</datacorredo>\n      <oracorredo>15:15:17</oracorredo>\n      <cod_filiale>00516</cod_filiale>\n      <nomefiliale>ODERZO - PIAZZA CARDUCCI 6</nomefiliale>\n      <nomedeldocumento>PP7A1</nomedeldocumento>\n      <nomedelcontratto>vendita POS Family</nomedelcontratto>\n      <segnooperazione>VENDITA</segnooperazione>\n      <tipologiaoperazione>CON</tipologiaoperazione>\n    </Paperless>\n    <Archiviazione>\n      <id>AS2609201715151713062250524734331000PP7A1</id>\n      <Nsg>0524734331000</Nsg>\n      <TipoDoc>PP7A1</TipoDoc>\n      <SSA>AS</SSA>\n      <Utenza>U990621</Utenza>\n      <CodRapporto>N</CodRapporto>\n      <AreaBusiness>Tutela</AreaBusiness>\n      <famiglia>Polizze</famiglia>\n      <OwnerModuli>Banca</OwnerModuli>\n      <FaseProcesso>Dispositiva</FaseProcesso>\n      <Processo>VENDITA</Processo>\n      <CodProdotto/>\n      <TipoOfferta>OIS</TipoOfferta>\n      <Canale>31</Canale>\n      <CodSocieta>06</CodSocieta>\n      <CodFiliale>00516</CodFiliale>\n      <CodSuperPratica>2438402</CodSuperPratica>\n      <CodPratica>512268</CodPratica>\n      <CodPropostaCanale>TUTELA4025238</CodPropostaCanale>\n      <NomeFile>Modulo_VENDITAPOS.pdf</NomeFile>\n      <versione>BOZZA</versione>\n      <Progressivo>1</Progressivo>\n      <TipoConsegna>IB</TipoConsegna>\n      <Datacreazione>26/09/2017 15:15:17</Datacreazione>\n      <ModalitaProduzione>D</ModalitaProduzione>\n      <CFPIVA>BNCLGN63L17H823C</CFPIVA>\n      <NumPolizza>51770097457</NumPolizza>\n      <NumPolizzaCollettiva/>\n      <NumAdesione>51770097457</NumAdesione>\n      <TipoOperazione>CON</TipoOperazione>\n      <DataOperazione>26/09/2017 15:15:17</DataOperazione>\n      <DataEstinzione>26/09/2018 00:00:00</DataEstinzione>\n      <Compagnia>ISA</Compagnia>\n      <CodProdottoCompagnia>FAMIGLIA</CodProdottoCompagnia>\n      <Owners>BANCA</Owners>\n      <Readers>ISA</Readers>\n      <ScadenzaReaders>ISA$31/12/9999</ScadenzaReaders>\n      <CodCompagnia>419</CodCompagnia>\n      <CodDisclaimer/>\n      <NumPreventivoRE>51720560319</NumPreventivoRE>\n      <progressivodocumento>1</progressivodocumento>\n      <totaledocumenti>5</totaledocumenti>\n      <TipoGenerazione/>\n      <copiaPromotore>N</copiaPromotore>\n      <CodOperazione>14688905</CodOperazione>\n      <DesProdotto>TUTELA FAMIGLIA</DesProdotto>\n      <IdTemplate/>\n      <NumFinanziamento/>\n      <Ncopie>1</Ncopie>\n    </Archiviazione>\n  </Documento>\n  \n</Documenti>";
var maxRequest = 10;
var MockSignatureDatasource = (function () {
    function MockSignatureDatasource() {
        this.requestNumber = 0;
    }
    MockSignatureDatasource.prototype.getFeaXmlToSign = function () {
        return rxjs_Observable.Observable.of(xmlToPrint);
    };
    MockSignatureDatasource.prototype.getFdrXmlToSign = function () {
        return rxjs_Observable.Observable.of(xmlToPrint);
    };
    MockSignatureDatasource.prototype.checkSignatureStatus = function () {
        var result = false;
        if ((++this.requestNumber) > maxRequest) {
            result = true;
        }
        console.log("MockSignatureDatasource - checkSignatureStatus: " + result);
        return rxjs_Observable.Observable.of(result);
    };
    return MockSignatureDatasource;
}());

var __decorate$196 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$174 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.CjApplicationAlertComponent = (function () {
    function CjApplicationAlertComponent(applicationStatus, zone) {
        this.applicationStatus = applicationStatus;
        this.zone = zone;
        /**
         * (Opzionale) Array di alert applicativi che si pososno passare al componente
         * istanziato in pagina
         */
        this.cjApplicationAlerts = undefined;
    }
    CjApplicationAlertComponent.prototype.ngOnInit = function () {
        var _this = this;
        if (this.cjApplicationAlerts == undefined) {
            this.cjApplicationAlerts = [];
            this._alertSubscription = this.applicationStatus.getApplicationAlertStream().subscribe(function (alert) {
                // TODO in seguito anche il tipo di alert potrebbe essere derivato dal contenuto dell'alert
                // errorLevel
                var appAlert = {
                    type: exports.NbpAlertType.WARNING_BLOCCANTE,
                    content: alert.errorMessage,
                    show: true
                };
                _this.zone.run(function () {
                    _this.cjApplicationAlerts.push(appAlert);
                });
            });
        }
    };
    CjApplicationAlertComponent.prototype.ngOnDestroy = function () {
        if (this._alertSubscription) {
            this._alertSubscription.unsubscribe();
        }
    };
    CjApplicationAlertComponent.prototype._onCloseAlert = function (alertIndex) {
        this.cjApplicationAlerts.splice(alertIndex, 1);
        // this.cjApplicationAlerts[alertIndex].show = false;
    };
    // metodi pubblici esposti dal componente
    CjApplicationAlertComponent.prototype.closeAllAlert = function () {
        this.cjApplicationAlerts.splice(0, this.cjApplicationAlerts.length);
    };
    return CjApplicationAlertComponent;
}());
__decorate$196([
    _angular_core.Input(),
    __metadata$174("design:type", Array)
], exports.CjApplicationAlertComponent.prototype, "cjApplicationAlerts", void 0);
__decorate$196([
    _angular_core.Input(),
    __metadata$174("design:type", String)
], exports.CjApplicationAlertComponent.prototype, "id", void 0);
exports.CjApplicationAlertComponent = __decorate$196([
    _angular_core.Component({
        selector: 'cj-application-alert',template: "<div class=\"pad-b-12\" *ngFor=\"let alert of cjApplicationAlerts; let alertIndex = index;\"><nbp-alert-box *ngIf=\"alert.show\" (nbpClose)=\"_onCloseAlert(alertIndex)\" [nbpAlertType]=\"alert.type\">{{alert.content}}</nbp-alert-box></div>",
        styles: [":host {\n    display: inline-block;\n  }"]
    }),
    __metadata$174("design:paramtypes", [exports.ApplicationStatusService, _angular_core.NgZone])
], exports.CjApplicationAlertComponent);

var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
var __decorate$199 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$177 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param$28 = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var CjEmbeddingUtility = (function () {
    function CjEmbeddingUtility(config) {
        var _this = this;
        this.config = config;
        if (this.config && this.config.getApplicationInfo) {
            this.config.getApplicationInfo().subscribe(function (appInfo) {
                _this.callerId = 'CJ' + (appInfo.application).toUpperCase();
            });
        }
        else {
            this.callerId = 'CjAPP';
        }
    }
    CjEmbeddingUtility.prototype.createReadyMessage = function () {
        var message = {
            eventId: 'CJ_READY',
            callerId: this.callerId,
            category: 'VIEW',
            body: {}
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createModalWindowMessage = function (cmd) {
        var message = {
            eventId: 'MODAL_WINDOW',
            callerId: this.callerId,
            category: 'VIEW',
            body: {
                cmd: cmd
            }
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createLoadingWindowMessage = function (cmd) {
        var message = {
            eventId: 'LOADING_WINDOW',
            callerId: this.callerId,
            category: 'VIEW',
            body: {
                cmd: cmd
            }
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createPageSizeMessage = function (height) {
        var message = {
            eventId: 'PAGE_SIZE',
            callerId: this.callerId,
            category: 'VIEW',
            body: {
                height: height
            }
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createGotoMessage = function (dest) {
        var message = {
            eventId: 'GOTO',
            callerId: this.callerId,
            category: 'VIEW',
            body: {
                dest: dest
            }
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createCjStepMessage = function (body) {
        var message = {
            eventId: 'CJ_STEP',
            callerId: this.callerId,
            category: 'VIEW',
            body: {
                step: body
            }
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createFontSizeMessage = function (body) {
        var message = {
            eventId: 'SET_FONT_SIZE',
            callerId: this.callerId,
            category: 'VIEW',
            body: {
                fontSize: body
            }
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createContrastMessage = function (body) {
        var message = {
            eventId: 'SET_CONTRAST',
            callerId: this.callerId,
            category: 'VIEW',
            body: {
                contrast: body
            }
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createPageScrollMessage = function (scrollY, headerHeight) {
        var message = {
            eventId: 'PAGE_SCROLL',
            callerId: this.callerId,
            category: 'VIEW',
            body: {
                deltaScrollY: scrollY,
                headerHeight: headerHeight
            }
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createFloatingMenuMessage = function (body) {
        var message = {
            eventId: 'FLOATING_MENU',
            callerId: this.callerId,
            category: 'VIEW',
            body: {
                cmd: body
            }
        };
        return message;
    };
    CjEmbeddingUtility.prototype.createErrorMessage = function (error) {
        var message = {
            eventId: 'ERROR',
            callerId: this.callerId,
            category: 'VIEW',
            body: __assign({}, error)
        };
        return message;
    };
    return CjEmbeddingUtility;
}());
CjEmbeddingUtility = __decorate$199([
    _angular_core.Injectable(),
    __param$28(0, _angular_core.Inject(APP_CONFIG)),
    __metadata$177("design:paramtypes", [Object])
], CjEmbeddingUtility);

var __decorate$198 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$176 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var CjIFrameEmbeddingService = (function () {
    function CjIFrameEmbeddingService(embeddingUtility, embeddingService) {
        this.embeddingUtility = embeddingUtility;
        this.embeddingService = embeddingService;
        this.knownNdceEvents = [
            'MODAL_WINDOW',
            'PAGE_SCROLL',
            'FLOATING_MENU',
            'SET_FONT_SIZE',
            'SET_CONTRAST',
            'ERROR'
        ];
        this._outgoingMessages$ = new rxjs_ReplaySubject.ReplaySubject();
        this._incomingMessages$ = new rxjs_Subject.Subject();
    }
    Object.defineProperty(CjIFrameEmbeddingService.prototype, "isEmbeddingEnabled", {
        get: function () {
            return this._isEmbeddingEnabled;
        },
        set: function (value) {
            var _this = this;
            this._isEmbeddingEnabled = value;
            if (value) {
                window.addEventListener('message', function (msg) { return _this.receiveMessage(msg); });
                this.registerOnIncomingMessages();
                this.registerOnOutgoingMessages();
                this.registerOnOutgoingEvents();
            }
        },
        enumerable: true,
        configurable: true
    });
    CjIFrameEmbeddingService.prototype.registerOnIncomingMessages = function () {
        var _this = this;
        this._incomingMessages$.subscribe(function (message) {
            var event = _this.transformMessageToEvent(message);
            _this.embeddingService.notifyIncomingEvent(event);
        });
    };
    CjIFrameEmbeddingService.prototype.registerOnOutgoingMessages = function () {
        var _this = this;
        this._outgoingMessages$.subscribe(function (message) {
            _this.sendMessage(message);
        });
    };
    CjIFrameEmbeddingService.prototype.registerOnOutgoingEvents = function () {
        var _this = this;
        this.embeddingService.getOutgoingEventStream().subscribe(function (event) {
            var message = _this.transformEventToMessage(event);
            _this.notifyOutgoingMessage(message);
        });
    };
    CjIFrameEmbeddingService.prototype.receiveMessage = function (event) {
        var data = event.data;
        if (this.isEmbeddingMessage(data)) {
            this.notifyIncomingMessage(data);
        }
    };
    CjIFrameEmbeddingService.prototype.getOutgoingMessageStream = function () {
        return this._outgoingMessages$.asObservable();
    };
    /**
     * Permette di aggiungere un embbendingMessage
     * @param message: IEmbeddingMessage
     */
    CjIFrameEmbeddingService.prototype.notifyOutgoingMessage = function (message) {
        this._outgoingMessages$.next(message);
    };
    /**
     * Permette di ricevere embeddingMessage dall'esterno
     */
    CjIFrameEmbeddingService.prototype.notifyIncomingMessage = function (message) {
        this._incomingMessages$.next(message);
    };
    /**
     * invia un qualunque messaggio IEmbeddingMessage
     */
    CjIFrameEmbeddingService.prototype.sendMessage = function (message) {
        // TODO capire meglio cosa indicare nel secondo parametro,
        // "*"  troppo generico
        window.parent.postMessage(message, '*');
    };
    /**
     * crea e invia il messagio di CJ_READY verso l'esterno
     */
    CjIFrameEmbeddingService.prototype.sendReadyMessage = function () {
        var message = this.embeddingUtility.createReadyMessage();
        window.parent.postMessage(message, '*');
    };
    /**
     * crea e invia il messagio di MODAL_WINDOW verso l'esterno
     */
    CjIFrameEmbeddingService.prototype.sendModalWindowMessage = function (cmd) {
        var message = this.embeddingUtility.createModalWindowMessage(cmd);
        window.parent.postMessage(message, '*');
    };
    /**
     * crea e invia il messagio di LOADING_WINDOW verso l'esterno
     */
    CjIFrameEmbeddingService.prototype.sendLoadingWindowMessage = function (cmd) {
        var message = this.embeddingUtility.createLoadingWindowMessage(cmd);
        window.parent.postMessage(message, '*');
    };
    /**
     * crea e invia il messaggio di GOTO verso l'esterno
     */
    CjIFrameEmbeddingService.prototype.sendGotoMessage = function (cmd) {
        var message = this.embeddingUtility.createGotoMessage(cmd);
        window.parent.postMessage(message, '*');
    };
    CjIFrameEmbeddingService.prototype.isEmbeddingMessage = function (message) {
        return message
            && message.eventId
            && this.knownNdceEvents.indexOf(message.eventId) !== -1;
    };
    CjIFrameEmbeddingService.prototype.transformEventToMessage = function (event) {
        var message;
        switch (event.type) {
            case exports.NbpEmbeddingMessageType.CJ_READY:
                message = this.embeddingUtility.createReadyMessage();
                break;
            case exports.NbpEmbeddingMessageType.CJ_STEP:
                message = this.embeddingUtility.createCjStepMessage(event.body);
                break;
            case exports.NbpEmbeddingMessageType.ERROR:
                message = this.embeddingUtility.createErrorMessage(event.body);
                break;
            case exports.NbpEmbeddingMessageType.GOTO:
                message = this.embeddingUtility.createGotoMessage(event.body);
                break;
            case exports.NbpEmbeddingMessageType.LOADING_WINDOW_START:
                message = this.embeddingUtility.createLoadingWindowMessage('START');
                break;
            case exports.NbpEmbeddingMessageType.LOADING_WINDOW_STOP:
                message = this.embeddingUtility.createLoadingWindowMessage('STOP');
                break;
            case exports.NbpEmbeddingMessageType.MODAL_WINDOW_SHOW:
                message = this.embeddingUtility.createModalWindowMessage('SHOW');
                break;
            case exports.NbpEmbeddingMessageType.MODAL_WINDOW_HIDE:
                message = this.embeddingUtility.createModalWindowMessage('HIDE');
                break;
            case exports.NbpEmbeddingMessageType.PAGE_SIZE:
                message = this.embeddingUtility.createPageSizeMessage(event.body);
                break;
        }
        return message;
    };
    CjIFrameEmbeddingService.prototype.transformMessageToEvent = function (message) {
        var event;
        switch (message.eventId) {
            case 'MODAL_WINDOW':
                return message.body.cmd === 'SHOW'
                    ? { type: exports.NbpEmbeddingMessageType.MODAL_WINDOW_SHOW }
                    : { type: exports.NbpEmbeddingMessageType.MODAL_WINDOW_HIDE };
            case 'PAGE_SCROLL':
                return {
                    type: exports.NbpEmbeddingMessageType.PAGE_SCROLL,
                    body: message.body,
                };
            case 'FLOATING_MENU':
                return message.body.cmd === 'on'
                    ? { type: exports.NbpEmbeddingMessageType.FLOATING_MENU_ON }
                    : { type: exports.NbpEmbeddingMessageType.FLOATING_MENU_OFF };
            case 'SET_FONT_SIZE':
                return {
                    type: exports.NbpEmbeddingMessageType.SET_FONT_SIZE,
                    body: message.body,
                };
            case 'SET_CONTRAST':
                return message.body.contrast === 'on'
                    ? { type: exports.NbpEmbeddingMessageType.SET_CONTRAST_ON }
                    : { type: exports.NbpEmbeddingMessageType.SET_CONTRAST_OFF };
            case 'ERROR':
                return {
                    type: exports.NbpEmbeddingMessageType.ERROR,
                    body: message.body,
                };
        }
    };
    return CjIFrameEmbeddingService;
}());
CjIFrameEmbeddingService = __decorate$198([
    _angular_core.Injectable(),
    __metadata$176("design:paramtypes", [CjEmbeddingUtility, exports.NbpEmbeddingService])
], CjIFrameEmbeddingService);

var __decorate$197 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$175 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var WizardContainer = (function () {
    function WizardContainer() {
        this.data = {};
    }
    WizardContainer.prototype.getWizardData = function () {
        return this.data;
    };
    
    WizardContainer.prototype.setWizardData = function (data) {
        this.data = data;
    };
    return WizardContainer;
}());

exports.CjEmbeddingTestComponent = (function () {
    function CjEmbeddingTestComponent(cdr, embeddingService, iframeEmbeddingService, loadingService, route) {
        this.cdr = cdr;
        this.embeddingService = embeddingService;
        this.iframeEmbeddingService = iframeEmbeddingService;
        this.loadingService = loadingService;
        this.nbpStyle = exports.NbpStyle;
        this.multiLoadingId = 'embeddingTestLoading';
        this.loadingId = 'demoLoading';
        // Modal tests
        this.isModalOpened = false;
        this.modalButtons = [
            { id: 'chiudiModale', label: 'Chiudi', disabled: false, visible: true, style: exports.NbpStyle.PRIMARY },
        ];
        this.modalSize = exports.NbpSize.SM;
        // Goto tests
        this.gotoDestination = 'home';
        // Wizard tests
        this.dataContainer = new WizardContainer();
        this.steps = [
            { active: false, fillPercent: 100, label: 'step 1', stepDimension: exports.NbpStepDimension.MEDIO },
            { active: true, fillPercent: 50, label: 'step 2', stepDimension: exports.NbpStepDimension.PICCOLO },
            { active: false, fillPercent: 0, label: 'step 3', stepDimension: exports.NbpStepDimension.GRANDE },
            { active: true, fillPercent: 50, label: 'step 4' }
        ];
        this.embeddingUrlParams = route.snapshot.data['urlParams'];
    }
    CjEmbeddingTestComponent.prototype.ngOnInit = function () {
        this.incomingEvents = this.embeddingService
            .getIncomingEventStream()
            .scan(function (results, evt) { return results.concat(evt).slice(-10); }, [])
            .map(function (events) { return events.map(function (evt) { return JSON.stringify(evt); }).join('\n'); });
        this.outgoingMessages = this.iframeEmbeddingService
            .getOutgoingMessageStream()
            .scan(function (results, msg) { return results.concat(msg).slice(-10); }, [])
            .map(function (messages) { return messages.map(function (msg) { return JSON.stringify(msg); }).join('\n'); });
    };
    CjEmbeddingTestComponent.prototype.ngAfterViewInit = function () {
        this.sendCjReadyMessage();
        this.sendPageSizeMessage();
        this.initializeProgress();
        this.cdr.detectChanges();
    };
    CjEmbeddingTestComponent.prototype.initializeProgress = function () {
    };
    CjEmbeddingTestComponent.prototype.closeModal = function () {
        this.isModalOpened = false;
    };
    CjEmbeddingTestComponent.prototype.openModal = function () {
        this.isModalOpened = true;
    };
    CjEmbeddingTestComponent.prototype.startAnimationByMethod = function () {
        var _this = this;
        this.nbpLoadingComponent.startAnimation();
        setTimeout(function () {
            _this.nbpLoadingComponent.stopAnimation();
        }, 5000);
    };
    CjEmbeddingTestComponent.prototype.sendCjReadyMessage = function () {
        this.embeddingService.notifyOutgoingEvent({
            type: exports.NbpEmbeddingMessageType.CJ_READY
        });
    };
    CjEmbeddingTestComponent.prototype.startAnimationByValue = function () {
        var _this = this;
        this.nbpshowAnimation = true;
        setTimeout(function () {
            _this.nbpshowAnimation = false;
        }, 5000);
    };
    CjEmbeddingTestComponent.prototype.startAnimationWithMessage = function () {
        var _this = this;
        this.nbpLoadingComponents.toArray()[1].startAnimation();
        setTimeout(function () {
            _this.nbpLoadingComponents.toArray()[1].stopAnimation();
        }, 5000);
    };
    CjEmbeddingTestComponent.prototype.startAnimationByService = function () {
        var _this = this;
        this.loadingService.notifyLoadingSpinnerRequest(true, this.loadingId);
        setTimeout(function () {
            _this.loadingService.notifyLoadingSpinnerRequest(false, _this.loadingId);
        }, 5000);
    };
    CjEmbeddingTestComponent.prototype.sendGotoMessage = function () {
        this.embeddingService.notifyOutgoingEvent({
            type: exports.NbpEmbeddingMessageType.GOTO,
            body: this.gotoDestination
        });
    };
    CjEmbeddingTestComponent.prototype.sendPageSizeMessage = function () {
        this.embeddingService.notifyOutgoingEvent({
            type: exports.NbpEmbeddingMessageType.PAGE_SIZE,
            body: this.getDocumentHeight()
        });
    };
    CjEmbeddingTestComponent.prototype.wizardNextStep = function () {
        this.wizard.navigateToNext();
    };
    CjEmbeddingTestComponent.prototype.wizardPrevStep = function () {
        this.wizard.navigateToPrev();
    };
    CjEmbeddingTestComponent.prototype.sendErrorMessage = function () {
        this.embeddingService.notifyOutgoingEvent({
            type: exports.NbpEmbeddingMessageType.ERROR,
            body: {
                errorType: 'USER_TRIGGERED',
                errorCode: '000',
                errorMessage: "Errore creato dall'utente"
            }
        });
    };
    CjEmbeddingTestComponent.prototype.throwError = function () {
        throw new Error('Messaggio di errore');
    };
    CjEmbeddingTestComponent.prototype.getDocumentHeight = function () {
        /*return Math.max(
          document.body.scrollHeight, document.documentElement.scrollHeight,
          document.body.offsetHeight, document.documentElement.offsetHeight,
          document.body.clientHeight, document.documentElement.clientHeight
        );*/
        var resize;
        var element = document.getElementById('nbp-wrapper-container') ? document.getElementById('nbp-wrapper-container') : document.getElementById('body-container');
        if (element) {
            resize = element.clientHeight + 100 + 'px';
        }
        return resize;
    };
    return CjEmbeddingTestComponent;
}());
__decorate$197([
    _angular_core.ViewChild(exports.CjWizardComponent),
    __metadata$175("design:type", exports.CjWizardComponent)
], exports.CjEmbeddingTestComponent.prototype, "wizard", void 0);
__decorate$197([
    _angular_core.ViewChild(exports.NbpLoadingComponent),
    __metadata$175("design:type", exports.NbpLoadingComponent)
], exports.CjEmbeddingTestComponent.prototype, "nbpLoadingComponent", void 0);
__decorate$197([
    _angular_core.ViewChildren(exports.NbpLoadingComponent),
    __metadata$175("design:type", _angular_core.QueryList)
], exports.CjEmbeddingTestComponent.prototype, "nbpLoadingComponents", void 0);
__decorate$197([
    _angular_core.HostListener('window:resize'),
    __metadata$175("design:type", Function),
    __metadata$175("design:paramtypes", []),
    __metadata$175("design:returntype", void 0)
], exports.CjEmbeddingTestComponent.prototype, "sendPageSizeMessage", null);
exports.CjEmbeddingTestComponent = __decorate$197([
    _angular_core.Component({
        selector: 'cj-embedding-test',template: "<nbp-wrapper><nbp-progress [nbpConfiguration]=\"steps\" nbpDisableSticky id=\"progressFlottante\"></nbp-progress><div class=\"row\"><div class=\"col-md-24\"><nbp-dividing-line nbpTitle=\"Gestione evento CJ-READY\"></nbp-dividing-line></div></div><div class=\"row\"><div class=\"col-md-4\"><nbp-button [nbpLabel]=\"'Send CJ_READY'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"sendCjReadyMessage()\"></nbp-button></div></div><h2>Loading Component with manual animation</h2><p>Start Animation by call startAnimation(), a Public nbpLoadingcomponent method (call stopAnimation() after 5s and is stops the Animation): <button class=\"btn btn-default\" (click)=\"startAnimationByMethod()\">Start Animation by Method Call</button></p><p>Start Animation By Change Boolean Value from False to True (set To false after 5s and this stops the Animation): <button class=\"btn btn-default\" (click)=\"startAnimationByValue()\">Start Animation by Value Change</button></p><p>Start Animation with message: <button class=\"btn btn-default\" (click)=\"startAnimationWithMessage()\">Start Animation with custom message</button></p><nbp-loading [nbpShowAnimation]=\"nbpshowAnimation\"></nbp-loading><nbp-loading [nbpMessage]=\"'12321321'\"></nbp-loading><h2>Loading component with auto animation</h2><p>Handle Animation By invoking:</p><ul><li>NbpLoadingService.setLoadingSpinnerStatus(true):</li><li>TIMEOUT 5 secondi - NbpLoadingService.setLoadingSpinnerStatus(false):</li></ul><button class=\"btn btn-default\" (click)=\"startAnimationByService()\">Start Animation by Service</button><nbp-loading [id]=\"loadingId\" nbpAnimationModeAuto></nbp-loading><nbp-loading [id]=\"multiLoadingId\"></nbp-loading><div class=\"row\"><div class=\"col-md-24\"><nbp-dividing-line nbpTitle=\"Parametri inizializzazione\"></nbp-dividing-line></div></div><div class=\"row\"><div class=\"col-md-24\">Parametri di inizializzazione recuperati dall'URL<pre> {{embeddingUrlParams | json}} </pre></div></div><div class=\"row\"><div class=\"col-md-24\"><nbp-dividing-line nbpTitle=\"Gestione evento MODAL_WINDOW\"></nbp-dividing-line></div></div><div class=\"row\"><div class=\"col-md-6\"><nbp-button [nbpLabel]=\"'Open modal'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"openModal()\"></nbp-button></div></div><nbp-modal #componente1 nbpTitle=\"Modale di esempio\" nbpSubTitle=\"Sottotitolo Esempio\" [(nbpOpened)]=\"isModalOpened\" [nbpButtons]=\"modalButtons\" (nbpOnButtonClicked)=\"closeModal()\" [nbpSize]=\"modalSize\">Modale</nbp-modal><div class=\"row\"><div class=\"col-md-24\"><nbp-dividing-line [nbpLineStyle]=\"nbpStyle.PRIMARY\" nbpTitle=\"Gestione Evento GOTO\"></nbp-dividing-line></div></div><div class=\"row\"><div class=\"col-md-6\"><nbp-input-container [nbpLabel]=\"'Destination'\"><nbp-input-text name=\"gotoDestination\" [(ngModel)]=\"gotoDestination\"></nbp-input-text></nbp-input-container></div><div class=\"col-md-6\" style=\"margin-top:35px;\"><nbp-button [nbpLabel]=\"'Send GOTO'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"sendGotoMessage()\"></nbp-button></div></div><div class=\"row\"><div class=\"col-md-24\"><nbp-dividing-line nbpTitle=\"Gestione Evento CJ_STEP\"></nbp-dividing-line></div></div><cj-wizard #wizard [cjWizardDataContainer]=\"dataContainer\"><cj-wizard-step id=\"Step_1\" name=\"Step_1\" cjLabel=\"Primo step\"><cj-wizard-page id=\"Step_1_Page_1\" name=\"Step_1_Page_1\" cjLabel=\"Pagina 1.1\"><h3>1.1</h3><nbp-button [nbpLabel]=\"'Next'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"wizardNextStep()\"></nbp-button></cj-wizard-page><cj-wizard-page id=\"Step_1_Page_2\" name=\"Step_1_Page_2\" cjLabel=\"Pagina 1.2\"><h3>1.2</h3><nbp-button [nbpLabel]=\"'Previous'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"wizardPrevStep()\"></nbp-button><nbp-button [nbpLabel]=\"'Next'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"wizardNextStep()\"></nbp-button></cj-wizard-page></cj-wizard-step><cj-wizard-step id=\"Step_2\" name=\"Step_2\" cjLabel=\"Secondo step\"><cj-wizard-page id=\"Step_2_Page_1\" name=\"Step_2_Page_1\" cjLabel=\"Pagina 2.1\"><h3>2.1</h3><nbp-button [nbpLabel]=\"'Previous'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"wizardPrevStep()\"></nbp-button><nbp-button [nbpLabel]=\"'Next'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"wizardNextStep()\"></nbp-button></cj-wizard-page><cj-wizard-page id=\"Step_2_Page_2\" name=\"Step_2_Page_2\" cjLabel=\"Pagina 2.2\"><h3>2.2</h3><nbp-button [nbpLabel]=\"'Previous'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"wizardPrevStep()\"></nbp-button></cj-wizard-page></cj-wizard-step></cj-wizard><div class=\"row\"><div class=\"col-md-24\"><nbp-dividing-line nbpTitle=\"Gestione evento PAGE_SIZE\"></nbp-dividing-line></div></div><div class=\"row\"><div class=\"col-md-6\"><nbp-button [nbpLabel]=\"'Send PAGE_SIZE message'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"sendPageSizeMessage()\"></nbp-button></div></div><div class=\"row\"><div class=\"col-md-24\"><nbp-dividing-line nbpTitle=\"Gestione Evento ERROR\"></nbp-dividing-line></div></div><div class=\"row\"><div class=\"col-md-6\"><nbp-button [nbpLabel]=\"'Send ERROR message'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"sendErrorMessage()\"></nbp-button></div><div class=\"col-md-6\"><nbp-button [nbpLabel]=\"'Throw Error'\" [nbpStyle]=\"nbpStyle.PRIMARY\" (nbpClick)=\"throwError()\"></nbp-button></div></div><div class=\"row\"><div class=\"col-md-24\"><nbp-dividing-line nbpTitle=\"Riepilogo eventi Inviati & Ricevuti\"></nbp-dividing-line></div></div><div class=\"row\"><div class=\"col-md-12\"><h2>Ultimi 10 messaggi inviati.</h2><pre>{{ outgoingMessages | async }}</pre></div><div class=\"col-md-12\"><h2>Ultimi 10 eventi ricevuti.</h2><pre>{{ incomingEvents | async }}</pre></div></div></nbp-wrapper>",
    }),
    __metadata$175("design:paramtypes", [_angular_core.ChangeDetectorRef,
        exports.NbpEmbeddingService,
        CjIFrameEmbeddingService,
        exports.NbpLoadingService,
        _angular_router.ActivatedRoute])
], exports.CjEmbeddingTestComponent);

var __decorate$200 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$178 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.CjEmbeddingParametersResolver = (function () {
    function CjEmbeddingParametersResolver(router, cjIframeEmbeddingService, cjEmbeddingUtility) {
        this.router = router;
        this.cjIframeEmbeddingService = cjIframeEmbeddingService;
        this.cjEmbeddingUtility = cjEmbeddingUtility;
    }
    CjEmbeddingParametersResolver.prototype.resolve = function (route, state$$1) {
        var _this = this;
        var fontSizeParam = route.queryParams['fontSize'] ? route.queryParams['fontSize'] : exports.NbpFontSize.SMALL;
        var fontSize = (exports.NbpFontSize[fontSizeParam]);
        var contrasto = route.queryParams['contrast'] === 'on' ? 'on' : 'off';
        var pageScroll = route.queryParams['pageScroll'] ? route.queryParams['pageScroll'] : 0;
        var headerHeight = route.queryParams['headerHeight'] ? route.queryParams['headerHeight'] : 70;
        var floatingMenu = route.queryParams['floatingMenu'] === 'on' ? 'on' : 'off';
        var messages = new Array();
        messages.push(this.cjEmbeddingUtility.createFontSizeMessage(fontSize));
        messages.push(this.cjEmbeddingUtility.createContrastMessage(contrasto));
        messages.push(this.cjEmbeddingUtility.createPageScrollMessage(pageScroll, headerHeight));
        messages.push(this.cjEmbeddingUtility.createFloatingMenuMessage(floatingMenu));
        messages.forEach(function (message) {
            _this.cjIframeEmbeddingService.notifyIncomingMessage(message);
        });
        return {
            appFontSize: fontSize,
            contrasto: contrasto,
            pageScroll: pageScroll,
            headerHeight: headerHeight,
            floatingMenu: floatingMenu
        };
    };
    CjEmbeddingParametersResolver.prototype.sendMessages = function (MessageMap) {
    };
    return CjEmbeddingParametersResolver;
}());
exports.CjEmbeddingParametersResolver = __decorate$200([
    _angular_core.Injectable(),
    __metadata$178("design:paramtypes", [_angular_router.Router,
        CjIFrameEmbeddingService,
        CjEmbeddingUtility])
], exports.CjEmbeddingParametersResolver);

var __decorate$201 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$179 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.CjEmbeddingEnableGuard = (function () {
    function CjEmbeddingEnableGuard(iframeEmbeddingService) {
        this.iframeEmbeddingService = iframeEmbeddingService;
    }
    CjEmbeddingEnableGuard.prototype.canActivate = function (route, state$$1) {
        this.iframeEmbeddingService.isEmbeddingEnabled = true;
        return true;
    };
    return CjEmbeddingEnableGuard;
}());
exports.CjEmbeddingEnableGuard = __decorate$201([
    _angular_core.Injectable(),
    __metadata$179("design:paramtypes", [CjIFrameEmbeddingService])
], exports.CjEmbeddingEnableGuard);

var __decorate$173 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
// ERROR_HANDLER - start
// ERROR_HANDLER: end
exports.CjModule = (function () {
    function CjModule() {
    }
    return CjModule;
}());
exports.CjModule = __decorate$173([
    _angular_core.NgModule({
        imports: [
            _angular_common.CommonModule,
            _angular_forms.FormsModule,
            exports.NbpModule,
            _angular_router.RouterModule,
            _angular_common_http.HttpClientModule
        ],
        declarations: [
            exports.CjBodyComponent,
            exports.CjWizardComponent,
            exports.CjWizardPageComponent,
            exports.CjWizardStepComponent,
            exports.CjPrivacyComponent,
            CjPrivacyFormComponent,
            exports.CjShoppingCartComponent,
            CjShoppingCartElementComponent,
            CjShoppingCartProductComponent,
            exports.CjErrorModalComponent,
            CjErrorViewComponent,
            exports.CjAutocompleteComponent,
            CjAutocompleteElementComponent,
            exports.CjSignatureComponent,
            exports.CjApplicationAlertComponent,
            exports.CjEmbeddingTestComponent
        ],
        entryComponents: [
            exports.CjWizardPageComponent
        ],
        providers: [
            exports.CjContextService,
            exports.CjContextClientService,
            exports.CjCustomContextClientService,
            exports.CjCustomContextService,
            CjWizardHelper,
            exports.CjPrivacyService,
            exports.CjPrivacyClientService,
            exports.ShoppingCartUtility,
            CjProgressConfigurationService,
            // ERROR_HANDLER: start
            {
                provide: _angular_core.ErrorHandler,
                useClass: exports.GlobalErrorHandlerService
            },
            GlobalErrorHandlerHelperService,
            exports.ApplicationStatusService,
            EventLoggerService,
            {
                provide: _angular_core.APP_INITIALIZER,
                useFactory: ApplicationEventLoggerFactory,
                deps: [EventLoggerService],
                multi: true
            },
            exports.ServerEventLoggerService,
            ConsoleEventLoggerService,
            // ERROR_HANDLER: stop
            CjIFrameEmbeddingService,
            CjEmbeddingUtility,
            exports.CjEmbeddingParametersResolver,
            exports.NbpEmbeddingService,
            exports.NbpViewSettingsService,
            exports.CjEmbeddingEnableGuard
        ],
        exports: [
            exports.CjBodyComponent,
            exports.CjWizardComponent,
            exports.CjWizardPageComponent,
            exports.CjWizardStepComponent,
            exports.CjPrivacyComponent,
            exports.CjShoppingCartComponent,
            exports.CjErrorModalComponent,
            CjErrorViewComponent,
            exports.CjAutocompleteComponent,
            exports.CjSignatureComponent,
            exports.CjApplicationAlertComponent,
            exports.CjEmbeddingTestComponent
        ]
    })
], exports.CjModule);

var __decorate$204 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
//TODO refactor splitting View and Model
var NbpChartService = (function () {
    function NbpChartService() {
    }
    return NbpChartService;
}());
NbpChartService = __decorate$204([
    _angular_core.Injectable()
], NbpChartService);

var __decorate$203 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$180 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpBarChartComponent = (function () {
    function NbpBarChartComponent() {
        /** Testo dell' azione custom di selezione (es. Dettagli) */
        this.nbpSelectionLabel = '';
        /** default width */
        this.width = 300;
        /** default height */
        this.height = 100;
        /**
         * Evento emesso al click sul grafico
         * @param {EventEmitter<any>}  nbpOnSelection
         */
        this.nbpOnSelection = new _angular_core.EventEmitter();
        /** larghezza degli anelli */
        this.nbpBarWidth = 15;
        /** spaziatura tra gli anelli */
        this.nbpBarSpacing = 5;
        this._bars = [];
        this._padding = 15;
        this._footerHeight = 10;
    }
    NbpBarChartComponent.prototype.ngOnInit = function () {
        this.updateSize();
    };
    NbpBarChartComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        this.updateSize();
        var initialAngle = 0;
        // TODO rewrite in more functional style
        this.nbpData.barGroups.forEach(function (barGroup, barGroupIndex) {
            barGroup.bars.forEach(function (bar, barIndex) {
                var stackOnValue = 0;
                if (barIndex > 0) {
                    stackOnValue += barGroup.bars[barIndex - 1].value;
                }
                if (stackOnValue > bar.max) {
                    stackOnValue = bar.max;
                }
                var value = bar.value;
                if (stackOnValue + value > bar.max) {
                    value = bar.max - stackOnValue;
                }
                var barView = {
                    id: bar.id,
                    label: bar.label,
                    color: bar.color,
                    value: value,
                    stackOnValue: stackOnValue,
                    path: '',
                    r: 0,
                    lane: barGroupIndex
                };
                _this._bars.push(barView);
            });
        });
        this._bars.forEach(function (bar, index) {
            bar.r = _this._externalRadius - (_this.nbpBarWidth * bar.lane) - (_this.nbpBarSpacing * bar.lane);
            var angle = _this._chartWidth * bar.value / 100;
            var stackOn = _this._chartWidth * bar.stackOnValue / 100;
            var angleValue = initialAngle + angle + stackOn;
            bar.endx = angleValue;
            bar.endy = _this._chartCenter - bar.r;
            bar.startx = 0 + stackOn;
            bar.starty = _this._chartCenter - bar.r;
            bar.path = "M" + bar.startx + "," + bar.starty + "  L" + bar.endx + "," + bar.endy;
        });
    };
    NbpBarChartComponent.prototype.updateSize = function () {
        this._chartWidth = this.width - 2 * this._padding;
        this._chartHeight = this.height - 2 * this._padding;
        this._chartEndy = this._chartHeight - this._footerHeight; //TODO refactor naming
        this._chartCenter = Math.min(this._chartWidth / 2, this._chartEndy / 2);
        this._externalRadius = this._chartCenter - this.nbpBarWidth / 2;
    };
    NbpBarChartComponent.prototype._onAction = function (value) {
        console.log('nbpChartComponent - Emiting: nbpOnSelection', value);
        this.nbpOnSelection.emit(value);
    };
    return NbpBarChartComponent;
}());
__decorate$203([
    _angular_core.Input(),
    __metadata$180("design:type", Object)
], exports.NbpBarChartComponent.prototype, "nbpSelectionLabel", void 0);
__decorate$203([
    _angular_core.Input(),
    __metadata$180("design:type", Object)
], exports.NbpBarChartComponent.prototype, "width", void 0);
__decorate$203([
    _angular_core.Input(),
    __metadata$180("design:type", Object)
], exports.NbpBarChartComponent.prototype, "height", void 0);
__decorate$203([
    _angular_core.Input(),
    __metadata$180("design:type", Object)
], exports.NbpBarChartComponent.prototype, "nbpData", void 0);
__decorate$203([
    _angular_core.Input(),
    __metadata$180("design:type", Number)
], exports.NbpBarChartComponent.prototype, "testTrigger", void 0);
__decorate$203([
    _angular_core.Output(),
    __metadata$180("design:type", _angular_core.EventEmitter)
], exports.NbpBarChartComponent.prototype, "nbpOnSelection", void 0);
__decorate$203([
    _angular_core.Input(),
    __metadata$180("design:type", Object)
], exports.NbpBarChartComponent.prototype, "nbpBarWidth", void 0);
__decorate$203([
    _angular_core.Input(),
    __metadata$180("design:type", Object)
], exports.NbpBarChartComponent.prototype, "nbpBarSpacing", void 0);
exports.NbpBarChartComponent = __decorate$203([
    _angular_core.Component({
        selector: 'nbp-bar-chart',template: "<div class=\"nbp-ring-chart\"><h3 class=\"center-title\">{{nbpData.title}}</h3><svg viewBox=\"0 0 300 60\" [attr.width]=\"'300'\" [attr.height]=\"'100%'\"><svg:path *ngFor=\"let bar of _bars\" [attr.d]=\"bar.path\" [style.stroke]=\"bar.color\" [style.stroke-width]=\"nbpBarWidth\" style=\"fill:none;\"/><svg:g [attr.transform]=\"'translate('+_chartCenter+' '+_chartCenter+')'\" (click)=\"_onAction('Default')\"></svg:g><svg:g [attr.transform]=\"'translate(0 '+_chartEndy+')'\"></svg:g></svg><h3 *ngFor=\"let header of nbpData.headers\" class=\"summary-text\"><span *ngIf=\"header.content\" [innerHTML]=\"header.content\"></span></h3></div>",
        styles: [".button-icon{font-size:2em!important;color:#000;display:inline-block;vertical-align:middle}.nbp-ring-chart{width:100%;padding:10px}.svg-preserve-aspect-container{width:100%;height:100%;position:relative}.svg-preserve-aspect-canvas{display:block;width:100%;height:100%;visibility:hidden}.svg-preserve-aspect{width:100%;height:100%;left:0;position:absolute;top:0}.legend-label{font-family:sans-serif;font-size:1em}.summary-text{font-family:sans-serif;font-size:1em}.summary-value{font-weight:700}.center-title{font-size:1.2em;font-weight:700}.pointer-cursor{cursor:pointer}.center-subtitle{cursor:pointer;font-size:.8em;fill:#90ee90;font-weight:700}h3{margin-top:1px}.chart-heading{margin-top:5px;margin-bottom:15px} /*# sourceMappingURL=nbp-ring-chart.component.css.map */ "],
        providers: [NbpChartService]
    }),
    __metadata$180("design:paramtypes", [])
], exports.NbpBarChartComponent);

var __decorate$205 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata$181 = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
exports.NbpRingChartComponent = (function () {
    function NbpRingChartComponent() {
        /** Testo dell' azione custom di selezione (es. Dettagli) */
        this.nbpSelectionLabel = '';
        /** default width */
        this.width = 300;
        /** default height */
        this.height = 400;
        /**
         * Evento emesso al click sul grafico
         * @param {EventEmitter<any>}  nbpOnSelection
         */
        this.nbpOnSelection = new _angular_core.EventEmitter();
        /** larghezza degli anelli */
        this.nbpBarWidth = 15;
        /** spaziatura tra gli anelli */
        this.nbpBarSpacing = 5;
        this._bars = [];
        this._titleSpans = [];
        this._titleLineHeight = 20;
        this._titleStart = 0;
        this._selectionActionStart = 0;
        this._padding = 15;
        this._footerHeight = 80;
    }
    NbpRingChartComponent.prototype.ngOnInit = function () {
        this.updateSize();
    };
    NbpRingChartComponent.prototype.ngOnChanges = function (changes) {
        var _this = this;
        var titleWords = this.nbpData.title.split(' ');
        var lineLength = 10;
        var currentSpan = '';
        titleWords.forEach(function (word) {
            currentSpan += word;
            currentSpan += ' ';
            if (currentSpan.length > lineLength) {
                _this._titleSpans.push(currentSpan);
                currentSpan = '';
            }
        });
        if (currentSpan != '') {
            this._titleSpans.push(currentSpan);
        }
        this._titleStart = -this._titleLineHeight * this._titleSpans.length / 2 + this._titleLineHeight / 2;
        this._selectionActionStart = this._titleLineHeight * this._titleSpans.length / 2 + this._titleLineHeight / 2;
        this.updateSize();
        var initialAngle = Math.PI / 2;
        // TODO rewrite in more functional style
        this.nbpData.barGroups.forEach(function (barGroup, barGroupIndex) {
            var stackOnValue = 0;
            barGroup.bars.forEach(function (bar, barIndex) {
                if (barIndex > 0) {
                    stackOnValue += barGroup.bars[barIndex - 1].value;
                }
                if (stackOnValue > bar.max) {
                    stackOnValue = bar.max;
                }
                var value = bar.value;
                if (stackOnValue + value > bar.max) {
                    value = bar.max - stackOnValue;
                }
                if (value - bar.max < 0.001) {
                    value *= 0.9999;
                }
                var barView = {
                    id: bar.id,
                    label: bar.label,
                    color: bar.color,
                    value: value,
                    stackOnValue: stackOnValue,
                    path: '',
                    r: 0,
                    lane: barGroupIndex
                };
                _this._bars.push(barView);
            });
        });
        this._bars.forEach(function (bar, index) {
            bar.r = _this._externalRadius - (_this.nbpBarWidth * bar.lane) - (_this.nbpBarSpacing * bar.lane);
            var stackOnAngle = 2 * Math.PI * (bar.stackOnValue / 100);
            var angle = 2 * Math.PI * (bar.value / 100);
            var angleValue = initialAngle - angle;
            bar.endx = _this._chartCenter + bar.r * Math.cos(angleValue - stackOnAngle);
            bar.endy = _this._chartCenter - bar.r * Math.sin(angleValue - stackOnAngle);
            bar.startx = _this._chartCenter + bar.r * Math.cos(initialAngle - stackOnAngle);
            bar.starty = _this._chartCenter - bar.r * Math.sin(initialAngle - stackOnAngle);
            var largeArcFlag = angle <= Math.PI ? "0" : "1";
            var sweepArcFlag = 1;
            bar.path = "M" + bar.startx + "," + bar.starty + "  A" + bar.r + "," + bar.r + " 0 " + largeArcFlag + "," + sweepArcFlag + " " + bar.endx + "," + bar.endy;
        });
    };
    NbpRingChartComponent.prototype.updateSize = function () {
        this._chartWidth = this.width - 2 * this._padding;
        this._chartHeight = this.height - 2 * this._padding;
        this._chartEndy = this._padding + this._chartHeight - this._footerHeight; //TODO refactor naming
        var radius = Math.min(this._chartWidth / 2, this._chartEndy / 2);
        this._chartCenter = this._padding + radius;
        this._externalRadius = radius - this.nbpBarWidth / 2;
    };
    NbpRingChartComponent.prototype._onAction = function (value) {
        console.log('nbpChartComponent - Emiting: nbpOnSelection', value);
        this.nbpOnSelection.emit(value);
    };
    return NbpRingChartComponent;
}());
__decorate$205([
    _angular_core.Input(),
    __metadata$181("design:type", Object)
], exports.NbpRingChartComponent.prototype, "nbpSelectionLabel", void 0);
__decorate$205([
    _angular_core.Input(),
    __metadata$181("design:type", Object)
], exports.NbpRingChartComponent.prototype, "width", void 0);
__decorate$205([
    _angular_core.Input(),
    __metadata$181("design:type", Object)
], exports.NbpRingChartComponent.prototype, "height", void 0);
__decorate$205([
    _angular_core.Input(),
    __metadata$181("design:type", Object)
], exports.NbpRingChartComponent.prototype, "nbpData", void 0);
__decorate$205([
    _angular_core.Input(),
    __metadata$181("design:type", Number)
], exports.NbpRingChartComponent.prototype, "testTrigger", void 0);
__decorate$205([
    _angular_core.Output(),
    __metadata$181("design:type", _angular_core.EventEmitter)
], exports.NbpRingChartComponent.prototype, "nbpOnSelection", void 0);
__decorate$205([
    _angular_core.Input(),
    __metadata$181("design:type", Object)
], exports.NbpRingChartComponent.prototype, "nbpBarWidth", void 0);
__decorate$205([
    _angular_core.Input(),
    __metadata$181("design:type", Object)
], exports.NbpRingChartComponent.prototype, "nbpBarSpacing", void 0);
exports.NbpRingChartComponent = __decorate$205([
    _angular_core.Component({
        selector: 'nbp-ring-chart',template: "<div class=\"nbp-ring-chart\"><section class=\"chart-heading\"><h3 *ngFor=\"let header of nbpData.headers\" class=\"summary-text text-center\"><span *ngIf=\"header.content\" [innerHTML]=\"header.content\"></span><nbp-tooltip *ngIf=\"header.tooltipContent\" nbpPosition=\"Right\" nbpVisibilityStrategy=\"click\" [nbpText]=\"header.tooltipContent\"><span class=\"icon button-icon icon-question-circle-o\"></span></nbp-tooltip></h3></section><div class=\"svg-preserve-aspect-container\"><canvas class=\"svg-preserve-aspect-canvas\" height=\"400\" width=\"300\"></canvas><svg viewBox=\"0 0 300 400\" class=\"svg-preserve-aspect\"><defs><filter id=\"dropshadow\" x=\"-40%\" y=\"-40%\" width=\"180%\" height=\"180%\" filterUnits=\"userSpaceOnUse\"><feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"/><feOffset dx=\"5\" dy=\"5\" result=\"offsetblur\"/><feOffset dx=\"-5\" dy=\"-5\" result=\"offsetblur\"/><feMerge><feMergeNode/><feMergeNode in=\"SourceGraphic\"/><feMergeNode in=\"SourceGraphic\"/></feMerge></filter></defs><svg:path *ngFor=\"let bar of _bars\" [attr.d]=\"bar.path\" [style.stroke]=\"bar.color\" [style.stroke-width]=\"nbpBarWidth\" style=\"fill:none;\"/><svg:g [attr.transform]=\"'translate('+_chartCenter+' '+_chartCenter+')'\" (click)=\"_onAction('Default')\"><svg:text *ngFor=\"let titleSpan of _titleSpans; let index=index\" [attr.y]=\"_titleStart + (index * _titleLineHeight)\" class=\"center-title\" text-anchor=\"middle\" alignment-baseline=\"central\">{{titleSpan}}</svg:text><svg:text *ngIf=\"nbpSelectionLabel\" [attr.y]=\"_selectionActionStart\" class=\"center-subtitle\" text-anchor=\"middle\" alignment-baseline=\"central\">{{nbpSelectionLabel}} &gt;</svg:text></svg:g><svg:g [attr.transform]=\"'translate(0 '+_chartEndy+')'\"><svg:g *ngFor=\"let bar of _bars; let index=index\" [attr.transform]=\"'translate(8 '+(index * 20)+')'\"><svg:circle x=\"7\" y=\"10\" r=\"7\" [style.fill]=\"bar.color\"></svg:circle><svg:text x=\"20\" y=\"0\" alignment-baseline=\"central\" class=\"legend-label\">{{bar.label}}</svg:text></svg:g></svg:g></svg></div></div>",
        styles: [".button-icon{font-size:2em!important;color:#000;display:inline-block;vertical-align:middle}.nbp-ring-chart{width:100%;padding:10px}.svg-preserve-aspect-container{width:100%;height:100%;position:relative}.svg-preserve-aspect-canvas{display:block;width:100%;height:100%;visibility:hidden}.svg-preserve-aspect{width:100%;height:100%;left:0;position:absolute;top:0}.legend-label{font-family:sans-serif;font-size:1em}.summary-text{font-family:sans-serif;font-size:1em}.summary-value{font-weight:700}.center-title{font-size:1.2em;font-weight:700}.pointer-cursor{cursor:pointer}.center-subtitle{cursor:pointer;font-size:.8em;fill:#90ee90;font-weight:700}h3{margin-top:1px}.chart-heading{margin-top:5px;margin-bottom:15px} /*# sourceMappingURL=nbp-ring-chart.component.css.map */ "],
        providers: [NbpChartService]
    })
    /**
     * Componente ring-chart
    */
    ,
    __metadata$181("design:paramtypes", [])
], exports.NbpRingChartComponent);

var __decorate$202 = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
exports.NbpChartModule = (function () {
    /** Module containing charting components */
    function NbpChartModule() {
    }
    return NbpChartModule;
}());
exports.NbpChartModule = __decorate$202([
    _angular_core.NgModule({
        imports: [
            _angular_common.CommonModule,
            exports.NbpModule
        ],
        declarations: [
            exports.NbpRingChartComponent,
            exports.NbpBarChartComponent
        ],
        providers: [],
        exports: [
            exports.NbpRingChartComponent,
            exports.NbpBarChartComponent
        ]
    })
    /** Module containing charting components */
], exports.NbpChartModule);

// TODO CHARTS cleanup

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var CJLIB_MODULES = [
    exports.NbpModule,
    exports.NbpChartModule,
    exports.CjModule
];
exports.CjLibModule = (function () {
    function CjLibModule() {
    }
    return CjLibModule;
}());
exports.CjLibModule = __decorate([
    _angular_core.NgModule({
        imports: CJLIB_MODULES,
        exports: CJLIB_MODULES
    })
], exports.CjLibModule);

// export * from './core';
// export * from './forms/index';

exports.APP_CONFIG = APP_CONFIG;
exports.APP_ALERT_DEF = APP_ALERT_DEF;
exports.NbpAccordionEvent = NbpAccordionEvent;
exports.NbpDataSource = NbpDataSource;
exports.INbpDataSource = INbpDataSource;
exports.NbpAutocompleteDatasource = NbpAutocompleteDatasource;
exports.FileUploadModule = ng2FileUpload.FileUploadModule;
exports.ClickOutsideModule = ng4ClickOutside.ClickOutsideModule;
exports.NbpCalendarDateModel = NbpCalendarDateModel;
exports.ICjCustomContextService = ICjCustomContextService;
exports.TestCjWizardContextSource = TestCjWizardContextSource;
exports.ConsoleEventLoggerService = ConsoleEventLoggerService;
exports.MockSignatureDatasource = MockSignatureDatasource;

Object.defineProperty(exports, '__esModule', { value: true });

})));
