var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
import { Component, Input, Output, EventEmitter, HostListener, Inject } from '@angular/core';
import { DOCUMENT } from '@angular/common';
var NbpStepNavigabiliComponent = (function () {
    // Avanti() { }
    // Indietro() { }
    function NbpStepNavigabiliComponent(document) {
        this.document = document;
        this.stickyActive = false;
        /**
         * Booleano opzionale che indica se si voglia gestire o meno il comportamento sticky allo scroll.
         * Se false, il componente verrà nascosto allo scroll, altrimenti gli verrà assegnata una posizione fissa.
         */
        this.sticky = true;
        /**
         * Evento emesso all'avanzamento. Include indice (index) e step selezionato (data).
         */
        this.nbpOnStepClick = new EventEmitter();
    }
    NbpStepNavigabiliComponent.prototype.selectStep = function (index) {
        console.log("Select Step: " + JSON.stringify(this.nbpSteps[index]));
        var selectedStep = this.nbpSteps[index];
        if (!selectedStep.disabled && !selectedStep['disableClick']) {
            var navigationStepEvent = {
                index: index,
                data: this.nbpSteps[index]
            };
            this.nbpOnStepClick.emit(navigationStepEvent);
        }
    };
    ;
    NbpStepNavigabiliComponent.prototype.onWindowScroll = function () {
        if (this.sticky == false) {
            return;
        }
        var number = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        if (number > 70) {
            this.stickyActive = true; //versione reply
            //this.sticky = true //versione nuova
        }
        else {
            this.stickyActive = false; //versione reply
            //this.sticky = false //versione nuova
        }
    };
    NbpStepNavigabiliComponent.prototype.ngOnInit = function () {
        // this.nbpSteps[0].active = 'active';
    };
    return NbpStepNavigabiliComponent;
}());
__decorate([
    Input(),
    __metadata("design:type", Boolean)
], NbpStepNavigabiliComponent.prototype, "sticky", void 0);
__decorate([
    Input(),
    __metadata("design:type", Array)
], NbpStepNavigabiliComponent.prototype, "nbpSteps", void 0);
__decorate([
    Output(),
    __metadata("design:type", EventEmitter)
], NbpStepNavigabiliComponent.prototype, "nbpOnStepClick", void 0);
__decorate([
    HostListener("window:scroll", []),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], NbpStepNavigabiliComponent.prototype, "onWindowScroll", null);
NbpStepNavigabiliComponent = __decorate([
    Component({
        selector: 'nbp-step-navigabili',
        template: "<div class=\"step-container\" style=\"margin-top: -0.8em;\" [ngClass]=\"{'sticky':stickyActive}\"><div class=\"cont-step-header container\"><table class=\"step-header-table\"><tr class=\"step-header-row\"><td *ngFor=\"let step of nbpSteps; let i = index\" class=\"completed-step\" [ngClass]=\"{'step-corrente': step.selected, 'disabled-step': step.disabled,'step-completare':step.activated && !step.selected && !step.disabled,'step-completato' : !step.selected && !step.disabled && !step.activated}\"><div class=\"step-cerchio\" [ngClass]=\"{'completed' : !step.selected && !step.disabled}\" (click)=\"selectStep(i)\"><i class=\"icomoon-ToDo_Stepper\"></i> <i class=\"icomoon-ToDo_Stepper2\"></i> <i class=\"icomoon-Freccia_Stepper\"></i> <i class=\"icomoon-Spunta_Stepper\"></i> <i class=\"icomoon-Spunta_Stepper2\"></i></div><span class=\"tabName\" (click)=\"selectStep(i)\">{{step.name}}</span></td></tr></table></div></div><div *ngIf=\"stickyActive\" style=\"height:5.375em\"></div>",
        styles: [".step-container{background-color:#f8f8f8;border-bottom:.0625em solid #ccc;margin-top:-.125em}.sticky{position:fixed;right:0;left:0;z-index:1030;top:3.375em}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.sticky .step-header-table{top:0}.step-header-table{top:-7px;position:relative}}.icomoon-ToDo_Stepper{display:none;color:#258900;font-size:1.084em;color:#ccc;position:relative;top:-3px;left:-2px}.icomoon-ToDo_Stepper2{display:none!important;color:#258900;font-size:1.084em;position:relative;top:-3px;left:-2px}.icomoon-Freccia_Stepper{display:none;font-size:1.834em;color:#258900;position:relative;top:-3px;left:-2px}.icomoon-Spunta_Stepper{display:none;font-size:1.834em;color:#258900;position:relative;top:-3px;left:-2px}.icomoon-Spunta_Stepper2{display:none;font-size:1.834em;color:#258900;position:relative;top:-3px;left:-2px}.cont-step-header{padding:0!important;height:3.25em!important}.step-header-table{table-layout:fixed;width:100%;margin-top:-.75em}.step-header-row{text-align:center;color:#6f6f6f;height:3.125em;text-transform:uppercase;font-size:.75em;font-weight:700}.step-header-row .tabName{font-size:.75em}.step-header-row td{padding-top:.375em;vertical-align:top;position:relative}.step-header-row td:last-child::after{display:none}.step-header-row td::after{content:\"\";display:block;position:absolute;top:1.8125em;width:100%;height:.125em;left:50%;border-top:0 solid;border-bottom:.167em;margin-left:15%;width:69%;background-color:#89bc72}.step-header-row .step-cerchio{position:relative;z-index:1;margin:1em auto .5em auto;display:block;width:1.5625em;height:1.5625em;border-radius:100%;background-color:#f8f8f8;cursor:pointer}.step-header-row .step-cerchio.completed:hover{background-color:#fff}.step-header-row .step-cerchio.completed:hover .icomoon-Spunta_Stepper{display:none!important}.step-header-row .step-cerchio.completed:hover .icomoon-Spunta_Stepper2{display:inline!important}.step-header-row .step-cerchio.completed:hover .icomoon-ToDo_Stepper{display:none!important}.step-header-row .step-cerchio.completed .icomoon-Spunta_Stepper{display:inline!important}.step-header-row .step-cerchio.completed .icomoon-ToDo_Stepper{display:none!important}.step-header-row .step-corrente{color:#258900}.step-header-row .step-corrente .step-cerchio{margin-top:.75em;width:1.5625em;height:1.6825em;background-color:#f8f8f8}.step-header-row .step-corrente .icomoon-Freccia_Stepper{display:inline!important}.step-header-row .step-corrente span{cursor:pointer;color:#258900}.step-header-row .disabled-step{color:#258900}.step-header-row .disabled-step .step-cerchio{cursor:default;width:1.004em;height:1.004em;margin-bottom:.71em;margin-top:1.2em}.step-header-row .disabled-step .tabName{opacity:.5;cursor:default}.step-header-row .disabled-step .icomoon-ToDo_Stepper{display:inline!important;opacity:.5;color:#258900}.step-header-row .step-completare{color:#258900}.step-header-row .step-completare .step-cerchio{width:1.004em;height:1.004em;margin-bottom:.71em;margin-top:1.2em}.step-header-row .step-completare .step-cerchio:hover{background-color:#fff}.step-header-row .step-completare .step-cerchio:hover .icomoon-ToDo_Stepper2{display:inline!important}.step-header-row .step-completare .step-cerchio:hover .icomoon-Spunta_Stepper{display:none!important}.step-header-row .step-completare .step-cerchio:hover .icomoon-ToDo_Stepper{display:none!important;color:#258900}.step-header-row .step-completare .step-cerchio .icomoon-ToDo_Stepper{display:inline!important;color:#258900}.step-header-row .step-completare .step-cerchio .icomoon-Spunta_Stepper{display:none!important}.step-header-row .step-completare .step-cerchio .icomoon-Spunta_Stepper2{display:none!important}.step-header-row .step-completare span{cursor:pointer}.step-header-row .completed-step{color:#258900}.step-header-row .completed-step::after{background-image:none;background-color:#258900;border-style:solid}.step-header-row .completed-step span{cursor:pointer}.step-header-row .step-completato{color:#258900}.step-header-row .step-completato .step-cerchio{margin-top:.75em;margin-bottom:.6em}.step-header-row .step-completato span{cursor:pointer}.step-content{padding:1.25em;text-align:left}:host-context(.contrasto-on) .step-container{background-color:#fff;border-bottom:.0625em solid #000}:host-context(.contrasto-on) .icomoon-ToDo_Stepper{color:#000}:host-context(.contrasto-on) .icomoon-ToDo_Stepper2{color:#000}:host-context(.contrasto-on) .icomoon-Freccia_Stepper{color:#000}:host-context(.contrasto-on) .icomoon-Spunta_Stepper{color:#000}:host-context(.contrasto-on) .icomoon-Spunta_Stepper2{color:#000}:host-context(.contrasto-on) .step-header-row{color:#fff}:host-context(.contrasto-on) .step-header-row td::after{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-cerchio{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-cerchio.completed:hover{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-corrente{color:#000}:host-context(.contrasto-on) .step-header-row .step-corrente .step-cerchio{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-corrente span{color:#000}:host-context(.contrasto-on) .step-header-row .disabled-step{color:#000}:host-context(.contrasto-on) .step-header-row .disabled-step .icomoon-ToDo_Stepper{color:#000}:host-context(.contrasto-on) .step-header-row .step-completare{color:#000}:host-context(.contrasto-on) .step-header-row .step-completare .step-cerchio:hover{background-color:#fff}:host-context(.contrasto-on) .step-header-row .step-completare .step-cerchio:hover .icomoon-ToDo_Stepper{color:#000}:host-context(.contrasto-on) .step-header-row .step-completare .step-cerchio .icomoon-ToDo_Stepper{color:#000}:host-context(.contrasto-on) .step-header-row .completed-step{color:#000}:host-context(.contrasto-on) .step-header-row .completed-step::after{background-color:#000}:host-context(.contrasto-on) .step-header-row .step-completato{color:#000} /*# sourceMappingURL=nbp-step-navigabili.component.css.map */ "]
    }),
    __param(0, Inject(DOCUMENT)),
    __metadata("design:paramtypes", [Object])
], NbpStepNavigabiliComponent);
export { NbpStepNavigabiliComponent };
