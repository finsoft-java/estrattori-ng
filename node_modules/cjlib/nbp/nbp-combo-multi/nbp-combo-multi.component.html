<div class="dropdown-container"><input type="hidden" [(ngModel)]="value"><div class="dropdown-inner-container" (click)="_onInputClick($event)" (keypress)="_searchByKey($event)" (keydown.arrowdown)="_moveNext($event)" (keydown.arrowup)="_movePrev($event)" (keydown.enter)="_manageDropdownState($event)" (keydown.esc)="_manageDropdownState($event)" (keydown.spacebar)="_onSelectByKeyboard($event)" (keydown.space)="_onSelectByKeyboard($event)" (keydown.tab)="_manageDropdownState($event)" (keydown.shift.tab)="_manageDropdownState($event)" (keyup.shift.tab)="_manageDropdownState($event)" (focus)="_focusActive = true;" [ngClass]="{'collapse-disabled' : disabled}" (focusout)="_focusActive = false; _onTouchedEvent($event)"><input type="text" [id]="id" [name]="name" [placeholder]="placeholder" class="dropdown-input-box form-control" [ngClass]="{
        'dropdown-input-box-green': _dropdownVisible || _focusActive,
        'highlight-default':nbpHighlightedDefault,
        'input-box-disabled': disabled}" [value]="_getViewValue(value)" [required]="required" autocomplete="off" (focus)="_focusActive = true;" (focusout)="_focusActive = false;" #autoFocusCombo [tabindex]="tabindex"> <button class="dropdown-button" [ngClass]="{'collapse-disabled' : disabled}" type="button" tabindex="-1"><span class="dropdown-button-border"></span> <span [ngClass]="{'triangolo-bottom' : !_dropdownVisible, 'triangolo-top' : _dropdownVisible}"></span></button></div><ul *ngIf="_dropdownVisible"><li *ngFor="let item of _nbpShadowData; let i = index; let last = last" (click)="_onSelectEvent(item)" [id]="'combo-element_'+i" [ngClass]="{'active': _isOptionSelected(item), 'preselected':_isOptionPreselected(item), 'last': last }"><nbp-checkbox #checkbox [checked]="_isOptionSelected(item)" (change)="_onSelectEvent(item, checkbox.checked)" *ngIf="_showCheckbox(item)" nbpDisplayInline></nbp-checkbox><span>{{ _getDropDownLabel(item) }}</span></li></ul></div>